(window.webpackJsonp=window.webpackJsonp||[]).push([[3,156],{6056:function(e,t,n){"use strict";t.__esModule=!0,t.EmptyStateText=t.EmptyStateImage=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(42)),u=n(0),c=f(n(5999)),d=f(n(510));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=i.createContext(u.ThemeTypes.DARK),v=y.Provider,_=y.Consumer,g=t.EmptyStateImage=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,i=e.height,f=e.offsetX,p=e.offsetY,h=e.style;return a(_,{},void 0,function(e){return a(s.default.Child,{grow:0,className:(0,l.default)(c.default.image,d.default.marginBottom40),style:o({},h,{width:r,height:i,marginLeft:f,marginTop:p,backgroundImage:"url("+(e===u.ThemeTypes.DARK?n:t)+")"})})})},t}(i.PureComponent);g.displayName="EmptyStateImage";var E=t.EmptyStateText=function(e){var t=e.children,n=e.className,r=e.noteClassName,o=e.note,i=e.style;return a(s.default.Child,{grow:0,direction:s.default.Direction.VERTICAL,style:i},void 0,a("h4",{className:(0,l.default)(n,c.default.title)},void 0,t),o&&a("div",{className:(0,l.default)(r,c.default.text,d.default.marginTop8)},void 0,o))};E.displayName="EmptyStateText";var I=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,o=e.style;return a(v,{value:n},void 0,a(s.default,{direction:s.default.Direction.VERTICAL,align:s.default.Align.CENTER,justify:s.default.Justify.CENTER,className:(0,l.default)(c.default.wrapper,r),style:o},void 0,t))},t}(i.PureComponent);I.Text=E,I.Image=g,I.displayName="EmptyState",t.default=I},6057:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=n(106),s=f(n(513)),u=f(n(932)),c=n(0),d=f(n(6004));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={SMALL:"7px 10px",MEDIUM:"10px"},v=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(){var e=r.props,t=e.onClick,n=e.option;return t&&t(n)},h(r,n)}return m(t,e),t.prototype.render=function(){var e,t=this.props,n=t.checked,r=t.disabled,a=t.option,f=t.size,p=n?"checked":null,h=a.desc?o("div",{className:(0,l.getClass)(d.default,"desc",p)},void 0,a.desc):null,m=n?a.color||c.Colors.BRAND:"",y=n?c.Colors.WHITE:a.color,v=r||a.disabled;return o(s.default,{className:(0,i.default)(d.default.item,(e={},e[d.default.disabled]=v,e)),style:{borderColor:m,backgroundColor:m,padding:f},editable:!0,onClick:!v&&this.handleClick},void 0,o(u.default,{value:n,disabled:v,onChange:this.handleClick,color:m}),o("div",{className:d.default.info},void 0,o("div",{className:(0,l.getClass)(d.default,"title",p),style:{color:y}},void 0,a.name),h))},t}(a.PureComponent);v.displayName="RadioItem";var _=function(e){function t(){var n,r;p(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.renderRadio=function(e){var t=r.props,n=t.value,a=t.disabled,i=t.size,l=n===e.value;return o(v,{disabled:a,checked:l,option:e,onClick:r.props.onChange,size:i},e.value)},h(r,n)}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=e.className;return o("div",{className:(0,i.default)(d.default.radioGroup,n)},void 0,t.map(this.renderRadio))},t}(a.PureComponent);_.Sizes=y,_.defaultProps={options:[],onChange:c.NOOP,value:null,disabled:!1,size:y.MEDIUM},_.displayName="RadioGroup",t.default=_,e.exports=t.default},6066:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(6480)),o=u(n(6737)),a=u(n(6106)),i=u(n(11)),l=u(n(39)),s=n(6478);function u(e){return e&&e.__esModule?e:{default:e}}var c=void 0,d=!1,f=(0,o.default)(new r.default(window)),p=/Darwin|OS X/.test(l.default.os.family||""),h=p?"cmd":"ctrl",m=p?"opt":"alt",y=p?"return":"enter",v=[].concat(s.JUMP_TO_GUILD.binds,["mod+shift+[","mod+shift+]","ctrl+shift+tab","ctrl+tab","mod+n","mod+t","mod+shift+t","mod+plus","mod+minus","mod+0"]).map(function(e){return e.replace("mod",h)}),_=[];i.default.isDesktop()&&new r.default(document).bind("backspace",function(e){return e.preventDefault()});function g(e){var t=[];for(var n in e)t=t.concat(e[n].binds);return t.map(function(e){return e.replace("mod",h)})}function E(e){var t=function(t){var n=e[t],r=a.default.getKeybindList();i.default.embedded||(r=r.concat(v));var o=n.binds.filter(function(e){return e=e.replace("mod",h),r.indexOf(e)<0});if(0===o.length)return"continue";var l,s,u,c=n.global?f.bindGlobal:f.bind;if(n.action&&c.call(f,o,n.action),n.keyup&&c.call(f,o,n.keyup,"keyup"),n.keydown){var d=o.indexOf("any-character");-1!==d&&(l="keydown",s=n.keydown,u=function(e){return s(e,e.key)},document.addEventListener(l,u),_.push(function(){return document.removeEventListener(l,u)}),o.splice(d,1)),o.length>0&&c.call(f,o,n.keydown,"keydown")}n.keypress&&c.call(f,o,n.keypress,"keypress")};for(var n in e)t(n)}t.default={combokeys:f,modKey:h,altKey:m,returnKey:y,checkDupes:function(e){for(var t={},n=[],r=g(e),o=0,a=r.length;o<a;o++)void 0===t[r[o]]?t[r[o]]=0:t[r[o]]+=1;for(var i in t)t[i]&&n.push(i);n.length&&console.warn("Duplicate keyboard shortcuts defined:",n)},setLayout:function(e){c=e},enable:function(){d||(d=!0,this.checkDupes(c),E(c))},enableTemp:function(e){E(e),d=!0},disableTemp:function(){this.disable(),this.enable()},disable:function(){d&&(d=!1,_.forEach(function(e){return e()}),_=[],f.reset())},validateKeybind:function(e){d&&this.hasBind(e)&&f.unbind(e)},hasBind:function(e){var t=g(c);return e=(e=e.replace("meta","cmd")).replace(/right|left/i,"").trim(),!(t.indexOf(e)<0)}},e.exports=t.default},6069:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={updateChannelDimensions:function(e,t,n,r){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_DIMENSIONS,channelId:e,scrollTop:t,scrollHeight:n,offsetHeight:r})},updateChannelListScroll:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTop:t})},channelListScrollTo:function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:t})},clearChannelListScrollTo:function(e){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:null})},clearChannelDimensions:function(e){this.updateChannelDimensions(e,null,null,null)},updateGuildListScrollTo:function(e){a.default.dirtyDispatch({type:i.ActionTypes.UPDATE_GUILD_LIST_DIMENSIONS,scrollTop:e})}},e.exports=t.default},6072:function(e,t,n){"use strict";t.__esModule=!0,t.Item=t.Separator=t.Header=t.Types=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=n(194),s=f(n(81)),u=n(0),c=n(106),d=f(n(6011));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=t.Types={SIDE:d.default.side,TOP:d.default.top,TOP_PILL:d.default.topPill,UNIQUE:d.default.unique},v=t.Header=function(e){var t=e.className,n=e.onClick,r=e.children;return o(s.default,{className:(0,i.default)(d.default.header,t),onClick:n},void 0,r)};v.displayName="Header";var _=t.Separator=function(e){var t=e.style;return o("div",{className:d.default.separator,style:t})};_.displayName="Separator";var g={DEFAULT:"Default",HOVER:"Hover",SELECTED:"Selected"};function E(e,t){if(null==e)return null;var n={};return t===g.SELECTED?(n.backgroundColor=e,n.color=u.Colors.WHITE,n):(t===g.HOVER&&(n.backgroundColor=(0,l.hex2rgb)(e,.1)),n.color=e,n)}var I=t.Item=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.state={hover:!1,active:!1},r.handleClick=function(e){var t=r.props,n=t.onClick,o=t.id,a=t.onItemSelect;null!=n?n(e):null!=a&&a(o)},r.handleMouseDown=function(e){r.handleClick(e),r.setState({active:!0})},r.handleMouseUp=function(){r.setState({active:!1})},r.handleMouseOver=function(){r.setState({hover:!0})},r.handleMouseOut=function(){r.setState({hover:!1,active:!1})},h(r,n)}return m(t,e),t.prototype.getMouseEvents=function(){return null!=this.props.id?{}:{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,onMouseDown:this.handleClick}},t.prototype.getStyle=function(){var e=this.props,t=e.color,n=e.id,r=e.selectedItem,o=e.itemType,a=this.state,i=a.hover,s=a.active;return null==t?null:o===y.SIDE?null!=n&&r===n||s?E(t,g.SELECTED):i?E(t,g.HOVER):E(t):o===y.TOP?r===n?{borderColor:t,color:t}:i?{borderColor:(0,l.hex2rgb)(t,.1),color:(0,l.hex2rgb)(t,.6)}:{borderColor:"transparent",color:(0,l.hex2rgb)(t,.4)}:null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.id,a=e.selectedItem,l=void 0;return l=null!=r&&a===r?g.SELECTED:g.DEFAULT,o("div",{className:(0,i.default)((0,c.getClass)(d.default,"item",l),n),style:this.getStyle(),onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},void 0,t)},t}(a.Component);I.displayName="Item";var T=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return m(t,e),t.prototype.renderChildren=function(e){var t=this.props,n=t.selectedItem,r=t.onItemSelect,o=t.type,i=void 0===o?y.SIDE:o;return null==e?null:a.cloneElement(e,{selectedItem:n,onItemSelect:r,itemType:i})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=e.type,l=void 0===r?y.SIDE:r,s=e.style;return o("div",{className:(0,i.default)(t,l),style:s},void 0,a.Children.map(n,this.renderChildren,this))},t}(a.Component);T.Types=y,T.Header=v,T.Item=I,T.Separator=_,T.displayName="TabBar",t.default=T},6083:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=h(n(3)),a=h(n(7)),i=h(n(2)),l=n(0),s=h(n(375)),u=h(n(65)),c=h(n(18)),d=h(n(272)),f=h(n(118)),p=h(n(14));function h(e){return e&&e.__esModule?e:{default:e}}var m={},y={},v={},_={};function g(e){switch(e){case"null":case null:case void 0:return null;default:return e}}function E(e){var t,n,o,a=g(e),i=!1,l=!1,u=0,c=0,f=_[a];(null==f&&(I(),f=_[a]||new Set),f.forEach(function(e){null!==a&&(l=l||!d.default.isGuildOrCategoryOrChannelMuted(a,e)&&s.default.hasUnread(e),c+=s.default.getUnreadCount(e)),u+=s.default.getMentionCount(e)}),l)?null==a||m[a]||(m=r({},m,((t={})[a]=!0,t)),i=!0):null!=a&&m[a]&&(delete(m=r({},m))[a],i=!0);null!=a&&v[a]!==c&&(v=r({},v,((n={})[a]=c,n)),i=!0);y[a]!==u&&(y=r({},y,((o={})[a]=u,o)),i=!0);return i}function I(){_={},a.default.forEach(c.default.getChannels(),function(e){if(e.type!==l.ChannelTypes.GUILD_VOICE&&(e.isPrivate()||f.default.can(l.Permissions.VIEW_CHANNEL,{channelId:e.id}))){var t=e.getGuildId(),n=_[t];null==n&&(n=new Set,_[t]=n),n.add(e.id)}})}function T(e){return I(),E(e)}function S(e,t){var n=c.default.getChannel(e);if(null!=n)return t(g(n.getGuildId()));var r=Object.keys(_),o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var l=i;if(_[l].has(e))return t(g(l))}return!1}function A(e){var t=e.guilds;m={},y={},v={},I(),E(null),t.forEach(function(e){return E(e.id)})}function C(e){return S(e.channelId,E)}function b(e){return S(e.channel.id,T)}function M(e){return T(e.guildId)}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(c.default,u.default,s.default,f.default,p.default,d.default)},t.prototype.hasAnyUnread=function(){return Object.keys(m).length>0},t.prototype.getUnreadGuilds=function(){return m},t.prototype.getGuildUnreadCount=function(e){return void 0===e?0:v[e]||0},t.prototype.hasUnread=function(e){return m[e]||!1},t.prototype.getMentionCounts=function(){return y},t.prototype.getUnreadGuildsIgnoreMuted=function(e){var t=_[e];return null!=t&&Array.from(t).some(function(e){return s.default.hasUnread(e)})},t.prototype.getTotalMentionCount=function(){return(0,a.default)(y).values().sum()},t}(o.default.Store);t.default=new O(i.default,{CONNECTION_OPEN:A,OVERLAY_INITIALIZE:A,GUILD_CREATE:function(e){return T(e.guild.id)},GUILD_DELETE:function(e){var t=e.guild;null!=m[t.id]&&delete(m=r({},m))[t.id],null!=v[t.id]&&delete(v=r({},v))[t.id],null!=y[t.id]&&delete(y=r({},y))[t.id],delete _[t.id]},MESSAGE_CREATE:C,MESSAGE_ACK:C,CHANNEL_SELECT:C,UPDATE_CHANNEL_DIMENSIONS:C,CHANNEL_DELETE:function(e){var t=e.channel;return S(t.id,function(e){return _[e].delete(t.id),E(e)})},WINDOW_FOCUS:function(e){return null!=(t=u.default.getChannelId())&&S(t,E);var t},GUILD_ACK:function(e){return E(e.guildId)},GUILD_ROLE_CREATE:M,GUILD_ROLE_DELETE:M,GUILD_ROLE_UPDATE:M,CHANNEL_CREATE:b,CHANNEL_UPDATE:b,GUILD_MEMBER_UPDATE:function(e){var t=e.user,n=e.guildId;return t.id===p.default.getId()&&T(n)},USER_GUILD_SETTINGS_UPDATE:function(e){Object.keys(m).forEach(E)}}),e.exports=t.default},6085:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=A(n(7)),a=A(n(62)),i=A(n(18)),l=A(n(13)),s=A(n(274)),u=A(n(65)),c=A(n(187)),d=A(n(25)),f=A(n(119)),p=A(n(87)),h=A(n(288)),m=A(n(525)),y=A(n(61)),v=A(n(164)),_=A(n(83)),g=A(n(6166)),E=A(n(196)),I=A(n(959)),T=n(6834),S=n(0);function A(e){return e&&e.__esModule?e:{default:e}}var C=10,b=5,M=1,O=50,N=function(){return!0},R=/(\t|\s)/,P=void 0,L=(P=n(7996)).MENTION_EVERYONE,w=P.MENTION_HERE,D=P.LAUNCHABLE_APPLICATIONS;function U(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return t.test(e)?C:n.test(e)?b:o&&(0,I.default)(r,e)?M:0}function G(e,t,n,r){for(var o=l.default.getUsers(),i=c.default.getGuildId(),s=(e=e.toLocaleLowerCase()).length,u=[],d=[],f=t.length,p=0,h=0;p<f;){var m=t[p],y=void 0,v=void 0;if(m.userId?(y=m.nick,v=o[m.userId]):(v=m,y=a.default.getNick(i,v.id)),!r||r(v)){var _=v.usernameLowerCase,g=null!=y?y.toLocaleLowerCase():null;_.substr(0,s)===e||y&&g.substr(0,s)===e?u.push({comparator:g||_,score:C,nick:y,user:v}):h<O&&((0,I.default)(e,_)||y&&(0,I.default)(e,g))&&(d.push({comparator:g||_,score:M,nick:y,user:v}),h+=1)}p+=1}return u.sort(T.sortByMatchScore),u.length<n&&(d.sort(T.sortByMatchScore),u=u.concat(d.slice(0,Math.max(0,n-u.length)))),u.length>n&&(u.length=n),u}function k(e,t){var n=i.default.getChannel(e);return(0,o.default)(s.default.getMessages(e).toArray()).reverse().map(function(e){return e.author}).reject(function(e){return e.isNonUserBot()}).uniqBy(function(e){return e.id}).map(function(e){var t=a.default.getMember(n.getGuildId(),e.id)||{};return{nick:t.nick||null,score:0,comparator:t.nick||e.username,user:e}}).take(t).value()}t.default={queryFriends:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments[3]);return G(e,y.default.getFriendIDs().map(function(e){return l.default.getUser(e)}),t,n)},queryDMUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments[3]);return G(e,i.default.getDMUserIds().map(function(e){return l.default.getUser(e)}),t,n)},queryChannelUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=i.default.getChannel(e);if(null==o)return[];var s=void 0;if(o.isPrivate()){s=o.recipients.map(function(e){return{userId:e,nick:o.nicks[e]}});var u=l.default.getCurrentUser();s.push({userId:u.id,nick:o.nicks[u.id]})}else if(0===t.length){var c=k(o.id,n);if(null!=c&&c.length>0)return c;s=a.default.getMembers(o.guild_id)}else s=a.default.getMembers(o.guild_id),r&&g.default.requestMembers(o.guild_id,t,n);return G(t,s,n,function(e){return o.isPrivate()||_.default.can(S.Permissions.VIEW_CHANNEL,e,o)})},queryGuildUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments[4];if(null==d.default.getGuild(e))return[];if(0===t.length)return k(u.default.getChannelId(e),n);var i=a.default.getMembers(e);return r&&t.length>0&&g.default.requestMembers(e,t,n),G(t,i,n,o)},queryUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),r=arguments[4];return n&&e.length>0&&g.default.requestMembers(null,e,t),G(e,(0,o.default)(l.default.getUsers()).values().value(),t,r)},queryChannels:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:N,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:S.ChannelTypes.GUILD_TEXT;e=e.toLocaleLowerCase();var u=new RegExp("^"+E.default.escape(e),"i"),c=new RegExp(E.default.escape(e),"i"),p=l.default.getCurrentUser(),h=void 0;return h=t?(0,o.default)(f.default.getChannels(t)[s]).map(function(e){return e.channel}):(0,o.default)(i.default.getChannels()).values().filter(function(e){return e.type===s}),s===S.ChannelTypes.GUILD_TEXT?h=h.filter(function(e){return _.default.can(S.Permissions.VIEW_CHANNEL,p,e)}):s===S.ChannelTypes.GUILD_VOICE&&(h=h.filter(function(e){return _.default.can(S.Permissions.VIEW_CHANNEL|S.Permissions.CONNECT,p,e)})),h.filter(a).map(function(n){var o=d.default.getGuild(n.guild_id),a=i.default.getChannel(n.parent_id),l=U((t?n.toString()+" "+(null!=a?a.toString():""):n.toString()+" "+(null!=a?a.toString():"")+" "+o.toString()).toLocaleLowerCase(),u,c,e,r);return l>0?{channel:n,score:l,comparator:n.toString()}:null}).filter(function(e){return!!e}).sortBy(function(e){return e.channel.name}).sort(T.sortByMatchScore).take(n).value()},queryGuilds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N;e=e.toLocaleLowerCase();var a=new RegExp("^"+E.default.escape(e),"i"),i=new RegExp(E.default.escape(e),"i");return(0,o.default)(d.default.getGuilds()).values().filter(r).map(function(t){var r=U(t.name.toLocaleLowerCase(),a,i,e,n);return r>0?{guild:t,score:r,comparator:t.toString()}:null}).filter(function(e){return!!e}).sortBy(function(e){return e.name}).sort(T.sortByMatchScore).take(t).value()},queryGroupDMs:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N;e=e.toLocaleLowerCase();var r=new RegExp("^"+E.default.escape(e),"i"),a=new RegExp(E.default.escape(e),"i"),l=m.default.getPrivateChannelIds(),s=i.default.getChannels();return(0,o.default)(l).map(function(e){return s[e]}).map(function(n){if(n.type!==S.ChannelTypes.GROUP_DM)return null;var o=U(n.toString().toLocaleLowerCase(),r,a,e,t);return o>0?{channel:n,score:o,comparator:n.toString()}:null}).filter(function(e){return!!e}).filter(n).sort(T.sortByMatchScore).value()},queryApplications:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N;e=e.toLocaleLowerCase();var a=new RegExp("^"+E.default.escape(e),"i"),i=new RegExp(E.default.escape(e),"i"),l=D();return(0,o.default)(l).map(function(t){var r=t.application,o=r.name.toLocaleLowerCase(),l=U(o,a,i,e,n);if(l>0)return{application:r,score:l,comparator:o}}).filter(Boolean).filter(r).sort(T.sortByMatchScore).take(t).value()},querySKUs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:N;e=e.toLocaleLowerCase();var a=new RegExp("^"+E.default.escape(e),"i"),i=new RegExp(E.default.escape(e),"i"),l=v.default.getSKUs();return(0,o.default)(l).values().filter(function(e){return e.type===S.SKUTypes.GAME}).map(function(t){var r=t.name.toLocaleLowerCase(),o=U(r,a,i,e,n);if(o>0)return{sku:t,score:o,comparator:r}}).filter(Boolean).filter(r).sort(T.sortByMatchScore).take(t).value()},getRecentlyTalked:k,queryMentionResults:function(e,t,n){var a=this.queryChannelUsers(t.id,e).map(function(e){return r({},e,{status:p.default.getStatus(e.user.id)})}),i=a.length,l=[];if(i<S.MAX_AUTOCOMPLETE_RESULTS){var s=d.default.getGuild(t.getGuildId());null!=s&&((0,o.default)(s.roles).filter(function(t){var n=t.mentionable,r=t.name;return n&&(0,I.default)(e,r.toLowerCase())}).take(S.MAX_AUTOCOMPLETE_RESULTS-i).forEach(function(e){return l.push(e)}),i+=l.length)}var u=[];return t.isDM()||t.isGroupDM()||!n||(i<S.MAX_AUTOCOMPLETE_RESULTS&&(0,I.default)(e,L().test)&&(u.push(L()),i+=1),i<S.MAX_AUTOCOMPLETE_RESULTS&&(0,I.default)(e,w().test)&&u.push(w())),{users:a,globals:u,roles:l}},queryChannelResults:function(e,t){return{channels:this.queryChannels(e,t.getGuildId()).map(function(e){return e.channel})}},queryEmojiResults:function(e,t){return{emojis:h.default.search(t,e,S.MAX_AUTOCOMPLETE_RESULTS)}},matchSentinel:function(e,t,n){return!R.test(t)&&e===n}},e.exports=t.default},6091:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(75)),s=c(n(6)),u=c(n(5937));function c(e){return e&&e.__esModule?e:{default:e}}var d=Object.freeze({DIRECTORY_HERO:1,DIRECTORY_TILE:2,DIRECTORY_SEARCH:3,LISTING:4,EMBED:5}),f=Object.freeze({IN_LIBRARY:1,ON_SALE:2,PREMIUM:3,DEFAULT:4}),p=function(e){var t=e.className;return o("div",{className:(0,i.default)(u.default.row,t)},void 0,o(l.default,{className:u.default.icon,name:l.default.Names.LIBRARY}),s.default.Messages.APPLICATION_STORE_IN_LIBRARY)};p.displayName="InLibraryPrice";var h=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(u.default.row,n)},void 0,o(l.default,{className:u.default.icon,name:l.default.Names.NITRO_WHEEL}),t.getDisplayPrice())};h.displayName="PremiumPrice";var m=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(u.default.salePercentage,n)},void 0,t.getDisplaySalePercentage())};m.displayName="SalePercent";var y=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(u.default.originalAmount,n)},void 0,t.getDisplayPrice(!1))};y.displayName="OriginalAmount";var v=function(e){var t=e.sku,n=e.className;return o("div",{className:n},void 0,t.getDisplayPrice())};v.displayName="Price";var _=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(u.default.row,n)},void 0,o(m,{sku:t}),o(y,{sku:t}),o(v,{sku:t}))};_.displayName="InlineSale";var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){var e=this.props,t=e.inLibrary,n=e.sku;return t?f.IN_LIBRARY:n.isOnSale?f.ON_SALE:n.premium?f.PREMIUM:null!=n.getPrice()?f.DEFAULT:null},t.prototype.renderGeneric=function(e,t){var n=this.props,r=n.className,a=n.sku;switch(e){case f.IN_LIBRARY:return o(p,{className:(0,i.default)(t,r)});case f.ON_SALE:return o(_,{sku:a,className:(0,i.default)(t,r)});case f.PREMIUM:return o(h,{sku:a,className:(0,i.default)(t,r)});default:return o(v,{className:(0,i.default)(t,r),sku:a})}},t.prototype.renderDirectoryHero=function(e){var t=this.props,n=t.className,r=t.sku;switch(e){case f.ON_SALE:return o(_,{sku:r,className:(0,i.default)(u.default.directoryHeroPrice,n)});case f.PREMIUM:return o(h,{sku:r,className:(0,i.default)(u.default.directoryHeroPricePremium,n)});default:return o(v,{className:(0,i.default)(u.default.directoryHeroPrice,n),sku:r})}},t.prototype.renderListing=function(e){var t=this.props,n=t.className,r=t.sku;switch(e){case f.ON_SALE:return o("div",{className:(0,i.default)(u.default.listingPrice,n)},void 0,o("div",{className:u.default.row},void 0,o(v,{sku:r}),o(m,{sku:r})),o(y,{sku:r}));default:return o("div",{className:(0,i.default)(u.default.listingPrice,n)},void 0,o(v,{sku:r}))}},t.prototype.render=function(){var e=this.getState();if(null==e)return null;switch(this.props.type){case d.DIRECTORY_HERO:return this.renderDirectoryHero(e);case d.DIRECTORY_TILE:return this.renderGeneric(e,u.default.directoryTilePrice);case d.DIRECTORY_SEARCH:return this.renderGeneric(e,u.default.directorySearchPrice);case d.LISTING:return this.renderListing(e);case d.EMBED:return this.renderGeneric(e,u.default.embedPrice);default:throw new Error("Invalid Price Unit Type")}},t}(a.PureComponent);g.Types=d,g.displayName="PriceUnit",t.default=g,e.exports=t.default},6092:function(e,t,n){"use strict";t.__esModule=!0,t.SearchBarIcon=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(6)),s=p(n(145)),u=p(n(81)),c=p(n(5993)),d=n(0),f=n(116);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=t.SearchBarIcon=function(e){var t,n,r=e.hasContent,a=e.handleClear,l=e.className;return o(u.default,{className:(0,i.default)(c.default.searchBarIcon,l),onClick:a},void 0,o("i",{className:(0,i.default)(c.default.icon,c.default.iconSearchBarEyeGlass,(t={},t[c.default.visible]=!r,t))}),o("i",{className:(0,i.default)(c.default.icon,c.default.iconSearchBarClear,(n={},n[c.default.visible]=r,n))}))};m.displayName="SearchBarIcon";var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.ref=a.createRef(),r.handleKeyDown=function(e){var t=r.props,n=t.onActivate,o=t.onQueryChange,a=r.ref.current;if(null!=a&&null==n)return e.keyCode===d.KeyboardKeys.ESCAPE&&a.value&&a.value.length>0?(a.value="",void(null!=o&&o(""))):void(r.props.gridResults?r.handleKeyDownGrid(e):r.handleKeyDownList(e));e.keyCode!==d.KeyboardKeys.TAB&&null!=n&&n(e)},r.handleChange=function(e){var t=r.props.onQueryChange;null!=t&&t(e.currentTarget.value)},r.handleFocus=function(e){var t=r.props.onFocus;null!=t&&t(e)},r.handleClear=function(){var e=r.props.onClear;null!=e&&e()},r.handleRemoveTag=function(e){var t=r.props.onRemoveTag;t&&t(e)},r.focus=function(){var e=r.ref.current;null!=e&&e.focus()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.subscribeToFocusEvent;e&&f.ComponentDispatch.subscribe(e,this.focus)},t.prototype.componentWillUnmount=function(){var e=this.props.subscribeToFocusEvent;e&&f.ComponentDispatch.unsubscribe(e,this.focus)},t.prototype.handleKeyDownGrid=function(e){var t=this.props,n=t.selectedRow,r=t.selectedColumn,o=t.sections,a=t.query,i=t.tags,l=t.onSelectionChange,s=t.onSelect;if(0!==o.length){switch(e.keyCode){case d.KeyboardKeys.BACKSPACE:(null==a||0===a.length)&&null!=i&&i.length>0&&(e.preventDefault(),e.stopPropagation(),this.props.onRemoveTag&&this.props.onRemoveTag(i.length-1));break;case d.KeyboardKeys.TAB:if(d.EnableAccessibility)break;case d.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),-1===n?(n=0,r=0):((n+=1)>=o.length&&(n=o.length-1),r>=o[n]&&(r=o[n]-1));break;case d.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),(n-=1)<0?(n=0,r=0):r>=o[n]&&(r=o[n]-1);break;case d.KeyboardKeys.ARROW_LEFT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(r-=1)<0&&((n-=1)>=0?r=o[n]-1:n<0&&(n=0,r=0));break;case d.KeyboardKeys.ARROW_RIGHT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(r+=1)>=o[n]&&(r=0,(n+=1)>=o.length&&(r=o[n=o.length-1]-1));break;case d.KeyboardKeys.ENTER:if(e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),-1===r&&(r=0),n>=o.length||r>=o[n])return;return void(null!=s&&s(n,r,e));case d.KeyboardKeys.ESCAPE:return e.preventDefault(),e.stopPropagation(),void(null!=s&&s(null,null,e));default:return}null!=l&&l(n,r)}},t.prototype.handleKeyDownList=function(e){var t=this.props,n=t.sections,r=t.selectedSection,o=t.selectedRow,a=t.onSelect,i=t.onSelectionChange,l=t.query,s=t.tags,u=this.ref.current;if(null!=u)switch(e.keyCode){case d.KeyboardKeys.BACKSPACE:(null==l||0===l.length)&&null!=s&&s.length>0&&(e.preventDefault(),e.stopPropagation(),this.props.onRemoveTag&&this.props.onRemoveTag(s.length-1));break;case d.KeyboardKeys.TAB:if(d.EnableAccessibility)break;case d.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),n.length>r&&++o>=n[r]&&(++r>=n.length&&(r=0),o=0),i&&i(r,o);break;case d.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),--o<0&&(--r<0&&(r=n.length-1),o=n[r]-1),i&&i(r,o);break;case d.KeyboardKeys.ENTER:e.preventDefault(),e.stopPropagation(),n.length>r&&n[r]>o&&a&&a(r,o,e);break;case d.KeyboardKeys.ESCAPE:e.preventDefault(),e.stopPropagation(),a&&a(null,null,e),u.blur()}},t.prototype.render=function(){var e,t=this,n=this.props,r=n.autoFocus,l=n.query,u=n.placeholder,d=n.light,f=n.disabled,p=n.onClear,h=n.tags,y=n.onActivate,v=n.className,_=null!=l&&l.length>0,g=[];return null!=h&&h.forEach(function(e,n){return g.push(o(s.default,{className:c.default.searchBarTag,onClick:t.handleRemoveTag.bind(t,n)},n,e,o("div",{className:c.default.close})))}),o("div",{className:(0,i.default)(c.default.searchBar,(e={},e[c.default.searchBarLight]=d,e[c.default.disabled]=f,e),v)},void 0,o("div",{className:c.default.searchBarInner},void 0,g,a.createElement("input",{type:"text",ref:this.ref,spellCheck:"false",placeholder:u,value:l,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,disabled:f,autoFocus:r,onMouseDown:y}),p?o(m,{hasContent:_,handleClear:this.handleClear}):null))},t}(a.Component);y.defaultProps={query:"",sections:[],selectedSection:0,selectedRow:-1,selectedColumn:-1,gridResults:!1,placeholder:l.default.Messages.DM_SEARCH_PLACEHOLDER,light:!1,disabled:!1,autoFocus:!1},y.displayName="SearchBar",t.default=y},6093:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=X(n(3)),s=X(n(9)),u=X(n(6)),c=X(n(7997)),d=X(n(17)),f=X(n(6085)),p=n(385),h=n(286),m=X(h),y=X(n(35)),v=X(n(271)),_=X(n(28)),g=X(n(525)),E=X(n(18)),I=X(n(1012)),T=X(n(13)),S=X(n(61)),A=X(n(65)),C=X(n(187)),b=X(n(6539)),M=X(n(132)),O=X(n(375)),N=X(n(6092)),R=X(n(575)),P=n(511),L=X(n(117)),w=X(n(71)),D=X(n(81)),U=X(n(934)),G=X(n(45)),k=X(n(42)),F=X(n(145)),x=n(6056),j=X(n(925)),H=X(n(931)),B=X(n(926)),V=(X(n(227)),X(n(94))),K=X(n(75)),Y=n(0),W=X(n(5992)),z=X(n(510)),q=X(n(374)),$=X(n(553)),J=X(n(1017));function X(e){return e&&e.__esModule?e:{default:e}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var te=m.default.getMaxAgeOptions,ne=m.default.getMaxUsesOptions,re=m.default.INVITE_OPTIONS_FOREVER,oe=m.default.INVITE_OPTIONS_1_DAY,ae=m.default.INVITE_OPTIONS_12_HOURS,ie=m.default.INVITE_OPTIONS_6_HOURS,le=m.default.INVITE_OPTIONS_1_HOUR,se=m.default.INVITE_OPTIONS_30_MINUTES,ue=m.default.INVITE_OPTIONS_UNLIMITED,ce=25,de="minutes",fe="hours",pe="days",he="never",me=((o={})[se.value]={value:30,type:de},o[le.value]={value:1,type:fe},o[ie.value]={value:6,type:fe},o[ae.value]={value:12,type:fe},o[oe.value]={value:1,type:pe},o[re.value]={value:0,type:he},o),ye=function(e){function t(n){Q(this,t);var r=Z(this,e.call(this,n));return r.state={sending:!1,invited:!1,hovered:!1},r}return ee(t,e),t.prototype.handleInvite=function(){var e=this,t=this.props,n=t.user,r=t.channel,o=t.code;this.setState({sending:!0}),c.default.enqueue({code:o,user:n,channel:r},function(t){t?e.setState({sending:!1,invited:!0}):e.setState({sending:!1,invited:!1})})},t.prototype.render=function(){var e=this,t=this.props,n=t.user,r=t.channel,o=void 0;return o=this.state.invited?a(G.default,{look:G.default.Looks.LINK,size:G.default.Sizes.SMALL,disabled:!0,color:G.default.Colors.GREY},void 0,u.default.Messages.INVITE_FRIEND_MODAL_SENT):a(G.default,{color:G.default.Colors.GREEN,look:this.state.hovered?G.default.Looks.FILLED:G.default.Looks.OUTLINED,className:W.default.inviteRowButton,size:G.default.Sizes.SMALL,submitting:this.state.sending,onClick:function(){return e.handleInvite()}},void 0,u.default.Messages.INVITE_FRIEND_MODAL_INVITE),a("div",{className:W.default.inviteRow,onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})}},void 0,a("div",{className:W.default.inviteRowInfo},void 0,a(U.default,{channel:r,user:n,size:"small",className:W.default.inviteRowAvatar}),a("div",{className:W.default.inviteRowName},void 0,null!=n?n.toString():null,null!=r?r.toString():null)),o)},t}(i.Component);ye.displayName="InviteRow";var ve=function(e){function t(n){Q(this,t);var r=Z(this,e.call(this,n));_e.call(r);var o=n.maxAge,a=n.maxUses,i=n.temporary,l=n.totalSuggestions;return r.state={query:"",friends:S.default.getFriendIDs().reduce(function(e,t){var n=T.default.getUser(t);return null!=n&&e.push(n),e},[]),dms:[],groupDms:[],copied:!1,focused:!1,settingsOpen:!1,maxAge:null!=o?o:oe.value,savedMaxAge:o===re.value?oe.value:re.value,maxUses:a||ue.value,temporary:i||!1,showFriends:l>=ce,generateNewLink:!1},r}return ee(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.channel,n=e.code,r=e.source,o=e.totalSuggestions,a=this.state,i=a.maxAge,l=a.maxUses,s=a.temporary,u=a.showFriends,c=null!=t?t.id:A.default.getChannelId();if(null!=c){v.default.createInvite(c,{validate:n||null,max_age:i,max_uses:l,temporary:s},r);var f=this.props.guild;if(u){var p=this.state.friends.length,h=this.props.privateChannelIds,m=E.default.getChannels(),y=h.reduce(function(e,t){return m[t].type===Y.ChannelTypes.DM?e.numDms+=1:e.numGroupDms+=1,e},{numDms:0,numGroupDms:0}),_=y.numDms,g=y.numGroupDms;d.default.track(Y.AnalyticEvents.INVITE_SUGGESTION_OPENED,{location:r,num_suggestions:o,num_friends:p,num_dms:_,num_group_dms:g,guild_id:f.id})}d.default.track(Y.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite Modal",Source:r})}},t.prototype.componentDidUpdate=function(){this.state.generateNewLink&&(this.handleGenerateNewLink(),this.setState({generateNewLink:!1}))},t.prototype.renderCopyInput=function(){var e,t=this,n=this.props,r=n.code,o=n.hide,l=this.state,c=l.copied,d=l.focused,f=l.showFriends,m=(0,h.getInviteURL)(r);return a(i.Fragment,{},void 0,a("div",{className:(0,s.default)($.default.input,q.default.flexJustifyBetween,q.default.flexCenter,(e={},e[$.default.success]=c,e[$.default.focused]=d,e))},void 0,a(j.default,{className:W.default.copyInput,name:"invite",value:o?u.default.Messages.INSTANT_INVITE_HIDDEN:m,editable:!1,inputClassName:W.default.noBorder,autoFocus:!f,onFocus:function(){return f?null:t.setState({focused:!0})},onBlur:function(){return f?null:t.setState({focused:!1})},spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),p.SUPPORTS_COPY?a(G.default,{size:G.default.Sizes.SMALL,color:c?G.default.Colors.GREEN:G.default.Colors.BRAND,className:W.default.copyButton,onClick:function(){return t.handleCopy(m)}},void 0,c?u.default.Messages.INVITE_COPIED:u.default.Messages.COPY):null),a(w.default,{className:(0,s.default)(z.default.marginTop8,W.default.footerText)},void 0,this.maxAgeString()," ",f?a(F.default,{onClick:this.openSettings},void 0,u.default.Messages.INVITE_EDIT_LINK):null))},t.prototype.renderHeader=function(){var e=this,t=this.props.guild,n=this.state,r=n.showFriends,o=n.settingsOpen,i=n.query,l=_.default.theme,s=null;return s=o?a(P.FormTitle,{tag:P.FormTitle.Tags.H2,className:z.default.marginReset},void 0,u.default.Messages.INVITE_SETTINGS_TITLE):r?a("div",{className:W.default.header},void 0,a(P.FormTitle,{tag:P.FormTitle.Tags.H2,className:z.default.marginBottom8},void 0,u.default.Messages.GROUP_DM_INVITE_WITH_NAME.format({groupname:t.toString()})),a(N.default,{query:i,className:z.default.marginTop4,onQueryChange:this.handleQueryChange,light:l===Y.ThemeTypes.LIGHT,placeholder:u.default.Messages.INVITE_SEARCH_FOR_FRIENDS,autoFocus:!0,onClear:function(){e.setState({query:""})}})):a(P.FormTitle,{tag:P.FormTitle.Tags.H2,className:z.default.marginReset},void 0,u.default.Messages.GROUP_DM_INVITE_WITH_NAME.format({groupname:t.toString()})),a(L.default.Header,{separator:r&&!o},void 0,a(L.default.CloseButton,{className:W.default.closeButton,onClick:this.handleDone}),s)},t.prototype.renderSettingsBody=function(){var e=this.state,t=e.maxAge,n=e.maxUses,r=e.temporary,o=te.find(function(e){return e.value===t}),i=ne.find(function(e){return e.value===n});return a(L.default.Content,{outerClassName:W.default.settingsContent,className:W.default.noScroll},void 0,a("form",{onSubmit:this.handleGenerateNewLink},void 0,a(P.FormItem,{title:u.default.Messages.EXPIRE_AFTER,className:z.default.marginTop20},void 0,a(H.default,{value:o,clearable:!1,searchable:!1,options:te,onChange:this.handleSelectMaxAge,className:W.default.select})),a(P.FormItem,{title:u.default.Messages.MAX_NUMBER_OF_USES,className:(0,s.default)(z.default.marginTop20,z.default.marginBottom4)},void 0,a(H.default,{value:i,clearable:!1,searchable:!1,options:ne,onChange:this.handleSelectMaxUses,className:W.default.select})),a(P.FormItem,{className:z.default.marginTop20},void 0,a(B.default,{value:r,clearable:!1,searchable:!1,options:ne,onChange:this.handleToggleTemporary,note:u.default.Messages.TEMPORARY_MEMBERSHIP_EXPLANATION,hideBorder:!0},void 0,a(w.default,{},void 0,u.default.Messages.GRANT_TEMPORARY_MEMBERSHIP)))))},t.prototype.renderFriendsBody=function(){var e=this,t=this.props,n=t.code,r=t.privateChannelIds,o=t.channel,i=t.guild,l=this.state,c=l.query,d=l.dms,f=l.groupDms,p=l.friends,h=void 0;if(0===p.length&&0===r.length&&0===d.length&&0===f.length?h=u.default.Messages.INVITE_FRIEND_MODAL_NO_RESULTS:null==n&&(h=u.default.Messages.INVITE_FRIEND_MODAL_LOADING),null!=h)return a(L.default.Content,{className:z.default.marginBottom20},void 0,a(x.EmptyStateText,{},void 0,h));var m=E.default.getChannels(),y=[],v=I.default.getProps(i.id,null!=o?o.id:null).rows.map(function(e){return e.userId}),_=null,g=null;return""===c?(_=r.filter(function(e){return null!=m[e]}).map(function(e){var t=m[e];if(null==t)return null;if(t.type===Y.ChannelTypes.DM){var r=t.getRecipientId();if(null!=r&&!v.includes(r)){var o=T.default.getUser(r);return null==o?null:(y.push(r),a(ye,{user:o,code:n},"dm-"+r))}return null}return a(ye,{channel:t,code:n},"dm-"+t.id)}),g=p.map(function(e){return-1!==y.indexOf(e.id)||v.includes(e.id)?null:a(ye,{user:e,code:n},"user-"+e.id)})):_=[].concat(d.filter(function(e){var t=E.default.getDMFromUserId(e.id);return null!=t&&(null!=O.default.lastMessageId(t)&&!v.includes(e.id))}).map(function(e){var t=E.default.getDMFromUserId(e.id);if(null!=(null!=t?O.default.lastMessageId(t):null))return y.push(e.id),a(ye,{user:e,code:n},"dm-"+e.id)}),f.map(function(e){return a(ye,{channel:e,code:n},"group-dm-"+e.id)}),p.map(function(e){return-1!==y.indexOf(e.id)||v.includes(e.id)?null:a(ye,{user:e,code:n},"user-"+e.id)})),a(L.default.Content,{className:(0,s.default)(W.default.scroller),scrollerRef:function(t){e._scroller=t}},void 0,_,g)},t.prototype.renderBody=function(){var e=this.props.guild,t=this.state,n=t.settingsOpen,r=t.showFriends;if(n)return this.renderSettingsBody();if(r)return this.renderFriendsBody();var o=T.default.getCurrentUser(),i=e.isOwner(o);return a(L.default.Content,{className:W.default.noScroll},void 0,a(k.default,{direction:k.default.Direction.VERTICAL,className:z.default.marginBottom20},void 0,a(w.default,{className:W.default.subText},void 0,i?u.default.Messages.INVITE_SHARE_LINK_OWN_SERVER:u.default.Messages.SHARE_INVITE_LINK_FOR_ACCESS),this.renderCopyInput()))},t.prototype.renderFooter=function(){var e,t=this.state,n=t.showFriends,r=t.settingsOpen,o=t.maxAge,l=_.default.theme,c=null;return c=r?a(i.Fragment,{},void 0,a(G.default,{onClick:this.handleGenerateNewLink},void 0,u.default.Messages.GENERATE_A_NEW_LINK),a(G.default,{look:G.default.Looks.LINK,color:l===Y.ThemeTypes.LIGHT?G.default.Colors.PRIMARY:G.default.Colors.WHITE,onClick:this.handleDone},void 0,u.default.Messages.CANCEL)):n?a(k.default,{direction:k.default.Direction.VERTICAL,className:W.default.content},void 0,a(P.FormTitle,{tag:P.FormTitle.Tags.H5,className:z.default.marginBottom8},void 0,u.default.Messages.INVITE_FOOTER_LINK_HEADER),this.renderCopyInput()):a(k.default,{justify:k.default.Justify.BETWEEN,className:z.default.marginTop20},void 0,a(R.default,{checked:o===re.value,onChange:this.handleToggleMaxAge},void 0,a(w.default,{className:W.default.checkBoxLabel},void 0,u.default.Messages.SET_INVITE_LINK_NEVER_EXPIRE)),a(V.default,{text:u.default.Messages.LINK_SETTINGS},void 0,a(D.default,{onClick:this.openSettings,className:J.default.cursorPointer},void 0,a(K.default,{name:K.default.Names.GEAR,width:18,height:18,color:Y.Colors.PRIMARY_DARK_400})))),a(L.default.Footer,{className:r?W.default.settingsFooter:(0,s.default)((e={},e[W.default.noPadding]=!n,e[W.default.footer]=n,e))},void 0,c)},t.prototype.render=function(){return a("div",{className:this.state.showFriends?W.default.wrapper:void 0},void 0,a(L.default,{className:W.default.modal},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(i.PureComponent),_e=function(){var e=this;this.handleGenerateNewLink=function(){var t=e.props,n=t.channel,r=t.source,o=null!=n?n.id:A.default.getChannelId();null!=o&&v.default.createInvite(o,{max_age:e.state.maxAge,max_uses:e.state.maxUses,temporary:e.state.temporary},r),e.state.maxAge===re.value||e.state.savedMaxAge===re.value?e.setState({settingsOpen:!1}):e.setState({settingsOpen:!1,savedMaxAge:re.value})},this.handleCopy=function(t){var n=e.props,r=n.channel,o=n.source,a=n.code;(0,p.copy)(t),e.setState({copied:!0}),setTimeout(function(){e.setState({copied:!1})},1e3);var i=null!=r?r.id:A.default.getChannelId(),l=void 0;if(null!=r)l=r.type;else{var s=E.default.getChannel(i);null!=s&&(l=s.type)}d.default.track(Y.AnalyticEvents.COPY_INSTANT_INVITE,{server:C.default.getGuildId(),channel:i,channel_type:l,location:o,code:a})},this.openSettings=function(){e.setState({settingsOpen:!0})},this.maxAgeString=function(){var t=e.state,n=t.maxAge,r=t.maxUses,o=parseInt(r,10),a=0===o,i=me[n].value;switch(me[n].type){case de:return a?u.default.Messages.INVITE_EXPIRES_MINUTES:u.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:o});case fe:return a?u.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:i}):u.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:i,numUses:o});case pe:return a?u.default.Messages.INVITE_EXPIRES_DAYS:u.default.Messages.INVITE_EXPIRES_DAYS_OR_USES.format({numUses:o});case he:return a?u.default.Messages.INVITE_EXPIRES_NEVER:u.default.Messages.INVITE_EXPIRES_USES.format({numUses:o});default:return""}},this.handleSelectMaxAge=function(t){e.setState({maxAge:parseInt(t.value,10),savedMaxAge:e.state.maxAge})},this.handleSelectMaxUses=function(t){e.setState({maxUses:parseInt(t.value,10)})},this.handleToggleTemporary=function(t){e.setState({temporary:t.currentTarget.checked})},this.handleQueryChange=function(t){null!=e._scroller&&e._scroller.scrollTo(0),e.setState({query:t,friends:f.default.queryFriends(t,500,!1).map(function(e){return e.user}),dms:f.default.queryDMUsers(t,50,!1).map(function(e){return e.user}),groupDms:f.default.queryGroupDMs(t,50,!1).map(function(e){return e.channel})})},this.handleToggleMaxAge=function(){e.setState({maxAge:e.state.savedMaxAge,savedMaxAge:e.state.maxAge,generateNewLink:!0})},this.handleDone=function(){e.state.settingsOpen?e.setState({settingsOpen:!1}):y.default.pop()}};ve.displayName="InstantInviteModal",t.default=l.default.connectStores([b.default,M.default,S.default,g.default,E.default],function(e){var t=e.channel,n=null!=t?t.id:A.default.getChannelId(),r=null!=n?b.default.getInvite(n):null,o=S.default.getFriendIDs().length,a=E.default.getChannels(),i=null!=t?t.guild_id:null,l=null!=i?I.default.getProps(i,n).rows.map(function(e){return e.userId}):[],s=g.default.getPrivateChannelIds().filter(function(e){var t=a[e];if(null==t)return!1;if(t.type===Y.ChannelTypes.GROUP_DM)return!0;var n=O.default.lastMessageId(t.id),r=t.getRecipientId();return null!=r&&null!=n&&!l.includes(r)}),u=s.length,c=M.default.hideInstantInvites,d=o+u;return null==r?{hide:c,totalSuggestions:d,privateChannelIds:s}:{code:r.code,maxAge:r.maxAge,maxUses:r.maxUses,temporary:r.temporary,hide:c,totalSuggestions:d,privateChannelIds:s}})(ve),e.exports=t.default},6094:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getIconNameForChannel=v;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=m(n(42)),c=m(n(75)),d=m(n(81)),f=n(106),p=n(0),h=m(n(6006));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){e.stopPropagation()}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return null;return e.type===p.ChannelTypes.GUILD_TEXT&&null!=e.isNSFW&&e.isNSFW()?c.default.Names.CHANNEL_TEXT_NSFW:t?c.default.Names.LOCK_CLOSED:e.isRoleRequired()?n?c.default.Names.VIDEO_CAMERA_LIMITED:_[e.type]:n?c.default.Names.VIDEO_CAMERA:g[e.type]}var _=((o={})[p.ChannelTypes.GUILD_TEXT]=c.default.Names.CHANNEL_TEXT_LIMITED,o[p.ChannelTypes.GUILD_VOICE]=c.default.Names.SPEAKER_LIMITED,o),g=((a={})[p.ChannelTypes.GUILD_TEXT]=c.default.Names.CHANNEL_TEXT,a[p.ChannelTypes.GUILD_VOICE]=c.default.Names.SPEAKER,a),E=((i={})[p.ChannelTypes.GUILD_TEXT]="Text",i[p.ChannelTypes.GUILD_VOICE]="Voice",i),I="Selected",T="Connected",S="Hovered",A="Unread",C="Muted",b="Locked",M="Default",O=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.handleClick=function(e){var t=r.props,n=t.onClick,o=t.channel;n&&n(e,o)},r.handleMouseEnter=function(e){var t=r.props,n=t.onMouseEnter,o=t.channel;r.setState({hovered:!0}),n&&n(e,o)},r.handleMouseLeave=function(e){var t=r.props,n=t.onMouseLeave,o=t.channel;r.setState({hovered:!1}),n&&n(e,o)},r.handleMouseDown=function(e){var t=r.props,n=t.onMouseDown,o=t.channel;n&&n(e,o)},r.handleMouseUp=function(e){var t=r.props,n=t.onMouseUp,o=t.channel;n&&n(e,o)},r.handleContextMenu=function(e){var t=r.props,n=t.onContextMenu,o=t.channel;n&&n(e,o)},r.state={hovered:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getMode=function(){var e=this.props,t=e.muted,n=e.selected,r=e.connected,o=e.unread,a=e.locked,i=this.state.hovered;return n?I:r?T:a?b:i?S:t?C:o?A:M},t.prototype.renderUnread=function(){var e=this.props,t=e.unread,n=e.muted,r=e.selected;return n||!t||r?null:l("div",{className:h.default.unread})},t.prototype.renderTypeIcon=function(){var e=this.props,t=e.channel,n=v(t,e.locked,e.video),r=this.getMode();return l(u.default.Child,{wrap:!0,grow:0,shrink:0,className:h.default.marginReset},void 0,null!=n?l(c.default,{name:n,className:(0,f.getClass)(h.default,"color",r,E[t.type]),foreground:h.default.foreground,background:h.default.background,width:16,height:16}):null)},t.prototype.renderName=function(){var e=this.props,t=e.channel,n=t.name,r=t.type,o=e.unread,a=this.getMode();return a===S&&o&&(a=A),l(u.default.Child,{className:(0,f.getClass)(h.default,"name",a,E[r])},void 0,n)},t.prototype.renderIcons=function(){var e=this.props.children;return 0===s.Children.count(e)?null:l(u.default,{grow:0,onClick:y,align:u.default.Align.CENTER,className:h.default.marginReset},void 0,e)},t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.onMouseDown,r=e.onMouseUp,o=e.onContextMenu,a=e.connectDragPreview,i=e.channel.type,s=this.getMode(),u=l("div",{className:(0,f.getClass)(h.default,"content",s,E[i])},void 0,this.renderTypeIcon(),this.renderName(),this.renderIcons());return l(d.default,{className:(0,f.getClass)(h.default,"wrapper",s,E[i]),onClick:t&&this.handleClick,onMouseUp:r&&this.handleMouseUp,onMouseDown:n&&this.handleMouseDown,onContextMenu:o&&this.handleContextMenu,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnread(),a?a(u):u)},t}(s.PureComponent);O.displayName="ChannelItem",t.default=O},6095:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(3)),o=l(n(7)),a=l(n(2)),i=(n(0),l(n(25)));function l(e){return e&&e.__esModule?e:{default:e}}n(197);var s=null,u={};var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t.prototype.getOptimalRegion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return null!=t?t.find(function(e){return e.optimal})||o.default.sample(t):null},t.prototype.getOptimalRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getOptimalRegion(e);return null!=t?t.id:null},t.prototype.getRandomRegion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRegions(e);return null!=t?o.default.sample(t):null},t.prototype.getRandomRegionId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.getRandomRegion(e);return null!=t?t.id:null},t.prototype.getRegions=function(e){return null!=e?u[e]:s},t}(r.default.Store);t.default=new c(a.default,{LOAD_REGIONS:function(e){var t=o.default.sortBy(e.regions,function(e){return e.name});e.guildId?u[e.guildId]=t:s=t},GUILD_DELETE:function(e){delete u[e.guild.id]}}),e.exports=t.default},6096:function(e,t,n){"use strict";t.__esModule=!0,t.makeFile=function(e,t,n){if(null==t&&(t="unknown",e instanceof Blob))switch(e.type){case"image/png":t+=".png"}null==n&&(e instanceof Blob&&(n=e.type),n=n||o.default.lookup(t));if("function"!=typeof File||"Microsoft Edge"===i.default.name){var r=new Date,a=0;return null!=e.size&&"number"==typeof e.size?a=e.size:null!=e.byteLength&&"number"==typeof e.byteLength&&(a=e.byteLength),{lastModified:r.getTime(),lastModifiedDate:r,name:t,size:a,type:n}}return new File([e],t,{type:n})},t.classifyFile=function(e){return f(e.name,e.type)},t.classifyFileName=f,t.sizeString=function(e){return a.default.filesize(e)},t.maxFileSize=p,t.fileTooLarge=h,t.anyFileTooLarge=function(e){var t=p();return r.default.some(e,function(e){return h(e,t)})};var r=c(n(7)),o=c(n(8050)),a=c(n(6542)),i=c(n(39)),l=n(0),s=c(n(13)),u=c(n(229));function c(e){return e&&e.__esModule?e:{default:e}}var d=[{reType:/^image\/vnd.adobe.photoshop/,klass:"photoshop"},{reType:/^image\//,klass:"image"},{reType:/^video\//,klass:"video"},{reName:/\.pdf$/,klass:"acrobat"},{reName:/\.ae/,klass:"ae"},{reName:/\.sketch$/,klass:"sketch"},{reName:/\.ai$/,klass:"ai"},{reName:/\.(?:rar|zip|7z|tar|tar\.gz)$/,klass:"archive"},{reName:/\.(?:c\+\+|cpp|cc|c|h|hpp|mm|m|json|js|rb|rake|py|asm|fs|pyc|dtd|cgi|bat|rss|java|graphml|idb|lua|o|gml|prl|sls|conf|cmake|make|sln|vbe|cxx|wbf|vbs|r|wml|php|bash|applescript|fcgi|yaml|ex|exs|sh|ml|actionscript)$/,klass:"code"},{reName:/\.(?:txt|rtf|doc|docx|md|pages|ppt|pptx|pptm|key|log)$/,klass:"document"},{reName:/\.(?:xls|xlsx|numbers|csv)$/,klass:"spreadsheet"},{reName:/\.(?:html|xhtml|htm|js|xml|xls|xsd|css|styl)$/,klass:"webcode"},{reName:/\.(?:mp3|ogg|wav|flac)$/,klass:"audio"}];function f(e,t){e=e?e.toLowerCase():"";var n=r.default.find(d,function(n){return n.reType&&t?n.reType.test(t):!(!n.reName||!e)&&n.reName.test(e)});return n?n.klass:"unknown"}function p(){var e=s.default.getCurrentUser();return e&&u.default.canUploadLargeFiles(e)?l.MAX_PREMIUM_ATTACHMENT_SIZE:l.MAX_ATTACHMENT_SIZE}function h(e,t){return null==t&&(t=p()),e.size>t}},6099:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={selectGuild:function(e){a.default.dispatch({type:i.ActionTypes.DELAYED_GUILD_SELECT,guildId:e})},selectChannel:function(e,t){a.default.dispatch({type:i.ActionTypes.DELAYED_CHANNEL_SELECT,guildId:e,channelId:t})},flushSelection:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];a.default.dispatch({type:i.ActionTypes.DELAYED_SELECT_FLUSH,immediate:e})}},e.exports=t.default},6100:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(3)),a=c(n(2)),i=c(n(941)),l=c(n(65)),s=c(n(525)),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var d=null,f=!1;function p(e){var t=e.link;d=t}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,s.default,l.default)},t.prototype.getHomeLink=function(){return d||i.default.defaultRoute},r(t,[{key:"hasHandledRedirect",get:function(){return f}}]),t}(o.default.Store);t.default=new h(a.default,{OVERLAY_INITIALIZE:function(e){return t=s.default.getPrivateChannelIds(),void(((n=l.default.getChannelId(u.ME))||t[0])&&(d=u.Routes.CHANNEL(u.ME,n||t[0])));var t,n},APP_VIEW_SET_HOME_LINK:p,ACTIVITY_FEED_HANDLE_REDIRECT:function(e){f=!0},APPLICATION_STORE_LOCATION_CHANGE:function(e){p({link:e.location.pathname})},APPLICATION_STORE_RESET_NAVIGATION:function(e){return function(){if(null==d||!d.startsWith(u.Routes.APPLICATION_STORE))return!1;d=u.Routes.APPLICATION_STORE}()},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;null==t&&null!=n&&(d=u.Routes.CHANNEL(u.ME,n))}}),e.exports=t.default},6106:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=S(n(3)),i=S(n(7)),l=n(78),s=S(n(2)),u=S(n(11)),c=n(0),d=S(n(55)),f=S(n(132)),p=S(n(533)),h=S(n(230)),m=S(n(269)),y=S(n(372)),v=S(n(6207)),_=S(n(6480)),g=S(n(6737)),E=S(n(6066)),I=n(280),T=S(n(17));function S(e){return e&&e.__esModule?e:{default:e}}var A={},C={},b=0,M=!0,O={},N=[c.KeybindCustomActions.PUSH_TO_TALK,c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET];function R(e){if(u.default.embedded)u.default.inputEventUnregister(parseInt(e,10));else if(A[e]){var t=C[e],n=O[t.action];n&&!0===n.isPressed&&r.nextTick(function(){return n.onTrigger(!1)}),A[e].reset(),A[e]=null}}function P(e){if(M&&!__OVERLAY__){var t=e.shortcut,n=e.action,r=e.context;if(""!==t&&null!=t&&n!==c.KeybindCustomActions.UNASSIGNED)if(null!=O[n]){var a=e.id,i=O[n].keyEvents;!function(e,t,n,r){if(u.default.embedded)u.default.inputEventRegister(parseInt(e),t,n,r);else{R(e);var o=(0,g.default)(new _.default(document));r.keyup&&o.bindGlobal((0,I.toString)(t),function(){return n(!1)},"keyup"),r.keydown&&o.bindGlobal((0,I.toString)(t),function(){return n(!0)},"keydown"),A[e]=o}}(a,t,function(e){return function(e,t,n){var r=C[e];null!=r&&O[r.action].onTrigger(t,n)}(a,e,r)},o({focused:!0,blurred:!0,keydown:!1,keyup:!1},i)),E.default.validateKeybind((0,I.toString)(e.shortcut))}else console.error("KeybindStore: Looking for callback action "+n+" but it doesn't exist in this version. Skipping")}}function L(e){var t,n=o({id:b.toString(),action:c.KeybindCustomActions.UNASSIGNED,shortcut:[],managed:!1},e);return C=o({},C,((t={})[n.id]=n,t)),b+=1,n}function w(e){R(e.id),delete(C=o({},C))[e.id]}function D(e){var t,n=e.keybind;C=o({},C,((t={})[n.id]=n,t)),__OVERLAY__||(T.default.track(c.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!0,keybind_has_shortcut:!!n.shortcut.length}),n.action===c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?T.default.track(c.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{hotkey:n.action===c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?(0,I.toString)(n.shortcut):null}):n.action===c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&T.default.track(c.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{text_activation_hotkey:n.action===c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET?(0,I.toString)(n.shortcut):null})),P(n)}function U(){return!1!==(e=d.default.getShortcuts(),i.default.each(C,function(t){t.action!==c.KeybindCustomActions.PUSH_TO_TALK||!0!==t.managed||null!=t.context&&null!=e[t.context]||w(t)}),i.default.reduce(d.default.getShortcuts(),function(e,t,n){var r=i.default.find(C,function(e){return e.action===c.KeybindCustomActions.PUSH_TO_TALK&&!0===e.managed&&e.context===n});if(null==r)P(L({action:c.KeybindCustomActions.PUSH_TO_TALK,shortcut:t,managed:!0,context:n}));else{if(null==t)return e||!1;D({keybind:o({},r,{shortcut:"string"==typeof t?(0,I.toCombo)(t):t,context:n})})}return!0},!1)||function(){if(p.default.enabled){if(null!=i.default.find(C,function(e){return e.action===c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed}))return!1;var e=(0,I.toCombo)("shift+`");P(L({action:c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,shortcut:e,managed:!0}))}}()||function(){if(!p.default.enabled)return!1;if(null!=i.default.find(C,function(e){return e.action===c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed}))return!1;var e=(0,I.toCombo)("]");P(L({action:c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,shortcut:e,managed:!0}))}());var e}O[c.KeybindCustomActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},O[c.KeybindCustomActions.PUSH_TO_TALK]={onTrigger:function(e,t){d.default.getMode(t)===c.InputModes.PUSH_TO_TALK&&(O[c.KeybindCustomActions.PUSH_TO_TALK].isPressed=e,d.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!1)},t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},O[c.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){d.default.getMode()===c.InputModes.PUSH_TO_TALK&&(O[c.KeybindCustomActions.PUSH_TO_TALK_PRIORITY].isPressed=e,d.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!0)},l.DEFAULT_CONTEXT))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},O[c.KeybindCustomActions.PUSH_TO_MUTE]={onTrigger:function(e){d.default.getMode()===c.InputModes.VOICE_ACTIVITY&&(d.default.isSelfDeaf()||(O[c.KeybindCustomActions.PUSH_TO_MUTE].isPressed=e,m.default.setTemporarySelfMute(e)))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},O[c.KeybindCustomActions.TOGGLE_MUTE]={onTrigger:function(){m.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},O[c.KeybindCustomActions.TOGGLE_DEAFEN]={onTrigger:function(){m.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},O[c.KeybindCustomActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=d.default.getMode()===c.InputModes.PUSH_TO_TALK?c.InputModes.VOICE_ACTIVITY:c.InputModes.PUSH_TO_TALK;m.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},O[c.KeybindCustomActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=p.default.enabled;y.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},O[c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=p.default.getFocusedPID();null!=t&&(p.default.isReady(t)||p.default.isCrashed(t))&&(e?y.default.setUILocked(!h.default.isUILocked(t),t):y.default.setInputLocked(!p.default.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},O[c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=p.default.getFocusedPID();null!=e&&(null!=e||!1)&&h.default.isPinned(c.OverlayWidgets.TEXT)&&p.default.isReady(e)&&p.default.isInputLocked(e)&&y.default.activateRegion(c.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},O[c.KeybindCustomActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){v.default.setEnabled(!f.default.enabled)},keyEvents:{keyup:!0,keydown:!1}};var G=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){__OVERLAY__||this.waitFor(d.default,p.default),C=e||{},i.default.forEach(C,function(e){b=Math.max(parseInt(e.id,10),b)+1;try{P(e)}catch(t){console.error("Failed to register keybind",e,t)}})},t.prototype.getState=function(){return C},t.prototype.getKeybindList=function(){var e=[];for(var t in C)C.hasOwnProperty(t)&&e.push((0,I.toString)(C[t].shortcut));return e},t.prototype.getOverlayKeybind=function(){return i.default.find(C,function(e){return e.action===c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed})},t.prototype.getOverlayChatKeybind=function(){return i.default.find(C,function(e){return e.action===c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed})},t}(a.default.PersistedStore);G.persistKey="keybinds",G.migrations=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.v,n=e.keybinds,r=void 0===n?e:n;return i.default.reduce(r,function(e,n,r){var o=parseInt(n.id,10);return isNaN(o)||n.id!==r?e:((null==t||t<2)&&("string"==typeof n.shortcut?(n.shortcut=n.shortcut.replace("escape","esc").replace("capslock","caps lock").replace("numlock","num lock").replace("pageup","page up").replace("pagedown","page down"),n.shortcut=(0,I.toCombo)(n.shortcut)):n.shortcut=n.shortcut.map(function(e){return e.length<3?[].concat(e,[(0,I.getEnv)()]):e})),e[r]=n,e)},{})},function(e){return Object.keys(e).filter(function(t){var n=e[t];return N.includes(n.action)&&!0===n.managed}).length!==N.length?(U(),C):e}],t.default=new G(s.default,{CONNECTION_OPEN:function(e){return U()},AUDIO_SET_MODE:function(e){return U()},OVERLAY_SET_ENABLED:function(e){return U()},RPC_APP_CONNECTED:function(e){return U()},RPC_APP_DISCONNECTED:function(e){return U()},KEYBINDS_ADD_KEYBIND:function(e){L()},KEYBINDS_DELETE_KEYBIND:function(e){var t=e.id,n=C[t];__OVERLAY__||T.default.track(c.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!1,keybind_has_shortcut:!1}),null!=n&&w(n)},KEYBINDS_SET_KEYBIND:D,KEYBINDS_ENABLE_ALL_KEYBINDS:function(e){var t=e.enable;M=t,t?(E.default.enable(),i.default.forEach(C,P)):(E.default.disable(),i.default.forEach(C,function(e){return R(e.id)}))}}),e.exports=t.default}).call(this,n(67))},6107:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(3)),o=i(n(2)),a=i(n(24));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l="GuildNSFWAgreeStore",s={};var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){s=a.default.get(l)||s},t.prototype.didAgree=function(e){return null!=e&&(s[e]||!1)},t}(r.default.Store);t.default=new u(o.default,{GUILD_NSFW_AGREE:function(e){var t=e.guildId;s[t]=!0,a.default.set(l,s)}}),e.exports=t.default},6108:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(3)),o=s(n(2)),a=n(0),i=s(n(945)),l=n(270);function s(e){return e&&e.__esModule?e:{default:e}}var u=null,c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasAction=function(){return null!=u},t.prototype.getAction=function(){return u},t}(r.default.Store);function d(e){(u=e.requiredAction)===a.UserRequiredActions.REQUIRE_CAPTCHA||u===a.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||u===a.UserRequiredActions.REQUIRE_VERIFIED_PHONE?(0,l.pushLayer)(a.Layers.VERIFICATION):i.default.hasLayers()&&null==u&&(0,l.popLayer)()}t.default=new c(o.default,{CONNECTION_OPEN:d,USER_REQUIRED_ACTION_UPDATE:d}),e.exports=t.default},6110:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(9))),i=c(n(145)),l=n(523),s=c(n(5949)),u=n(516);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.icon,n=e.timestamp,r=e.className,i=e.children;return o(u.BackgroundOpacityContext.Consumer,{},void 0,function(e){return o("div",{className:(0,a.default)(s.default.container,r)},void 0,o("div",{className:s.default.icon,style:{backgroundImage:"url('"+t+"')"}}),o("div",{className:(0,a.default)(s.default.content,s.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,i,o("time",{dateTime:n.toISOString(),className:(0,a.default)(s.default.timestamp,s.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,(0,l.calendarFormat)(n))))})}d.displayName="SystemMessage";var f=function(e){var t=e.onClick,n=e.children;return o("span",{className:s.default.action},void 0,"—",o(i.default,{onClick:t,className:s.default.actionAnchor},void 0,n))};f.displayName="SystemMessageAction",d.Action=f,t.default=d,e.exports=t.default},6111:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=f(n(2)),i=n(0),l=f(n(12)),s=f(n(17)),u=(f(n(7699)),f(n(35))),c=f(n(119)),d=f(n(383));function f(e){return e&&e.__esModule?e:{default:e}}var p=void 0;function h(e){c.default.addConditionalChangeListener(function(){var t=c.default.getDefaultChannel(e.id);if(null!=t)return r(function(){null!=p?(m(),setTimeout(function(){u.default.push(p,{guild:new d.default(o({},e)),channel:t,source:i.InstantInviteSources.GUILD_CREATE})},1e3)):m()}),!1})}function m(){a.default.dispatch({type:i.ActionTypes.CREATE_GUILD_MODAL_CLOSE})}p=p=n(6093),t.default={open:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;switch(a.default.dispatch({type:i.ActionTypes.CREATE_GUILD_MODAL_OPEN,screen:e}),e){case i.CreateGuildModalScreens.CreateGuild:s.default.track(i.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild Step 2",Source:t,location_section:n});break;case i.CreateGuildModalScreens.JoinGuild:s.default.track(i.AnalyticEvents.OPEN_MODAL,{Type:"Join Guild",Source:t,location_section:n});break;default:s.default.track(i.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild",Source:t,location_section:n})}},setScreen:function(e){a.default.dispatch({type:i.ActionTypes.CREATE_GUILD_MODAL_SET_SCREEN,screen:e})},close:m,updateTemporaryGuild:function(e){a.default.dispatch({type:i.ActionTypes.CREATE_GUILD_MODAL_UPDATE,guild:e})},createGuild:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a.default.dispatch({type:i.ActionTypes.CREATE_GUILD_MODAL_SUBMIT}),l.default.post({url:i.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){return h(e.body)},function(e){return a.default.dispatch({type:i.ActionTypes.CREATE_GUILD_MODAL_SUBMIT_FAILURE,errors:e.body})})},createGuildPromise:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return l.default.post({url:i.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){return h(e.body)},function(e){throw e.body})},createGuildPromiseSimple:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return l.default.post({url:i.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return a.default.dispatch({type:i.ActionTypes.MOBILE_NUF_GUILD_CREATED})})}},e.exports=t.default}).call(this,n(36).setImmediate)},6120:function(e,t,n){"use strict";t.__esModule=!0,t.transitionToChannel=function(e,t){if(o.default.hasModalOpen())return;l.default.closeAll(),i.default.channelListScrollTo(e,t),a.default.selectChannel(e,t)},t.transitionToPage=function(e){if(o.default.hasModalOpen())return;l.default.closeAll(),r.default.replaceWith(e)};var r=s(n(41)),o=s(n(937)),a=s(n(6099)),i=s(n(6069)),l=s(n(189));function s(e){return e&&e.__esModule?e:{default:e}}},6124:function(e,t,n){"use strict";t.__esModule=!0,t.show=b,t.hide=M,t.toggle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYBIND";f.default.isOpen()?M():b(e)},t.search=function(e){r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SEARCH,query:e,options:S()})},t.selectResult=function(e){r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SELECT,selectedIndex:e})},t.switchToResult=function(e){A(g.AnalyticEvents.QUICKSWITCHER_RESULT_SELECTED,e);var t=e.type,n=e.record,f=void 0;switch(t){case g.AutocompleterResultTypes.GUILD:(f=c.default.getChannelId(n.id))?i.default.selectChannel(n.id,f):i.default.selectGuild(n.id),i.default.flushSelection(!0);break;case g.AutocompleterResultTypes.TEXT_CHANNEL:null!=(f=a.default.getChannel(n.id))&&(i.default.selectChannel(f.guild_id,n.id),i.default.flushSelection(!0));break;case g.AutocompleterResultTypes.VOICE_CHANNEL:null!=(f=a.default.getChannel(n.id))&&l.default.selectVoiceChannel(f.guild_id,n.id);break;case g.AutocompleterResultTypes.USER:u.default.openPrivateChannel(d.default.getId(),[n.id]),s.default.channelListScrollTo(g.ME,n.id);break;case g.AutocompleterResultTypes.GROUP_DM:i.default.selectChannel(g.ME,n.id),i.default.flushSelection(!0),s.default.channelListScrollTo(g.ME,n.id);break;case g.AutocompleterResultTypes.APPLICATION:var m=(0,o.getLibraryApplicationForApplicationId)(n.id,p.default,h.default);I(n.id,m,{analyticsParams:{source:g.AnalyticsLocations.QUICK_SWITCHER,location:g.AnalyticsLocations.QUICK_SWITCHER}})}r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SWITCH_TO,result:e}),C()};var r=E(n(2)),o=n(96),a=E(n(18)),i=E(n(6099)),l=E(n(167)),s=E(n(6069)),u=E(n(148)),c=E(n(65)),d=E(n(14)),f=E(n(6440)),p=E(n(46)),h=E(n(134)),m=E(n(187)),y=E(n(17)),v=E(n(275)),_=n(6689),g=n(0);function E(e){return e&&e.__esModule?e:{default:e}}var I=function(){return Promise.resolve()},T=n(168);function S(){return{selectedGuildId:m.default.getGuildId(),selectedChannelId:c.default.getChannelId(),lastSelectedChannelId:c.default.getLastSelectedChannelId()}}function A(e,t){var n=f.default.getProps(),r=n.results,o=n.queryMode,i=n.query,l=m.default.getGuildId(),s=c.default.getChannelId(l),u=r[(0,_.findNextSelected)("down",-1,r)],d={current_channel_id:s,current_guild_id:l,query_mode:o||"GENERAL",query_length:i.length,top_result_type:u?u.type:null,top_result_score:u?u.score:null,num_results_total:f.default.getResultTotals(),num_results_users:f.default.getResultTotals(g.AutocompleterResultTypes.USER),num_results_text_channels:f.default.getResultTotals(g.AutocompleterResultTypes.TEXT_CHANNEL),num_results_voice_channels:f.default.getResultTotals(g.AutocompleterResultTypes.VOICE_CHANNEL),num_results_guilds:f.default.getResultTotals(g.AutocompleterResultTypes.GUILD),num_results_group_dms:f.default.getResultTotals(g.AutocompleterResultTypes.GROUP_DM)};if(null!=s){var p=a.default.getChannel(s);d.current_channel_type=null!=p?p.type:null}if(null!=t){var h=t.type,E=t.score,I=t.record;switch(d.selected_type=h,d.selected_score=E,d.selected_index=r.indexOf(t),h){case g.AutocompleterResultTypes.GUILD:d.selected_guild_id=I.id;break;case g.AutocompleterResultTypes.TEXT_CHANNEL:case g.AutocompleterResultTypes.VOICE_CHANNEL:I instanceof v.default&&(d.selected_guild_id=null!=I.guild_id?I.guild_id:null),d.selected_channel_id=I.id;break;case g.AutocompleterResultTypes.GROUP_DM:d.selected_channel_id=I.id;break;case g.AutocompleterResultTypes.USER:d.selected_user_id=I.id}}y.default.track(e,d)}function C(){r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_HIDE})}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"KEYBIND",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";!function(e){if(!f.default.isOpen()){var t=m.default.getGuildId(),n=c.default.getChannelId(t),r=void 0;if(null!=n){var o=a.default.getChannel(n);r=null!=o?o.type:null}y.default.track(g.AnalyticEvents.QUICKSWITCHER_OPENED,{source:e,current_guild_id:t,current_channel_id:n,current_channel_type:r})}}(e),r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SHOW,query:t,options:S()})}function M(){A(g.AnalyticEvents.QUICKSWITCHER_CLOSED),C()}I=T.playApplication},6131:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=j(n(6164)),s=j(n(225)),u=n(265),c=j(n(7666)),d=n(6752),f=j(n(7653)),p=j(n(6746)),h=j(n(377)),m=n(6363),y=j(n(146)),v=j(n(6336)),_=n(969),g=j(n(118)),E=j(n(14)),I=j(n(132)),T=j(n(235)),S=j(n(133)),A=j(n(11)),C=j(n(7626)),b=j(n(6335)),M=j(n(3)),O=j(n(35)),N=n(32),R=n(6757),P=j(n(6493)),L=n(116),w=j(n(978)),D=n(0),U=j(n(521)),G=j(n(7613)),k=j(n(7612)),F=n(516),x=j(n(510));function j(e){return e&&e.__esModule?e:{default:e}}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var B=function(e){var t=e.guildId;return g.default.can(D.Permissions.MANAGE_GUILD,{guildId:t})},V=function(e){var t=e.message,n=e.channel,r=e.canChat,o=e.renderReactions,a=e.canAddNewReactions,i=e.isLurking,l=n.isPrivate(),s=t.type!==D.MessageTypes.DEFAULT,u=!s&&(r||l);return{disableReactionReads:!o,disableReactionCreates:i||!u||!(!s&&(!0===a||l)),disableReactionUpdates:i||!u}},K=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=Array(s),p=0;p<s;p++)u[p]=arguments[p];return n=r=H(this,e.call.apply(e,[this].concat(u))),r.onResize=function(e){var t=e.target,n=e.isEditing,o=r.props,a=o.onEdit,i=o.onUpdate;n?a&&t&&a(t):i&&t&&i(t)},r.onClickUsername=function(e,t){var n=t.user;if(e.shiftKey&&!n.isNonUserBot()){var o=r.props.disablePersonalInformation,a=n.username,i=n.tag,l="@"+(o?a:i);L.ComponentDispatch.dispatchToLastSubscribed(D.ComponentActions.INSERT_TEXT,{content:l}),e.preventDefault(),e.stopPropagation();var s=r.props.channel;null!=s&&w.default.typing(s.id)}},r.onContextMenuMessage=function(e,t){if(A.default.embedded){var n=t.message.type!==D.MessageTypes.DEFAULT?D.ContextMenuTypes.MESSAGE_SYSTEM:D.ContextMenuTypes.MESSAGE_MAIN;(0,N.openContextMenu)(e,function(e){return i.createElement(C.default,a({},e,t,{type:n}))})}},r.onContextMenuUser=function(e,t){var n=t.user,r=t.channel;(0,R.openUserContextMenu)(e,n,r)},r.renderAccessories=function(e){var t=e.message,n=r.props,l=n.compact,s=n.channel,u=n.accessoriesClassName,c=n.gifAutoPlay,d=n.renderReactions,p=n.canAddNewReactions,h=n.inlineAttachmentMedia,m=n.inlineEmbedMedia,y=n.renderEmbeds,v=n.canChat,_=n.isLurking,g=V({message:t,channel:s,canChat:v,renderReactions:d,canAddNewReactions:p,isLurking:_});return o(F.BackgroundOpacityContext.Consumer,{},void 0,function(e){return i.createElement(f.default,a({},g,{className:u,message:t,channel:s,isCompact:l,disableAutoPlayGif:!c,disableEmbeds:!y,inlineAttachmentMedia:h,inlineEmbedMedia:m,onContextMenuMessage:r.onContextMenuMessage,backgroundOpacity:e.backgroundOpacity}))})},r.renderButtonsMessage=function(e){var t=e.message,n=e.channel,a=t.state===D.MessageStates.SENDING,l=r.props,s=l.developerMode,u=l.canManageMessages,c=l.messageOption,f=l.currentUserId;if(!1===c||a)return null;var p=t.author,m=u||p.id===f,_=t.type!==D.MessageTypes.DEFAULT,g=!_&&(u||n.isPrivate()),E=!_&&r.props.canEdit,I=r.props,T=I.canChat,S=I.canAddNewReactions,A=I.renderReactions,C=I.isLurking,M=V({message:t,channel:n,canChat:T,renderReactions:A,canAddNewReactions:S,isLurking:C}).disableReactionCreates;return o(i.Fragment,{},void 0,!M&&!_&&o(d.ButtonAddReaction,{message:t,channel:n}),o(G.default,{channel:n,message:t,developerMode:s,canEdit:E,canPin:g,canDelete:m,onStartEditMessage:y.default.startEditMessage,onRetrySendMessage:y.default.retrySendMessage,onDeleteMessage:y.default.deleteMessage,onConfirmDelete:b.default.confirmDelete,onConfirmPin:b.default.confirmPin,onOpenGuildSettings:h.default.open,onUnpinMessage:v.default.unpinMessage,onConfirmUnpin:b.default.confirmUnpin,onCanManageGuild:B,onShowReactionsModal:r.renderReactionsModal,currentUserId:f}))},r.renderEditor=function(e){var t=e.value,n=e.message,r=e.channel,a=e.onChange,i=e.onSubmit,s=e.onKeyDown,u=e.onResize;return o(l.default,{className:x.default.marginTop8,value:t,channel:r,type:D.TextareaTypes.EDIT,onChange:a,onSubmit:i,onKeyDown:s,onResize:u},n.id)},r.renderPopoutUser=function(e){return i.createElement(U.default,e)},r.renderSystemMessage=function(e){return i.createElement(c.default,a({},e,{key:e.message.id,onContextMenu:r.onContextMenuMessage}))},H(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validateEdit=function(e){var t=e.value,n=e.channel;return(0,_.applyChatRestrictions)(null,t,n,!1,!1)},t.prototype.renderReactionsModal=function(e){var t=e.message;O.default.push(P.default,{message:t})},t.prototype.render=function(){var e=this,t=this.props,n=t.onClickAnywhere,r=t.hasDivider,l=t.compact,s=t.canFlash,u=t.enableInteraction,c=t.messages,d=t.channel,f=t.jumpSequenceId,p=t.jumpMessageId,h=t.registerMessageDOMNode,v=t.renderMentioned,_=t.groupOption,g=t.editingMessageId,E=t.disableInteractionLabel,I=t.editingContent,T=t.isFocusedWindow,S=t.className,A=t.cozyClassName,C=t.canChat,M=t.renderReactions,O=t.canAddNewReactions,N=t.gifAutoPlay,R=t.renderEmbeds,P=t.canManageMessages,L=t.developerMode,w=t.isLurking,D={messages:c,channel:d,jumpSequenceId:f,jumpMessageId:p,registerMessageDOMNode:h,editingMessageId:g,disableInteractionLabel:E,editingContent:I,isFocusedWindow:T},U=a({},V({message:c[0],channel:d,canChat:C,renderReactions:M,canAddNewReactions:O,isLurking:w}),{disableAutoPlayGif:!N,disableEmbeds:!R,disableManageMessages:!P,disableDeveloperMode:!L});return o(F.BackgroundOpacityContext.Consumer,{},void 0,function(t){return i.createElement(k.default,a({isCompact:l,onClick:n,disableDivider:r,disableJumpFlash:!s,disableInteraction:!u,disableMentionStyles:!v,onResize:e.onResize,validateEdit:e.validateEdit,onCancelEditing:y.default.endEditMessage,onConfirmDelete:b.default.confirmDelete,onChange:y.default.updateEditMessage,saveMessage:y.default.editMessage,editingMessageId:g,onManualAck:m.manualAck,onClickUsername:e.onClickUsername,onContextMenuMessage:e.onContextMenuMessage,onContextMenuUser:e.onContextMenuUser,onDeleteMessage:y.default.deleteMessage,renderAccessories:e.renderAccessories,renderButtonsMessage:e.renderButtonsMessage,renderEditor:e.renderEditor,renderPopoutUser:e.renderPopoutUser,renderSystemMessage:e.renderSystemMessage,renderButtonsGroup:_,className:S,cozyClassName:A,backgroundOpacity:t.backgroundOpacity},D,U))})},t}(i.Component);K.defaultProps={canManageMessages:!1,hasDivider:!1,popoutPosition:s.default.Positions.RIGHT,avatarSize:u.AvatarSizes.LARGE,compact:!1,messageOption:!0,canEdit:!0,jumpTargetIndex:-1,enableInteraction:!0,developerMode:!1,canFlash:!0,renderMentioned:!0,inlineAttachmentMedia:!1,inlineEmbedMedia:!1,gifAutoPlay:!1,renderEmbeds:!1,renderEmbedsSmall:!1,renderReactions:!0,canChat:!1},K.displayName="ConnectedMessageGroup",t.default=M.default.connectStores([p.default,E.default,S.default],function(e){var t=e.channel,n=e.messages,r=e.canEdit,o=t.id,a=!1!==r&&n.some(function(e){return e&&p.default.isEditing(o,e.id)}),i=a?p.default.getEditingMessageId():null,l=a?p.default.getEditingContent():null,s=S.default.isFocused(),u=I.default.hidePersonalInformation,c=T.default.isLurking(t.getGuildId());return{currentUserId:E.default.getId(),editingMessageId:i,isFocusedWindow:s,disablePersonalInformation:u,editingContent:l,isLurking:c}})(K),e.exports=t.default},6160:function(e,t,n){"use strict";t.__esModule=!0,t.PRETTY_KEYS=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(6066))),i=s(n(9)),l=s(n(5572));function s(e){return e&&e.__esModule?e:{default:e}}var u=o("g",{fill:"#4F545C"},void 0,o("polygon",{transform:"translate(5.025000, 5.000000) scale(1, -1) translate(-5.025000, -5.000000) ",points:"4.16666667 10 4.16666672 3.33333333 1.25 6.25 0.05 5 5.00000005 0 9.99999967 5 8.75 6.25 5.83333338 3.33333333 5.83333333 10"})),c=function(e){var t=e.direction,n=void 0===t?"up":t;return o("svg",{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg",className:(0,i.default)(l.default.bindArrow,l.default[n])},void 0,u)};c.displayName="ArrowSVG";var d=o(c,{direction:"up"}),f=o(c,{direction:"down"}),p=o(c,{direction:"left"}),h=o(c,{direction:"right"}),m=t.PRETTY_KEYS={mod:function(){return a.default.modKey},alt:function(){return a.default.altKey},up:function(){return d},down:function(){return f},left:function(){return p},right:function(){return h},pageup:function(){return"page up"},pagedown:function(){return"page down"},"any-character":function(){return"any key"},return:function(){return a.default.returnKey}},y=function(e){var t=e.shortcut,n=e.className;return o("div",{className:(0,i.default)(l.default.keybindShortcut,n)},void 0,t.split("+").map(function(e){return m[e]?m[e]():e}).map(function(e,t){return o("span",{},t,e)}))};y.displayName="KeyboardShortcut",t.default=y},6163:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(3)),a=l(n(2)),i=l(n(7));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s={},u={favorites:[],timesFavorited:0};var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){null!=e&&(u=e).favorites.forEach(function(e){s[e.url]=e})},t.prototype.getState=function(){return u},t.prototype.getFavorites=function(){return u.favorites},t.prototype.shouldShowTooltipOnFavorite=function(){return u.timesFavorited<=2},t.prototype.getIsFavorite=function(e){return null!=s[e]},t.prototype.getRandomFavorite=function(){return i.default.sample(u.favorites)},t}(o.default.PersistedStore);c.persistKey="GIFFavoritesStore",c.migrations=[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}],t.default=new c(a.default,{GIF_FAVORITE_ADD:function(e){var t=e.gif;if(null!=s[t.url])return!1;u=r({},u,{favorites:[t].concat(u.favorites)}),s[t.url]=t,u.timesFavorited+=1},GIF_FAVORITE_REMOVE:function(e){var t=e.url;if(!delete s[t])return!1;var n=u.favorites,r=n.findIndex(function(e){var n=e.url;return t===n});if(null==r)return!1;u.favorites=n.slice(0,r).concat(n.slice(r+1,n.length))}}),e.exports=t.default},6164:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=K(n(1)),l=V(n(7)),s=V(n(959)),u=V(n(9)),c=V(n(39)),d=V(n(3)),f=V(n(6344)),p=V(n(132)),h=V(n(118)),m=V(n(236)),y=V(n(6770)),v=V(n(28)),_=V(n(119)),g=V(n(18)),E=V(n(964)),I=V(n(7692)),T=V(n(6180)),S=V(n(35)),A=K(n(956)),C=V(n(7691)),b=V(n(7689)),M=V(n(6768)),O=V(n(42)),N=V(n(144)),R=V(n(7684)),P=V(n(6761)),L=V(n(6)),w=V(n(6085)),D=n(7670),U=V(n(196)),G=V(n(17)),k=V(n(190)),F=n(116),x=n(0),j=V(n(5950)),H=n(516),B=V(n(6163));function V(e){return e&&e.__esModule?e:{default:e}}function K(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var Y="@",W="#",z=":",q="+",$="/",J="COMMAND";var X=[].concat((0,l.default)(x.ChannelTextAreaIntegrations).values().map(function(e){return a({},e,{isIntegration:!0,horizontal:e.type===x.ChannelTextAreaIntegrationTypes.GIF,description:function(e){switch(e.title){case x.ChannelTextAreaIntegrations.GIPHY.title:case x.ChannelTextAreaIntegrations.TENOR.title:return L.default.Messages.COMMAND_GIPHY_DESCRIPTION;default:return""}}(e)})}).value(),[{command:"tts",description:L.default.Messages.COMMAND_TTS_DESCRIPTION,predicate:function(e){return v.default.enableTTSCommand&&(e.isPrivate()||h.default.can(x.Permissions.SEND_TSS_MESSAGES,e))}},{command:"me",description:L.default.Messages.COMMAND_ME_DESCRIPTION},{command:"tableflip",description:L.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},{command:"unflip",description:L.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},{command:"shrug",description:L.default.Messages.COMMAND_SHRUG_DESCRIPTION},{command:"spoiler",description:L.default.Messages.COMMAND_SPOILER_DESCRIPTION},{command:"nick",description:L.default.Messages.COMMAND_NICK_DESCRIPTION,predicate:function(e){return!e.isPrivate()&&(h.default.can(x.Permissions.CHANGE_NICKNAME,e)||h.default.can(x.Permissions.MANAGE_NICKNAMES,e))}}]),Q=new RegExp("^("+X.filter(function(e){return e.isIntegration}).map(function(e){return e.command}).join("|")+")\\s(.+)","i");function Z(e,t,n,r){var a=n.length>0?e.format({prefix:r(n)}):t;return o(M.default.Title,{title:a},"autocomplete-title-"+a)}function ee(e,t,n,r,o,l,s,u,c,d){if(null==n||0===n.length)return null;var f=n.map(function(e,n){return i.createElement(u,a({onClick:o,onHover:r,selected:t===n,index:n},c(e,n)))});return[Z(l,s,e,d),f]}function te(e,t,n,r,a,i){var d;return(d={MENTIONS:{matches:function(e,t){return w.default.matchSentinel(e,t,Y)},queryResults:function(t){return w.default.queryMentionResults(t,e,a)},renderResults:function(e,n,r,a,l){var s=l.users,u=l.globals,c=l.roles;if(null==s||null==u||null==c||0===s.length&&0===u.length&&0===c.length)return null;var d=s.map(function(e,l){return o(M.default.User,{onClick:a,onHover:r,selected:n===l,index:l,user:e.user,nick:e.nick,status:e.status,hidePersonalInformation:t,colorblindMode:i},e.user.id)}),f=u.map(function(e,t){return o(M.default.Generic,{onClick:a,onHover:r,selected:n===t+s.length,index:s.length+t,text:e.text,description:e.description},e.text)}),p=c.map(function(e,t){return o(M.default.Role,{onClick:a,onHover:r,selected:n===t+s.length+u.length,index:s.length+u.length+t,role:e},e.id)});return[Z(L.default.Messages.MEMBERS_MATCHING,L.default.Messages.MEMBERS,e,function(e){return""+Y+e}),d,s.length>0&&u.length>0?o(M.default.Divider,{},"autocomplete-divider-1"):null,f,s.length>0&&c.length>0||u.length>0&&c.length>0?o(M.default.Divider,{},"autocomplete-divider-2"):null,p]},getText:function(e,n){var r=n.users,o=n.globals,a=n.roles;if(null==r||null==o||null==a)return"";var i=r[e],l=o[e-r.length],s=a[e-r.length-o.length];return null!=i?t?""+Y+i.user.username:""+Y+i.user.tag:null!=l?l.text:null!=s?""+Y+s.name:""}},CHANNELS:{matches:function(t,n){return!e.isDM()&&!e.isGroupDM()&&w.default.matchSentinel(t,n,W)},queryResults:function(t){return w.default.queryChannelResults(t,e)},renderResults:function(e,t,n,r,o){return ee(e,t,o.channels,n,r,L.default.Messages.TEXT_CHANNELS_MATCHING,L.default.Messages.TEXT_CHANNELS,M.default.Channel,function(e){return{channel:e,key:e.id,category:g.default.getChannel(e.parent_id)}},function(e){return""+W+e})},getText:function(e,t){var n=t.channels;if(null==n)return"";var r=n[e];if(null==r)return"";var o=_.default.getTextChannelNameDisambiguations(r.guild_id)[r.id];return"#"+(null!=o?o.name:r.name)}},EMOJIS:{matches:function(e,t){return t.length>1&&e===z},queryResults:function(t){return w.default.queryEmojiResults(t,e)},renderResults:function(e,t,n,r,o){return ee(e,t,o.emojis,n,r,L.default.Messages.EMOJI_MATCHING,L.default.Messages.EMOJI,M.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:z}},function(e){return""+z+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+z+n[e].name+z}},REACTIONS:{matches:function(e,t,n){return 0===n&&e===q&&t.startsWith(z)},queryResults:function(t){return w.default.queryEmojiResults(t.substring(1),e)},renderResults:function(e,t,n,r,o){return ee(e,t,o.emojis,n,r,L.default.Messages.REACTIONS_MATCHING,L.default.Messages.EMOJI,M.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:z}},function(e){return""+q+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+q+z+n[e].name+z}}})[J]={matches:function(e,t,n){return 0===n&&(e===$||null!=t.match(Q))},queryResults:function(t){var n=t.match(Q);if(n){var r=n[1],o=l.default.findKey(x.ChannelTextAreaIntegrations,function(e){return e.command===r});return I.default.search(o,n[2]),{integrationQuery:n[2],integration:o}}var a=new RegExp("^"+U.default.escape(t),"i"),i=[],u=[];(0,l.default)(X).forEach(function(n){(null==n.predicate||n.predicate(e))&&(a.test(n.command)?i.push(n):(0,s.default)(t,n.command.toLowerCase())&&u.push(n))});var c=[],d=function(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o;if(!(c.length<x.MAX_AUTOCOMPLETE_RESULTS))break;c.push(a)}};return d(i),d(u),{commands:c}},renderResults:function(e,t,a,i,l){if(null!=l&&null!=l.commands)return ee(e,t,l.commands,a,i,L.default.Messages.COMMANDS_MATCHING,L.default.Messages.COMMANDS,M.default.Command,function(e){return{command:e.command,description:e.description,key:e.command}},function(e){return""+$+e});if(r)return o(N.default,{className:j.default.spinner,type:N.default.Type.SPINNING_CIRCLE});if(null!=n&&null!=n.integrations){var s,d=e.match(Q);if(null==d||null==n.integrations)return null;var f=!1,p=n.integrations.map(function(e,n){switch(e.type){case x.ChannelTextAreaIntegrationTypes.GIF:return f=!0,o(M.default.GIFIntegration,{className:j.default.horizontalAutocomplete,onClick:i,onHover:a,selected:t===n,index:n,width:e.meta.width,height:e.meta.height,src:e.meta.src,url:e.meta.url},""+e.meta.url+e.meta.src)}}),h=X.find(function(e){return e.command===d[1]}),m=e.length>0&&null!=h&&null!=h.title?L.default.Messages.CONTENT_MATCHING.format({query:d[2],command:h.title}):null!=h&&null!=h.title?h.title:d[1];return[o(M.default.Title,{title:m},"autocomplete-title-"+m),f?o(O.default,{className:(0,u.default)((s={},s[j.default.horizontalAutocompletes]="Firefox"!==c.default.name,s))},"autocomplete-horizontal-completes",p):p]}},getText:function(e,t){var n=t.commands,r=t.integrations;return null!=n&&null!=n[e]?""+$+n[e].command:null!=r&&null!=r[e]?r[e].meta.url:""},onSelect:function(e,t,n){var r=n.commands,o=n.integrations;if(null==r&&null!=o){var a=e.match(Q);if(null==a)return;var i=a[1];k.default.trackWithMetadata(x.AnalyticEvents.SLASH_COMMAND_USED,{command:i}),"giphy"!==i&&"tenor"!==i||k.default.trackWithMetadata(x.AnalyticEvents.SEARCH_RESULT_SELECTED,{search_type:x.SearchTypes.GIF,index_num:t,source_object:"/"+i})}}},d}Z.displayName="renderHeader";var ne=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r._gifPickerRef=i.createRef(),r.handleFavorite=function(){r.setState({justFavorited:!0}),clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.setState({justFavorited:!1})},1500)},r.toggleGIFPicker=function(){r.setState(function(e){return{isGIFPickerActive:!e.isGIFPickerActive}})},r.handleCloseGIFPicker=function(){return r.setState({isGIFPickerActive:!1})},r.closeGIFPicker=function(e){if(r.state.isGIFPickerActive){for(var t=e.target;t instanceof Element;){if(t===r._gifPickerRef.current)return;if(t===r.getGIFPickerButton())return;t=t.parentNode}r.setState({isGIFPickerActive:!1}),null!=document.activeElement&&"BODY"!==document.activeElement.tagName||r.focus()}},r.handlePremiumGiftClick=function(e){var t=r.props.channel;A.openModal({mode:x.PremiumPaymentSubscriptionModes.NEW,skuId:x.PremiumSubscriptionSKUs.TIER_2,isGift:!0,isGiftingFromChat:!0,analyticsLocation:{page:t.isPrivate()?x.AnalyticsPages.DM_CHANNEL:x.AnalyticsPages.GUILD_CHANNEL,section:x.AnalyticsSections.CHANNEL_TEXT_AREA,object:x.AnalyticsObjects.BUTTON_ICON,objectType:x.AnalyticsObjectTypes.GIFT}}).catch(x.NOOP_NULL)},r.renderGIFPreview=function(){return i.createElement(R.default,{onSelectGIF:r.handleSelectGIF,ref:r._gifPickerRef})},r.handleSelectGIF=function(e){r.setState({isGIFPickerActive:!1});var t=r._ref;null!=t&&t.handleSelectGIF(e)},r.handleGIFPickerToggle=function(e){e.stopPropagation(),e.preventDefault(),r.toggleGIFPicker()},l.default.bindAll(r,["renderEmojiPickerPopout","handleSetRef","handleSaveCurrentText","handleFileUpload","handleInviteToPlay","handleInviteToSpectate","handleInviteToListen","handleInviteToWatch","handleAutocompleteQuery"]);var o={};return r.state={integration:null,integrationQuery:null,autocompleteOptions:te(n.channel,n.hidePersonalInformation,o,!1,n.canMentionEveryone,n.colorblindMode),autocompletes:o,isAutocompletesLoading:!1,isGIFPickerActive:!1,justFavorited:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.focused&&this.focus(),F.ComponentDispatch.subscribe(x.ComponentActions.FAVORITE_GIF,this.handleFavorite)},t.prototype.componentDidUpdate=function(e,t){var n=this;this.grabIntegrationResults(e,t,function(){return n.grabAutocompleteOptions(e,t)}),this.fixFocus(e),!t.isGIFPickerActive&&this.state.isGIFPickerActive?this.setupGIFPickerHandlers():t.isGIFPickerActive&&!this.state.isGIFPickerActive&&this.cleanupGIFPickerHandlers()},t.prototype.componentWillUnmount=function(){this.cleanupGIFPickerHandlers(),F.ComponentDispatch.unsubscribe(x.ComponentActions.FAVORITE_GIF,this.handleFavorite),clearTimeout(this._timeout)},t.prototype.fixFocus=function(e){e.focused&&!this.props.focused?this.blur():!e.focused&&this.props.focused&&this.focus()},t.prototype.focus=function(){this._ref&&this._ref.focus()},t.prototype.blur=function(){this._ref&&this._ref.blur()},t.prototype.setupGIFPickerHandlers=function(){document.addEventListener("click",this.closeGIFPicker,!0),document.addEventListener("contextmenu",this.closeGIFPicker,!0),F.ComponentDispatch.subscribe(x.ComponentActions.CLOSE_GIF_PICKER,this.handleCloseGIFPicker)},t.prototype.cleanupGIFPickerHandlers=function(){document.removeEventListener("click",this.closeGIFPicker,!0),document.removeEventListener("contextmenu",this.closeGIFPicker,!0),F.ComponentDispatch.unsubscribe(x.ComponentActions.CLOSE_GIF_PICKER,this.handleCloseGIFPicker)},t.prototype.getGIFPickerButton=function(){var e=this._ref;return null!=e?e.getGIFPickerButton():null},t.prototype.grabIntegrationResults=function(e,t,n){var r=this.state,o=r.integration,a=r.integrationQuery,i=r.autocompletes,l=y.default.getResults(o,a);null==l||null!=i&&i.integrations===l.results?n():this.setState({autocompletes:{integrations:l.results},isAutocompletesLoading:l.loading},n)},t.prototype.grabAutocompleteOptions=function(e,t){var n=this.props,r=n.channel,o=n.hidePersonalInformation,a=n.canMentionEveryone,i=n.colorblindMode,l=this.state,s=l.autocompletes,u=l.isAutocompletesLoading;if(r!==e.channel||o!==e.hidePersonalInformation||!(null!=s&&null!=t.autocompletes||null==s&&null!=t.autocompletes||null!=s&&null!=t.autocompletes&&s.integrations!==t.autocompletes.integrations)||u!==t.isAutocompletesLoading||a!==e.canMentionEveryone||i!==e.colorblindMode){var c=te(r,o,s,u,a,i);this.setState({autocompleteOptions:c})}},t.prototype.getPlaceholder=function(){var e=this.props,t=e.disabled,n=e.placeholder;return t?L.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:n},t.prototype.renderEmojiPickerPopout=function(e,t){return i.createElement(P.default,a({},e,t))},t.prototype.render=function(){var e=this,t=this.props,n=t.value,r=t.className,a=t.disabled,l=t.channel,s=t.type,u=t.canAttachFiles,c=t.canSendInvites,d=t.canPasteFiles,f=t.disableGIFPicker,p=t.shouldRenderPremiumGiftButton,h=t.activities,m=t.onChange,y=t.onResize,v=t.onKeyDown,_=t.onKeyUp,g=t.onBlur,E=t.onFocus,I=t.onSubmit,T=t.shouldShowTooltipOnFavorite,S=this.state,A=S.autocompletes,C=S.autocompleteOptions,M=S.isGIFPickerActive,N=S.justFavorited;return o(H.BackgroundOpacityContext.Consumer,{},void 0,function(t){return o(O.default,{direction:O.default.Direction.VERTICAL},void 0,i.createElement(b.default,{ref:e.handleSetRef,value:n,className:r,backgroundOpacity:t.backgroundOpacity,disabled:a,placeholder:e.getPlaceholder(),channel:l,type:s,canAttachFiles:u,canSendInvites:c,canPasteFiles:d,activities:h,autocompleteOptions:C,autocompletes:A,renderCustomAutocomplete:M?e.renderGIFPreview:null,renderEmojiPickerPopout:e.renderEmojiPickerPopout,shouldRenderPremiumGiftButton:p,onChange:m,onResize:y,onKeyDown:v,onKeyUp:_,onSaveCurrentText:e.handleSaveCurrentText,onFileUpload:e.handleFileUpload,onInviteToPlay:e.handleInviteToPlay,onInviteToSpectate:e.handleInviteToSpectate,onInviteToListen:e.handleInviteToListen,onInviteToWatch:e.handleInviteToWatch,onOpenAttachPopout:e.handleOpenAttachPopout,onGIFPickerToggle:f?null:e.handleGIFPickerToggle,isGIFPickerActive:M,justFavorited:N,shouldShowTooltipOnFavorite:T,onPremiumGiftClick:e.handlePremiumGiftClick,onBlur:g,onFocus:E,onAutocompleteQuery:e.handleAutocompleteQuery,onSubmit:I}))})},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleSaveCurrentText=function(e){T.default.saveDraft(e,this.props.value)},t.prototype.handleFileUpload=function(e){(0,D.promptToUpload)(e,this.props.channel.id)},t.prototype.handleStartFileUpload=function(){this._ref&&this._ref.handleStartFileUpload()},t.prototype.handleInviteToPlay=function(e){var t=this.props.channel;G.default.track(x.AnalyticEvents.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id}),S.default.push(function(){return o(C.default,{activity:e,channel:t,activityActionType:x.ActivityActionTypes.JOIN})})},t.prototype.handleInviteToSpectate=function(e){var t=this.props.channel;G.default.track(x.AnalyticEvents.OPEN_MODAL,{type:"Send Spectate Invite",application_id:e.application_id}),S.default.push(function(){return o(C.default,{activity:e,channel:t,activityActionType:x.ActivityActionTypes.SPECTATE})})},t.prototype.handleInviteToListen=function(e){var t=this.props.channel;G.default.track(x.AnalyticEvents.OPEN_MODAL,{type:"Send Listen Invite"}),S.default.push(function(){return o(C.default,{activity:e,channel:t,activityActionType:x.ActivityActionTypes.LISTEN})})},t.prototype.handleInviteToWatch=function(e){var t=this.props.channel;G.default.track(x.AnalyticEvents.OPEN_MODAL,{type:"Send Watch Invite"}),S.default.push(function(){return o(C.default,{activity:e,channel:t,activityActionType:x.ActivityActionTypes.WATCH})})},t.prototype.handleInsertText=function(e){var t=e.content;this._ref&&this._ref.insertText(t),this.focus()},t.prototype.handleOpenAttachPopout=function(){G.default.track(x.AnalyticEvents.OPEN_POPOUT,{type:"Send Attachment"})},t.prototype.handleAutocompleteQuery=function(e,t,n){var r=e.queryResults(t);n===J&&null==r.commands?this.setState({autocompletes:null,integrationQuery:r.integrationQuery,integration:r.integration}):this.setState({autocompletes:r,integrationQuery:null})},t}(i.PureComponent);ne.defaultProps={type:x.TextareaTypes.NORMAL,disableGIFPicker:!0,disableActivity:!1,disableAttachments:!1,disableImagePaste:!1,disableInvites:!1,focused:!1},ne.displayName="ChannelTextAreaContainer";var re=(0,f.default)(function(e,t){var n;return(n={})[x.ComponentActions.UPLOAD_FILE]=t.handleStartFileUpload.bind(t),n[x.ComponentActions.INSERT_TEXT]=t.handleInsertText.bind(t),n[x.ComponentActions.TOGGLE_GIF_PICKER]=t.toggleGIFPicker,n})(ne);t.default=d.default.connectStores([y.default,h.default,m.default,p.default,E.default,B.default],function(e){var t=e.channel,n=e.disableAttachments,r=e.disableImagePaste,o=e.disableActivity,a=e.disableInvites,i=e.type,l=t.isPrivate(),s=l||h.default.can(x.Permissions.ATTACH_FILES,t),u=l||h.default.can(x.Permissions.EMBED_LINKS,t);return{query:y.default.getQuery(),canAttachFiles:!n&&s,canPasteFiles:!r&&s,canSendInvites:!a&&u,disabled:!l&&!h.default.can(x.Permissions.SEND_MESSAGES,t),canMentionEveryone:l||h.default.can(x.Permissions.MENTION_EVERYONE,t),activities:o?null:m.default.getActivities(),hidePersonalInformation:p.default.hidePersonalInformation,colorblindMode:E.default.colorblindMode,disableGIFPicker:null!=i&&i!==x.TextareaTypes.NORMAL,shouldShowTooltipOnFavorite:B.default.shouldShowTooltipOnFavorite()}})(re),e.exports=t.default},6166:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(568)),o=l(n(7)),a=l(n(232)),i=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}var s=new r.default({maxAge:6e4}),u=void 0;t.default={requestMembers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=(e||"")+":"+t;null==s.get(r)&&(s.set(r,!0),function(e,t,n){null!=u&&clearTimeout(u),u=setTimeout(function(){var r=[],l=function(e){r.push(e.id)};if(null==e)o.default.forEach(i.default.getGuilds(),l);else{var s=i.default.getGuild(e);null!=s&&l(s)}r.length>0&&a.default.requestMembers(r,t.toLocaleLowerCase(),n)},200)}(e,t,n))},getAcronym:function(e){return null!=e?e.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,""):""}},e.exports=t.default},6186:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={show:function(){this.deactivateRagingDemon(),a.default.dispatch({type:i.ActionTypes.SHOW_KEYBOARD_SHORTCUTS})},hide:function(){a.default.dispatch({type:i.ActionTypes.HIDE_KEYBOARD_SHORTCUTS})},activateRagingDemon:function(){a.default.dispatch({type:i.ActionTypes.ACTIVATE_RAGING_DEMON})},deactivateRagingDemon:function(){a.default.dispatch({type:i.ActionTypes.DEACTIVATE_RAGING_DEMON})}},e.exports=t.default},6187:function(e,t,n){"use strict";var r;t.__esModule=!0,t.DEFAULT_LAYOUT=void 0,t.getDefaultLayoutContent=function(){return[{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:U(l.KeybindActions.SERVER_PREV,l.KeybindActions.SERVER_NEXT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:U(l.KeybindActions.CHANNEL_PREV,l.KeybindActions.CHANNEL_NEXT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:U(l.KeybindActions.UNREAD_PREV,l.KeybindActions.UNREAD_NEXT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:U(l.KeybindActions.MENTION_CHANNEL_PREV,l.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:U(l.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:U(l.KeybindActions.MARK_SERVER_READ)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:U(l.KeybindActions.MARK_CHANNEL_READ)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_GUILD,binds:U(l.KeybindActions.CREATE_GUILD)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:U(l.KeybindActions.QUICKSWITCHER_SHOW)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_DM_GROUP,binds:U(l.KeybindActions.CREATE_DM_GROUP),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PINS,binds:U(l.KeybindActions.TOGGLE_CHANNEL_PINS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MENTIONS,binds:U(l.KeybindActions.TOGGLE_MENTIONS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_USERS,binds:U(l.KeybindActions.TOGGLE_USERS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:U(l.KeybindActions.SEARCH_EMOJIS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_GIFS,binds:U(l.KeybindActions.SEARCH_GIFS),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:U(l.KeybindActions.TOGGLE_MUTE)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:U(l.KeybindActions.TOGGLE_DEAFEN)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:U(l.KeybindActions.CALL_ACCEPT)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:U(l.KeybindActions.MARK_CHANNEL_READ)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:U(l.KeybindActions.CALL_START),groupEnd:!0},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:U(l.KeybindActions.SCROLL_UP,l.KeybindActions.SCROLL_DOWN)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:U(l.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:U(l.KeybindActions.TEXTAREA_FOCUS)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_UPLOAD_FILE,binds:U(l.KeybindActions.UPLOAD_FILE)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_HELP,binds:U(l.KeybindActions.TOGGLE_HELP)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH,binds:U(l.KeybindActions.FOCUS_SEARCH)},{description:i.default.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG,binds:["h+h+right+n+k"]}]};var o,a=n(6),i=(o=a)&&o.__esModule?o:{default:o},l=n(0),s=n(6636),u=n(6635),c=n(6634),d=n(6633),f=n(6632),p=n(6631),h=n(6478),m=n(6630),y=n(7187),v=n(7186),_=n(6629),g=n(7185),E=n(7184),I=n(6628),T=n(7183),S=n(6627),A=n(6625),C=n(7182),b=n(7181),M=n(7180),O=n(6623),N=n(6622),R=n(6621),P=n(7179),L=n(6688),w=n(6620),D=n(6619);function U(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=G[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var G=t.DEFAULT_LAYOUT=((r={})[l.KeybindActions.SERVER_NEXT]=s.SERVER_NEXT,r[l.KeybindActions.SERVER_PREV]=s.SERVER_PREV,r[l.KeybindActions.CHANNEL_NEXT]=u.CHANNEL_NEXT,r[l.KeybindActions.CHANNEL_PREV]=u.CHANNEL_PREV,r[l.KeybindActions.UNREAD_NEXT]=c.UNREAD_NEXT,r[l.KeybindActions.UNREAD_PREV]=c.UNREAD_PREV,r[l.KeybindActions.MENTION_CHANNEL_NEXT]=c.MENTION_NEXT,r[l.KeybindActions.MENTION_CHANNEL_PREV]=c.MENTION_PREV,r[l.KeybindActions.TOGGLE_PREVIOUS_GUILD]=u.TOGGLE_PREVIOUS_GUILD,r[l.KeybindActions.JUMP_TO_GUILD]=h.JUMP_TO_GUILD,r[l.KeybindActions.SUBMIT]=d.SUBMIT,r[l.KeybindActions.TEXTAREA_FOCUS]=f.TEXTAREA_FOCUS,r[l.KeybindActions.MARK_CHANNEL_READ]=p.MARK_CHANNEL_READ,r[l.KeybindActions.MARK_SERVER_READ]=m.MARK_SERVER_READ,r[l.KeybindActions.TOGGLE_CHANNEL_PINS]=y.TOGGLE_CHANNEL_PINS,r[l.KeybindActions.TOGGLE_MENTIONS]=v.TOGGLE_MENTIONS,r[l.KeybindActions.TOGGLE_USERS]=E.TOGGLE_USERS,r[l.KeybindActions.TOGGLE_HELP]=C.TOGGLE_HELP,r[l.KeybindActions.TOGGLE_MUTE]=O.TOGGLE_MUTE,r[l.KeybindActions.TOGGLE_DEAFEN]=O.TOGGLE_DEAFEN,r[l.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=D.TOGGLE_CATEGORY_COLLAPSED,r[l.KeybindActions.SCROLL_UP]=_.SCROLL_UP,r[l.KeybindActions.SCROLL_DOWN]=_.SCROLL_DOWN,r[l.KeybindActions.QUICKSWITCHER_SHOW]=L.QUICKSWITCHER_SHOW,r[l.KeybindActions.CREATE_DM_GROUP]=g.CREATE_DM_GROUP,r[l.KeybindActions.SEARCH_EMOJIS]=I.SEARCH_EMOJIS,r[l.KeybindActions.SEARCH_GIFS]=T.SEARCH_GIFS,r[l.KeybindActions.TOGGLE_HOTKEYS]=S.TOGGLE_HOTKEYS,r[l.KeybindActions.JUMP_TO_FIRST_UNREAD]=A.JUMP_TO_FIRST_UNREAD,r[l.KeybindActions.CREATE_GUILD]=b.CREATE_GUILD,r[l.KeybindActions.UPLOAD_FILE]=M.UPLOAD_FILE,r[l.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=N.RETURN_TO_AUDIO_CHANNEL,r[l.KeybindActions.CALL_ACCEPT]=R.CALL_ACCEPT,r[l.KeybindActions.CALL_START]=R.CALL_START,r[l.KeybindActions.FOCUS_SEARCH]=P.FOCUS_SEARCH,r[l.KeybindActions.ZOOM_IN]=w.ZOOM_IN,r[l.KeybindActions.ZOOM_OUT]=w.ZOOM_OUT,r[l.KeybindActions.ZOOM_RESET]=w.ZOOM_RESET,r);t.default=G},6189:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=n(75),s=p(l),u=p(n(952)),c=p(n(81)),d=p(n(42)),f=p(n(5835));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,d=Array(a),p=0;p<a;p++)d[p]=arguments[p];return n=r=h(this,e.call.apply(e,[this].concat(d))),r.renderBreadcrumb=function(e,t){var n,a,d=r.props,p=d.activeId,h=d.onBreadcrumbClick,m=d.breadcrumbs,y=d.renderCustomBreadcrumb,v=d.separatorClassName,_=e.id===p,g=t===m.length-1,E=y?y(e,_):o("span",{className:(0,i.default)(f.default.breadcrumb,(n={},n[f.default.activeBreadcrumb]=_,n[f.default.interactiveBreadcrumb]=null!=h,n))},void 0,e.label);return o("div",{className:(0,i.default)(f.default.breadcrumbWrapper,(a={},a[f.default.breadcrumbFinalWrapper]=g,a))},e.id,h?o(c.default,{tag:"span",onClick:function(){return r.handleClick(e)},className:f.default.breadcrumbClickWrapper},void 0,E):E,g?null:o(s.default,{className:(0,i.default)(f.default.breadcrumbArrow,v),name:l.IconNames.CARET,direction:u.default.Directions.RIGHT}))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClick=function(e){var t=this.props.onBreadcrumbClick;null!=t&&t(e)},t.prototype.render=function(){var e=this.props,t=e.breadcrumbs,n=e.className,r=t.map(this.renderBreadcrumb);return o(d.default,{justify:d.default.Justify.START,className:(0,i.default)(f.default.breadcrumbs,n)},void 0,r)},t}(a.PureComponent);m.displayName="Breadcrumbs",t.default=m,e.exports=t.default},6207:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(0),a=n(2),i=(r=a)&&r.__esModule?r:{default:r};t.default={setEnabled:function(e){this.update({enabled:e})},update:function(e){var t=Object.keys(e),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var l=a;i.default.dispatch({type:o.ActionTypes.STREAMER_MODE_UPDATE,key:l,value:e[l]})}}},e.exports=t.default},6331:function(e,t,n){"use strict";t.__esModule=!0,t.SearchContext=void 0;var r=c(n(3)),o=c(n(2)),a=c(n(61)),i=c(n(18)),l=c(n(13)),s=n(0),u=c(n(108));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=null,p=10;function h(e){null!=f&&(e=e.filter(function(e){return null!=e}),f.postMessage({type:s.UserSearchWorkerMessageTypes.UPDATE_USERS,payload:e}))}function m(e){if(null==e||a.default.isBlocked(e.id))return null;var t={id:e.id,username:e.username+"#"+e.discriminator};return e.bot&&(t.isBot=!0),a.default.isFriend(e.id)&&(t.isFriend=!0),t}function y(e,t,n){null!=e&&(e[t]=n||null)}function v(e,t){var n=[];return e.forEach(function(e){var r=m(e.user);y(r,t,e.nick),n.push(r)}),n}function _(e){var t=e.guildId,n=e.user,r=e.nick,o=m(n);return null!=o&&(y(o,t,r),h([o])),!1}function g(e){var t=e.channel.id,n=E(i.default.getChannel(t));if(0===n.length)return!1;var r=m(l.default.getCurrentUser());return y(r,t),n.push(r),h(n),!1}function E(e){var t=[];if(null==e||e.type!==s.ChannelTypes.DM&&e.type!==s.ChannelTypes.GROUP_DM)return t;var n=e.recipients;return(void 0===n?[]:n).forEach(function(n){var r=m(l.default.getUser(n));null!=e&&y(r,e.id),t.push(r)}),t}var I=t.SearchContext=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;d(this,e),this.handleMessages=function(e){var t=e.data;t&&t.type===s.UserSearchWorkerMessageTypes.USER_RESULTS&&t.uuid===n._uuid&&(!1!==n._currentQuery&&n._callback(t.payload),null!=n._currentQuery&&(n._currentQuery=null),n._setNextQuery())},this._uuid=u.default.v4(),this._callback=t,this._limit=r,this._currentQuery=null,this._nextQuery=null,this._subscribed=!1,this._subscribe()}return e.prototype._subscribe=function(){null==f||this._subscribed||(f.addEventListener("message",this.handleMessages,!1),this._subscribed=!0,this._setNextQuery())},e.prototype._unsubscribe=function(){null!=f&&this._subscribed&&(f.removeEventListener("message",this.handleMessages,!1),this._subscribed=!1)},e.prototype.destroy=function(){this._unsubscribe(),this.clearQuery()},e.prototype.clearQuery=function(){this._currentQuery=!1,this._nextQuery=null,null!=f&&this._subscribed&&f.postMessage({uuid:this._uuid,type:s.UserSearchWorkerMessageTypes.QUERY_CLEAR})},e.prototype.setQuery=function(e,t,n,r,o){null!=e&&(this._nextQuery={query:e,filters:t,blacklist:n,whitelist:r,boosters:o||{},limit:this._limit},this._setNextQuery())},e.prototype._setNextQuery=function(){!this._currentQuery&&this._nextQuery&&(null!=f&&this._subscribed?(this._currentQuery=this._nextQuery,this._nextQuery=null,f.postMessage({uuid:this._uuid,type:s.UserSearchWorkerMessageTypes.QUERY_SET,payload:this._currentQuery})):this._subscribed||this._subscribe())},e}(),T=function(e){function t(){return d(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(a.default,i.default,l.default)},t.prototype.getSearchContext=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return new I(e,t)},t}(r.default.Store);t.default=new T(o.default,{LOGOUT:function(e){null!=f&&(f.terminate(),f=null)},CONNECTION_OPEN:function(e){var t=e.user,r=e.guilds,o=e.channels,a=e.relationships;null!=f&&f.terminate(),f=new(n(6743));var l=m(t),u=[l];return r.forEach(function(e){u=u.concat(v(e.members,e.id))}),o.forEach(function(e){var t=e.id,n=i.default.getChannel(t);null==n||n.type!==s.ChannelTypes.DM&&n.type!==s.ChannelTypes.GROUP_DM||(y(l,n.id),u=u.concat(E(n)))}),a.forEach(function(e){var t=e.user;u.push(m(t))}),h(u),!1},OVERLAY_INITIALIZE:function(e){var t=e.users,r=e.guildMembers;null!=f&&f.terminate(),f=new(n(6743));var o=new Map,a=t,i=Array.isArray(a),l=0;for(a=i?a:a[Symbol.iterator]();;){var s;if(i){if(l>=a.length)break;s=a[l++]}else{if((l=a.next()).done)break;s=l.value}var u=s;o.set(u.id,m(u))}var c=Object.keys(r),d=Array.isArray(c),p=0;for(c=d?c:c[Symbol.iterator]();;){var v;if(d){if(p>=c.length)break;v=c[p++]}else{if((p=c.next()).done)break;v=p.value}var _=v,g=r[_];if(null!=g){var E=Object.keys(g),I=Array.isArray(E),T=0;for(E=I?E:E[Symbol.iterator]();;){var S;if(I){if(T>=E.length)break;S=E[T++]}else{if((T=E.next()).done)break;S=T.value}var A=S,C=o.get(A),b=g[A];null!=C&&null!=b&&null!=b.nick&&(y(C,_,b.nick),o.set(A,C))}}}return h(Array.from(o.values())),o.clear(),!1},CURRENT_USER_UPDATE:function(e){var t=m(e.user);return t&&h([t]),!1},GUILD_CREATE:function(e){var t=e.guild;return h(v(t.members,t.id)),!1},GUILD_MEMBERS_CHUNK:function(e){return h(v(e.members,e.guildId)),!1},GUILD_MEMBER_ADD:_,GUILD_MEMBER_UPDATE:_,RELATIONSHIP_ADD:function(e){return h([m(e.relationship.user)]),!1},CHANNEL_CREATE:g,CHANNEL_UPDATE:g,CHANNEL_RECIPIENT_ADD:function(e){var t=e.channelId,n=m(e.user);y(n,t),h([n])}})},6335:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=E(n(6)),s=E(n(9)),u=E(n(166)),c=E(n(6131)),d=E(n(7623)),f=E(n(71)),p=E(n(989)),h=E(n(926)),m=E(n(35)),y=E(n(146)),v=E(n(6336)),_=n(7621),g=E(n(5928));function E(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=I(this,e.call.apply(e,[this].concat(a))),r.state={report:!1},r.handleDelete=function(){var e=r.state.report,t=r.props,n=t.channel,o=t.message;e?m.default.push(d.default,{channel:n,message:o,onReport:function(){y.default.deleteMessage(n.id,o.id)}}):y.default.deleteMessage(n.id,o.id)},r.handleToggleReport=function(e){r.setState({report:e.currentTarget.checked})},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state.report,t=this.props,n=t.channel,r=t.message,s=t.showContextMenuHint,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["channel","message","showContextMenuHint"]),m=void 0;s&&(m=a(p.default,{className:g.default.spacingTop},void 0,l.default.Messages.DELETE_MESSAGE_CONTEXT_MENU_HINT.format()));var y=void 0;return(0,_.canReportMessage)(r)&&(y=a(h.default,{value:e,onChange:this.handleToggleReport,hideBorder:!0,className:g.default.spacingTop},void 0,l.default.Messages.DELETE_MESSAGE_REPORT)),i.createElement(u.default,o({header:l.default.Messages.DELETE_MESSAGE_TITLE,confirmText:l.default.Messages.DELETE,cancelText:l.default.Messages.CANCEL,onConfirm:this.handleDelete},d),a(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY,className:g.default.spacing},void 0,l.default.Messages.DELETE_MESSAGE_BODY),a("div",{className:g.default.message},void 0,a(c.default,{channel:n,messages:[r],enableInteraction:!1})),y,m)},t}(i.PureComponent);T.displayName="DeleteModal",t.default={confirmPin:function(e,t){m.default.push(function(n){var r=void 0;return r=e.isPrivate()?l.default.Messages.PIN_MESSAGE_BODY_PRIVATE_CHANNEL:l.default.Messages.PIN_MESSAGE_BODY.format({channelName:e.toString()}),i.createElement(u.default,o({red:!1,header:l.default.Messages.PIN_MESSAGE_TITLE,confirmText:l.default.Messages.PIN_CONFIRM,cancelText:l.default.Messages.CANCEL,onConfirm:function(){return v.default.pinMessage(e,t.id)}},n),a(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY,className:g.default.spacing},void 0,r),a("div",{className:g.default.message},void 0,a(c.default,{channel:e,messages:[t],enableInteraction:!1})))})},confirmUnpin:function(e,t){m.default.push(function(n){return i.createElement(u.default,o({header:l.default.Messages.UNPIN_MESSAGE_TITLE,confirmText:l.default.Messages.UNPIN_CONFIRM,cancelText:l.default.Messages.CANCEL,onConfirm:function(){return v.default.unpinMessage(e,t.id)}},n),a(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY,className:g.default.spacing},void 0,l.default.Messages.UNPIN_MESSAGE_BODY),a("div",{className:(0,s.default)(g.default.message,g.default.spacing)},void 0,a(c.default,{channel:e,messages:[t],enableInteraction:!1})),a(p.default,{},void 0,l.default.Messages.UNPIN_MESSAGE_CONTEXT_MENU_HINT.format()))})},confirmDelete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];m.default.push(function(r){return i.createElement(T,o({channel:e,message:t,showContextMenuHint:n},r))})}},e.exports=t.default},6336:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(2)),o=u(n(6745)),a=u(n(12)),i=u(n(6)),l=u(n(233)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var c={pinMessage:function(e,t){var n=e.id,r=e.name;a.default.put({url:s.Endpoints.PIN(n,t)}).catch(function(){var t=void 0;t=e.isPrivate()?i.default.Messages.PIN_MESSAGE_TOO_MANY_BODY_PRIVATE_CHANNEL.format({maxPins:s.MAX_PINS_PER_CHANNEL}):i.default.Messages.PIN_MESSAGE_TOO_MANY_BODY.format({maxPins:s.MAX_PINS_PER_CHANNEL,channelName:r}),l.default.show({title:i.default.Messages.PIN_MESSAGE_TOO_MANY_TITLE,body:t,confirmText:i.default.Messages.OKAY})})},unpinMessage:function(e,t){a.default.delete({url:s.Endpoints.PIN(e.id,t)}).catch(function(){return l.default.show({title:i.default.Messages.UNPIN_MESSAGE_FAILED_TITLE,body:i.default.Messages.UNPIN_MESSAGE_FAILED_BODY,confirmText:i.default.Messages.TRY_AGAIN,cancelText:i.default.Messages.CANCEL,onConfirm:c.unpinMessage.bind(c,e,t)})})},ackPins:function(e){r.default.dirtyDispatch({type:s.ActionTypes.CHANNEL_PINS_ACK,channelId:e})},fetchPins:function(e){var t=o.default.getPinnedMessages(e);t&&(t.loaded||t.loading)||(r.default.dirtyDispatch({type:s.ActionTypes.LOAD_PINNED_MESSAGES,channelId:e}),a.default.get({url:s.Endpoints.PINS(e),retries:2}).then(function(t){r.default.dispatch({type:s.ActionTypes.LOAD_PINNED_MESSAGES_SUCCESS,messages:t.body,channelId:e})},function(){r.default.dispatch({type:s.ActionTypes.LOAD_PINNED_MESSAGES_FAILURE,channelId:e})}))}};t.default=c,e.exports=t.default},6337:function(e,t,n){"use strict";t.__esModule=!0,t.OperatingSystemSection=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=h;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var i=f(n(9)),l=f(n(75)),s=f(n(94)),u=f(n(6)),c=n(0),d=f(n(5936));function f(e){return e&&e.__esModule?e:{default:e}}var p=((o={})[c.OperatingSystems.WINDOWS]={iconName:l.default.Names.OS_WINDOWS,label:u.default.Messages.WINDOWS},o[c.OperatingSystems.MACOS]={iconName:l.default.Names.OS_MAC,label:u.default.Messages.MACOS},o[c.OperatingSystems.LINUX]={iconName:l.default.Names.OS_LINUX,label:u.default.Messages.LINUX},o);function h(e){var t=e.operatingSystem,n=e.className,r=p[t];if(null==r)throw new Error("Unexpected operating system: "+t);return a(s.default,{text:r.label,className:n},void 0,a(l.default,{name:r.iconName}))}h.displayName="OperatingSystemIcon",(t.OperatingSystemSection=function(e){var t=e.systems,n=e.className,r=e.iconClassName;return a("div",{className:(0,i.default)(d.default.OSSection,n)},void 0,t.map(function(e){return a(h,{operatingSystem:e,className:(0,i.default)(d.default.purchaseUnitOperatingSystem,r)},e)}))}).displayName="OperatingSystemSection"},6338:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=n(56);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=r=i(this,e.call.apply(e,[this].concat(l))),r.timer=new a.Interval,r.state={hovered:!1},r.handlePause=function(){r.state.hovered||r.setState({hovered:!0})},r.handleResume=function(){r.setState({hovered:!1})},i(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e){return e.disable?{hovered:!1}:null},t.prototype.componentDidMount=function(){var e=this.props,t=e.pauseOnHover,n=e.disable,r=this.state.hovered&&t;n||r||this.startTimer()},t.prototype.componentWillUnmount=function(){this.stopTimer()},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=function(e,t){return!(e.disable||t.hovered&&e.pauseOnHover)},o=r(n,this.state),a=r(e,t);o&&!a||e.interval!==n.interval?this.startTimer():!o&&a&&this.stopTimer()},t.prototype.startTimer=function(){var e=this.props,t=e.interval,n=e.onInterval;e.disable||this.timer.start(t,function(){n()})},t.prototype.stopTimer=function(){this.timer.stop()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=e.disable?null:{onMouseEnter:this.handlePause,onFocus:this.handlePause,onMouseLeave:this.handleResume,onBlur:this.handleResume};return o.createElement("div",r({},a,{className:n}),t)},t}(o.Component);l.defaultProps={disable:!1,pauseOnHover:!1},l.displayName="IntervalWrapper",t.default=l,e.exports=t.default},6339:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=i(n(3)),a=i(n(2));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={matureAgree:!1,muted:!0};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"didMatureAgree",get:function(){return l.matureAgree}},{key:"isDirectoryMuted",get:function(){return l.muted}}]),t}(o.default.Store);t.default=new s(a.default,{APPLICATION_STORE_MATURE_AGREE:function(e){l.matureAgree=!0},APPLICATION_STORE_DIRECTORY_MUTE:function(e){l.muted=!0},APPLICATION_STORE_DIRECTORY_UNMUTE:function(e){l.muted=!1}}),e.exports=t.default},6340:function(e,t,n){"use strict";function r(e){return null!=e.requestFullscreen||null!=e.webkitRequestFullscreen||e.webkitSupportsFullscreen||null!=e.mozRequestFullScreen||null!=e.msRequestFullscreen}t.__esModule=!0,t.getFullScreenNode=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(function(e){return null!=e&&r(e)})},t.supportsFullScreen=r,t.requestFullScreen=function(e,t){if("function"==typeof e.requestFullscreen)e.requestFullscreen();else if("function"==typeof e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if("function"==typeof e.webkitEnterFullscreen)e.webkitEnterFullscreen();else if("function"==typeof e.mozRequestFullScreen)e.mozRequestFullScreen();else{if("function"!=typeof e.msRequestFullscreen)return void console.warn("Fullscreen API is not supported.");e.msRequestFullscreen()}null!=t&&t()},t.exitFullScreen=function(e,t){if("function"==typeof document.exitFullscreen)document.exitFullscreen();else if("function"==typeof document.webkitExitFullscreen)document.webkitExitFullscreen();else if("function"==typeof e.webkitExitFullscreen)e.webkitExitFullscreen();else if("function"==typeof document.mozCancelFullScreen)document.mozCancelFullScreen();else{if("function"!=typeof document.msExitFullscreen)return void console.warn("Fullscreen API is not supported.");document.msExitFullscreen()}null!=t&&t()},t.isFullScreen=function(e){return null!=document.fullscreenElement||null!=document.mozFullScreenElement||null!=document.webkitFullscreenElement||null!=document.msFullscreenElement||null!=e&&e.webkitDisplayingFullscreen};var o;t.FULLSCREEN_CHANGE_EVENT="function"==typeof(o=document.createElement("video")).requestFullscreen?"fullscreenchange":"function"==typeof o.webkitRequestFullscreen?"webkitfullscreenchange":"function"==typeof o.webkitEnterFullscreen?"webkitendfullscreen":"function"==typeof o.mozRequestFullScreen?"mozfullscreenchange":"function"==typeof o.msRequestFullscreen?"msfullscreenchange":"fullscreenchange"},6341:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=c(n(6)),i=c(n(961)),l=n(6096),s=c(n(6500)),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,c=e.className,d=e.mediaPlayerClassName,f=e.poster,p=e.fileName,h=e.naturalWidth,m=e.naturalHeight,y=e.playable,v=e.volume,_=e.autoPlay,g=e.autoMute,E=e.mediaPlayerRef,I=e.onPlay,T=e.onEnded,S=e.onVolumeChange,A=e.onMute,C=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["src","fileSize","className","mediaPlayerClassName","poster","fileName","naturalWidth","naturalHeight","playable","volume","autoPlay","autoMute","mediaPlayerRef","onPlay","onEnded","onVolumeChange","onMute"]);return o.createElement(i.default,r({alt:a.default.Messages.VIDEO,className:c,src:f},C,{minWidth:s.default.minWidth,shouldLink:!1,shouldAnimate:!1}),function(e){var r=e.src,a=e.size,i=a.width,c=a.height,f=!(h<=u.MAX_VIDEO_WIDTH&&m<=u.MAX_VIDEO_HEIGHT||h<=u.MAX_VIDEO_HEIGHT&&m<=u.MAX_VIDEO_WIDTH);return o.createElement(s.default,{className:d,forceExternal:f,src:t,poster:r,width:i,height:c,volume:v,autoPlay:_||!1,autoMute:g||!1,type:s.default.Types.VIDEO,fileName:p,fileSize:(0,l.sizeString)(n),playable:y,ref:E,onPlay:I,onEnd:T,onVolumeChange:S,onMute:A})})},t}(o.Component);d.displayName="LazyVideo",t.default=d,e.exports=t.default},6342:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(7)),o=s(n(3)),a=s(n(2)),i=s(n(18)),l=s(n(287));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=2500,c={};function d(e){var t=e.channelId,n=e.draft;return n?c[t]={timestamp:Date.now(),draft:function(e){return e.length>u&&(e=e.substr(0,u)),e}(n)}:delete c[t],!1}function f(){if(!(l.default.totalUnavailableGuilds>0))for(var e in c)null==i.default.getChannel(e)&&delete c[e]}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){c=e||{},this.waitFor(i.default,l.default)},t.prototype.getState=function(){return c},t.prototype.getRecentlyEditedDrafts=function(){return(0,r.default)(c).toPairs().map(function(e){var t=e[0],n=e[1];return{channelId:t,timestamp:n.timestamp,draft:n.draft}}).sortBy(function(e){return-e.timestamp}).value()},t.prototype.getDraft=function(e){var t=c[e];return null==t?"":t.draft},t}(o.default.PersistedStore);p.persistKey="DraftStore",t.default=new p(a.default,{CONNECTION_OPEN:function(e){return f(),!1},GUILD_DELETE:function(e){return f(),!1},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=c[t]&&delete c[t],!1},DRAFT_SAVE:function(e){d(e)},DRAFT_CHANGE:d}),e.exports=t.default},6343:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.trackSearchStart=y,t.trackSearchResultViewed=v,t.search=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];""===e?E():(l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY,query:e}),n?_(e,t):g(e,t))},t.fetchSuggestions=function(e){if(""===e||null==e)return;i.default.get({url:p.Endpoints.GIFS_SUGGEST,query:{q:e,provider:p.GIFProviders.TENOR,limit:5,locale:f.default.locale}}).then(function(t){var n=t.body;l.default.dispatch({type:p.ActionTypes.GIF_PICKER_SUGGESTIONS_SUCCESS,query:e,items:n})})},t.resetSearch=E,t.trackSelectGIF=function(e){var t=e.type,n=e.index,o=e.offset,a=e.limit,l=e.results,u=e.totalResults,f=e.query,h=e.gifId,m=(0,c.calculateAnalyticsMetadata)(d.default.getAnalyticsID(),t,{offset:o,limit:a,results:l,totalResults:u});s.default.trackWithMetadata(p.AnalyticEvents.SEARCH_RESULT_SELECTED,r({},m,{index_num:n,source_object:"GIF Picker"})),null!=h&&i.default.post({url:p.Endpoints.GIFS_SELECT,body:{id:h,q:f}})},t.initializeSearch=function(){var e=a.default.v4().replace(m,"");s.default.trackWithMetadata(p.AnalyticEvents.SEARCH_OPENED,{search_type:p.SearchTypes.GIF,load_id:e}),l.default.dispatch({type:p.ActionTypes.GIF_PICKER_INITIALIZE,analyticsID:e})},t.fetchTrending=function(){i.default.get({url:p.Endpoints.GIFS_TRENDING,query:{provider:p.GIFProviders.TENOR,locale:f.default.locale}}).then(function(e){var t=e.body,n=t.categories,r=t.gifs;l.default.dispatch({type:p.ActionTypes.GIF_PICKER_TRENDING_FETCH_SUCCESS,trendingCategories:n,trendingGIFPreview:r[0]})})},t.fetchTrendingGIFs=function(){var e=Date.now();y(p.GIFPickerResultTypes.TRENDING_GIFS),i.default.get({url:p.Endpoints.GIFS_TRENDING_GIFS,query:{media_format:d.default.getSelectedFormat(),provider:p.GIFProviders.TENOR,locale:f.default.locale}}).then(function(t){var n=t.body;v(n,p.GIFPickerResultTypes.TRENDING_GIFS,{startTime:e}),l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY_SUCCESS,items:n})},function(){l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY_FAILURE})})},t.addFavoriteGIF=function(e){l.default.dispatch({type:p.ActionTypes.GIF_FAVORITE_ADD,gif:e}),u.default.track(p.AnalyticEvents.GIF_FAVORITED)},t.removeFavoriteGIF=function(e){l.default.dispatch({type:p.ActionTypes.GIF_FAVORITE_REMOVE,url:e}),u.default.track(p.AnalyticEvents.GIF_UNFAVORITED)};var o=h(n(7)),a=h(n(108)),i=h(n(12)),l=h(n(2)),s=h(n(190)),u=h(n(17)),c=n(7683),d=h(n(6503)),f=h(n(28)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var m=/-/g;function y(e){var t,n=null!=e?((t={})[e]=1,t):{};s.default.trackWithMetadata(p.AnalyticEvents.SEARCH_STARTED,{search_type:p.SearchTypes.GIF,load_id:d.default.getAnalyticsID(),num_modifiers:Object.keys(n).length,modifiers:n})}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.startTime,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["startTime"]),i={offset:0,limit:null,totalResults:e.length},l=(0,c.calculateAnalyticsMetadata)(d.default.getAnalyticsID(),t,r({},i,a,{results:e})),u=null==o?{}:{load_duration_ms:Date.now()-o};s.default.trackWithMetadata(p.AnalyticEvents.SEARCH_RESULT_VIEWED,r({},l,u))}function _(e,t){var n=Date.now();y(t),i.default.get({url:p.Endpoints.GIFS_SEARCH,query:{q:e,media_format:d.default.getSelectedFormat(),provider:p.GIFProviders.TENOR,locale:f.default.locale}}).then(function(r){var o=r.body;v(o,t,{startTime:n}),l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY_SUCCESS,query:e,items:o})},function(){return l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY_FAILURE,query:e})})}var g=o.default.debounce(_,250);function E(){l.default.dispatch({type:p.ActionTypes.GIF_PICKER_QUERY,query:""})}},6344:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(t){return function(n){function l(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=i(this,n.call.apply(n,[this].concat(o))),e=t,t._subscriptions=null,t.handleSetRef=function(e){t._ref=e},i(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,n),l.prototype.componentDidMount=function(){for(var t in this._subscriptions=e(this.props,this._ref),this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(t)&&a.ComponentDispatch.subscribe(t,this._subscriptions[t])},l.prototype.componentWillUnmount=function(){for(var e in this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(e)&&a.ComponentDispatch.unsubscribe(e,this._subscriptions[e])},l.prototype.render=function(){return o.createElement(t,r({ref:this.handleSetRef},this.props))},l}(o.Component)}};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=n(116);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},6363:function(e,t,n){"use strict";t.__esModule=!0,t.ack=c,t.ackCategory=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=a.default.getChannel(e);if(null==r||null==r.guild_id)return;var o=i.default.getCategories(r.guild_id);if(null==o[e])return;o[e].filter(function(e){var t=e.channel;return t.type===s.ChannelTypes.GUILD_TEXT}).forEach(function(e){var r=e.channel;l.default.hasUnread(r.id)&&c(r.id,t,n)})},t.localAck=function(e){r.default.dispatch({type:s.ActionTypes.CHANNEL_LOCAL_ACK,channelId:e})},t.manualAck=function(e,t){o.default.post({url:s.Endpoints.MESSAGES(e)+"/"+t+"/ack",body:{manual:!0}})};var r=u(n(2)),o=u(n(12)),a=u(n(18)),i=u(n(943)),l=u(n(375)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.default.dispatch({type:s.ActionTypes.CHANNEL_ACK,channelId:e,immediate:t,force:n,context:s.CURRENT_APP_CONTEXT})}},6364:function(e,t,n){"use strict";t.__esModule=!0,t.categoryCollapse=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_COLLAPSE,id:e})},t.categoryExpand=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_EXPAND,id:e})},t.categoryCollapseAll=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_COLLAPSE_ALL,guildId:e})},t.categoryExpandAll=function(e){a.default.dispatch({type:i.ActionTypes.CATEGORY_EXPAND_ALL,guildId:e})};var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},6365:function(e,t,n){"use strict";t.__esModule=!0,t.SearchIcon=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=p(n(9)),s=p(n(6)),u=p(n(81)),c=p(n(42)),d=p(n(144)),f=p(n(5996));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=t.SearchIcon=function(e){var t,n,r,o=e.onClear,i=e.className,s=e.hasContent,c=e.isLoading;return a(u.default,{className:(0,l.default)(f.default.searchBarIcon,(t={},t[f.default.loading]=c,t),i),onClick:o},void 0,c&&a(d.default,{type:d.default.Type.SPINNING_CIRCLE,className:(0,l.default)(f.default.icon,f.default.spinner)}),a("div",{className:f.default.controls},void 0,a("i",{className:(0,l.default)(f.default.icon,f.default.eyeGlass,(n={},n[f.default.visible]=!s,n))}),a("i",{className:(0,l.default)(f.default.icon,f.default.clear,(r={},r[f.default.visible]=s,r))})))};m.displayName="SearchIcon";var y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.inputRef=i.createRef(),r.handleOnChange=function(e){var t=r.props.onChange;t&&t(e.currentTarget.value)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.focus=function(){var e=this.inputRef.current;null!=e&&e.focus()},t.prototype.render=function(){var e=this.props,t=e.query,n=e.autoFocus,r=e.onClear,s=e.className,u=e.placeholder,d=e.iconClassName,p=e.onKeyDown,h=e.onKeyUp,y=e.onKeyPress,v=e.isLoading,_=(e.onChange,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["query","autoFocus","onClear","className","placeholder","iconClassName","onKeyDown","onKeyUp","onKeyPress","isLoading","onChange"]));return i.createElement(c.default,o({className:(0,l.default)(f.default.searchBar,s)},_),i.createElement("input",{className:f.default.input,value:t,onChange:this.handleOnChange,onKeyDown:p,onKeyUp:h,onKeyPress:y,placeholder:u,autoFocus:n,ref:this.inputRef}),a(m,{hasContent:t.length>0,onClear:r,className:d,isLoading:v}))},t}(i.PureComponent);y.defaultProps={placeholder:s.default.Messages.SEARCH,isLoading:!1},y.displayName="SearchBar",t.default=y},6367:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(9)),l=y(n(370)),s=y(n(35)),u=y(n(17)),c=y(n(546)),d=y(n(81)),f=y(n(6)),p=y(n(5582)),h=y(n(6010)),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var v=function(){return o("div",{className:h.default.premiumPromo},void 0,o(d.default,{onClick:function(){u.default.track(m.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:m.AnalyticsSections.FILE_UPLOAD_POPOUT}),s.default.pop(),l.default.open(m.UserSettingsSections.PREMIUM)},className:h.default.content},void 0,f.default.Messages.PREMIUM_UPLOAD_PROMO.format({maxUploadPremium:f.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM}),o("img",{alt:"",className:h.default.navArrow,src:n(8047)})))};v.displayName="PremiumPromo";var _=o(v,{}),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.promo;return o("div",{className:p.default.uploadModalIn},void 0,o("div",{className:(0,i.default)(p.default.uploadDropModal,p.default.error)},void 0,o("div",{className:p.default.inner},void 0,o("div",{className:p.default.icons},void 0,o("div",{className:p.default.wrapOne},void 0,o("div",{className:(0,i.default)(p.default.icon,p.default.one)})),o("div",{className:p.default.wrapThree},void 0,o("div",{className:(0,i.default)(p.default.icon,p.default.three)})),o("div",{className:p.default.wrapTwo},void 0,o("div",{className:(0,i.default)(p.default.icon,p.default.two)}))),o("div",{className:p.default.title},void 0,this.props.title),o("div",{className:p.default.instructions},void 0,this.props.help),e?_:null)))},t}(a.Component);g.modalConfig={backdropStyle:c.default.Styles.DARK,backdropInstant:!0},g.displayName="UploadError",t.default=g,e.exports=t.default},6369:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(59)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.code=e.code||"",this.temporary=e.temporary||!1,this.revoked=e.revoked||!1,this.uses=e.uses||0,this.maxUses=e.maxUses||0,this.maxAge=e.maxAge||0,this.createdAt=e.createdAt||new Date,this.channel=e.channel,this.guild=e.guild,this.inviter=e.inviter||null},t.prototype.isExpired=function(){var e=this.maxAge;if(e>0&&(0,o.default)(this.createdAt).add(e,"seconds").isBefore(Date.now()))return!0;return!1},t.prototype.getExpiresAt=function(){return this.maxAge>0?(0,o.default)(this.createdAt).add(this.maxAge,"seconds").toDate():1/0},t.prototype.toString=function(){return this.code},t}(r.default);t.default=i,e.exports=t.default},6440:function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(3)),o=c(n(2)),a=c(n(62)),i=c(n(28)),l=c(n(6691)),s=c(n(24)),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var d="seenQSTutorial",f=void 0,p=0,h=!1,m=!1;function y(){null!=f&&(f.destroy(),f=null)}var v=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(a.default),this.syncWith([i.default],function(){return!0}),h=s.default.get(d)||!1},t.prototype.isOpen=function(){return null!=f},t.prototype.getResultTotals=function(e){return null==f?0:null==e?f.results.reduce(function(e,t){return t.type!==u.AutocompleterResultTypes.HEADER?e+1:e},0):f.results.reduce(function(t,n){return n.type===e?t+1:t},0)},t.prototype.channelNoticePredicate=function(e,t,n){var r=Date.now()-n>=u.CHANNEL_NOTICE_SHOW_DELAY;return m&&e&&r},t.prototype.getFrequentGuilds=function(){return null!=f?f.queryGuilds("",50):null},t.prototype.getProps=function(){return{theme:i.default.theme,query:null!=f?f.query:"",queryMode:null!=f?f.queryMode:null,results:null!=f?f.results:[],selectedIndex:p,seenTutorial:h}},t}(r.default.Store))(o.default,{CONNECTION_OPEN:function(e){var t=e.guilds,n=e.channels;m=t.length>=3||n.filter(function(e){var t=e.type;return t===u.ChannelTypes.DM||t===u.ChannelTypes.GROUP_DM}).length>=20},QUICKSWITCHER_SHOW:function(e){f=f||new l.default(function(){return v.emitChange()}),p=f.search(e.query,e.options)},QUICKSWITCHER_HIDE:function(e){return y()},OVERLAY_SET_INPUT_LOCKED:function(e){return y()},QUICKSWITCHER_SEARCH:function(e){var t=e.query,n=e.options;null!=f&&(p=f.search(t,n))},QUICKSWITCHER_SELECT:function(e){p=e.selectedIndex},QUICKSWITCHER_SWITCH_TO:function(e){return function(){if(h)return!1;h=!0,s.default.set(d,!0)}()}});t.default=v,e.exports=t.default},6478:function(e,t,n){"use strict";t.__esModule=!0,t.JUMP_TO_GUILD=void 0;var r=n(0),o=s(n(386)),a=s(n(65)),i=s(n(187)),l=s(n(41));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.JUMP_TO_GUILD={binds:function(){for(var e=[],t=1;t<10;t++)e.push("mod+"+t);return e}(),global:!0,action:function(e,t){var n=parseInt(t.split("+")[1],10);if(0===n&&(n=10),n){var s=void 0;if(s=1===n?r.ME:o.default.guildPositions[n-2]){var u=a.default.getChannelId(s);return s===r.ME&&null==i.default.getGuildId()&&(u=null),l.default.transitionTo(u?r.Routes.CHANNEL(s,u):r.Routes.GUILD(s)),!1}}}};t.default={JUMP_TO_GUILD:u}},6492:function(e,t,n){"use strict";t.__esModule=!0,t.hexWithOpacity=function(e,t){var n=Math.round(255*t).toString(16).toUpperCase();return(""+e+n).padEnd(9,"0")},t.hexToRgb=function(e){"#"===e[0]&&(e=e.slice(1));var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}}},6493:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=x(n(1)),s=F(n(3)),u=F(n(9)),c=F(n(7)),d=F(n(528)),f=F(n(117)),p=F(n(42)),h=F(n(81)),m=F(n(530)),y=F(n(227)),v=F(n(71)),_=F(n(144)),g=F(n(94)),E=F(n(934)),I=F(n(929)),T=F(n(75)),S=F(n(1010)),A=F(n(62)),C=F(n(18)),b=F(n(274)),M=F(n(13)),O=F(n(28)),N=x(n(544)),R=n(32),P=F(n(199)),L=F(n(88)),w=F(n(83)),D=F(n(238)),U=n(0),G=F(n(5927)),k=F(n(510));function F(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V=function(e){function t(){return j(this,t),H(this,e.apply(this,arguments))}return B(t,e),t.prototype.render=function(){var e,t=this.props,n=t.emoji,r=t.count,o=t.selected,a=t.setSelected,l=null==n.id?P.default.getURL(n.name):L.default.getEmojiURL({id:n.id,animated:n.animated}),s=void 0;s=null==n.id?D.default.convertSurrogateToName(n.name):":"+n.name+":";var c=l?i("img",{className:G.default.emoji,src:l,alt:n.name}):i("span",{className:(0,u.default)(G.default.emoji,G.default.emojiText)},void 0,n.name);return i(g.default,{position:g.default.Positions.LEFT,text:s},void 0,i(h.default,{className:(0,u.default)((e={},e[G.default.reactionDefault]=!o,e[G.default.reactionSelected]=o,e)),onClick:a},void 0,c,i(v.default,{color:v.default.Colors.PRIMARY,className:G.default.count},void 0,r)))},t}(l.PureComponent);V.displayName="Reaction";var K=function(e){function t(n){j(this,t);var r=H(this,e.call(this,n));return r.renderUserContextMenu=r.renderUserContextMenu.bind(r),r.removeReaction=r.removeReaction.bind(r),r}return B(t,e),t.prototype.removeReaction=function(){var e=this.props,t=e.emoji,n=e.user,r=e.message,o=e.channel;N.removeReaction(o.id,r.id,t,n.id)},t.prototype.renderUserContextMenu=function(e){var t=this;(0,R.openContextMenu)(e,function(e){return l.createElement(I.default,a({},e,{type:U.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id}))})},t.prototype.render=function(){var e,t=this.props,n=t.user,r=t.guildId,o=t.channel,a=t.final,l=w.default.can(U.Permissions.MANAGE_MESSAGES,M.default.getCurrentUser(),o)?i(h.default,{onClick:this.removeReaction},void 0,i(T.default,{name:T.default.Names.CLOSE,width:16,height:16,className:G.default.remove})):null,s=null!=r&&A.default.getNick(r,n.id);return i(p.default,{className:(0,u.default)((e={},e[G.default.reactorDefault]=!a,e[G.default.reactorFinal]=a,e)),onContextMenu:this.renderUserContextMenu,align:p.default.Align.CENTER},void 0,i(p.default.Child,{wrap:!0,grow:0,shrink:0,className:k.default.marginReset},void 0,i(E.default,{user:n,size:"xsmall"})),i(p.default.Child,{},void 0,i(v.default,{color:v.default.Colors.PRIMARY,className:G.default.name},void 0,s&&i("span",{className:G.default.nickname},void 0,s),i(d.default,{user:n,className:s?G.default.tagFaded:G.default.tag,discriminatorClass:G.default.discriminator}))),l)},t}(l.PureComponent);K.displayName="Reactor";var Y=s.default.connectStores([S.default],function(e){var t=e.message,n=e.reaction,r=S.default.getReactions(t.getChannelId(),t.id,n.emoji);return{hasMore:n.count>Object.keys(r).length,reactors:Object.values(r)}})(function(e){function t(n){j(this,t);var r=H(this,e.call(this,n));return r.handleScroll=r.handleScroll.bind(r),r.state={lastId:null,loadingMore:!1},r}return B(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.loadMore()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;c.default.isEqual(this.props.reaction,e.reaction)||this.setState({lastId:null,loadingMore:!1},function(){return t.loadMore()})},t.prototype.handleScroll=function(){var e=this.refs.SCROLLER_REF.getScrollerNode();e.scrollTop+e.offsetHeight>=e.scrollHeight-44&&this.props.hasMore&&!this.state.loadingMore&&this.loadMore()},t.prototype.loadMore=function(){var e=this,t=this.props,n=t.message,r=t.reaction,o=this.state.lastId;this.setState({loadingMore:!0}),N.getReactions(n.getChannelId(),n.id,r.emoji,o).then(function(t){return e.setState({loadingMore:!1,lastId:t[t.length-1].id})})},t.prototype.render=function(){var e=this.props,t=e.message,n=e.guildId,r=e.channel,o=e.reaction,a=e.hasMore,s=e.reactors,u=s.map(function(e,a){return i(K,{message:t,emoji:o.emoji,guildId:n,channel:r,user:e,final:a===s.length-1},e.id)});return!u.length&&this.state.loadingMore?u.push(i(_.default,{className:G.default.spinner},"loadingMore")):a&&u.push(i(_.default,{className:G.default.spinnerMore},"hasMore")),l.createElement(m.default,{outerClassName:G.default.reactors,className:"scroller",fade:!0,theme:m.default.Themes.GHOST_HAIRLINE,ref:"SCROLLER_REF",onScroll:a?this.handleScroll:void 0,elementHeight:44,batchEndMultiplier:2},u)},t}(l.PureComponent)),W=i(_.default,{}),z=function(e){function t(n){j(this,t);var r=H(this,e.call(this,n)),o=r.props.reactions;return r.state={selectedReaction:o[0]},r}return B(t,e),t.prototype.UNSAFE_componentWillUpdate=function(e){var t=this.props,n=t.reactions,o=t.onClose;n.length!==e.reactions.length&&0===e.reactions.length&&r(o)},t.prototype.setSelectedReaction=function(e){this.setState({selectedReaction:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.message,r=t.reactions,o=this.state.selectedReaction;if(!o)return W;var s=C.default.getChannel(n.getChannelId());if(null==s)throw new Error("MessageReactions.render: Message does not have a channelId");var u=null==s||s.isPrivate()?null:s.getGuildId(),d=r.map(function(e,t){return a({},e,{pos:t})}).sort(function(e,t){return e.count!==t.count?t.count-e.count:e.pos-t.pos}).map(function(t){return l.createElement(V,a({key:(t.emoji.id||"")+":"+t.emoji.name,selected:c.default.isEqual(o.emoji,t.emoji),setSelected:function(){return e.setSelectedReaction(t)}},t))});return i(f.default,{size:G.default.size,className:G.default.container},void 0,i(y.default,{outerClassName:G.default.sidebar,className:G.default.scroller,theme:y.default.Themes.GHOST_HAIRLINE,fade:!0},void 0,d),i(Y,{message:n,reaction:o,guildId:u,channel:s},(o.emoji.id||"")+":"+o.emoji.name))},t}(l.PureComponent);z.displayName="MessageReactions",t.default=s.default.connectStores([b.default,O.default],function(e){var t=e.message,n=b.default.getMessage(t.getChannelId(),t.id),r=null!=n?n.reactions:[];return{theme:O.default.theme,reactions:r}})(z),e.exports=t.default}).call(this,n(36).setImmediate)},6494:function(e,t,n){"use strict";t.__esModule=!0,t.ResponsiveLoadingEmbedTile=t.ResponsiveEmbedTile=t.HORIZONTAL_EMBED_BREAKPOINT=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),s=c(n(6747)),u=c(n(5933));function c(e){return e&&e.__esModule?e:{default:e}}t.HORIZONTAL_EMBED_BREAKPOINT=660;var d=t.ResponsiveEmbedTile=function(e){var t;return i.createElement(s.default,a({},e,{className:(0,l.default)(e.className,(t={},t[u.default.embedVertical]=!e.isHorizontal,t[u.default.embedHorizontal]=e.isHorizontal,t))}))};d.displayName="ResponsiveEmbedTile",(t.ResponsiveLoadingEmbedTile=function(e){var t=e.isHorizontal;return i.createElement(d,a({},e,{media:function(){var e;return o("div",{className:(0,l.default)(u.default.loadingDescription)},void 0,o("div",{className:(0,l.default)(u.default.loadingBackgroundWrapper,(e={},e[u.default.loadingBackgroundWrapperHorizontal]=t,e))},void 0,o("div",{className:u.default.loadingBackground})))},title:function(){var e;return o("div",{className:(0,l.default)(u.default.loadingImage,(e={},e[u.default.loadingImageHorizontal]=t,e))})}}))}).displayName="ResponsiveLoadingEmbedTile"},6495:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(9))),i=s(n(6)),l=s(n(5938));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.className;return o("div",{className:(0,a.default)(l.default.tag,t)},void 0,o("span",{className:l.default.text},void 0,i.default.Messages.APPLICATION_STORE_THE_GAME_AWARDS_WINNER))};u.displayName="TheGameAwardsTag",t.default=u,e.exports=t.default},6496:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(9))),i=s(n(6)),l=s(n(5939));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.className;return o("div",{className:(0,a.default)(l.default.tag,t)},void 0,o("span",{className:l.default.text},void 0,i.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD))};u.displayName="FirstOnDiscordTag",t.default=u,e.exports=t.default},6497:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(9)),l=n(56),s=y(n(224)),u=y(n(512)),c=n(939),d=y(n(75)),f=y(n(81)),p=y(n(6338)),h=y(n(5940)),m=y(n(144));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=400,I=function(e){function t(){var n,r;v(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_(this,e.call.apply(e,[this].concat(a))),r._animatedValue=new s.default.Value(1),r.state={imageLoadError:!1,imageLoading:!0},r.componentWillEnter=function(e){r._animatedValue.setValue(0),s.default.timing(r._animatedValue,{toValue:1,duration:E}).start(e)},r.componentWillLeave=function(e){s.default.timing(r._animatedValue,{toValue:0,duration:E}).start(e)},r.getImageStyle=function(){return{opacity:r._animatedValue}},r.handleImageError=function(){r.setState({imageLoadError:!0,imageLoading:!1})},r.handleImageLoaded=function(){r.setState({imageLoading:!1})},_(r,n)}return g(t,e),t.prototype.renderMedia=function(){var e,t=this.props,n=t.src,r=t.className,a=t.title,l=this.state.imageLoading;return o(s.default.img,{className:(0,i.default)((e={},e[h.default.imageLoading]=l,e),r),src:n,alt:a,style:this.getImageStyle(),onError:this.handleImageError,onLoad:this.handleImageLoaded})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.title,r=e.src,a=this.state,l=a.imageLoadError,u=a.imageLoading;return null==r||l?o(s.default.div,{className:(0,i.default)(h.default.titleContainer,t),style:this.getImageStyle()},void 0,n):o(s.default.div,{className:(0,i.default)(u?h.default.loadingContainer:null,t),style:this.getImageStyle()},void 0,u?o(m.default,{className:h.default.spinner,itemClassName:h.default.spinnerItem,type:m.default.Type.PULSING_ELLIPSIS,animated:!0}):null,this.renderMedia())},t}(a.Component);I.displayName="TileMediaImage";var T=function(e){function t(){var n,r;v(this,t);for(var s=arguments.length,p=Array(s),m=0;m<s;m++)p[m]=arguments[m];return n=r=_(this,e.call.apply(e,[this].concat(p))),r.state={currentIndex:0,videoLoadError:!1,videoLoaded:!1},r._video=a.createRef(),r.videoTimeout=new l.Timeout,r.videoPlaying=!1,r.handleToggleMute=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onToggleMute;t&&t(e)},r.handleVideoError=function(){r.setState({videoLoadError:!0})},r.handleVideoLoaded=function(){r.setState({videoLoaded:!0})},r.renderTypeVideo=function(){var e,t=r.state.videoLoaded,n=r.props,l=n.video,s=n.image,p=n.title,m=n.playing,y=n.muted,v=n.splashClassName,_=n.splashPlaceholderClassName;return o(a.Fragment,{},void 0,c.isMobile?null:a.createElement("video",{className:(0,i.default)(h.default.splash,v),muted:y,loop:!0,preload:"none",ref:r._video,onLoadedMetadata:r.handleVideoLoaded,onError:r.handleVideoError},o("source",{src:l,type:"video/mp4"})),o(u.default,{},void 0,m&&t?null:o(I,{className:(0,i.default)(h.default.splashPlaceholder,_),src:s,title:p},0)),o(f.default,{className:(0,i.default)(h.default.muteContainer,(e={},e[h.default.muteContainerPlaying]=m&&t,e)),onClick:r.handleToggleMute},void 0,m&&t?o(d.default,{name:y?d.default.Names.SPEAKER_OFF:d.default.Names.SPEAKER,className:h.default.mute}):null))},r.nextItem=function(){var e=r.props.slideImages;null!=e&&r.setState({currentIndex:(r.state.currentIndex+1)%e.length})},r.renderSlideItem=function(e){var t=r.props,n=t.image,a=t.title,l=t.playing,s=t.splashClassName,u=r.state.currentIndex;return l?o(I,{className:(0,i.default)(h.default.splash,s),src:e[u],title:a},u):o(I,{className:(0,i.default)(h.default.splash,s),src:n,title:a},"image")},_(r,n)}return g(t,e),t.prototype.componentWillUnmount=function(){this.videoTimeout.stop()},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.playing,r=this._video.current;if(null!=r)if(n&&!e.playing){this.videoTimeout.stop(),isFinite(r.duration)&&isFinite(r.currentTime)&&(r.currentTime=0),r.volume=.3;var o=r.play();null!=o&&o.then(function(){t.videoPlaying=!0})}else e.playing&&!n&&this.videoTimeout.start(E,function(){t.videoPlaying&&(r.pause(),t.videoPlaying=!1)})},t.prototype.renderTypeImage=function(){var e=this.props,t=e.playing,n=e.slideImages,r=e.image,a=e.title,l=e.splashClassName;return null==n?o(I,{className:(0,i.default)(h.default.splash,l),src:r,title:a},"image"):o(p.default,{onInterval:this.nextItem,interval:2e3,className:h.default.slideshowWrapper,disable:!t},void 0,o(u.default,{},void 0,this.renderSlideItem(n)))},t.prototype.render=function(){var e=this.props,t=e.video,n=e.className;return e.placeholder?o("div",{className:n}):o("figure",{className:(0,i.default)(h.default.tileMedia,n)},void 0,null==t||this.state.videoLoadError?this.renderTypeImage():this.renderTypeVideo())},t}(a.Component);T.displayName="TileMedia",t.default=T,e.exports=t.default},6498:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(9)),l=n(188),s=g(n(6497)),u=g(n(45)),c=g(n(6496)),d=g(n(6495)),f=g(n(6091)),p=g(n(957)),h=n(6337),m=(g(n(518)),g(n(955)),n(0)),y=g(n(5935)),v=g(n(6747)),_=n(6494);function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=600,T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var v=arguments.length,_=Array(v),g=0;g<v;g++)_[g]=arguments[g];return n=r=E(this,e.call.apply(e,[this].concat(_))),r.renderActions=function(){var e=r.props,t=e.inLibrary,n=e.sku,a=e.renderCustomActions,i=e.isMouseOver,l=(e.showBuyInline||!n.requiresPayment)&&!t,s=l&&i;return null!=a?a():o("div",{className:y.default.priceOs},void 0,o(f.default,{type:f.default.Types.DIRECTORY_TILE,sku:n,inLibrary:t,className:s?y.default.tilePriceWithVisibleBuyButton:y.default.tilePrice}),o(h.OperatingSystemSection,{systems:[m.OperatingSystems.WINDOWS],className:y.default.platform}),l?o(p.default,{skuId:n.id,applicationId:n.applicationId,size:u.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:s?y.default.tileBuyButtonVisible:y.default.tileBuyButton}):null)},r.renderMedia=function(){var e,t,n,u=r.props,f=u.playing,p=u.muted,h=u.showMediaPlaceholder,m=u.onToggleMute,v=u.sku,_=u.isHorizontal,g=u.storeListing;return o(a.Fragment,{},void 0,o(s.default,{className:(0,i.default)(y.default.splashContainer,(e={},e[y.default.splashContainerHorizontal]=_,e)),video:null!=g.previewVideo?(0,l.getAssetURL)(v.applicationId,g.previewVideo):null,image:null!=g.thumbnail?(0,l.getAssetURL)(v.applicationId,g.thumbnail,I):null,title:v.name,playing:f,muted:p,placeholder:h,onToggleMute:m,splashClassName:y.default.splashVideo,splashPlaceholderClassName:y.default.splashPlaceholder}),v.exclusive?o(c.default,{className:(0,i.default)(y.default.exclusiveRegular,(t={},t[y.default.exclusivePlaying]=f,t))}):v.isTheGameAwardsWinner?o(d.default,{className:(0,i.default)(y.default.exclusiveRegular,(n={},n[y.default.exclusivePlaying]=f,n))}):null)},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isHorizontal,a=e.className,i=e.renderCustomTagline,l=e.renderCustomTitle,s=e.isEmbed?_.ResponsiveEmbedTile:v.default;return o(s,{className:a,renderMedia:this.renderMedia,renderTitle:null!=l?l:function(){return t.name},renderTagline:null!=i?i:function(){return n.tagline},renderActions:this.renderActions,isHorizontal:r})},t}(a.PureComponent);T.defaultProps={showMediaPlaceholder:!1,isMouseOver:!1,showBuyInline:!1,isHorizontal:!1,isEmbed:!1},T.displayName="ApplicationTile",t.default=T,e.exports=t.default},6500:function(e,t,n){"use strict";t.__esModule=!0,t.Controls=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=E(n(7)),s=E(n(9)),u=E(n(224)),c=E(n(75)),d=E(n(81)),f=E(n(551)),p=E(n(145)),h=E(n(7637)),m=n(6340),y=n(0),v=E(n(374)),_=E(n(5943)),g=n(516);function E(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A={friction:14,tension:200},C={VIDEO:"VIDEO",AUDIO:"AUDIO"},b={width:"100%",height:"100%",backgroundColor:"black"};function M(e){var t=0|e,n=t%60;return(t-n)/60+":"+String(n).padStart(2,"0")}var O=function(e){var t=e.current,n=e.duration,r=null!=t?M(t):"-:--",o=null!=n?M(n):"-:--";return r=r.padStart(o.length,"0"),a("div",{className:_.default.durationTimeWrapper},void 0,a("span",{className:_.default.durationTimeDisplay},void 0,r),a("span",{className:_.default.durationTimeSeparator},void 0,"/"),a("span",{className:_.default.durationTimeDisplay},void 0,o))};O.displayName="DurationTime";var N=t.Controls=function(e){function t(){var n,r;I(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r.state={translateY:new u.default.Value(0),iconHover:!1,barHover:!1},r._isUnmounted=!1,r.setDurationRef=function(e){r.durationBar=e},r.setVolumeRef=function(e){r.volumeBar=e},T(r,n)}return S(t,e),t.prototype.componentDidMount=function(){this.state.translateY.setValue(this.props.autoPlay?1:0)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.hide,r=t.playing;n&&!e.hide?this.animateControls(1,r):!n&&e.hide&&this.animateControls(0,r)},t.prototype.componentWillUnmount=function(){this._isUnmounted=!1},t.prototype.setStateIfMounted=function(e){this._isUnmounted||this.setState(e)},t.prototype.updateProgress=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.durationBar;null!=n&&n.setGrabber(e,t)},t.prototype.animateControls=function(e,t){var n=this.state.translateY;t?u.default.spring(n,o({toValue:e},A)).start():n.setValue(e)},t.prototype.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}]}},t.prototype.renderPlayIcon=function(){var e=this.props,t=e.playing,n=e.currentTime,r=e.duration,o=e.onPause,i=e.onPlay,l=e.disabled;return t?a(d.default,{onClick:o,tabIndex:l?-1:0},void 0,a(c.default,{name:c.default.Names.PAUSE,className:_.default.controlIcon},"pause")):a(d.default,{onClick:i,tabIndex:l?-1:0},void 0,null!=n&&n===r?a(c.default,{name:c.default.Names.REPLAY,className:_.default.controlIcon},"replay"):a(c.default,{name:c.default.Names.PLAY,className:_.default.controlIcon},"play"))},t.prototype.render=function(){var e=this,t=this.props,n=t.buffers,r=t.children,o=t.currentTime,l=t.duration,f=t.muted,p=t.onDrag,m=t.onDragEnd,y=t.onDragStart,E=t.onToggleMuted,I=t.width,T=t.volume,S=t.dragging,A=t.hide,b=t.type,M=t.disabled,N=this.state,R=N.barHover,P=N.iconHover,L=A||!R&&!P&&S!==h.default.Types.VOLUME,w="string"==typeof I||I>250,D=a(O,{current:o,duration:l});return a(g.BackgroundOpacityContext.Consumer,{},void 0,function(t){var o;return a(u.default.div,{className:(0,s.default)(b===C.VIDEO?_.default.videoControls:_.default.audioControls,_.default[t.backgroundOpacity+"BackgroundOpacity"]),onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},style:e.getAnimatedStyle()},void 0,e.renderPlayIcon(),w?D:null,i.createElement(h.default,{buffers:n,value:l||0,onDrag:p,onDragEnd:m,onDragStart:y,type:h.default.Types.DURATION,ref:e.setDurationRef}),a("div",{className:v.default.flex,onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!1,iconHover:!0})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setStateIfMounted({iconHover:!1})},500)}},void 0,a(d.default,{onClick:E,tabIndex:M?-1:0},void 0,a(c.default,{name:f?c.default.Names.SPEAKER_OFF:c.default.Names.SPEAKER,className:(0,s.default)(_.default.controlIcon,L?void 0:_.default.opaque)}))),a("div",{className:(0,s.default)(b===C.VIDEO?_.default.videoVolumeWrapper:_.default.audioVolumeWrapper,(o={},o[_.default.hidden]=L,o)),onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!0,iconHover:!1})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setStateIfMounted({barHover:!1})},500)}},void 0,i.createElement(h.default,{value:T,onDrag:p,onDragEnd:m,onDragStart:y,type:h.default.Types.VOLUME,ref:e.setVolumeRef})),r)})},t}(i.Component);N.defaultProps={disabled:!1},N.displayName="Controls";var R=function(e){function t(){var n,r;I(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r.state={translateY:new u.default.Value(0)},T(r,n)}return S(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.hide;t&&!e.hide?this.animateControls(1):!t&&e.hide&&this.animateControls(0)},t.prototype.animateControls=function(e){u.default.spring(this.state.translateY,o({toValue:e},A)).start()},t.prototype.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]}},t.prototype.renderVideoMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,o=e.disabled;return a(u.default.div,{className:_.default.metadata,style:this.getAnimatedStyle()},void 0,a("div",{className:_.default.metadataContent},void 0,a("div",{className:_.default.metadataName},void 0,t),a("div",{className:_.default.metadataSize},void 0,n)),!o&&a(p.default,{href:r,target:"_blank",rel:"noreferrer noopener",className:_.default.metadataDownload},void 0,a(c.default,{name:c.default.Names.DOWNLOAD,className:_.default.metadataIcon})))},t.prototype.renderAudioMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,o=e.disabled;return a(g.BackgroundOpacityContext.Consumer,{},void 0,function(e){return a("div",{className:(0,s.default)(_.default.audioMetadata,_.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,a("div",{className:_.default.metadataContent},void 0,o?t:a(p.default,{className:_.default.metadataName,href:r},void 0,t),a("div",{className:_.default.metadataSize},void 0,n)),o?t:a(p.default,{href:r,className:_.default.metadataDownload},void 0,a(c.default,{name:c.default.Names.DOWNLOAD,className:_.default.metadataIcon})))})},t.prototype.render=function(){return this.props.type===C.AUDIO?this.renderAudioMetadata():this.renderVideoMetadata()},t}(i.Component);R.displayName="Metadata";var P=function(e){function t(){var n,r;I(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=T(this,e.call.apply(e,[this].concat(i))),r.state={play:!1,scale:new u.default.Value(0),opacity:new u.default.Value(0)},r.popAnimation=function(){var e=r.state,t=e.opacity,n=e.scale;n.setValue(0),t.setValue(0),u.default.parallel([u.default.sequence([u.default.timing(t,{toValue:1,duration:200}),u.default.timing(t,{toValue:0,duration:200})]),u.default.spring(n,o({toValue:1.5},A,{friction:80}))]).start()},T(r,n)}return S(t,e),t.prototype.pop=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({play:e},this.popAnimation)},t.prototype.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return u.default.accelerate({opacity:t.interpolate({inputRange:[0,1],outputRange:[0,.8]}),transform:[{scale:n.interpolate({inputRange:[0,1],outputRange:[1,2]})}]})},t.prototype.render=function(){var e=this.state.play;return a(u.default.div,{className:_.default.playPausePop,style:this.getAnimatedStyle()},void 0,a(c.default,{name:e?c.default.Names.PLAY:c.default.Names.PAUSE,className:_.default.playPausePopIcon}))},t}(i.Component);P.displayName="PlayPausePop";var L=function(e){function t(n){I(this,t);var r=T(this,e.call(this,n));w.call(r);var o=r.props,a=o.autoPlay,i=o.autoMute,l=o.volume,s=o.playable;return r.state={buffers:[],currentTime:null,dragging:null,duration:null,fullscreen:!1,hasClickedPlay:!1,hasLoadedMetadata:!1,hideControls:!s,muted:i,volume:l,playing:a,preload:"none",width:t.minWidth},r}return S(t,e),t.getDerivedStateFromProps=function(e,t){return!e.playable&&t.playing?{playing:!1,hideControls:!1}:null},t.prototype.componentDidMount=function(){var e=this.elementRef,t=this.controlsRef,n=this.state,r=n.playing,o=n.muted,a=n.volume;null!=e&&(o&&(e.muted=o),r&&(this.play(!0),this.handleUIUpdate()),e.volume=a,o||null==t||null==t.volumeBar||t.volumeBar.setGrabber(a))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.onPause,o=n.onVolumeChange,a=n.onMute,i=this.state,l=i.playing,s=i.fullscreen,u=i.muted,c=i.dragging,d=i.volume,f=this.elementRef,p=this.controlsRef,y=this.playPausePopRef;if(null!=f){l&&!t.playing?(this.play(),this.handleMouseMove(),this.handleUIUpdate(),t.hasClickedPlay&&y&&y.pop(l)):!l&&t.playing&&(f.pause(),y&&y.pop(l),r&&r());var v=(0,m.getFullScreenNode)(f.parentNode,f);s&&!t.fullscreen&&null!=v?((0,m.requestFullScreen)(v),v.addEventListener(m.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit)):!s&&t.fullscreen&&null!=v&&(v.removeEventListener(m.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit),(0,m.exitFullScreen)(v)),c===h.default.Types.DURATION&&t.dragging!==h.default.Types.DURATION&&l?f.pause():c!==h.default.Types.DURATION&&t.dragging===h.default.Types.DURATION&&l&&f.play(),u!==t.muted&&(f.muted=u,null!=p&&null!=p.volumeBar&&(u?p.volumeBar.setGrabber(0):p.volumeBar.setGrabber(d)),a&&a(u)),d!==t.volume&&(null!=p&&null!=p.volumeBar&&(f.volume=d,p.volumeBar.setGrabber(d)),o&&o(d)),null!=p&&null!=p.volumeBar&&!u&&d>0&&p.volumeBar.setGrabber(d)}},t.prototype.componentWillUnmount=function(){this._unmounted=!0},t.prototype.play=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props.onPlay;null!=this.elementRef&&(this.elementRef.play(),t&&t(e))},t.prototype.getWidth=function(){var e=this.props.width;return"100%"===e?e:Math.max(e,t.minWidth)},t.prototype.updateValue=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.controlsRef;null!=n&&n.updateProgress(e,t)},t.prototype.updateTime=function(e,t){var n=0|e,r=0|t;this.state.currentTime===n&&this.state.duration===r||this.setState({currentTime:n,duration:r})},t.prototype.updateControlsVisibility=function(){var e=this.state,t=e.dragging,n=e.fullscreen?1e3:3e3,r=Math.max(0,Date.now()-this._lastMove)>n;r!==this.state.hideControls&&null==t&&this.setState({hideControls:r})},t.prototype.renderVideo=function(){var e=this,t=this.props,n=t.height,r=t.src,o=t.poster,l=t.forceExternal,s=t.onError,u=this.state.playing,c=this.getWidth();return l?a("video",{className:_.default.video,controls:!1,height:n,poster:o,width:c,playsInline:!0,autoPlay:u}):i.createElement("video",{className:_.default.video,controls:!1,playsInline:!0,autoPlay:u,height:n,onClick:this.handleVideoClick,onEnded:this.handleEnded,onError:s,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,poster:o,preload:this.state.preload,ref:function(t){return e.elementRef=t},width:c},a("source",{src:r}))},t.prototype.renderAudio=function(){var e=this;return i.createElement("audio",{className:_.default.audio,controls:!1,onClick:this.handleVideoClick,onEnded:this.handleEnded,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,preload:this.state.preload,ref:function(t){return e.elementRef=t}},a("source",{src:this.props.src}))},t.prototype.renderControls=function(){var e=this,t=this.props,n=t.type,r=t.autoPlay,o=t.playable,l=void 0===o||o,s=this.state,u=s.buffers,p=s.currentTime,h=s.duration,m=s.hasClickedPlay,y=s.hideControls,v=s.muted,E=s.playing,I=s.fullscreen,T=s.volume,S=s.dragging,A=this.getWidth();return m||r||n===C.AUDIO?i.createElement(N,{buffers:u,currentTime:p,duration:h,volume:T,hide:n===C.VIDEO&&y,muted:v,autoPlay:r,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,onDurationChange:this.handleDurationChange,onPause:function(){return e.setPlay(!1)},onPlay:function(){return e.setPlay(!0)},onToggleMuted:this.toggleMuted,playing:E,dragging:S,type:n,ref:this.setControlRef,width:I?window.screen.width:A,disabled:!l},n===C.VIDEO?a(d.default,{onClick:this.toggleFullscreen},void 0,a(c.default,{className:_.default.controlIcon,name:c.default.Names.FULL_SCREEN,style:{marginLeft:0}})):null):a("div",{className:_.default.playCenter},void 0,a(g.BackgroundOpacityContext.Consumer,{},void 0,function(t){return a(f.default,{className:_.default.playButton,onPlay:e.handleVideoClick,backgroundOpacity:t.backgroundOpacity})}))},t.prototype.renderMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,o=e.type,i=e.playable,l=this.state.hideControls;return null==t||null==n?null:a(R,{fileName:t,fileSize:n,src:r,hide:o===C.VIDEO&&l,type:o,disabled:!i})},t.prototype.renderPlayPausePop=function(){return i.createElement(P,{ref:this.setPlayPausePopRef})},t.prototype.render=function(){var e=this,t=this.props,n=t.height,r=t.type,o=t.src,i=t.forceExternal,l=t.className,u=t.playable,c=this.getWidth(),d=this.state,p=d.fullscreen,h=d.hideControls,m=d.playing,y=d.preload,v=_.default.wrapperPaused;return r===C.AUDIO?v=_.default.wrapperAudio:h?v=_.default.wrapperControlsHidden:m&&(v=_.default.wrapperPlaying),i&&r===C.VIDEO?a(g.BackgroundOpacityContext.Consumer,{},void 0,function(t){return a("div",{className:v,style:{width:c,height:n}},void 0,e.renderMetadata(),e.renderVideo(),a("div",{className:_.default.playCenter},void 0,a(f.default,{className:_.default.playButton,externalURL:o,backgroundOpacity:t.backgroundOpacity})))}):a("div",{className:(0,s.default)(v,l),"data-fullscreen":p,onMouseEnter:"none"===y?this.handlePreload:null,onMouseLeave:m?this.handleMouseLeave:null,onMouseMove:m?this.handleMouseMove:null,onKeyDown:this.handleKeyDown,tabIndex:u?0:-1,style:p?b:{width:c,height:r===C.AUDIO?"auto":n}},void 0,this.renderMetadata(),r===C.AUDIO?this.renderAudio():this.renderVideo(),this.renderControls(),r===C.VIDEO?this.renderPlayPausePop():null)},t}(i.PureComponent);L.Types=C,L.defaultProps={width:498,height:80,forceExternal:!1,playable:!0,autoPlay:!1,autoMute:!1,volume:1},L.minWidth=150;var w=function(){var e=this;this._unmounted=!1,this._lastMove=0,this.handleFullScreenExit=function(){var t=(0,m.getFullScreenNode)(e.elementRef&&e.elementRef.parentNode,e.elementRef);null!=t&&(0,m.isFullScreen)(t)||e.setState({fullscreen:!1})},this.toggleFullscreen=function(){var t=!e.state.fullscreen;e.setState({fullscreen:t})},this.setMuted=function(t){e.setState({muted:t})},this.toggleMuted=function(){e.setMuted(!e.state.muted)},this.setTime=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.elementRef;null!=r&&isFinite(r.duration)&&isFinite(r.currentTime)&&(r.currentTime=t,e.updateValue(t/r.duration,n),e.updateTime(t,r.duration))},this.handleUIUpdate=function(){if(e.state.playing&&!e._unmounted){var t=e.elementRef;null!=t&&(t.duration>0&&e.updateValue(t.currentTime/t.duration),e.updateTime(t.currentTime,t.duration),e.updateControlsVisibility(),requestAnimationFrame(e.handleUIUpdate))}},this.handleDrag=function(t,n){var r=e.elementRef;n===h.default.Types.DURATION?null!=r&&isFinite(r.duration)&&e.setTime(r.duration*t,!1):n===h.default.Types.VOLUME&&(0===t?e.setState({muted:!0,volume:t}):e.state.muted&&t>0?e.setState({muted:!1,volume:t}):e.setState({volume:t}))},this.handleLoaded=function(){var t=e.elementRef;null!=t&&(e.updateTime(t.currentTime,t.duration),e.setState({hasLoadedMetadata:!0,currentTime:t.currentTime,duration:t.duration}))},this.handleDurationChange=function(){var t=e.elementRef;null!=t&&(e.updateTime(t.currentTime,t.duration),e.setState({duration:t.duration}))},this.handleBuffer=l.default.debounce(function(){var t=e.elementRef,n=[];if(t)for(var r=t.duration,o=0;o<t.buffered.length;o++){var a=t.buffered.start(o),i=t.buffered.end(o);if(!(i-a<1)){var l=(i-a)/r,s=a/r;n.push([s,l])}}e.setState({buffers:n})},400),this.handleEnded=function(){var t=e.props.onEnd;e.setState({playing:!1,hideControls:!1}),null!=t&&t()},this.handleMouseMove=function(){e._lastMove=Date.now()},this.handleMouseLeave=function(){e._lastMove=0},this.handlePreload=function(){e.setState({preload:"metadata"})},this.setControlRef=function(t){e.controlsRef=t},this.setPlayPausePopRef=function(t){e.playPausePopRef=t},this.handleVideoClick=function(){var t=e.state,n=t.hasClickedPlay,r=t.playing,o=e.props,a=o.autoPlay,i=o.autoMute;a&&!n&&r&&i?e.setState({muted:!1,hasClickedPlay:!0}):e.setPlay(!e.state.playing)},this.setPlay=function(t){var n=e.props.autoMute,r=e.state,o=r.hasClickedPlay,a=r.muted;t!==e.state.playing&&(t?e.setState({playing:t,hasClickedPlay:!0,muted:!(!o&&n)&&a}):e.setState({playing:!1,hideControls:!1}))},this.handleDragStart=function(t){e.setState({dragging:t})},this.handleDragEnd=function(){e.setState({dragging:null}),e._lastMove=Date.now()},this.handleKeyDown=function(t){var n=e.elementRef;if(t.which===y.KeyboardKeys.SPACE)t.preventDefault(),e.setPlay(!e.state.playing);else if(t.which>=y.KeyboardKeys.DIGIT_0&&t.which<=y.KeyboardKeys.DIGIT_9&&null!=n){t.preventDefault();var r=(t.which-y.KeyboardKeys.DIGIT_0)/10;n.currentTime=n.duration*r,e.setPlay(!0)}}};L.displayName="MediaPlayer",t.default=L},6501:function(e,t,n){"use strict";t.__esModule=!0;var r={};r=n(6759),t.default=r,e.exports=t.default},6502:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={popFirstFile:function(){a.default.dispatch({type:i.ActionTypes.UPLOAD_MODAL_POP_FILE})},pushFiles:function(e){var t=e.files,n=e.channelId;a.default.dispatch({type:i.ActionTypes.UPLOAD_MODAL_PUSH_FILES,files:t,channelId:n})},clearAll:function(){a.default.dispatch({type:i.ActionTypes.UPLOAD_MODAL_CLEAR_ALL_FILES})}},e.exports=t.default},6503:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(3)),a=c(n(2)),i=c(n(11)),l=n(0),s=c(n(6)),u=c(n(588));function c(e){return e&&e.__esModule?e:{default:e}}var d=null,f="",p="",h=[],m=[],y=i.default.isOSX()?l.TenorFormats.MEDIUMGIF:l.TenorFormats.MP4,v=[];var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getAnalyticsID=function(){return d},t.prototype.getQuery=function(){return f},t.prototype.getResultQuery=function(){return p},t.prototype.getResultItems=function(){return h},t.prototype.getTrendingCategories=function(){return m},t.prototype.getSelectedFormat=function(){return y},t.prototype.getSuggestions=function(){return v},t}(o.default.Store);t.default=new _(a.default,{GIF_PICKER_INITIALIZE:function(e){d=e.analyticsID},GIF_PICKER_QUERY:function(e){""===(f=e.query)&&(p="",h=[],v=[])},GIF_PICKER_QUERY_SUCCESS:function(e){if(null!=e.query&&f===p)return!1;null!=e.query&&(p=e.query),h=e.items.map(function(e){return{width:e.width,height:e.height,src:e.src,url:e.url,id:e.id,format:function(e){switch(e){case l.GIPHYFormats.FIXED_HEIGHT_MP4:case l.GIPHYFormats.FIXED_HEIGHT_SMALL_MP4:case l.GIPHYFormats.FIXED_WIDTH_MP4:case l.GIPHYFormats.FIXED_WIDTH_SMALL_MP4:case l.GIPHYFormats.DOWNSIZED_SMALL_MP4:case l.GIPHYFormats.ORIGINAL_MP4:case l.TenorFormats.MP4:case l.TenorFormats.TINYMP4:case l.TenorFormats.NANOMP4:case l.TenorFormats.WEBM:case l.TenorFormats.TINYWEBM:case l.TenorFormats.NANOWEBM:return!0;default:return!1}}(y)?l.GIFResultFormat.VIDEO:l.GIFResultFormat.IMAGE}})},GIF_PICKER_QUERY_FAILURE:function(e){var t=e.query;if(null==t)return!1;p=t,h=[]},GIF_PICKER_TRENDING_FETCH_SUCCESS:function(e){var t=e.trendingCategories;m=[{type:l.GIFPickerResultTypes.TRENDING_GIFS,icon:u.default.TRENDING_UP,name:s.default.Messages.GIF_PICKER_RESULT_TYPE_TRENDING_GIFS,src:e.trendingGIFPreview.src,format:l.GIFResultFormat.IMAGE}].concat(t.map(function(e){return r({},e,{type:l.GIFPickerResultTypes.TRENDING_CATEGORY,format:l.GIFResultFormat.IMAGE})}))},GIF_PICKER_SUGGESTIONS_SUCCESS:function(e){var t=e.items;v=t}}),e.exports=t.default},6510:function(e,t,n){"use strict";t.__esModule=!0,t.isInputLikeElement=function(e){if(null==e)return!1;if("true"===e.getAttribute("contenteditable"))return!0;if(o.test(e.tagName))return!0;if(r.test(e.tagName)){var t=e.getAttribute("type")||"text";if("text"===t||"password"===t)return!0}return!1},t.removeNode=function(e){null!=e.parentNode&&e.parentNode.removeChild(e)},t.clickedOnVisibleImage=function(e,t,n,r){var o=n.width,a=n.height,i=r.top,l=r.left,s=r.width,u=r.height,c=Math.min(s/o,u/a,1),d=o*c,f=a*c,p=(u-f)/2+l,h=(s-d)/2+i;if(t>=p&&t<=p+f&&e>=h&&e<=h+d)return!0;return!1};var r=/input/i,o=/textarea/i},6539:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(3)),o=l(n(2)),a=(n(0),l(n(6369))),i=l(n(5));function l(e){return e&&e.__esModule?e:{default:e}}var s={};var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getInvite=function(e){return s[e]},t}(r.default.Store);t.default=new u(o.default,{CONNECTION_OPEN:function(e){s={}},CHANNEL_DELETE:function(e){var t=e.channel;delete s[t.id]},INSTANT_INVITE_CREATE:function(e){},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t=e.channelId,n=e.invite;s[t]=new a.default({code:n.code,temporary:n.temporary,revoked:n.revoked,maxUses:n.max_uses,maxAge:n.max_age,createdAt:(0,i.default)(n.created_at),channel:n.channel,guild:n.guild})}}),e.exports=t.default},6619:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_CATEGORY_COLLAPSED=void 0;var r=s(n(119)),o=s(n(187)),a=s(n(948)),i=n(6364),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}t.TOGGLE_CATEGORY_COLLAPSED={binds:["mod+shift+a"],global:!0,action:function(){var e=o.default.getGuildId();return null!=e&&(r.default.getChannels(e)[l.ChannelTypes.GUILD_CATEGORY].some(function(e){var t=e.channel;return"null"!==t.id&&!a.default.isCollapsed(t.id)})?(0,i.categoryCollapseAll)(e):(0,i.categoryExpandAll)(e),!1)}}},6620:function(e,t,n){"use strict";t.__esModule=!0,t.ZOOM_RESET=t.ZOOM_OUT=t.ZOOM_IN=void 0;var r,o=n(964),a=(r=o)&&r.__esModule?r:{default:r},i=n(1038),l=n(0);function s(e){return l.Accessibility.ZOOM_SCALES[Math.max(0,Math.min(l.Accessibility.ZOOM_SCALES.indexOf(a.default.zoom)+e,l.Accessibility.ZOOM_SCALES.length-1))]}var u=t.ZOOM_IN={binds:["mod+plus"],global:!0,action:function(){return(0,i.zoomTo)(s(1)),!1}},c=t.ZOOM_OUT={binds:["mod+minus"],global:!0,action:function(){return(0,i.zoomTo)(s(-1)),!1}},d=t.ZOOM_RESET={binds:["mod+0"],global:!0,action:function(){return(0,i.zoomTo)(l.Accessibility.ZOOM_DEFAULT),!1}};t.default={ZOOM_IN:u,ZOOM_OUT:c,ZOOM_RESET:d}},6621:function(e,t,n){"use strict";t.__esModule=!0,t.CALL_START=t.CALL_ACCEPT=void 0;var r=n(116),o=n(0),a=t.CALL_ACCEPT={binds:["mod+return"],global:!0,action:function(){if(r.ComponentDispatch.hasSubscribers(o.ComponentActions.CALL_ACCEPT))return r.ComponentDispatch.dispatch(o.ComponentActions.CALL_ACCEPT),!1}},i=t.CALL_START={binds:["ctrl+'","ctrl+shift+'"],global:!0,action:function(e){if(r.ComponentDispatch.hasSubscribers(o.ComponentActions.CALL_START))return r.ComponentDispatch.dispatch(o.ComponentActions.CALL_START,e),!1}};t.default={CALL_ACCEPT:a,CALL_START:i}},6622:function(e,t,n){"use strict";t.__esModule=!0,t.RETURN_TO_AUDIO_CHANNEL=void 0;var r=u(n(231)),o=u(n(65)),a=u(n(6099)),i=u(n(6069)),l=n(6120),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var c=t.RETURN_TO_AUDIO_CHANNEL={binds:["mod+alt+left"],global:!0,action:function(){if(!r.default.isConnected())return!1;var e=r.default.getGuildId()||s.ME,t=o.default.getChannelId(e);return(0,l.transitionToChannel)(e,t),a.default.flushSelection(!0),i.default.channelListScrollTo(e,r.default.getChannelId()),!1}};t.default={RETURN_TO_AUDIO_CHANNEL:c}},6623:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_DEAFEN=t.TOGGLE_MUTE=void 0;var r,o=n(269),a=(r=o)&&r.__esModule?r:{default:r};var i=t.TOGGLE_MUTE={binds:["mod+shift+m"],global:!0,action:function(){return a.default.toggleSelfMute(),!1}},l=t.TOGGLE_DEAFEN={binds:["mod+shift+d"],global:!0,action:function(){return a.default.toggleSelfDeaf(),!1}};t.default={TOGGLE_MUTE:i,TOGGLE_DEAFEN:l}},6624:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(3)),a=p(n(2)),i=n(0),l=p(n(287)),s=p(n(6109)),u=p(n(13)),c=p(n(388)),d=p(n(6095)),f=p(n(6108));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return{name:"",icon:null,region:d.default.getOptimalRegionId()}},m=!1,y=i.FormStates.CLOSED,v={},_=void 0,g=h(),E=i.CreateGuildModalScreens.Choose,I=void 0,T=!1;function S(){g=h(),_=null,y=i.FormStates.CLOSED,E=i.CreateGuildModalScreens.Choose}var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,u.default,l.default,c.default,d.default,f.default)},t.prototype.isOpen=function(){return!f.default.hasAction()&&(m&&y!==i.FormStates.CLOSED)},t.prototype.getProps=function(){return{submitting:y===i.FormStates.SUBMITTING,errors:v,code:_,guild:g,screen:E,optimalRegionId:I,nuf:T}},t}(o.default.Store);t.default=new A(a.default,{DISPLAYED_INVITE_SHOW:function(e){S()},CREATE_GUILD_MODAL_OPEN:function(e){y=i.FormStates.OPEN,T=e.nuf||!1,E=e.screen||i.CreateGuildModalScreens.Choose,g=h(),v={}},CREATE_GUILD_MODAL_SET_SCREEN:function(e){E=e.screen},CREATE_GUILD_MODAL_UPDATE:function(e){null!=_&&(_=null),g=r({},g,e.guild)},CREATE_GUILD_MODAL_SUBMIT:function(e){y=i.FormStates.SUBMITTING},CREATE_GUILD_MODAL_SUBMIT_FAILURE:function(e){y=i.FormStates.OPEN,v=e.errors},CREATE_GUILD_MODAL_CLOSE:function(e){return S()},LOAD_REGIONS:function(e){if(null==g||null!=e.guildId)return!1;I=g.region||d.default.getOptimalRegionId(),g=r({},g,{region:I})},CONNECTION_OPEN:function(e){m=!0},LOGOUT:function(e){m=!1},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),e.exports=t.default},6625:function(e,t,n){"use strict";t.__esModule=!0,t.JUMP_TO_FIRST_UNREAD=void 0;var r=i(n(65)),o=i(n(375)),a=i(n(146));function i(e){return e&&e.__esModule?e:{default:e}}var l=t.JUMP_TO_FIRST_UNREAD={binds:["shift+pageup"],global:!0,action:function(){var e=r.default.getChannelId();if(e){var t=o.default.ackMessageId(e);t&&o.default.getOldestUnreadTimestamp(e)>0&&a.default.jumpToMessage(e,t,!1,"Keyboard Shortcut")}return!1}};t.default={JUMP_TO_FIRST_UNREAD:l}},6626:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(3)),o=a(n(2));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i=!1,l=!1;var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return i},t.prototype.getState=function(){return{ragingDemon:l}},t}(r.default.Store);t.default=new s(o.default,{SHOW_KEYBOARD_SHORTCUTS:function(e){i=!0},HIDE_KEYBOARD_SHORTCUTS:function(e){i=!1},ACTIVATE_RAGING_DEMON:function(e){l=!0},DEACTIVATE_RAGING_DEMON:function(e){l=!1}}),e.exports=t.default},6627:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_HOTKEYS=void 0;var r=a(n(6186)),o=a(n(6626));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.TOGGLE_HOTKEYS={binds:["mod+/","mod+shift+/"],global:!0,action:function(){return o.default.isOpen()?r.default.hide():r.default.show(),!1}};t.default={TOGGLE_HOTKEYS:i}},6628:function(e,t,n){"use strict";t.__esModule=!0,t.SEARCH_EMOJIS=void 0;var r=n(116),o=n(0),a=t.SEARCH_EMOJIS={binds:["mod+e"],global:!0,action:function(){return r.ComponentDispatch.dispatch(o.ComponentActions.TOGGLE_EMOJI_POPOUT),!1}};t.default={SEARCH_EMOJIS:a}},6629:function(e,t,n){"use strict";t.__esModule=!0,t.SCROLL_DOWN=t.SCROLL_UP=void 0;var r=n(116),o=n(0),a=t.SCROLL_UP={binds:["pageup"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(o.ComponentActions.SCROLL_PAGE_UP),!1}},i=t.SCROLL_DOWN={binds:["pagedown"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(o.ComponentActions.SCROLL_PAGE_DOWN),!1}};t.default={SCROLL_UP:a,SCROLL_DOWN:i}},6630:function(e,t,n){"use strict";t.__esModule=!0,t.MARK_SERVER_READ=void 0;var r=d(n(187)),o=d(n(6083)),a=d(n(232)),i=d(n(65)),l=d(n(274)),s=d(n(146)),u=n(116),c=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f={},p=t.MARK_SERVER_READ={binds:["shift+esc"],global:!0,action:function(){var e=r.default.getGuildId();if(e&&o.default.getUnreadGuildsIgnoreMuted(e)){if(!f[e]){var t=function(){return delete f[e]};a.default.markGuildAsRead(e).then(t,t)}var n=i.default.getChannelId(e);if(n)l.default.getMessages(n).hasMoreAfter?s.default.jumpToPresent(n,c.MAX_MESSAGES_PER_CHANNEL):u.ComponentDispatch.dispatch(c.ComponentActions.SCROLLTO_PRESENT)}}};t.default={MARK_SERVER_READ:p}},6631:function(e,t,n){"use strict";t.__esModule=!0,t.MARK_CHANNEL_READ=void 0;var r=n(0),o=n(116),a=f(n(187)),i=f(n(65)),l=f(n(274)),s=n(6363),u=f(n(146)),c=f(n(375)),d=f(n(960));function f(e){return e&&e.__esModule?e:{default:e}}var p=t.MARK_CHANNEL_READ={binds:["esc","shift+pagedown"],global:!0,action:function(){if(o.ComponentDispatch.hasSubscribers(r.ComponentActions.CALL_DECLINE))return o.ComponentDispatch.dispatch(r.ComponentActions.CALL_DECLINE),!1;if(d.default.isOpen())return o.ComponentDispatch.dispatch(r.ComponentActions.CONTEXT_MENU_CLOSE),!1;if(o.ComponentDispatch.hasSubscribers(r.ComponentActions.POPOUT_CLOSE))return o.ComponentDispatch.dispatch(r.ComponentActions.POPOUT_CLOSE),!1;if(o.ComponentDispatch.hasSubscribers(r.ComponentActions.CLOSE_GIF_PICKER))return o.ComponentDispatch.dispatch(r.ComponentActions.CLOSE_GIF_PICKER),!1;if(o.ComponentDispatch.hasSubscribers(r.ComponentActions.MODAL_CLOSE))return o.ComponentDispatch.dispatch(r.ComponentActions.MODAL_CLOSE),!1;var e=a.default.getGuildId(),t=i.default.getChannelId(e);t&&(l.default.getMessages(t).hasMoreAfter&&u.default.jumpToPresent(t,r.MAX_MESSAGES_PER_CHANNEL),c.default.hasUnread(t)&&(0,s.ack)(t),(0,s.localAck)(t));return o.ComponentDispatch.dispatch(r.ComponentActions.SCROLLTO_PRESENT),!1}};t.default={MARK_CHANNEL_READ:p}},6632:function(e,t,n){"use strict";t.__esModule=!0,t.TEXTAREA_FOCUS=t.FALLTHROUGH_KEYS=void 0;var r=u(n(231)),o=u(n(55)),a=u(n(945)),i=n(0),l=n(116),s=n(6510);function u(e){return e&&e.__esModule?e:{default:e}}var c=t.FALLTHROUGH_KEYS=new Set(["PageDown","PageUp","Home","End"]);t.TEXTAREA_FOCUS={binds:["any-character"],global:!1,keydown:function(e,t){if((0,s.isInputLikeElement)(document.activeElement))return!1;var n=null!=document.activeElement&&"BODY"===document.activeElement.tagName;return!(i.EnableAccessibility&&!n&&!/^[a-zA-Z0-9]$/.test(t))&&(!l.ComponentDispatch.hasSubscribers(i.ComponentActions.MODAL_CLOSE)&&(!a.default.hasLayers()&&("Tab"===t?(e.preventDefault(),l.ComponentDispatch.dispatch(i.ComponentActions.TEXTAREA_FOCUS),!1):!(r.default.isConnected()&&o.default.getMode()===i.InputModes.PUSH_TO_TALK&&!o.default.isSelfMute())&&void(e.metaKey||e.ctrlKey||c.has(t)||l.ComponentDispatch.dispatchToLastSubscribed(i.ComponentActions.TEXTAREA_FOCUS)))))}}},6633:function(e,t,n){"use strict";t.__esModule=!0,t.SUBMIT=void 0;var r=n(0),o=n(116),a=t.SUBMIT={binds:["return"],global:!1,action:function(){if(o.ComponentDispatch.hasSubscribers(r.ComponentActions.MODAL_SUBMIT))return o.ComponentDispatch.dispatch(r.ComponentActions.MODAL_SUBMIT),!1}};t.default={SUBMIT:a}},6634:function(e,t,n){"use strict";t.__esModule=!0,t.MENTION_PREV=t.MENTION_NEXT=t.UNREAD_PREV=t.UNREAD_NEXT=void 0;var r=u(n(7188)),o=u(n(6099)),a=u(n(375)),i=u(n(272)),l=u(n(935)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){return(!i.default.isChannelMuted(e,t)||a.default.getMentionCount(t)>0)&&a.default.hasUnread(t)},d=t.UNREAD_NEXT={binds:["alt+shift+down"],global:!0,action:function(){var e=l.default.getGuildId()||s.ME;return(0,r.default)(1,c,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return o.default.flushSelection(),!1}},f=t.UNREAD_PREV={binds:["alt+shift+up"],global:!0,action:function(){var e=l.default.getGuildId()||s.ME;return(0,r.default)(-1,c,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return o.default.flushSelection(),!1}},p=function(e,t){return a.default.getMentionCount(t)>0},h=t.MENTION_NEXT={binds:["mod+shift+alt+down"],global:!0,action:function(){return(0,r.default)(1,p),!1},keyup:function(){return o.default.flushSelection(),!1}},m=t.MENTION_PREV={binds:["mod+shift+alt+up"],global:!0,action:function(){return(0,r.default)(-1,p),!1},keyup:function(){return o.default.flushSelection(),!1}};t.default={UNREAD_NEXT:d,UNREAD_PREV:f,MENTION_NEXT:h,MENTION_PREV:m}},6635:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_PREVIOUS_GUILD=t.CHANNEL_PREV=t.CHANNEL_NEXT=void 0;var r=c(n(6099)),o=c(n(65)),a=c(n(187)),i=c(n(7189)),l=n(6120),s=c(n(41)),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var d=t.CHANNEL_NEXT={binds:["alt+down"],global:!0,action:function(){return(0,i.default)(),!1},keyup:function(){return r.default.flushSelection(),!1}},f=t.CHANNEL_PREV={binds:["alt+up"],global:!0,action:function(){return(0,i.default)(-1),!1},keyup:function(){return r.default.flushSelection(),!1}},p=t.TOGGLE_PREVIOUS_GUILD={binds:["mod+alt+right"],global:!0,action:function(){var e=void 0;if(a.default.getGuildId())e=u.ME;else{var t=a.default.getLastSelectedGuildId();t&&(e=t,(0,l.transitionToChannel)(t,o.default.getChannelId(t)))}if(null!=e){var n=o.default.getChannelId(e);s.default.transitionTo(n?u.Routes.CHANNEL(e,n):u.Routes.GUILD(e))}return!1}};t.default={CHANNEL_PREV:f,CHANNEL_NEXT:d,TOGGLE_PREVIOUS_GUILD:p}},6636:function(e,t,n){"use strict";t.__esModule=!0,t.SERVER_PREV=t.SERVER_NEXT=void 0;var r=a(n(6099)),o=a(n(7190));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.SERVER_NEXT={binds:["mod+alt+down","mod+shift+]","ctrl+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,o.default)(),!1},keyup:function(){return r.default.flushSelection(),!1}},l=t.SERVER_PREV={binds:["mod+alt+up","mod+shift+[","ctrl+shift+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,o.default)(-1),!1},keyup:function(){return r.default.flushSelection(),!1}};t.default={SERVER_NEXT:i,SERVER_PREV:l}},6645:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=i(n(3)),a=i(n(2));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null;var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCurrentPath=function(){return null!=l?l.pathname:null},t.prototype.getCurrentRoute=function(){return t=null!=(e=l)&&null!=e.search?e.search:"",null!=e?""+e.pathname+t:null;var e,t},t.prototype.reset=function(){throw new Error("Should not reset the store this way outside of a test environment")},t}(o.default.Store);t.default=new s(a.default,{APPLICATION_STORE_LOCATION_CHANGE:function(e){var t=e.location;l=r({},t)},APPLICATION_STORE_RESET_NAVIGATION:function(e){l=null}}),e.exports=t.default},6649:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(42)),s=n(45),u=h(s),c=n(0),d=h(n(5787)),f=n(516),p=h(n(510));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.description,r=e.agreement,a=e.disagreement,c=e.onAgree,h=e.onDisagree;return o(f.BackgroundOpacityContext.Consumer,{},void 0,function(e){var f=e.backgroundOpacity;return o(l.default,{className:(0,i.default)(d.default.gatedContent,d.default[f+"BackgroundOpacity"]),justify:l.default.Justify.CENTER,align:l.default.Align.CENTER,direction:l.default.Direction.VERTICAL},void 0,o("div",{className:(0,i.default)(d.default.image,p.default.marginBottom20)}),o("div",{className:(0,i.default)(d.default.title,p.default.marginBottom8)},void 0,t),o("div",{className:(0,i.default)(d.default.description,p.default.marginBottom20)},void 0,n),o("div",{className:(0,i.default)(d.default.separator,p.default.marginBottom40)}),o(l.default,{justify:l.default.Justify.CENTER,align:l.default.Align.CENTER,grow:0},void 0,o(u.default,{className:d.default.action,size:s.ButtonSizes.LARGE,look:s.ButtonLooks.OUTLINED,color:s.ButtonColors.PRIMARY,onClick:h},void 0,a),o(u.default,{className:d.default.action,color:d.default.actionRed,size:s.ButtonSizes.LARGE,onClick:c},void 0,r)))})},t}(a.PureComponent);m.defaultProps={onAgree:c.NOOP,onDisagree:c.NOOP},m.displayName="GatedContent",t.default=m,e.exports=t.default},6652:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);t.default={toggleSection:function(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_TOGGLE_SECTION,section:e})}},e.exports=t.default},6688:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var r,o=n(6124),a=n(945),i=(r=a)&&r.__esModule?r:{default:r};t.QUICKSWITCHER_SHOW={binds:["mod+k","mod+t"],global:!0,action:function(){return i.default.hasLayers()||(0,o.show)(),!1}}},6689:function(e,t,n){"use strict";t.__esModule=!0,t.findNextSelected=function e(t,n,o,a){var i=o.length;if(0===i)return 0;if(null==a)a=n;else if(a===n)return n;n+="up"===t?-1:1;if(n<0||n>=i)return e(t,n<0?i:-1,o,a);var l=o[n];if(l.type===r.AutocompleterResultTypes.HEADER)return e(t,n,o,a);return n};var r=n(0)},6690:function(e,t,n){"use strict";t.__esModule=!0;var r=d(n(3)),o=d(n(2)),a=d(n(1239)),i=d(n(24)),l=d(n(65)),s=d(n(187)),u=d(n(18)),c=d(n(25));n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=new a.default(function(){return 100},function(e){var t=0;return 0===e?t=100:e>=1&&e<2?t=70:e>=2&&e<4?t=50:e>=4&&e<7?t=30:e>=7&&(t=10),t},function(e){return c.default.getGuild(e)||u.default.getChannel(e)||u.default.getChannel(u.default.getDMFromUserId(e))},function(e){__OVERLAY__||i.default.set("selectedChannelGuildFrecency",e)},100,10),p=null,h=null;function m(e){var t=e.guildId,n=e.channelId;return n!==p&&(p=n,f.track(n)),null!=t&&t!==h&&(h=t,f.track(t)),!1}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,l.default);var e=i.default.get("selectedChannelGuildFrecency");e&&f.overwriteHistory(e)},t.prototype.getFrequently=function(){return f.frequently},t.prototype.getScore=function(e){return f.getFrecency(e)||0},t.prototype.getScoreForDM=function(e){return this.getScore(u.default.getDMFromUserId(e))},t.prototype.getMaxScore=function(){return 1e3},t.prototype.getBonusScore=function(){return 100},t}(r.default.Store);t.default=new y(o.default,{CONNECTION_OPEN:function(e){return f.markDirty(),!1},VOICE_CHANNEL_SELECT:m,CHANNEL_SELECT:m}),e.exports=t.default},6691:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderRecord=void 0;var r=I(n(6)),o=I(n(7)),a=I(n(375)),i=I(n(119)),l=I(n(272)),s=I(n(6331)),u=I(n(394)),c=I(n(6690)),d=I(n(61)),f=I(n(6342)),p=I(n(6166)),h=I(n(6085)),m=n(6834),y=I(n(383)),v=I(n(275)),_=I(n(89)),g=I(n(120)),E=n(0);function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S=100,A=5,C=1e3,b=function(){function e(t,r,o){var a=this;T(this,e),this.query="",this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[],this.applicationResults=[],this.mapUserResults=function(e){var t=e.user,r=e.id,o=e.score,i=e.comparator;null==t&&(t=n(13).getUser(r));var l=N(E.AutocompleterResultTypes.USER);return a.createResult(E.AutocompleterResultTypes.USER,t,O(o,l[t.id]),i)},this.parseUserResults=function(e){var t=e.query,r=e.results;if(!a.queryMode||a.queryMode===E.AutocompleterResultTypes.USER){if(0===t.trim().length){var o=a.selectedChannelId,i=n(14).getId();a.userResults=h.default.getRecentlyTalked(o,a.queryMode?S:A).filter(function(e){return e.user.id!==i}).map(a.mapUserResults)}else a.userResults=r.map(a.mapUserResults);null==a.queryMode&&a.userResults.length>A&&(a.userResults.length=A),a.updateAllResults(),a.emitChange()}},this.emitChange=t,this.userSearchContext=s.default.getSearchContext(this.parseUserResults,S),this.resultTypes=new Set(r),this._generateEmptyResults=o}return e.prototype._include=function(e){return 0===this.resultTypes.size||this.resultTypes.has(e)},e.prototype.search=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.selectedGuildId=t.selectedGuildId,this.selectedChannelId=t.selectedChannelId,this.lastSelectedChannelId=t.lastSelectedChannelId,0===e.trim().length)return this.query=e,this.generateEmptyResults();this.queryMode=function(e){switch(e.charAt(0)){case"@":return E.AutocompleterResultTypes.USER;case"#":return E.AutocompleterResultTypes.TEXT_CHANNEL;case"!":return E.AutocompleterResultTypes.VOICE_CHANNEL;case"*":return E.AutocompleterResultTypes.GUILD;case"$":return E.AutocompleterResultTypes.APPLICATION;default:return null}}(e);var n=this.queryMode?e.substr(1):e,r=this.queryMode?S:A;switch(this.queryMode){case E.AutocompleterResultTypes.USER:this.queryUsers(n,r,!0);break;case E.AutocompleterResultTypes.TEXT_CHANNEL:this.textChannelResults=this.queryTextChannels(n,r);break;case E.AutocompleterResultTypes.VOICE_CHANNEL:this.voiceChannelResults=this.queryVoiceChannels(n,r);break;case E.AutocompleterResultTypes.GUILD:this.guildResults=this.queryGuilds(n,r);break;case E.AutocompleterResultTypes.APPLICATION:this.applicationResults=this.queryApplications(n,r);break;default:this.queryUsers(n,r),this.groupDMResults=this.queryGroupDMs(n,r),this.textChannelResults=this.queryTextChannels(n,r),this.voiceChannelResults=this.queryVoiceChannels(n,r,!0),this.guildResults=this.queryGuilds(n,r)}var o=this.query!==e&&null!=this.queryMode?1:0;return this.query=e,this.queryMode&&this.queryMode!==E.AutocompleterResultTypes.USER&&this.updateAllResults(),o},e.prototype.clear=function(){this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[]},e.prototype.destroy=function(){null!=this.userSearchContext&&(this.userSearchContext.destroy(),this.userSearchContext=null)},e.prototype.createResult=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3];switch(e){case E.AutocompleterResultTypes.GUILD:if(!(t instanceof y.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.GUILD,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.USER:if(!(t instanceof g.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.USER,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.HEADER:if(!(t instanceof M))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.HEADER,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.TEXT_CHANNEL:if(!(t instanceof v.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.TEXT_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.VOICE_CHANNEL:if(!(t instanceof v.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.VOICE_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.GROUP_DM:if(!(t instanceof v.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.GROUP_DM,record:t,queryMode:this.queryMode,score:n,comparator:r};case E.AutocompleterResultTypes.APPLICATION:if(!(t instanceof _.default))throw new Error("Invalid");return{type:E.AutocompleterResultTypes.APPLICATION,record:t,queryMode:this.queryMode,score:n,comparator:r}}throw new Error("Invalid type")},e.prototype.queryTextChannels=function(e,t){var n=this;if(!this._include(E.AutocompleterResultTypes.TEXT_CHANNEL))return[];var r=this.selectedChannelId,a=N(E.AutocompleterResultTypes.TEXT_CHANNEL);return(0,o.default)(h.default.queryChannels(e,null,1/0,!0,function(e){return e.id!==r})).map(function(e){var t=e.channel,r=e.score,o=e.comparator;return n.createResult(E.AutocompleterResultTypes.TEXT_CHANNEL,t,O(r,a[t.id]),o)}).sort(m.sortByMatchScore).take(t).value()},e.prototype.queryVoiceChannels=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this._include(E.AutocompleterResultTypes.VOICE_CHANNEL))return[];var a=null;if(r&&(a=this.selectedGuildId),r&&null==a)return[];var i=N(E.AutocompleterResultTypes.VOICE_CHANNEL);return(0,o.default)(h.default.queryChannels(e,a,1/0,!0,function(){return!0},E.ChannelTypes.GUILD_VOICE)).map(function(e){var t=e.channel,r=e.score,o=e.comparator;return n.createResult(E.AutocompleterResultTypes.VOICE_CHANNEL,t,O(r,i[t.id]),o)}).sort(m.sortByMatchScore).take(t).value()},e.prototype.queryGuilds=function(e,t){var n=this;if(!this._include(E.AutocompleterResultTypes.GUILD))return[];var r=this.selectedGuildId,a=N(E.AutocompleterResultTypes.GUILD);return(0,o.default)(h.default.queryGuilds(e,1/0,!0,function(e){return e.id!==r})).map(function(e){var t=e.guild,r=e.score,o=e.comparator;return n.createResult(E.AutocompleterResultTypes.GUILD,t,O(r,a[t.id]),o)}).sort(m.sortByMatchScore).take(t).value()},e.prototype.queryUsers=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.userSearchContext&&this._include(E.AutocompleterResultTypes.USER)){var o=[n(14).getId()],a=this.selectedGuildId,i={friends:!0};a&&i&&(i.guild=a),r&&(i=null,this.queryMode?p.default.requestMembers(null,e,20):p.default.requestMembers(a,e,20));var l=n(18).getDMUserIds();this.userSearchContext.setQuery(e,i,o,l,N(E.AutocompleterResultTypes.USER))}},e.prototype.queryGroupDMs=function(e,t){var n=this;if(!this._include(E.AutocompleterResultTypes.GROUP_DM))return[];var r=this.selectedChannelId,o=N(E.AutocompleterResultTypes.GROUP_DM);return h.default.queryGroupDMs(e,t,!0,function(e){return e.id!==r}).map(function(e){var t=e.channel,r=e.score,a=e.comparator;return n.createResult(E.AutocompleterResultTypes.GROUP_DM,t,O(r,o[t.id]),a)})},e.prototype.queryApplications=function(e,t){var n=this;return this._include(E.AutocompleterResultTypes.APPLICATION)?h.default.queryApplications(e,t,!0).map(function(e){var t=e.application,r=e.score,o=e.comparator;return n.createResult(E.AutocompleterResultTypes.APPLICATION,t,O(r,u.default.getQuickSwitcherScoreForApplication(t.id)),o)}):[]},e.prototype.generateSectionHeader=function(e){return this.createResult(E.AutocompleterResultTypes.HEADER,new M(e),0)},e.prototype.generateResultFromId=function(e){var t=n(18).getChannel(e);if(null==t)return null;var r=void 0;switch(t.type){case E.ChannelTypes.DM:if(!this._include(E.AutocompleterResultTypes.USER))return null;if(r=E.AutocompleterResultTypes.USER,null==(t=n(13).getUser(t.getRecipientId())))return null;break;case E.ChannelTypes.GROUP_DM:if(!this._include(E.AutocompleterResultTypes.GROUP_DM))return null;r=E.AutocompleterResultTypes.GROUP_DM;break;default:if(!this._include(E.AutocompleterResultTypes.TEXT_CHANNEL))return null;r=E.AutocompleterResultTypes.TEXT_CHANNEL}return this.createResult(r,t,0,t.toString())},e.prototype.getDrafts=function(e){var t=this,n=[];return f.default.getRecentlyEditedDrafts().forEach(function(r){var o=r.channelId;if(!e(o)){var a=t.generateResultFromId(o);null!=a&&n.push(a)}}),n},e.prototype.generateEmptyResults=function(){var e=this;if(null!=this.userSearchContext&&this.userSearchContext.clearQuery(),null!=this._generateEmptyResults)return this.results=this._generateEmptyResults(this),this.results.length>0?1:0;var t=[],s=this.selectedGuildId,u=this.selectedChannelId,c=this.lastSelectedChannelId;if(c){var d=this.generateResultFromId(c);d&&t.push(this.generateSectionHeader(r.default.Messages.QUICKSWITCHER_LAST_CHANNEL),d)}var f,p=this.getDrafts(function(e){return e===u||e===c});p.length>0&&(f=t).push.apply(f,[this.generateSectionHeader(r.default.Messages.QUICKSWITCHER_DRAFTS)].concat(p));var h=n(18),m=(0,o.default)(h.getChannels()).values().filter(function(e){var t=e.id;return t!==u&&t!==c&&a.default.getMentionCount(t)>0}).map(function(t){return e.generateResultFromId(t.id)}).filter(function(e){return!!e}).value();if(m.length&&(t.push(this.generateSectionHeader(r.default.Messages.QUICKSWITCHER_MENTIONS)),t=t.concat(m)),s){var y=i.default.getTextChannelIds(s).filter(function(e){var t=h.getChannel(e);return null!=t&&e!==u&&e!==c&&!l.default.isChannelMuted(t.guild_id,e)&&a.default.hasUnread(e)}).map(function(t){return e.generateResultFromId(t)}).filter(function(e){return e});y.length&&(t.push(this.generateSectionHeader(r.default.Messages.QUICKSWITCHER_UNREAD_CHANNELS)),t=t.concat(y))}return this.clear(),this.results=(0,o.default)(t).uniqBy(function(e){return e.record.id}).value(),this.results.length>0?1:0},e.prototype.updateAllResults=function(){var e=void 0;switch(this.queryMode){case E.AutocompleterResultTypes.USER:e=this.generateSectionHeader(r.default.Messages.QUICKSWITCHER_QUERYMODE_USERS),this.results=[].concat(this.userResults);break;case E.AutocompleterResultTypes.TEXT_CHANNEL:e=this.generateSectionHeader(r.default.Messages.QUICKSWITCHER_QUERYMODE_TEXT_CHANNELS),this.results=[].concat(this.textChannelResults);break;case E.AutocompleterResultTypes.VOICE_CHANNEL:e=this.generateSectionHeader(r.default.Messages.QUICKSWITCHER_QUERYMODE_VOICE_CHANNELS),this.results=[].concat(this.voiceChannelResults);break;case E.AutocompleterResultTypes.GUILD:e=this.generateSectionHeader(r.default.Messages.QUICKSWITCHER_QUERYMODE_GUILDS),this.results=[].concat(this.guildResults);break;case E.AutocompleterResultTypes.APPLICATION:e=this.generateSectionHeader(r.default.Messages.QUICKSWITCHER_QUERYMODE_APPLICATIONS),this.results=[].concat(this.applicationResults);break;default:this.results=[].concat(this.userResults,this.groupDMResults,this.textChannelResults,this.voiceChannelResults,this.guildResults)}this.results=(0,o.default)(this.results).uniqBy(function(e){return e.type+"-"+e.record.id}).sort(m.sortByMatchScore).value(),this._include(E.AutocompleterResultTypes.HEADER)&&this.results.length>0&&null!=e&&this.results.unshift(e)},e}();t.default=b;var M=t.HeaderRecord=function e(t){T(this,e),this.id=t,this.text=t};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];return C*e*(t||1)}function N(e){var t=c.default.getFrequently(),r=t.reduce(function(e,t){var n=t.id,r=c.default.getScore(n);return r>e?r:e},0),o=[];switch(e){case E.AutocompleterResultTypes.GUILD:o=t.filter(function(e){return e instanceof y.default});break;case E.AutocompleterResultTypes.USER:o=t.filter(function(e){return e instanceof v.default&&e.type===E.ChannelTypes.DM});break;case E.AutocompleterResultTypes.GROUP_DM:o=t.filter(function(e){return e instanceof v.default&&e.type===E.ChannelTypes.GROUP_DM});break;case E.AutocompleterResultTypes.TEXT_CHANNEL:o=t.filter(function(e){return e instanceof v.default&&e.type===E.ChannelTypes.GUILD_TEXT});break;case E.AutocompleterResultTypes.VOICE_CHANNEL:o=t.filter(function(e){return e instanceof v.default&&e.type===E.ChannelTypes.GUILD_VOICE})}var a={};return o.forEach(function(t){var o=t.id,i=c.default.getScore(o);if(e===E.AutocompleterResultTypes.USER){o=t.getRecipientId();var l=d.default.isFriend(o)?.2:0,s=n(18).getDMFromUserId(o)?.1:0;a[o]=1+i/r+l+s}else a[o]=1+i/r}),a}},6743:function(e,t,n){e.exports=function(){return new Worker(n.p+"3b33246f471d03673055.worker.js")}},6745:function(e,t,n){"use strict";t.__esModule=!0;var r=h(n(3)),o=h(n(7)),a=h(n(2)),i=(n(0),h(n(18))),l=h(n(13)),s=h(n(25)),u=h(n(28)),c=h(n(62)),d=h(n(384)),f=h(n(274)),p=h(n(61));function h(e){return e&&e.__esModule?e:{default:e}}var m={};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=i.default.getChannel(e),a=null!=o?o.getGuildId():null;return{id:e,messages:t.map(function(e){return d.default.create(e)}),guildId:a,loaded:n,loading:r}}function v(){o.default.forEach(m,function(e){o.default.forEach(e.messages,function(e){e.timestamp.locale(u.default.locale)})})}function _(){o.default.forEach(m,function(e){e.messages=e.messages.map(function(e){return e.set("blocked",p.default.isBlocked(e.author.id))})})}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,s.default,c.default,f.default,l.default,u.default)},t.prototype.getPinnedMessages=function(e){return m[e]&&m[e]||null},t.prototype.loaded=function(e){return null!=m[e]&&m[e].loaded},t}(r.default.Store);t.default=new g(a.default,{CONNECTION_OPEN:function(e){m={}},GUILD_DELETE:function(e){var t=e.guild;m=(0,o.default)(m).filter(function(e){return e.guildId!==t.id}).keyBy("id").value()},MESSAGE_UPDATE:function(e){var t=e.message.id,n=e.message.channel_id,r=m[n];if(null!=e.message.author)if(e.message.pinned){if(!r)return r=y(n,[e.message],!1),void(m[n]=r);r.messages=r.messages.slice();var a=o.default.findIndex(r.messages,function(e){return e.id===t});-1===a?r.messages.unshift(d.default.create(e.message)):r.messages[a]=r.messages[a].updateMessage(e.message),m[n]=r}else{if(!r)return;var i=o.default.findIndex(r.messages,function(e){return e.id===t});if(-1===i)return;r.messages=r.messages.slice(),r.messages.splice(i,1),m[n]=r}else if(r){var l=o.default.findIndex(r.messages,function(e){return e.id===t});if(l>=0){var s=r.messages[l],u=s.updateMessage(e.message);if(u!==s){var c=r.messages.slice();c[l]=u,m[n].messages=c}}}},MESSAGE_DELETE:function(e){var t=e.id,n=e.channelId,r=m[n];r&&0!==o.default.remove(r.messages,function(e){return e.id===t}).length&&(r.messages=r.messages.slice(),m[n]=r)},MESSAGE_DELETE_BULK:function(e){var t=e.ids,n=e.channelId,r=m[n];r&&(r.messages=r.messages.filter(function(e){return-1===t.indexOf(e.id)}))},LOAD_PINNED_MESSAGES:function(e){var t=e.channelId;m[t]=y(t,[],!1,!0)},LOAD_PINNED_MESSAGES_SUCCESS:function(e){var t=e.channelId,n=e.messages;m[t]=y(t,n,!0)},LOAD_PINNED_MESSAGES_FAILURE:function(e){var t=e.channelId;delete m[t]},USER_SETTINGS_UPDATE:function(e){return v()},I18N_LOAD_SUCCESS:function(e){return v()},CHANNEL_DELETE:function(e){var t=e.channel;delete m[t.id]},RELATIONSHIP_ADD:function(e){return _()},RELATIONSHIP_REMOVE:function(e){return _()}}),e.exports=t.default},6746:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(3)),a=s(n(2)),i=s(n(274)),l=s(n(279));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u={editingChannelId:null,editingMessageId:null,editingContent:null};function c(){u={editingChannelId:null,editingMessageId:null,editingContent:null}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isEditing=function(e,t){return e===u.editingChannelId&&t===u.editingMessageId},t.prototype.getEditingContent=function(){return u.editingContent},t.prototype.getEditingMessageId=function(){return u.editingMessageId},t.prototype.getEditingMessage=function(){return null!=u.editingChannelId&&null!=u.editingMessageId?i.default.getMessage(u.editingChannelId,u.editingMessageId):null},t}(o.default.Store);t.default=new d(a.default,{MESSAGE_START_EDIT:function(e){var t=e.channelId,n=e.messageId,r=e.content;u={editingChannelId:t,editingMessageId:n,editingContent:l.default.unparse(r,t)}},MESSAGE_UPDATE_EDIT:function(e){var t=e.content;if(null==u.editingChannelId&&null==u.editingMessageId&&null==u.editingContent)return!1;u=r({},u,{editingContent:t})},MESSAGE_END_EDIT:function(e){return c()},CHANNEL_SELECT:function(e){return c()},GUILD_SELECT:function(e){return c()}}),e.exports=t.default},6747:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(5934));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n,r=e.renderTitle,l=e.renderTagline,s=e.renderActions,u=e.renderMedia,c=e.className,d=e.isHorizontal,f=void 0!==d&&d;return o("div",{className:(0,a.default)(i.default.tile,(t={},t[i.default.tileHorizontal]=f,t),c)},void 0,o("div",{className:(0,a.default)(i.default.media,(n={},n[i.default.mediaHorizontal]=f,n))},void 0,u&&u()),o("div",{className:i.default.description},void 0,o("h2",{className:i.default.title},void 0,r&&r()),o("div",{className:i.default.tagline},void 0,l&&l()),o("div",{className:i.default.actions},void 0,s&&s())))};s.displayName="ResponsiveTile",t.default=s,e.exports=t.default},6748:function(e,t,n){"use strict";t.__esModule=!0,t.StoreEmbedWithoutDimensions=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=N(n(3)),u=n(226),c=N(n(228)),d=N(n(938)),f=n(277),p=n(188),h=N(n(164)),m=n(116),y=N(n(6339)),v=N(n(46)),_=N(n(927)),g=N(n(22)),E=N(n(6498)),I=n(6494),T=N(n(6091)),S=N(n(979)),A=N(n(376)),C=N(n(45)),b=(N(n(518)),N(n(955)),N(n(6))),M=n(0);n(373);var O=N(n(5932));function N(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=R(this,e.call.apply(e,[this].concat(i))),r.state={playing:!1,muted:!0},r.handleToggleMute=function(){r.setState({muted:!r.state.muted})},r.handleMouseEnter=function(){r.setState({playing:!0})},r.handleMouseLeave=function(){r.setState({playing:!1})},r.getStoreListingLocation=function(){var e=r.props.sku;if(null==e)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,p.getStoreListingLocation)(e.id,{slug:e.slug,analyticsSource:r.analyticsLocation})},r.handleActionButtonClick=function(e){return e.preventDefault()},r.handleBuyButtonClick=function(e){return e.preventDefault()},r.handleLinkClick=function(e){var t=r.props.onEmbedClick;null!=t&&t(e)},r.renderActions=function(e){var t=r.props,n=t.inLibrary,o=t.application,i=t.skuId,l=t.libraryApplication,s=t.renderCustomActions;if(null==o)return null;if(null!=s)return a("div",{className:O.default.tileActions},void 0,s());var u=null!=o&&o.primarySkuId===i,c=null!=l&&l.hasFlag(M.LibraryApplicationFlags.HIDDEN);return a("div",{className:O.default.tileActions},void 0,!u||c?r.renderViewInStoreButton():a(S.default,{application:o,customDisabledColor:C.default.Colors.GREY,size:C.default.Sizes.SMALL,className:O.default.actionButton,onClick:r.handleActionButtonClick}),n&&!c||e.premium?null:a(T.default,{type:T.default.Types.EMBED,sku:e,inLibrary:!1}))},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.skuId,r=e.storeListing;null!=t&&null!=r||(0,f.fetchStoreListingForSku)(n),m.ComponentDispatch.dispatch(M.ComponentActions.CHAT_RESIZE)},t.prototype.renderViewInStoreButton=function(){return a(C.default.Link,{to:this.getStoreListingLocation(),className:O.default.actionButton,color:C.default.Colors.GREEN,size:C.default.Sizes.SMALL},void 0,b.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},t.prototype.render=function(){var e=this,t=this.props,n=t.sku,r=t.storeListing,o=t.inLibrary,i=t.width,l=t.fetchFailed,s=t.renderFallback,c=t.renderCustomTitle,d=t.renderCustomTagline,f=this.state,p=f.playing,h=f.muted,m=i>I.HORIZONTAL_EMBED_BREAKPOINT;return null==n||null==r?l?s():a(I.ResponsiveLoadingEmbedTile,{isHorizontal:m}):a(A.default,{section:M.AnalyticsSections.APPLICATION_EMBED},void 0,a(u.Link,{onClick:this.handleLinkClick,to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,a(E.default,{sku:n,storeListing:r,playing:p,muted:h,inLibrary:o,onToggleMute:this.handleToggleMute,renderCustomActions:function(){return e.renderActions(n)},renderCustomTitle:c,renderCustomTagline:d,isHorizontal:m,isEmbed:!0})))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props,t=e.analyticsContext.location,n=e.analyticsSection;return o({},t,{section:null!=n?n:M.AnalyticsSections.APPLICATION_EMBED,object:M.AnalyticsObjects.CARD})}}]),t}(l.Component);P.defaultProps={renderFallback:M.NOOP},P.displayName="StoreEmbed";var L=[h.default,y.default,v.default,_.default,g.default],w=function(e){var t=e.skuId,n=h.default.get(t);return{sku:n,application:null!=n?g.default.getGame(n.applicationId):null,fetchFailed:h.default.didFetchingSkuFail(t),inLibrary:null!=n&&v.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?_.default.getForSKU(n.id):null,libraryApplication:null!=n?v.default.getLibraryApplication(n.applicationId,n.applicationId,!0):null}};t.default=s.default.connectStores(L,w)((0,d.default)((0,c.default)(P)));t.StoreEmbedWithoutDimensions=s.default.connectStores(L,w)((0,c.default)(P))},6751:function(e,t,n){"use strict";t.__esModule=!0,t.AttachmentUpload=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(9))),i=h(n(6542)),l=h(n(6)),s=h(n(145)),u=h(n(971)),c=h(n(75)),d=h(n(81)),f=n(6096),p=h(n(5945));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){var t=e.filename,r=(0,f.classifyFileName)(t),a=n(7651)("./icon-file-small-"+r+".svg");return o("img",{className:p.default.icon,src:a,alt:l.default.Messages.IMG_ALT_ATTACHMENT_FILE_TYPE.format({fileType:r}),title:r})};m.displayName="AttachmentIcon",(t.AttachmentUpload=function(e){var t=e.className,n=e.filename,r=e.size,s=e.progress,f=e.onCancelUpload,h=e.onClick,y=e.onContextMenu,v=100===s,_=!v&&r>0;return o("div",{className:(0,a.default)(p.default.attachment,t)},void 0,o(m,{filename:n}),o("div",{className:p.default.attachmentInner},void 0,o("div",{className:p.default.filenameWrapper},void 0,o(d.default,{className:p.default.filename,onClick:h,onContextMenu:y},void 0,n),_?o("div",{className:p.default.size},void 0,"— "+i.default.filesize(r)):null),o("div",{className:p.default.progressContainer},void 0,v?l.default.Messages.ATTACHMENT_PROCESSING:o(u.default,{className:p.default.progress,percent:s}))),v?null:o(d.default,{onClick:f},void 0,o(c.default,{name:c.default.Names.CLOSE,className:p.default.cancelButton,width:24,height:24})))}).displayName="AttachmentUpload";var y=function(e){var t=e.className,n=e.url,r=e.filename,l=e.size,u=e.onClick,d=e.onContextMenu;return o("div",{className:(0,a.default)(p.default.attachment,t)},void 0,o(m,{filename:r}),o("div",{className:p.default.attachmentInner},void 0,o("div",{className:p.default.filenameLinkWrapper},void 0,o(s.default,{className:p.default.fileNameLink,href:n,onClick:u,onContextMenu:d},void 0,r)),o("div",{className:p.default.metadata},void 0,i.default.filesize(l))),o(s.default,{href:n,target:"_blank",rel:"noreferrer noopener"},void 0,o(c.default,{name:c.default.Names.DOWNLOAD,className:p.default.downloadButton,width:24,height:24})))};y.displayName="Attachment",t.default=y},6752:function(e,t,n){"use strict";t.__esModule=!0,t.ButtonAddReaction=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=A(n(512)),s=n(56),u=A(n(224)),c=A(n(9)),d=A(n(582)),f=A(n(6761)),p=A(n(94)),h=A(n(81)),m=A(n(225)),y=A(n(7654)),v=n(544),_=A(n(1010)),g=A(n(133)),E=n(557),I=n(0),T=A(n(5946)),S=n(516);function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=t.ButtonAddReaction=function(e){function t(){var n,r;C(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=r=b(this,e.call.apply(e,[this].concat(l))),r.onAddReaction=function(e){if(null!=e){var t=r.props,n=t.channel,o=t.message;(0,v.addReaction)(n.id,o.id,(0,E.toReactionEmoji)(e))}},r.renderReactionPopout=function(e){var t=r.props.channel;return i.createElement(f.default,a({},e,{channel:t,onSelectEmoji:r.onAddReaction}))},b(r,n)}return M(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.left,r=e.className;return t.state===I.MessageStates.SENDING||t.author.isLocalBot()?null:o(m.default,{closeOnScroll:!1,render:this.renderReactionPopout,position:n?m.default.Positions.LEFT:m.default.Positions.RIGHT,offsetX:n?-10:0,subscribeTo:n?I.ComponentActions.TOGGLE_REACTION_POPOUT(t.id):null},void 0,o("div",{className:(0,c.default)(T.default.reactionBtn,r)}))},t}(i.Component);O.defaultProps={left:!0},O.displayName="ButtonAddReaction";var N=function(e){function t(){var n,r;C(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r.scale=new u.default.Value(1),r.opacity=new u.default.Value(1),r.timeout=new s.Timeout,r.state={tooltipText:""},r.handleClick=function(){var e=r.props,t=e.message,n=e.emoji,o=e.me,a=e.readOnly,i=t.getChannelId();o?(0,v.removeReaction)(i,t.id,n):a||(0,v.addReaction)(i,t.id,n)},r.handleMouseEnter=function(){r.timeout.start(500,r.showTooltip,!1)},r.showTooltip=function(){r.handleStoreChange(),_.default.addChangeListener(r.handleStoreChange)},r.handleMouseLeave=function(){r.hideTooltip(),r.setState({tooltipText:""})},r.hideTooltip=function(){r.timeout.stop(),_.default.removeChangeListener(r.handleStoreChange)},r.handleStoreChange=function(){var e=r.props,t=e.message,n=e.emoji;r.setState({tooltipText:(0,E.getReactionTooltip)(t,n)})},b(r,n)}return M(t,e),t.prototype.componentWillAppear=function(e){this.animateIn(e)},t.prototype.componentWillEnter=function(e){this.animateIn(e)},t.prototype.componentWillUnmount=function(){this.hideTooltip()},t.prototype.animateIn=function(e){g.default.isFocused()?(this.scale.setValue(0),this.opacity.setValue(0),u.default.parallel([u.default.timing(this.scale,{toValue:1,duration:300,easing:u.default.Easing.inOut(u.default.Easing.back())}),u.default.timing(this.opacity,{toValue:1,duration:300})]).start(e)):(this.scale.setValue(1),this.opacity.setValue(1),e())},t.prototype.render=function(){var e,t=this.props,n=t.count,r=t.emoji,a=t.me,i=t.readOnly,l=t.backgroundOpacity,s={transform:[{scale:this.scale}],opacity:this.opacity};return o(p.default,{text:this.state.tooltipText},void 0,o(u.default.div,{className:(0,c.default)(T.default.reaction,T.default[l+"BackgroundOpacity"],(e={},e[T.default.reactionMe]=a,e[T.default.reactionReadOnly]=i,e)),style:s},void 0,o(h.default,{className:T.default.reactionInner,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onFocus:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onBlur:this.handleMouseLeave},void 0,o(d.default,{emojiId:r.id,emojiName:r.name,animated:r.animated}),o(y.default,{className:(0,c.default)(T.default.reactionCount,T.default[l+"BackgroundOpacity"]),value:n,digitWidth:9}))))},t}(i.PureComponent);N.displayName="Reaction";var R=function(e){function t(){var n,r;C(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r.state={disableTransitionAppear:!0,reactionsCount:r.props.message.reactions.length},b(r,n)}return M(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.message.reactions.length;return 0===t.reactionsCount&&n>0?{disableTransitionAppear:!1,reactionsCount:n}:t.reactionsCount!==n?{reactionsCount:n}:null},t.prototype.render=function(){var e=this.props,t=e.message,n=e.disableReactionCreates,r=e.disableReactionUpdates,s=e.channel,u=this.state.disableTransitionAppear;if(!t.reactions.length)return null;var c=o(O,{message:t,channel:s,left:!1});return o(S.BackgroundOpacityContext.Consumer,{},void 0,function(e){return o(l.default,{className:T.default.reactions,transitionAppear:!u,transitionLeave:!1},void 0,t.reactions.map(function(n){return i.createElement(N,a({key:(n.emoji.id||0)+":"+n.emoji.name,message:t,readOnly:r,backgroundOpacity:e.backgroundOpacity},n))}),!n&&c)})},t}(i.PureComponent);R.displayName="Reactions",t.default=R},6753:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(94)),s=h(n(6)),u=n(523),c=n(0),d=h(n(5947)),f=h(n(1231)),p=n(516);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){var t=e.timestamp;return o(l.default,{text:null!=t?(0,u.calendarFormat)(t):null},void 0,o("time",{dateTime:t.toISOString(),className:d.default.edited,role:"note"},void 0,"(",s.default.Messages.MESSAGE_EDITED,")"))};y.displayName="SuffixEdited";var v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.onContextMenu=function(e){var t=r.props;(0,t.onContextMenu)(e,{message:t.message,channel:t.channel,target:e.target})},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.className,a=n.message,l=n.channel,s=n.renderButtons,u=n.renderPrefix,h=n.children,m=n.disableButtons,v=n.disableMentionStyles,_=n.isCompact,g=a.isEdited(),E=a.state===c.MessageStates.SEND_FAILED,I=a.state===c.MessageStates.SENDING,T=a.type!==c.MessageTypes.DEFAULT,S=a.mentioned&&!T,A=(0,i.default)(r,((e={})[d.default.isMentionedCompact]=S&&!v&&_,e[d.default.isMentionedCozy]=S&&!v&&!_,e[d.default.isSending]=I,e[d.default.containerCompact]=_,e[d.default.containerCozy]=!_,e));return o(p.BackgroundOpacityContext.Consumer,{},void 0,function(e){var n;return o("div",{className:(0,i.default)(A,d.default[e.backgroundOpacity+"BackgroundOpacity"],f.default[e.backgroundOpacity+"BackgroundOpacity"]),onContextMenu:t.onContextMenu},void 0,!m&&s&&o("div",{className:d.default.buttonContainer},void 0,s({message:a,channel:l})),h||o("div",{className:(0,i.default)(d.default.markup,f.default.markup,(n={},n[d.default.isFailed]=E,n[d.default.isCompact]=_,n))},void 0,null!=u&&u({message:a,channel:l}),a.contentParsed,g&&null!=a.editedTimestamp&&o(y,{timestamp:a.editedTimestamp})))})},t}(a.PureComponent);v.defaultProps={disableMentionStyles:!1,disableButtons:!1},v.displayName="MessageContent",t.default=v,e.exports=t.default},6754:function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(6)),o=n(0),a=c(n(14)),i=c(n(13)),l=n(584),s=c(n(293)),u=c(n(149));function c(e){return e&&e.__esModule?e:{default:e}}function d(){}var f=function(){return[r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_01,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_02,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_03,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_04,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_05,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_06,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_07,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_08,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_09,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_10,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_11,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_12,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_13,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_14,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_15,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_16,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_17,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_18,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_19,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_20,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_21,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_22,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_23,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_24,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_25,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_26,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_27,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_28,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_29,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_30,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_31,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_32,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_33,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_34,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_35,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_36,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_37,r.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_38]};function p(e){var t=f();return t[u.default.extractTimestamp(e)%t.length]}t.default={stringify:function(e){var t=e.mentions[0]&&i.default.getUser(e.mentions[0].id),n=e.channel_id,u=s.default.getName(null,n,e.author);switch(e.type){case o.MessageTypes.RECIPIENT_ADD:if(!t)return;return(0,l.astToString)(r.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:u,usernameOnClick:d,otherUsername:s.default.getName(null,n,t),otherUsernameOnClick:d},!1));case o.MessageTypes.RECIPIENT_REMOVE:if(!t)return;return e.author.id===t.id?(0,l.astToString)(r.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:u,usernameOnClick:d},!1)):(0,l.astToString)(r.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:u,usernameOnClick:d,otherUsername:s.default.getName(null,n,t),otherUsernameOnClick:d},!1));case o.MessageTypes.CALL:var c=e.call;return c&&-1===c.participants.indexOf(a.default.getId())?(0,l.astToString)(r.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:u,usernameOnClick:d},!1)):void 0;case o.MessageTypes.CHANNEL_NAME_CHANGE:return(0,l.astToString)(r.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:u,usernameOnClick:d,channelName:e.content},!1));case o.MessageTypes.CHANNEL_ICON_CHANGE:return(0,l.astToString)(r.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:u,usernameOnClick:d},!1));case o.MessageTypes.CHANNEL_PINNED_MESSAGE:return(0,l.astToString)(r.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA.format({username:u,usernameOnClick:d},!1));case o.MessageTypes.USER_JOIN:var f=p(e.id);return(0,l.astToString)(f.format({username:u,usernameOnClick:d},!1));default:return e.content}},getSystemMessageUserJoin:p},e.exports=t.default},6755:function(e,t,n){e.exports=n.p+"b8029fe196b8f1382e90bbe81dab50dc.svg"},6756:function(e,t,n){e.exports=n.p+"0c9615349350c4185381d58c69b88cbc.svg"},6757:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.openUserContextMenu=function(e,t,n){var o={user:t,channelId:n.id};n.isGroupDM()?o.type=l.ContextMenuTypes.USER_GROUP_DM:n.isDM()?(o.selected=!0,o.type=l.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE):(o.type=l.ContextMenuTypes.USER_CHANNEL_MESSAGE,o.guildId=n.getGuildId());(0,i.openContextMenu)(e,function(e){return a.createElement(u.default,r({},e,o))})};var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(32),l=n(0),s=n(929),u=(o=s)&&o.__esModule?o:{default:o}},6758:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=R(n(54)),l=R(n(3)),s=R(n(6)),u=R(n(9)),c=R(n(6501)),d=n(0),f=R(n(6164)),p=R(n(6342)),h=R(n(933)),m=R(n(990)),y=R(n(6180)),v=R(n(189)),_=R(n(279)),g=R(n(972)),E=R(n(7667)),I=R(n(6502)),T=n(969),S=n(116),A=R(n(5582)),C=R(n(510)),b=R(n(94)),M=R(n(45)),O=R(n(932)),N=R(n(71));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=L(this,e.call.apply(e,[this].concat(a))),r.tryAbort=function(){r.reader&&1===r.reader.readyState&&r.reader.abort()},r.loadImagePreview=function(e){r.tryAbort(),r.reader=new FileReader,r.reader.onload=function(e){return r.setState({imageDataUri:e.target.result,imageLoaded:!0})},r.reader.readAsDataURL(e.file)},r.state={imageDataUri:r.state?r.state.imageDataUri:null,imageLoaded:!1},L(r,n)}return w(t,e),t.prototype.componentDidMount=function(){this.loadImagePreview(this.props)},t.prototype.componentDidUpdate=function(){this.loadImagePreview(this.props)},t.prototype.componentWillUnmount=function(){this.tryAbort()},t.prototype.render=function(){var e;if(this.state.imageLoaded){var t={backgroundImage:"url('"+this.state.imageDataUri+"')"};return o("div",{className:(0,u.default)(A.default.icon,A.default.image),style:t})}return o("div",{className:(0,u.default)(A.default.icon,(e={},e[A.default.image]=!0,e))})},t}(a.PureComponent);D.defaultProps={file:null},D.displayName="ImageFilePreview";var U=function(e){function t(){return P(this,t),L(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){return this.props.upload.isImage?o(D,{file:this.props.upload.file},this.props.upload.id):o("div",{className:(0,u.default)([A.default.icon],(e={},e[A.default[this.props.upload.classification]]=!0,e))});var e},t}(a.Component);U.displayName="UploadIcon";var G=(0,i.default)({displayName:"Upload",mixins:[l.default.StoreListenerMixin(E.default,m.default),g.default],statics:{modalConfig:{closable:!1}},getStateFromStores:function(){var e=E.default.getFirstUpload(),t=e?e.channel.id:null,n=t?m.default.getSlowmodeCooldownGuess(t):0;return{upload:e,file:e?e.file:null,hasAdditionalUploads:E.default.hasAdditionalUploads(),cooldown:n}},getInitialState:function(){var e=E.default.getFirstUpload(),t=e?e.channel.id:null;return{transitioning:!1,textValue:p.default.getDraft(t)||"",textFocused:!0,hasSpoiler:!1}},componentDidMount:function(){S.ComponentDispatch.subscribe(d.ComponentActions.MODAL_SUBMIT,this.confirm),S.ComponentDispatch.subscribe(d.ComponentActions.MODAL_CLOSE,this.cancel)},componentWillUnmount:function(){S.ComponentDispatch.unsubscribe(d.ComponentActions.MODAL_SUBMIT,this.confirm),S.ComponentDispatch.unsubscribe(d.ComponentActions.MODAL_CLOSE,this.cancel)},shouldComponentUpdate:function(e,t){return t.upload},cancelAll:function(){I.default.clearAll(),this.props.onClose()},cancel:function(){this.showNextFile()},confirm:function(){var e=this,t=this.state,n=t.transitioning,r=t.upload,o=t.textValue,a=t.cooldown,i=t.hasSpoiler;return n||!r?Promise.resolve({shouldClear:!1,shouldRefocus:!1}):a>0?Promise.resolve({shouldClear:!1,shouldRefocus:!0}):h.default.isOpen("popout-channel-text-area-shouting")?(v.default.close("popout-channel-text-area-shouting"),this.submitUpload(!0,o,r,i),Promise.resolve({shouldClear:!0,shouldRefocus:!0})):(0,T.applyChatRestrictions)(this.channelTextAreaRef,o,r.channel).then(function(t){var n=t.valid;return e.submitUpload(n,o,r,i),{shouldClear:!1,shouldRefocus:!1}})},submitUpload:function(e,t,n,r){if(e){var o=_.default.parse(n.channel,t);y.default.saveDraft(n.channel.id,""),this.setState({textFocused:!0,textValue:""});var a=c.default.upload.bind(null,n.channel.id,n.file,o,r);setTimeout(a,125),this.showNextFile()}},showNextFile:function(){var e=this;this.state.transitioning||(this.state.hasAdditionalUploads?(this.setState({transitioning:!0}),this.setTimeout(function(){return I.default.popFirstFile()},100),this.setTimeout(function(){return e.setState({transitioning:!1})},200)):(I.default.popFirstFile(),this.props.onClose()))},handleTextChange:function(e,t){this.setState({textValue:t})},onSubmitText:function(){return this.confirm()},renderFooter:function(){var e=this,t=this.state,n=t.hasAdditionalUploads,r=t.cooldown,i=t.hasSpoiler,l=r>0,c=null,f=l?s.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((r+1e3)/1e3)}):null;n&&(c=o(M.default,{type:"button",look:M.default.Looks.LINK,color:M.default.Colors.WHITE,onClick:this.cancelAll,className:A.default.cancelAllButton},void 0,o("span",{},void 0,s.default.Messages.UPLOAD_AREA_CANCEL_ALL)));var p=o(a.Fragment,{},void 0,o(O.default,{value:i,onChange:function(t,n){return e.setState({hasSpoiler:n})},checkboxColor:d.Colors.WHITE},void 0,o(N.default,{color:N.default.Colors.WHITE},void 0,s.default.Messages.SPOILER_MARK_SELECTED)),o("div",{className:A.default.hasSpoilers},void 0,c,o(M.default,{type:"button",look:M.default.Looks.LINK,color:M.default.Colors.WHITE,onClick:this.cancel},void 0,o("span",{},void 0,s.default.Messages.CANCEL)),o(b.default,{text:f},void 0,o("div",{},void 0,o(M.default,{disabled:l,color:M.default.Colors.BRAND,look:M.default.Looks.INVERTED,type:"submit",onClick:this.confirm},void 0,o("span",{},void 0,s.default.Messages.UPLOAD))))));return o("div",{className:(0,u.default)(A.default.footer,A.default.hasSpoilers)},void 0,p)},render:function(){var e,t=this,n=this.state,r=n.transitioning,i=n.upload,l=n.sizeString,c=n.textValue,p=n.textFocused;return o("div",{className:(0,u.default)(A.default.uploadModal,"theme-brand",(e={},e[A.default.transitioning]=r,e))},void 0,o("div",{className:A.default.inner},void 0,o("div",{className:A.default.file},void 0,o(U,{upload:i}),o("div",{className:A.default.description},void 0,o("div",{className:A.default.filename},void 0,i.filename),o("div",{className:A.default.filesize},void 0,l))),o("div",{className:A.default.comment},void 0,o("div",{className:A.default.label},void 0,o("span",{},void 0,s.default.Messages.UPLOAD_AREA_LEAVE_A_COMMENT),o("span",{className:A.default.optional},void 0,"(",s.default.Messages.UPLOAD_AREA_OPTIONAL,")")),a.createElement(f.default,{ref:function(e){t.channelTextAreaRef=e},className:(0,u.default)(A.default.channelTextAreaUpload,C.default.marginTop8),value:c,focused:p,channel:i.channel,onChange:this.handleTextChange,onSubmit:this.onSubmitText,type:d.TextareaTypes.FORM}))),this.renderFooter())}});t.default=G,e.exports=t.default},6759:function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(2)),o=c(n(6)),a=c(n(35)),i=c(n(146)),l=c(n(6367)),s=c(n(7669)),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,c){var f="",p=!1;null!=n&&(f=n.content,p=n.tts);var h=new s.default(u.Endpoints.MESSAGES(e));h.on("start",function(t){r.default.dispatch({type:u.ActionTypes.UPLOAD_START,channelId:e,file:t,uploader:h})}),h.on("progress",function(t){r.default.dispatch({type:u.ActionTypes.UPLOAD_PROGRESS,channelId:e,file:t})}),h.on("error",function(s,c){r.default.dispatch({type:u.ActionTypes.UPLOAD_FAIL,channelId:e,file:s}),c!==u.AbortCodes.EXPLICIT_CONTENT?a.default.push(l.default,{title:o.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:o.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_HELP.format({onClick:function(){a.default.pop(),d(e,t,n)}})}):i.default.sendClydeError(e,c)}),h.on("complete",function(t){r.default.dispatch({type:u.ActionTypes.UPLOAD_COMPLETE,channelId:e,file:t})});var m={content:f,tts:p,hasSpoiler:c};h.upload(t,m)}t.default={instantBatchUpload:function(e,t){Array.prototype.forEach.call(t,function(t){d(e,t)})},upload:d,cancel:function(e){r.default.dispatch({type:u.ActionTypes.UPLOAD_CANCEL_REQUEST,file:e})}},e.exports=t.default},6760:function(e,t,n){e.exports=n.p+"f24711dae4f6d6b28335e866a93e9d9b.png"},6761:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(530),s=R(l),u=R(n(189)),c=R(n(370)),d=R(n(7)),f=R(n(9)),p=R(n(6)),h=R(n(6092)),m=R(n(45)),y=R(n(81)),v=R(n(6763)),_=R(n(3)),g=R(n(585)),E=R(n(288)),I=R(n(25)),T=R(n(386)),S=R(n(6830)),A=R(n(224)),C=R(n(238)),b=R(n(17)),M=R(n(199)),O=n(0),N=R(n(5951));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=32,U=g.default.convert.fromCodePoint("1f44c"),G=22,k=125,F=28;var x=function(e){var t=e.onLearnMore,r=e.onClose,o=e.isGuildChannel;return a("div",{className:N.default.premiumPromo},void 0,a(y.default,{className:N.default.premiumPromoClose,onClick:r},void 0,p.default.Messages.CLOSE),a("img",{alt:"",className:N.default.premiumPromoImage,src:n(7679),width:124,height:96}),a("div",{className:N.default.premiumPromoTitle},void 0,p.default.Messages.PREMIUM_PROMO_TITLE),a("div",{className:N.default.premiumPromoDescription},void 0,p.default.Messages.PREMIUM_PROMO_DESCRIPTION),a(m.default,{onClick:function(){!function(e){b.default.track(O.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:e?O.AnalyticsPages.GUILD_CHANNEL:O.AnalyticsPages.DM_CHANNEL,location_section:O.AnalyticsSections.EMOJI_PICKER_POPOUT})}(o),c.default.open(O.UserSettingsSections.PREMIUM),t()}},void 0,p.default.Messages.LEARN_MORE))};x.displayName="PremiumPromo";var j=function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=L(this,e.call.apply(e,[this].concat(a))),r.state={opacity:new A.default.Value(r.props.fade?0:1)},L(r,n)}return w(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.fade,n=e.delay;t&&A.default.timing(this.state.opacity,{delay:n,toValue:1,duration:150}).start()},t.prototype.render=function(){var e=this.props,t=e.surrogate,n=e.onClick,r=M.default.getURL(U+t),o={opacity:this.state.opacity,backgroundImage:'url("'+r+'")'};return a(A.default.div,{onClick:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return n(t)}),className:N.default.item,style:o})},t}(i.Component);j.defaultProps={delay:0,fade:!1},j.displayName="DiversityIcon";var H=function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=L(this,e.call.apply(e,[this].concat(a))),r.state={isOpen:!1,height:new A.default.Value(F)},r.me=i.createRef(),r.handleDiversityColorChange=function(e){S.default.setDiversityColor(e),r.close()},r.handleOpen=function(){var e=r.props.onOpen;A.default.timing(r.state.height,{fromValue:F,toValue:180,duration:k}).start(),r.setState({isOpen:!0}),document.addEventListener("click",r.close,!0),e&&e(!0)},r.close=function(e){var t=r.props.onOpen,n=r.me.current;if(null!=e&&null!=n)for(var o=e.target;null!=o;){if(o===n)return;o=o.parentNode}r.setState({isOpen:!1}),r.state.height.setValue(F),t&&t(!1)},L(r,n)}return w(t,e),t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.close,!0)},t.prototype.render=function(){var e=this,t=this.props.selectedSurrogate,n=this.state,r=n.isOpen,o=n.height;if(r){var l=[""].concat(O.DIVERSITY_SURROGATES);d.default.remove(l,function(e){return e===t}),l.unshift(t);var s=l.map(function(t,n){return a(j,{fade:n>0,delay:20*n,surrogate:t,onClick:e.handleDiversityColorChange},n)});return i.createElement("div",{ref:this.me,className:N.default.diversitySelector},a(A.default.div,{className:N.default.popout,style:{height:o}},void 0,s))}var u=M.default.getURL(U+t);return a(y.default,{className:N.default.diversitySelector,onClick:this.handleOpen},void 0,a("div",{className:N.default.item,style:{backgroundImage:'url("'+u+'")'}}))},t}(i.PureComponent);H.displayName="DiversitySelector";var B=function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=r=L(this,e.call.apply(e,[this].concat(l))),r.categories=[],r.categoryOffsets={},r.cachedMetaDataNoSearch=null,r.spriteSheetSize=[G*O.EmojiSprites.NonDiversityPerRow+"px",G*Math.ceil(C.default.numNonDiversitySprites/O.EmojiSprites.NonDiversityPerRow)+"px"].join(" "),r.diversitySpriteSheetSize=[G*O.EmojiSprites.DiversityPerRow+"px",G*Math.ceil(C.default.numDiversitySprites/O.EmojiSprites.DiversityPerRow)+"px"].join(" "),r.searchRef=i.createRef(),r.scrollerRef=i.createRef(),r.state={premiumPromoOpen:!1,diversityPickerOpen:!1,metaData:r.computeMetaData(null),searchResults:null,currentSection:E.default.categories[0],selectedRow:-1,selectedColumn:-1,query:"",placeholder:p.default.Messages.SEARCH_FOR_EMOJI},r.handleClear=function(){r.clearNow()},r.handleSelect=function(e,t,n){null!=e&&null!=t?r.selectEmoji(r.state.metaData[e].items[t].emoji,!n.shiftKey):r.selectEmoji(null)},r.handleSelectionChange=function(e,t){if(!(e<0||t<0)){var n=r.state.metaData[e].items[t],o=n.emoji,a=n.offsetTop,i=r.scrollerRef.current;r.setState({selectedRow:e,selectedColumn:t,placeholder:o.allNamesString}),null!=i&&i.scrollIntoViewRect(a,a+D,!1)}},r.handleQueryChange=function(e){if(""!==e){var t=e;":"===t[0]&&(t=t.slice(1));var n=E.default.search(r.props.channel,t);r.setState({query:e,searchResults:n,metaData:r.computeMetaData(n),selectedRow:-1,selectedColumn:-1,currentSection:null})}else r.clearNow()},r.handleScroll=function(){var e=r.getCurrentSection();e!==r.state.currentSection&&r.setState({currentSection:e})},r.handleDiversityPickerToggled=function(e){r.setState({diversityPickerOpen:e})},r.renderStickyHeader=function(){var e=r.scrollerRef.current;if(""!==r.state.query)return null;if(null==e)return a("div",{className:N.default.stickyHeader},void 0,a("div",{className:N.default.category},void 0,r.categoryOffsets[E.default.categories[0]]));var t=e.getScrollerNode().scrollTop,n=t+D,o=-1,i=-1;d.default.forEach(r.categories,function(e,n){var r=e.offsetTop;r<=t&&o<r&&(o=r,i=n)});var l=i+1;if(l<r.categories.length&&r.categories[l].offsetTop<n){var s={marginTop:r.categories[l].offsetTop-n};return a("div",{className:N.default.stickyHeader,style:s},void 0,a("div",{className:N.default.category},void 0,r.categories[i].title),a("div",{className:N.default.category},void 0,r.categories[l].title))}return a("div",{className:N.default.stickyHeader},void 0,a("div",{className:N.default.category},void 0,r.categories[i].title))},L(r,n)}return w(t,e),t.prototype.selectEmoji=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,r=n.channel,o=n.onSelectEmoji,a=n.popoutKey;null!=e&&M.default.isEmojiDisabled(e,r)?this.setState({premiumPromoOpen:!0}):(o&&o(e),t?u.default.close(a):this.focusSearch())},t.prototype.clearNow=function(e){var t={query:"",placeholder:p.default.Messages.SEARCH_FOR_EMOJI,searchResults:null,metaData:this.computeMetaData(null),selectedRow:-1,selectedColumn:-1};""!==this.state.query&&(t.currentSection=E.default.categories[0]),this.focusSearch(),this.setState(t,e)},t.prototype.focusSearch=function(){var e=this.searchRef.current;null!=e&&e.focus()},t.prototype.componentDidMount=function(){b.default.track(O.AnalyticEvents.OPEN_POPOUT,{type:"Emoji Picker"}),this.focusSearch();var e=this.props.onOpen;e&&e()},t.prototype.componentWillUnmount=function(){var e=this.props.onClose;e&&e()},t.prototype.onHoverEmoji=function(e,t,n){this.setState({selectedRow:t,selectedColumn:n,placeholder:e.allNamesString})},t.prototype.scrollNow=function(e){var t=this;this.clearNow(function(){var n=t.scrollerRef.current;null!=n&&n.scrollTo(t.categoryOffsets[e],!0)})},t.prototype.getCurrentSection=function(){var e=this.scrollerRef.current;if(""!==this.state.query||null==e)return null;var t=e.getScrollData(),n=t.scrollTop+.25*t.offsetHeight;if(0===t.scrollTop)return E.default.categories[0];var r=-1,o=null;return d.default.forEach(this.categoryOffsets,function(e,t){e<=n&&e>=r&&(r=e,o=t)}),o},t.prototype.computeMetaData=function(e){var t=this,n=E.default.categories.length,r=this.props.channel,o=r.getGuildId(),a=[],i=0,l=0,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=[],s=d.default.partition(e,function(e){return!M.default.isEmojiDisabled(e,r)}),u=s[0],c=s[1];d.default.forEach([].concat(u,c),function(e){M.default.isEmojiFiltered(e,r)||(o.push({emoji:e,offsetTop:i*D,row:l,column:o.length}),o.length===n&&(a.push({category:t,items:o}),o=[],l+=1,i+=1))}),o.length>0&&(a.push({category:t,items:o}),l+=1,i+=1)};if(e)s(e);else{if(this.cachedMetaDataNoSearch)return this.cachedMetaDataNoSearch;this.categoryOffsets={},this.categories=[];var u=function(e,n,r){t.categoryOffsets[e]=i*D,t.categories.push({category:e,offsetTop:i*D,title:n}),i+=1,s(r,e)},c=E.default.getDisambiguatedEmojiContext(o);d.default.forEach(E.default.categories,function(e){if(e===O.EMOJI_CATEGORY_CUSTOM){var t=0,n=c.getCustomEmoji(),r=d.default.groupBy(n,"guildId"),a=function(n){var o=r[n.id];null!=o&&0!==o.length&&u(0==t++?e:""+e+t,n.toString(),o)},i=I.default.getGuild(o);i&&a(i),d.default.each(T.default.getSortedGuilds(),function(e){var t=e.guild;t.id!==o&&a(t)})}else{var l=(e===O.EMOJI_CATEGORY_RECENT?c.getFrequentlyUsedEmojis():C.default.getByCategory(e))||[];u(e,p.default.Messages["EMOJI_CATEGORY_"+e.toUpperCase()],l)}}),this.cachedMetaDataNoSearch=a}return a},t.prototype.render=function(){var e,t=this,r=this.props,c=r.channel,m=r.diversitySurrogate,_=r.popoutKey,I=this.state,T=I.metaData,S=I.selectedRow,A=I.selectedColumn,C=I.currentSection,b=I.placeholder,R=I.query,P=I.premiumPromoOpen,L=I.diversityPickerOpen,w=[],U=null,k=null;if(0===T.length)k=a(v.default,{message:p.default.Messages.NO_EMOJI_SEARCH_RESULTS,className:N.default.noSearchResultsContainer,forceLightTheme:!0});else{var F=""!==m?g.default.convert.toCodePoint(m):"";d.default.forEach(T,function(e){var r=e.category,l=e.items;if(r&&r!==U){U=r;var s=d.default.find(t.categories,function(e){return e.category===r});null!=s&&w.push(a("div",{name:r,className:N.default.category},r,s.title))}var u=d.default.map(l,function(e){var r,l=e.emoji,s=e.row,u=e.column,d=null,p=s===S&&u===A,h=null!=l.index?l.index:0,m={key:l.name+"-"+s+"-"+u,className:(0,f.default)(N.default.emojiItem,(r={},r[N.default.selected]=p,r[N.default.disabled]=M.default.isEmojiDisabled(l,c),r)),onClick:function(e){return t.selectEmoji(l,!e.shiftKey)},onMouseOver:function(){return t.onHoverEmoji(l,s,u)}};if(!l.useSpriteSheet)return i.createElement("div",o({},m,{style:{backgroundImage:"url('"+l.url+"')"}}));if(l.hasDiversity){var y=-h%O.EmojiSprites.DiversityPerRow*G,v=-Math.floor(h/O.EmojiSprites.DiversityPerRow)*G;d={backgroundImage:"url('"+n(7678)("./spritesheet-"+F+".png")+"')",backgroundPosition:y+"px "+v+"px",backgroundSize:t.diversitySpriteSheetSize}}else{var _=-h%O.EmojiSprites.NonDiversityPerRow*G,g=-Math.floor(h/O.EmojiSprites.NonDiversityPerRow)*G;d={backgroundImage:"url('"+n(6760)+"')",backgroundPosition:_+"px "+g+"px",backgroundSize:t.spriteSheetSize}}return i.createElement("div",m,a("div",{className:N.default.spriteItem,style:d}))});w.push(a("div",{className:N.default.row},w.length,u))}),k=i.createElement(s.default,{ref:this.scrollerRef,outerClassName:N.default.scrollerWrap,className:N.default.scroller,onScroll:this.handleScroll,elementHeight:D,fade:!0,theme:l.Themes.LIGHT,renderStickyHeader:function(){return t.renderStickyHeader()}},w)}var j=d.default.map(E.default.categories,function(e){var n;return a(y.default,{"aria-label":e,className:(0,f.default)(N.default.item,N.default[e],(n={},n[N.default.selected]=null!=C&&0===C.indexOf(e),n)),onClick:function(){return t.scrollNow(e)}},e)}),B=void 0;if(P){var V=null!=c.getGuildId();B=a(x,{onLearnMore:function(){return u.default.close(_)},onClose:function(){return t.setState({premiumPromoOpen:!1})},isGuildChannel:V})}return a("div",{className:N.default.emojiPicker},void 0,a("div",{className:(0,f.default)(N.default.dimmer,(e={},e[N.default.visible]=L,e))}),a("div",{className:N.default.header},void 0,i.createElement(h.default,{query:R,ref:this.searchRef,light:!0,placeholder:b,gridResults:!0,selectedRow:S,selectedColumn:A,sections:T.map(function(e){return e.items.length}),onClear:this.handleClear,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,className:N.default.searchBar}),a(H,{onOpen:this.handleDiversityPickerToggled,selectedSurrogate:m})),k,a("div",{className:N.default.categories},void 0,j),B)},t}(i.PureComponent);B.displayName="EmojiPicker",t.default=_.default.connectStores([E.default],function(){return{diversitySurrogate:E.default.diversitySurrogate}})(B),e.exports=t.default},6762:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=f(n(6)),s=f(n(75)),u=f(n(81)),c=f(n(94)),d=f(n(5955));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.state={showPulse:!1},r.showPulse=function(){r.setState({showPulse:!0}),r._timeout=setTimeout(function(){r.setState({showPulse:!1})},500)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this._timeout)},t.prototype.render=function(){var e,t=this,n=this.props,r=n.className,a=n.size,f=n.isFavorite,p=n.onClick,h=this.state.showPulse,m=f?l.default.Messages.GIF_TOOLTIP_REMOVE_FROM_FAVORITES:l.default.Messages.GIF_TOOLTIP_ADD_TO_FAVORITES;return o(c.default,{text:m},void 0,o(u.default,{className:(0,i.default)(r,a,d.default.gifFavoriteButton,(e={},e[d.default.selected]=f,e[d.default.showPulse]=h,e)),onMouseDown:function(e){return e.preventDefault()},onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){e.preventDefault(),e.stopPropagation(),t.showPulse(),p(f)}),onDoubleClick:function(e){return e.preventDefault()}},void 0,o(s.default,{className:d.default.icon,name:f?s.default.Names.FAVORITE_FILLED:s.default.Names.FAVORITE})))},t}(a.PureComponent);h.defaultProps={size:d.default.size},h.displayName="GIFFavButton",t.default=h,e.exports=t.default},6763:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(5956));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n=e.message,r=e.className,l=e.forceLightTheme;return o("div",{className:(0,a.default)((t={},t[i.default.forceLightTheme]=l,t),r)},void 0,o("div",{className:i.default.wrapper},void 0,o("div",{className:i.default.sadImage}),o("div",{},void 0,n)))};s.displayName="NoSearchResults",t.default=s,e.exports=t.default},6764:function(e,t,n){"use strict";t.__esModule=!0,t.GIFPickerSearchItem=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=A(n(9)),l=A(n(3)),s=A(n(7680)),u=A(n(6163)),c=n(6343),d=A(n(6)),f=A(n(7)),p=A(n(45)),h=A(n(81)),m=A(n(75)),y=A(n(227)),v=A(n(6767)),_=A(n(6766)),g=A(n(6765)),E=A(n(6763)),I=A(n(6762)),T=n(0),S=A(n(5954));function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=["#B3AEFF","#738EF5","#929AFA"],N=1220;function R(e){return e.id||e.src}function P(e){return e.height}function L(e){return e.id}function w(e){return e===T.GIFResultFormat.VIDEO}var D=l.default.connectStores([u.default],function(e){var t=e.item.url;return{isFavorite:u.default.getIsFavorite(t)}})(function(e){var t=e.className,n=e.isFavorite,r=e.item;return o(I.default,{className:t,isFavorite:n,onClick:function(e){var t=r.width,n=r.height,o=r.src,a=r.url,i=r.format;e?(0,c.removeFavoriteGIF)(a):(0,c.addFavoriteGIF)({width:t,height:n,src:o,url:a,format:i})}})}),U=new s.default(function(){var e=document.createElement("video");return e.className=S.default.gif,e.autoplay=!0,e.loop=!0,e.muted=!0,e.preload="auto",e.controls=!1,e},function(e){e.src="",e.oncanplay=null;var t=e.parentNode;null!=t&&t.removeChild(e)}),G=new s.default(function(){return document.createElement("img")},function(e){e.onload=null,e.src=""}),k=Array.from({length:16}).map(function(e,t){return{id:""+t,height:Math.floor(100*Math.random())+120}}),F=t.GIFPickerSearchItem=function(e){function t(n){C(this,t);var r=b(this,e.call(this,n));r.ref=null,r._video=null,r._image=null,r._mounted=!0,r.handleCanPlay=function(){r._mounted&&r.setState({loaded:!0})},r.handleClick=function(){var e=r.props,t=e.onClick,n=e.item,o=e.index;null!=t&&t(n,o)};var o=r.props,a=o.format,i=o.color;return r.state={color:null==i?f.default.sample(O):i,loaded:!1},w(a)||(r._image=G.getElement(),r._image.onload=function(){return r.setState({loaded:!0})},r._image.src=n.src),r}return M(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.format,n=e.src,r=e.itemWidth,o=e.itemHeight,a=this.ref;if(t===T.GIFResultFormat.VIDEO&&null!=a){var i=U.getElement();i.oncanplay=this.handleCanPlay,i.src=n,i.width=r,i.height=o,a.appendChild(i),this._video=i}},t.prototype.componentWillUnmount=function(){this._mounted=!1;var e=this._image,t=this._video;null!=e&&(this._image=null,G.poolElement(e)),null!=t&&(this._video=null,U.poolElement(t))},t.prototype.renderGIF=function(){var e=this.props,t=e.src,n=e.itemWidth,r=e.itemHeight;return this.state.loaded?o("img",{src:t,width:n,height:r,className:S.default.gif,alt:""}):null},t.prototype.render=function(){var e,t=this,n=this.props,r=n.item,a=n.renderExtras,l=n.format,s=n.itemWidth,u=n.itemHeight,c=n.focused,d=this.state,f=d.color,p=d.loaded;return o(h.default,{innerRef:function(e){t.ref=e},className:(0,i.default)(S.default.result,(e={},e[S.default.focused]=c,e)),onClick:this.handleClick,style:{backgroundColor:p?null:f,width:s,height:u}},void 0,w(l)?null:this.renderGIF(),null!=a?a(r):null)},t}(a.PureComponent);F.displayName="GIFPickerSearchItem";var x=function(e){function t(){var n,r;C(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=r=b(this,e.call.apply(e,[this].concat(l))),r._masonryRef=a.createRef(),r.prevResultQuery=null,r.state={focusedId:null},r.handleFocus=function(e){var t=r._masonryRef.current;null!=t&&t.scrollIntoView(e.coords.top-10,e.coords.top+e.coords.height+10),r.setState({focusedId:e.id})},r.handleSelect=function(e){var t=r.props.data,n=t.findIndex(function(t){return R(t)===e.id}),o=void 0;-1!==n&&(o=t[n]),null!=o&&r.selectItem(o,n)},r.handleClickItem=function(e,t){r.selectItem(e,t)},r.handleScroll=function(e){var t=r.props.resultQuery,n=e.scrollerState,o=n.scrollTop;n.scrollHeight-o<=N&&(t!==r.prevResultQuery&&(0,c.fetchSuggestions)(t),r.prevResultQuery=t)},r.renderItem=function(e,t,n){var a=r.state.focusedId;return o(F,{item:e,index:n,format:e.format,src:e.src,itemWidth:t.width,itemHeight:t.height,onClick:r.handleClickItem,renderExtras:function(){return o(D,{className:S.default.favButton,item:e})},focused:R(e)===a})},r.renderLoadingItem=function(e,t,n){return o("div",{className:S.default.placeholder,style:{animationDelay:75*n+"ms"}})},r.renderFooter=function(){var e=r.props,t=e.onSelectSuggestion,n=e.suggestions;return o("div",{className:S.default.endContainer},void 0,n.length>0?o(a.Fragment,{},void 0,o("div",{className:S.default.endText},void 0,d.default.Messages.GIF_PICKER_RELATED_SEARCH),o("div",{className:S.default.searchSuggestions},void 0,n.map(function(e){return o(p.default,{look:p.default.Looks.OUTLINED,color:p.default.Colors.PRIMARY,size:p.default.Sizes.SMALL,className:S.default.searchSuggestion,onClick:function(){t(e)}},e,e)}))):null)},b(r,n)}return M(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.resultType,n=e.data;t===T.GIFPickerResultTypes.FAVORITES&&((0,c.trackSearchStart)(T.GIFPickerResultTypes.FAVORITES),(0,c.trackSearchResultViewed)(n,T.GIFPickerResultTypes.FAVORITES,{limit:null}))},t.prototype.componentWillUnmount=function(){U.clearPool(),G.clearPool()},t.prototype.selectItem=function(e,t){var n=this.props,r=n.onSelectGIF,o=n.resultType,a=n.data,i=n.resultQuery;null!=r&&r(e),(0,c.trackSelectGIF)({type:o,index:t,offset:this.props.searchOffset,limit:this.props.searchLimit,results:a,totalResults:this.props.searchTotalResults,query:i,gifId:e.id})},t.prototype.getItemHeight=function(e,t){var n=e.width;return t*(e.height/n)},t.prototype.renderEmptyFavorite=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o("div",{className:S.default.emptyHint},void 0,null!=e?o("div",{className:S.default.emptyHintCard},void 0,t?o(m.default,{className:S.default.emptyHintFavorite,name:m.default.Names.FAVORITE_FILLED}):null,o("div",{className:S.default.emptyHintText},void 0,e)):o("div",{className:S.default.emptyHintSpacer}))},t.prototype.renderEmptyFavorites=function(){var e=this;return o(y.default,{theme:y.default.Themes.GHOST_HAIRLINE},void 0,o("div",{className:S.default.emptyHints},void 0,this.renderEmptyFavorite(d.default.Messages.NO_GIF_FAVORITES_HOW_TO_FAVORITE,!0),this.renderEmptyFavorite(d.default.Messages.NO_GIF_FAVORITES_WHERE_TO_FAVORITE),this.renderEmptyFavorite(d.default.Messages.NO_GIF_FAVORITES_GO_FAVORITE),Array.from({length:15}).map(function(t,n){return o(a.Fragment,{},n,e.renderEmptyFavorite())}),this.renderEmptyFavorite(d.default.Messages.NO_GIF_FAVORITES_FLAVOR_FAVORITE_PLEASE),Array.from({length:16}).map(function(t,n){return o(a.Fragment,{},n,e.renderEmptyFavorite())}),this.renderEmptyFavorite(d.default.Messages.NO_GIF_FAVORITES_FLAVOR_STILL_HERE)))},t.prototype.render=function(){var e=this,t=this.props,n=t.data,r=t.resultQuery,i=t.query,l=t.resultType;return 0===n.length&&r===i&&l!==T.GIFPickerResultTypes.TRENDING_GIFS?l===T.GIFPickerResultTypes.FAVORITES?this.renderEmptyFavorites():o(E.default,{message:d.default.Messages.NO_GIF_SEARCH_RESULTS,className:S.default.noResults}):o(v.default,{getItemGrid:function(){var t=e._masonryRef.current;return null!=t?t.getItemGrid():null},onFocus:this.handleFocus,onSelect:this.handleSelect},r,o(g.default,{desiredItemWidth:200,maxColumns:8},void 0,function(t,s,u){return 0!==n.length||r===i&&l!==T.GIFPickerResultTypes.TRENDING_GIFS?a.createElement(_.default,{key:r+"-"+(l||""),ref:e._masonryRef,width:s,height:u,gutterSize:12,className:S.default.results,columns:t,data:n,getItemId:R,getItemHeight:e.getItemHeight,renderItem:e.renderItem,scrollBufferMultiplier:.5,getFooterHeight:function(){return 220},renderFooter:e.renderFooter,onScroll:e.handleScroll}):o(_.default,{width:s,height:u,data:k,columns:t,gutterSize:12,getItemId:L,getItemHeight:P,renderItem:e.renderLoadingItem,scrollBufferMultiplier:.5},r)}))},t}(a.PureComponent);x.displayName="GIFPickerSearchResults",t.default=x},6765:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(938),s=(a=l)&&a.__esModule?a:{default:a};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t,n){var r=Math.max(Math.floor(e/t),1);return Math.min(r,n)}t.default=(0,s.default)((o=r=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=u(this,e.call.apply(e,[this].concat(a))),r.state={columns:c(r.props.width,r.props.desiredItemWidth,r.props.maxColumns)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=c(e.width,e.desiredItemWidth,e.maxColumns);return n!==t.columns?{columns:n}:null},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height;return(0,e.children)(this.state.columns,t,n)},t}(i.PureComponent),r.defaultProps={desiredItemWidth:200},o)),e.exports=t.default},6766:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(227),s=(o=l)&&o.__esModule?o:{default:o};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function(){function e(t){var n=t.columns,r=t.gutterSize,o=t.scrollBufferMultiplier,a=t.getItemId,i=t.getItemHeight,l=t.getFooterHeight;u(this,e),d.call(this),this.columns=n,this.gutterSize=r,this.scrollBufferMultiplier=o,this.getItemId=a,this.getItemHeight=i,this.getFooterHeight=l}return e.prototype.computeFullCoords=function(e,t,n,r){var o=this.columns,a=this.getItemId,i=this.getItemHeight,l=this.gutterSize,s=this.scrollBufferMultiplier,u=this.getFooterHeight,c={},d=new Array(o).fill(0),f=(r-l*(o+1))/o,p=[],h=t-s*n,m=t+n+s*n,y=[];e.forEach(function(e){var t=a(e);if(null!=t){var n,r=(n=d).reduce(function(e,t,n){return t<e[0]?[t,n]:e},[n[0],0]),o=r[0],s=r[1],u=i(e,f),v=o+l,_={position:"absolute",left:f*s+l*(s+1),width:f,top:v,height:u};v>h-u&&v<m&&p.push(e),c[t]=_,d[s]=v+u,null==y[s]&&(y[s]=[]),y[s].push({coords:_,id:t})}}),this._columnWidth=f,this._coordsMap=c,this._columnHeights=d.map(function(e){return e+l}),this._itemGrid=y;var v=u(o,f,l),_=this.getTotalColumnHeight();return v>0&&(c.__footer__={position:"absolute",left:l,width:r-2*l,top:_,height:v},_+=v+l),this._totalHeight=_,p},e.prototype.computeVisibleItems=function(e,t,n){var r=this.getItemId,o=this._coordsMap,a=this.scrollBufferMultiplier,i=[],l=t-a*n,s=t+n+a*n;return e.forEach(function(e){var t=r(e);if(null!=t&&null!=o[t]){var n=o[t],a=n.top,u=n.height;a>l-u&&a<s&&i.push(e)}}),i},e.prototype.getCoords=function(e){return this._coordsMap[e]},e.prototype.getItemGrid=function(){return this._itemGrid},e.prototype.getTotalColumnHeight=function(){return this._columnHeights.reduce(function(e,t){return Math.max(e,t)},0)},e}(),d=function(){this._coordsMap={},this._columnHeights=[],this._columnWidth=0,this._totalHeight=0,this._itemGrid=[]},f=function(e){var t=e.style,n=e.children;return a("div",{style:t},void 0,n)};f.displayName="ListItem";var p=function(e){var t=e.height;return a("div",{style:{height:t,visibility:"hidden"}})};p.displayName="ScrollBuffer";var h=function(e){function t(n){u(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));m.call(r);var o=r.props,a=o.width,l=o.height,s=o.columns,d=o.gutterSize,f=o.getItemId,p=o.getItemHeight,h=o.scrollBufferMultiplier,y=o.getFooterHeight;return r.state={width:a,height:l,items:[],_data:[],computer:new c({columns:s,gutterSize:d,scrollBufferMultiplier:h,getItemId:f,getItemHeight:p,getFooterHeight:y}),_columns:s,scrollerRef:i.createRef()},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.data,r=e.columns,o=e.width,a=e.height,i=t.computer,l=t.scrollerRef.current;if(null==l)return null;if(n!==t._data||r!==t._columns||o!==t.width){var s=l.getScrollData().scrollTop;return i.columns=r,{scrollTop:s,height:a,width:o,items:i.computeFullCoords(n,s,a,o),_data:n,_columns:r}}return null},t.prototype.getScrollTop=function(){var e=this.state.scrollerRef.current;return null!=e?e.getScrollData().scrollTop:0},t.prototype.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state.scrollerRef.current;null!=n&&n.scrollTo(e,t)},t.prototype.componentDidMount=function(){this.computeFullCoords()},t.prototype.getItemGrid=function(){return this.state.computer.getItemGrid()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.renderItem,r=e.getItemId,o=e.theme,l=e.track,u=e.renderFooter,c=this.state,d=c.items,h=c.computer,m=c.scrollerRef,y=h.getCoords("__footer__");return i.createElement(s.default,{className:t,ref:m,onScroll:this.handleScroll,theme:o,track:l},a(p,{height:h._totalHeight}),d.map(function(e,t){var o=r(e),i=h.getCoords(o);return null!=i?a(f,{style:i},o,n(e,i,t)):null}),null!=y?a(f,{style:y},void 0,u(h.getTotalColumnHeight(),h)):null)},t}(i.Component);h.defaultProps={columns:2,gutterSize:10,scrollBufferMultiplier:0,track:!1,theme:s.default.Themes.GHOST_HAIRLINE,getFooterHeight:function(){return 0},renderFooter:function(){return null}};var m=function(){var e=this;this.scrollIntoView=function(t,n){var r=e.state.scrollerRef.current;null!=r&&r.scrollIntoViewRect(t,n,!0)},this.computeFullCoords=function(){var t=e.props,n=t.data,r=t.width,o=t.height,a=e.getScrollTop(),i=e.state.computer.computeFullCoords(n,a,o,r);e.setState({items:i})},this.handleScroll=function(){var t=e.props,n=t.data,r=t.height,o=t.onScroll,a=e.state.items,i=e.getScrollTop(),l=e.state.computer.computeVisibleItems(n,i,r);l.length===a.length&&null==l.find(function(e,t){return e!==a[t]})||e.setState({items:l});var s=e.state.scrollerRef.current;null!=o&&null!=s&&o(s)}};h.displayName="MasonryList",t.default=h,e.exports=t.default},6767:function(e,t,n){"use strict";t.__esModule=!0;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=n(147),i=(r=a)&&r.__esModule?r:{default:r},l=n(0);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=(0,i.default)({ARROW_UP:null,ARROW_DOWN:null,ARROW_LEFT:null,ARROW_RIGHT:null});var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=s(this,e.call.apply(e,[this].concat(a))),r.state={focusedColumn:null,focusedRow:null},r.handleKeyDown=function(e){var t=r.props.onSelect;switch(e.keyCode){case l.KeyboardKeys.ARROW_DOWN:case l.KeyboardKeys.ARROW_UP:case l.KeyboardKeys.ARROW_LEFT:case l.KeyboardKeys.ARROW_RIGHT:e.preventDefault(),e.stopPropagation(),r.focusNext(function(e){switch(e){case l.KeyboardKeys.ARROW_DOWN:return u.ARROW_DOWN;case l.KeyboardKeys.ARROW_UP:return u.ARROW_UP;case l.KeyboardKeys.ARROW_LEFT:return u.ARROW_LEFT;case l.KeyboardKeys.ARROW_RIGHT:return u.ARROW_RIGHT;default:return null}}(e.keyCode));break;case l.KeyboardKeys.ENTER:e.preventDefault(),e.stopPropagation();var n=r.calculateFocusedItem();null!=n&&null!=t&&t(n)}},r.wrapPosition=function(e,t,n,o){var a=e.length,i=n*a+t,l=Math.max(i+o,0)%a,s=r.calculateClosest(e[t][n],e[l])||n,u=0;return o<0&&l>t&&(u=-1),o>0&&l<t&&(u=1),{column:l,row:s+u}},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown,!0)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown,!0)},t.prototype.focusNext=function(e){var t=this,n=this.props,r=n.getItemGrid,o=n.onFocus,a=this.state,i=a.focusedColumn,l=a.focusedRow;if(null!=e){var s=r();if(null!=s){var u=this.getNext(s,i,l,e);this.setState({focusedColumn:u.column,focusedRow:u.row},function(){var e=t.calculateFocusedItem();null!=e&&null!=o&&o(e)})}}},t.prototype.getNext=function(e,t,n,r){var o=void 0,a=void 0,i=void 0;if(null==t||null==n)a=0,i=0,o={column:0,row:0};else switch(a=t,i=n,r){case u.ARROW_UP:o={column:a,row:Math.max(i-1,0)};break;case u.ARROW_DOWN:o={column:a,row:Math.min(i+1,e[a].length-1)};break;case u.ARROW_LEFT:o=this.wrapPosition(e,a,i,-1);break;case u.ARROW_RIGHT:o=this.wrapPosition(e,a,i,1)}var l=void 0;return null!=o&&(l=e[o.column][o.row]),null!=l&&null!=o||(l=e[(o={column:a,row:i}).column][o.row]),{column:o.column,row:o.row,id:l.id}},t.prototype.calculateClosest=function(e,t){for(var n=Number.MAX_SAFE_INTEGER,r=void 0,o=0;o<t.length;o++){var a=t[o],i=Math.abs(a.coords.top-e.coords.top);if(!(i<n))break;n=i,r=o}return r},t.prototype.calculateFocusedItem=function(){var e=this.props.getItemGrid,t=this.state,n=t.focusedRow,r=t.focusedColumn,o=e();return null==o||null==r||null==n||null==o[r]||null==o[r][n]?null:o[r][n]},t.prototype.render=function(){return this.props.children},t}(o.Component);c.displayName="MasonryKeyboardNavigationWrapper",t.default=c,e.exports=t.default},6768:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(9)),s=n(106),u=y(n(42)),c=y(n(71)),d=y(n(265)),f=y(n(75)),p=y(n(81)),h=y(n(6)),m=y(n(5961));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(n){v(this,t);var r=_(this,e.call(this,n));return r.selectable=!0,r.orientation="Vertical",r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleClick=r.handleClick.bind(r),r}return g(t,e),t.prototype.getSelectedMode=function(){return this.selectable&&this.props.selected?"Selected":""},t.prototype.renderContent=function(){throw new Error("AutocompleteRow: renderContent must be extended")},t.prototype.render=function(){var e;return a(p.default,{className:(0,l.default)(this.props.className,(0,s.getClass)(m.default,"autocompleteRow",this.orientation)),onMouseEnter:this.selectable?this.handleMouseEnter:null,onClick:this.selectable?this.handleClick:null},void 0,a("div",{className:(0,l.default)((0,s.getClass)(m.default,"selector",this.getSelectedMode()),(e={},e[m.default.selectable]=this.selectable,e))},void 0,this.renderContent()))},t.prototype.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},t.prototype.handleClick=function(){var e=this.props,t=e.onClick,n=e.index;t&&t(n)},t}(i.PureComponent);E.displayName="AutocompleteRow";var I=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.text,n=e.description;return a(u.default,{className:m.default.content},void 0,a(u.default.Child,{grow:1},void 0,t),a(u.default.Child,{grow:0},void 0,a(c.default,{className:m.default.description},void 0,n)))},t}(E),T=function(e){function t(n){v(this,t);var r=_(this,e.call(this,n));return r.selectable=!1,r}return g(t,e),t.prototype.renderContent=function(){var e=this.props.title;return a(c.default,{className:m.default.contentTitle,weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.SMALL},void 0,e)},t}(E),S=function(e){function t(n){v(this,t);var r=_(this,e.call(this,n));return r.selectable=!1,r}return g(t,e),t.prototype.renderContent=function(){return a("div",{className:m.default.divider})},t}(E),A=function(e){function t(){var n,r;v(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=_(this,e.call.apply(e,[this].concat(a))),r.statusStyle={width:10,height:10,right:"-4px",bottom:"-4px",borderWidth:2,borderStyle:"solid"},_(r,n)}return g(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.user,n=e.nick,r=e.status,o=e.hidePersonalInformation,i=e.colorblindMode;return a(u.default,{align:u.default.Align.CENTER,className:m.default.content},void 0,a(d.default,{size:d.default.Sizes.XSMALL,src:t.getAvatarURL(),status:r,statusClassName:m.default.avatarStatus,statusStyle:i?this.statusStyle:{}}),a(u.default.Child,{className:m.default.marginLeft8},void 0,n||t.username),a(u.default,{grow:0,align:u.default.Align.BASELINE,className:m.default.description},void 0,a(c.default,{className:m.default.descriptionUsername},void 0,t.username),o?null:a(c.default,{className:m.default.descriptionDiscriminator},void 0,"#",t.discriminator)))},t}(E),C=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderContent=function(){var e=this.props.role;return a(u.default,{align:u.default.Align.CENTER,className:m.default.content},void 0,a(u.default.Child,{grow:1},void 0,a(c.default,{style:{color:e.colorString}},void 0,"@",e.name)),a(c.default,{className:m.default.description},void 0,h.default.Messages.MENTION_USERS_WITH_ROLE))},t}(E),b=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return a(u.default,{align:u.default.Align.CENTER,className:m.default.content},void 0,a(f.default,{name:f.default.Names.CHANNEL_TEXT,className:m.default.icon,foreground:m.default.iconForeground}),a(u.default.Child,{className:m.default.marginLeft4},void 0,t.toString()),null!=n?a(c.default,{className:m.default.description},void 0,n.name):null)},t}(E),M=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.command,n=e.description;return a(u.default,{align:u.default.Align.CENTER,className:m.default.content},void 0,a(f.default,{name:f.default.Names.SLASH,className:m.default.icon,foreground:m.default.iconForeground}),a(u.default.Child,{grow:1,className:m.default.marginLeft4},void 0,t),a(c.default,{className:m.default.description},void 0,n))},t}(E),O=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return g(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.emoji,n=e.sentinel,r=t.url?a("img",{alt:"",className:m.default.icon,src:t.url}):a("span",{className:m.default.rawEmoji},void 0,t.surrogates);return a(u.default,{align:u.default.Align.CENTER,className:m.default.content},void 0,r,a("div",{className:m.default.marginLeft8},void 0,n,t.name,n))},t}(E),N=function(e){function t(n){v(this,t);var r=_(this,e.call(this,n));return r.orientation="Horizontal",r}return g(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.width,n=e.height,r=e.src;return a("img",{alt:"",src:r,width:t,height:n})},t}(E),R=function(e){function t(){return v(this,t),_(this,e.apply(this,arguments))}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.isCustom,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className","isCustom"]);return 0===i.Children.count(t)?null:a("div",{className:(0,l.default)(m.default.autocomplete,n)},void 0,r?t:i.createElement("div",o({className:m.default.autocompleteInner},s),t))},t}(i.PureComponent);R.Generic=I,R.Title=T,R.Divider=S,R.User=A,R.Role=C,R.Channel=b,R.Command=M,R.Emoji=O,R.GIFIntegration=N,R.defaultProps={isCustom:!1},R.displayName="Autocomplete",t.default=R,e.exports=t.default},6769:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=F(n(1)),l=k(n(3)),s=k(n(170)),u=k(n(562)),c=k(n(13)),d=k(n(240)),f=k(n(574)),p=k(n(62)),h=k(n(237)),m=k(n(22)),y=k(n(63)),v=k(n(46)),_=k(n(121)),g=k(n(35)),E=F(n(399)),I=k(n(11)),T=k(n(17)),S=n(298),A=k(n(88)),C=k(n(120)),b=n(107),M=k(n(7690)),O=k(n(376)),N=k(n(380)),R=k(n(979)),P=k(n(521)),L=n(1222),w=k(L),D=n(301),U=n(0),G=n(516);function k(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var x={spotify:"Spotify"};function j(e,t,n,r){var o=null!=r.application_id?v.default.getFirstLibraryApplication(r.application_id):null;T.default.track(U.AnalyticEvents.APPLICATION_OPENED,{type:e,source:U.AnalyticsLocations.MESSAGE_EMBED,application_id:r.application_id,party_id:null!=r.party?r.party.id:void 0,other_user_id:t,message_id:n,distributor:null!=o?o.getDistributor():null})}var H=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return B.call(r),r.handleJoin=r.handleJoin.bind(r),r.handleSpectate=r.handleSpectate.bind(r),r.handleSync=r.handleSync.bind(r),r.handleDownloadApp=r.handleDownloadApp.bind(r),r.renderUserPopout=r.renderUserPopout.bind(r),r.renderSpotifyJoinButton=r.renderSpotifyJoinButton.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCoverImage=function(){var e=this.props,t=e.activity,n=e.connectedApplication,r=e.applicationId,o=e.coverImage,a=e.isPreview,i=e.message;if(a||null!=i&&(0,b.isInviteActive)(t,i,r)){var l=(0,b.getCoverImageFromActivity)(t,r);if(null!=l)return l}return null!=r?A.default.getApplicationIconURL({id:r,icon:null!=n?n.coverImage:o,size:U.ACTIVITY_INVITE_COVER_IMAGE_SIZE}):null},t.prototype.handleJoin=function(){var e=this.props,t=e.activity,n=e.userId,r=e.applicationId,o=e.message,a=e.channelId;null!=t&&null!=n&&null!=o&&null!=t.session_id&&null!=t.application_id&&null!=r&&(_.default.join(n,t.session_id,r,a,o.id),j(U.AnalyticsGameOpenTypes.JOIN,n,o.id,t))},t.prototype.handleSpectate=function(){var e=this.props,t=e.activity,n=e.userId,r=e.applicationId,o=e.message,a=e.channelId;null!=t&&null!=n&&null!=o&&null!=t.session_id&&null!=t.application_id&&null!=r&&(_.default.spectate(n,t.session_id,r,a,o.id),j(U.AnalyticsGameOpenTypes.SPECTATE,n,o.id,t))},t.prototype.handleSync=function(){var e=this.props,t=e.activity,n=e.userId;null!=t&&null!=n&&E.sync(t,n)},t.prototype.handleDownloadApp=function(){g.default.push(N.default,{source:"Game Invite"})},t.prototype.handleOpenSpotifyTrack=function(e){(0,D.openTrack)(e)},t.prototype.handleOpenSpotifyArtist=function(e,t,n){(0,D.openArtist)(e,t,n)},t.prototype.handleOpenSpotifyAlbum=function(e,t){(0,D.openAlbum)(e,t)},t.prototype.renderUserPopout=function(e,t){var n=this.props,r=n.channelId,o=n.guildId;return null==r?null:i.createElement(P.default,a({},t,{user:e,guildId:o,channelId:r}))},t.prototype.renderSpotifyJoinButton=function(e){var t=this.props,n=t.channelId,r=t.guildId;return i.createElement(w.default,a({type:L.SpotifyButtonTypes.EMBED_SYNC,guildId:r,channelId:n,source:"Invite Embed"},e))},t.prototype.shouldRenderCustomButton=function(){var e=this.props,t=e.application,n=e.isLaunchable;return null!=t&&null!=t.primarySkuId&&!n&&I.default.embedded},t.prototype.render=function(){return o(O.default,{section:O.default.Sections.APPLICATION_EMBED},void 0,o(G.BackgroundOpacityContext.Consumer,{},void 0,this.renderEmbed))},t}(i.PureComponent);H.defaultProps={isPreview:!1};var B=function(){var e=this;this.renderCustomButton=function(t){return i.createElement(R.default,a({},t,{source:U.AnalyticsLocations.MESSAGE_EMBED,application:e.props.application}))},this.renderEmbed=function(t){var n=e.props,r=n.activity,a=n.partyId,i=n.myPartyId,l=n.application,s=n.applicationId,u=n.name,c=n.partyMembers,d=n.isPreview,f=n.isLaunching,p=n.activityActionType,h=n.className,m=n.channelId,y=n.message,v=n.hideParty,_=n.isSyncable,g=n.isLaunchable,E=void 0;if(null!=l)E=l.name;else if(null!=u)E=u;else if(null!=a){var T=a.split(":")[0];E=x[T]}return o(M.default,{activity:r,partyId:a,myPartyId:i,applicationId:s,name:E,partyMembers:c,className:h,coverImage:e.getCoverImage(),isPreview:d,isGameLaunchable:g,isLaunching:f,activityActionType:p,isInBrowser:!I.default.embedded,isSyncable:_,channelId:m,message:y,hideParty:v,onJoin:e.handleJoin,onSpectate:e.handleSpectate,onSync:e.handleSync,onDownloadApp:e.handleDownloadApp,onOpenSpotifyTrack:e.handleOpenSpotifyTrack,onOpenSpotifyArtist:e.handleOpenSpotifyArtist,onOpenSpotifyAlbum:e.handleOpenSpotifyAlbum,renderUserPopout:e.renderUserPopout,renderSpotifyJoinButton:e.renderSpotifyJoinButton,backgroundOpacity:t.backgroundOpacity,renderCustomButton:e.shouldRenderCustomButton()?e.renderCustomButton:null})}};H.displayName="ActivityInviteEmbedContainer",t.default=l.default.connectStores([f.default,s.default,d.default,u.default,c.default,p.default,h.default,m.default,y.default,v.default],function(e){var t=e.activity,n=e.applicationId,r=e.partyId,o=e.userId,a=e.guildId,i=null!=t&&null!=t.party&&t.party.id===r?u.default.getParty(t.party.id):null,l=n?d.default.getApplicationActivity(n):d.default.findActivity(function(e){return e.type===U.ActivityTypes.LISTENING}),_=!1,g=!1;null!=n&&(_=f.default.getState(n,U.ActivityActionTypes.JOIN)===U.ActivityActionStates.LOADING,g=f.default.getState(n,U.ActivityActionTypes.SPECTATE)===U.ActivityActionStates.LOADING);var E=Array.from(i||[]).map(function(e){var t=a?p.default.getMember(a,e):null,n=null!=t?t.nick:null,r=c.default.getUser(e),o=null==r;return null==r&&(r=new C.default({discriminator:"0005"})),{user:r,unknownUser:o,nick:n}}),I=null!=t&&h.default.canPlay(t),T=h.default.getSyncingWith(),A=null!=T&&null!=o&&T.userId===o,b=I&&!A;return{partyMembers:E,connectedApplication:null!=n?s.default.getApplication(n):null,application:null!=n?m.default.getGame(n):null,myPartyId:null!=l&&null!=l.party?l.party.id:null,isLaunching:_||g,isSyncable:b,isLaunchable:null!=n&&(0,S.isLaunchable)(v.default,m.default,y.default,s.default,n)}})(H),e.exports=t.default},6770:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(3)),o=i(n(2)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={},s="",u="";var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getResults=function(e,t){if(null==e||null==t)return null;var n=l[e];return null!=n&&null!=n[t]?n[t]:null},t.prototype.getQuery=function(){return{integration:s,query:u}},t}(r.default.Store);t.default=new c(o.default,{INTEGRATION_QUERY:function(e){var t=e.integration,n=e.query;l[t]=l[t]||{},l[t][n]={loading:!0,results:[]}},INTEGRATION_QUERY_SUCCESS:function(e){var t=e.integration,n=e.query,r=e.results;l[t][n].loading=!1,l[t][n].results=r.map(function(e){return{type:a.ChannelTextAreaIntegrations[t].type,meta:e}}),u=n,s=t},INTEGRATION_QUERY_FAILURE:function(e){var t=e.integration,n=e.query;delete l[t][n]}}),e.exports=t.default},6830:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2)),o=i(n(12)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={setDiversityColor:function(e){r.default.dispatch({type:a.ActionTypes.EMOJI_DIVERSITY_COLOR_CHANGE,color:e})},fetchEmoji:function(e){r.default.maybeDispatch({type:a.ActionTypes.EMOJI_FETCH,guildId:e}),o.default.get({url:a.Endpoints.GUILD_EMOJIS(e)}).then(function(t){return r.default.dispatch({type:a.ActionTypes.EMOJI_FETCH_SUCCESS,guildId:e,emojis:t.body})},function(){return r.default.dispatch({type:a.ActionTypes.EMOJI_FETCH_FAILURE,guildId:e})})},uploadEmoji:function(e,t,n){return r.default.dispatch({type:a.ActionTypes.EMOJI_UPLOAD_START,guildId:e}),o.default.post({url:a.Endpoints.GUILD_EMOJIS(e),body:{image:t,name:n}}).then(function(){return r.default.dispatch({type:a.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e})},function(t){return r.default.dispatch({type:a.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e}),Promise.reject(t)})},deleteEmoji:function(e,t){r.default.dispatch({type:a.ActionTypes.EMOJI_DELETE,guildId:e,emojiId:t}),o.default.delete({url:a.Endpoints.GUILD_EMOJI(e,t)})},updateEmoji:function(e,t,n){o.default.patch({url:a.Endpoints.GUILD_EMOJI(e,t),body:{name:n}})}},e.exports=t.default},6834:function(e,t,n){"use strict";t.__esModule=!0,t.sortByMatchScore=function(e,t){if(e.score===t.score){var n=e.comparator.toLocaleLowerCase(),r=t.comparator.toLocaleLowerCase();if(n<r)return-1;if(n>r)return 1}return t.score-e.score}},6848:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(1)),a=f(n(11)),i=f(n(35)),l=f(n(6)),s=p(n(6096)),u=f(n(6367)),c=f(n(8046)),d=f(n(109));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){var t=["openFile"];e.multiple&&t.push("multiSelections");var n=e.filters,r=s.maxFileSize();d.default.fileManager.openFiles({properties:t,filters:n},r,s.makeFile).then(function(t){null!=t&&e.onChange({stopPropagation:function(){return null},preventDefault:function(){return null},currentTarget:{files:t}})},function(e){if("ETOOLARGE"!==e.code)throw e;i.default.push(u.default,{title:l.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:l.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:s.sizeString(r)})})})}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setRef=r.setRef.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.activateUploadDialogue=function(){if(this._ref)return this._ref.activateUploadDialogue()},t.prototype.setRef=function(e){this._ref=e},t.prototype.render=function(){return o.createElement(c.default,r({ref:this.setRef,handleNativeClick:h,embedded:a.default.isDesktop()},this.props))},t}(o.Component);m.displayName="FileInput",t.default=m,e.exports=t.default},7179:function(e,t,n){"use strict";t.__esModule=!0,t.FOCUS_SEARCH=void 0;var r=n(116),o=n(0);t.FOCUS_SEARCH={binds:["mod+f"],global:!0,action:function(e){e.preventDefault(),e.stopPropagation(),r.ComponentDispatch.dispatch(o.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!0})}}},7180:function(e,t,n){"use strict";t.__esModule=!0,t.UPLOAD_FILE=void 0;var r=n(116),o=l(n(18)),a=l(n(65)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.UPLOAD_FILE={binds:["mod+shift+u"],global:!0,action:function(){var e=o.default.getChannel(a.default.getChannelId());return null==e||e.isManaged()||r.ComponentDispatch.dispatch(i.ComponentActions.UPLOAD_FILE),!1}};t.default={UPLOAD_FILE:s}},7181:function(e,t,n){"use strict";t.__esModule=!0,t.CREATE_GUILD=void 0;var r=l(n(6111)),o=l(n(6624)),a=n(116),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=t.CREATE_GUILD={binds:["mod+shift+n"],global:!0,action:function(){o.default.isOpen()?(r.default.setScreen(i.CreateGuildModalScreens.JoinGuild),a.ComponentDispatch.dispatch(i.ComponentActions.TRANSITION_JOIN_GUILD)):r.default.open(null,"Keyboard Shortcut")}};t.default={CREATE_GUILD:s}},7182:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_HELP=void 0;var r=n(371),o=t.TOGGLE_HELP={binds:["mod+shift+h","f1"],global:!0,action:function(){return window.open(r.SUPPORT_LOCATION),!1}};t.default={TOGGLE_HELP:o}},7183:function(e,t,n){"use strict";t.__esModule=!0,t.SEARCH_GIFS=void 0;var r=n(116),o=n(0),a=t.SEARCH_GIFS={binds:["mod+g"],global:!0,action:function(){return r.ComponentDispatch.dispatch(o.ComponentActions.TOGGLE_GIF_PICKER),!1}};t.default={SEARCH_GIFS:a}},7184:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_USERS=void 0;var r,o=n(6652),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);var l=t.TOGGLE_USERS={binds:["mod+u"],global:!0,action:function(){return a.default.toggleSection(i.ChannelSections.MEMBERS),!1}};t.default={TOGGLE_USERS:l}},7185:function(e,t,n){"use strict";t.__esModule=!0,t.CREATE_DM_GROUP=void 0;var r=n(116),o=s(n(187)),a=s(n(6099)),i=n(6120),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=t.CREATE_DM_GROUP={binds:["mod+shift+t"],global:!0,action:function(){return o.default.getGuildId()&&((0,i.transitionToChannel)(l.ME),a.default.flushSelection(!0)),r.ComponentDispatch.safeDispatch(l.ComponentActions.TOGGLE_DM_CREATE),!1}};t.default={CREATE_DM_GROUP:u}},7186:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_MENTIONS=void 0;var r=n(116),o=n(0),a=t.TOGGLE_MENTIONS={binds:["mod+i"],global:!0,action:function(){return r.ComponentDispatch.dispatch(o.ComponentActions.TOGGLE_MENTIONS),!1}};t.default={TOGGLE_MENTIONS:a}},7187:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_CHANNEL_PINS=void 0;var r=n(116),o=n(0),a=t.TOGGLE_CHANNEL_PINS={binds:["mod+p"],global:!0,action:function(){return r.ComponentDispatch.dispatch(o.ComponentActions.TOGGLE_CHANNEL_PINS),!1}};t.default={TOGGLE_CHANNEL_PINS:a}},7188:function(e,t,n){"use strict";t.__esModule=!0;var r=f(n(7)),o=f(n(386)),a=f(n(525)),i=f(n(943)),l=f(n(935)),s=n(6120),u=n(382),c=n(116),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e===d.ME)return a.default.getPrivateChannelIds();var t=i.default.getCategories(e);return(0,u.getFlattenedChannelList)(t._categories,t,function(e){var t=e.channel;return t.type===d.ChannelTypes.GUILD_TEXT&&!(0,u.isChannelCollapsed)(t)}).map(function(e){return e.channel.id})}t.default=r.default.throttle(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return!0},r=l.default.getGuildId()||d.ME,a=function(e,t){var n=[d.ME].concat(o.default.guildPositions),r=n.indexOf(e);return t>0?n.slice(r).concat(n.slice(0,r),e):(n.splice(r,0,e),n.slice(r+1).concat(n.slice(0,r+1)))}(r,e),i=e>0?0:a.length-1,u=p(r),f=u.indexOf(l.default.getChannelId(r))+e,h=void 0;r;){if(h=u[f],n(r))for(;h;){if(t(r,h))return(0,s.transitionToChannel)(r,h);h=u[f+=e]}if(!(r=a[i+=e]))break;u=p(r),f=e<0?u.length-1:0}c.ComponentDispatch.dispatch(d.ComponentActions.SHAKE_APP,{duration:200,intensity:2})},d.NAVIGATION_THROTTLE),e.exports=t.default},7189:function(e,t,n){"use strict";var r;t.__esModule=!0;var o=p(n(7)),a=n(6120),i=p(n(935)),l=p(n(525)),s=p(n(943)),u=p(n(6645)),c=p(n(6100)),d=n(382),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=[f.Routes.ACTIVITY,f.Routes.APPLICATION_LIBRARY,f.Routes.APPLICATION_STORE,f.Routes.FRIENDS],m=((r={})[f.Routes.ACTIVITY]=0,r[f.Routes.APPLICATION_LIBRARY]=1,r[f.Routes.APPLICATION_STORE]=2,r[f.Routes.FRIENDS]=3,r);function y(e,t){(0,a.transitionToChannel)(e,t)}function v(e){var t=i.default.getChannelId(f.ME),n=l.default.getPrivateChannelIds(),r=__OVERLAY__?n:[].concat(h,n),o=(null==t?function(e){for(var t in m)if(e.startsWith(t))return m[t];return-1}(c.default.getHomeLink()):r.indexOf(t))+e;o>=r.length?o=0:o<0&&(o=r.length-1);var s,d,p=r[o];h.includes(p)?(s=p,d=u.default.getCurrentRoute(),s===f.Routes.APPLICATION_STORE&&null!=d?(0,a.transitionToPage)(d):(0,a.transitionToPage)(s)):y(f.ME,p)}t.default=o.default.throttle(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=i.default.getGuildId();null==t?v(e):function(e,t){var n,r,o=s.default.getCategories(t),a=(0,d.getFlattenedChannelList)(o._categories,o,function(e){var t=e.channel;return t.type===f.ChannelTypes.GUILD_TEXT&&!(0,d.isChannelCollapsed)(t)}).map(function(e){return e.channel.id}),l=i.default.getChannelId(t);y(t,a[(n=a.indexOf(l)+e,r=a.length,n<0?r-1:n>=r?0:n)])}(e,t)},f.NAVIGATION_THROTTLE),e.exports=t.default},7190:function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(7)),o=c(n(6100)),a=c(n(386)),i=c(n(935)),l=c(n(65)),s=n(6120),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.throttle(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=a.default.guildPositions,n=i.default.getGuildId(),r=-1;n&&(r=t.indexOf(n)),-2===(r+=e)&&(r=t.length-1);var u=void 0;if(r>=t.length||r<0)(0,s.transitionToPage)(o.default.getHomeLink());else{u=t[r];var c=l.default.getChannelId(u);(0,s.transitionToChannel)(u,c===u?null:c)}},u.NAVIGATION_THROTTLE),e.exports=t.default},7610:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(6492),s=n(281),u=n(224),c=(o=u)&&o.__esModule?o:{default:o};function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=.2,p={toValue:0,duration:1e3,delay:1e3},h=(0,l.hexWithOpacity)(s.Colors.BRAND,0),m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.state={backgroundColor:new c.default.Value},r.flashNow=function(){var e=r.props.onFlashComplete;r.state.backgroundColor.setValue(f),c.default.timing(r.state.backgroundColor,p).start(e)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.flashNow()},t.prototype.componentDidUpdate=function(e){e.sequenceId!==this.props.sequenceId&&this.flashNow()},t.prototype.render=function(){var e={backgroundColor:this.state.backgroundColor.interpolate({inputRange:[0,1],outputRange:[h,s.Colors.BRAND]}),borderRadius:2};return a(c.default.div,{style:e},void 0,this.props.children)},t}(i.Component);m.displayName="BackgroundFlash",t.default=m,e.exports=t.default},7611:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(6)),l=c(n(279)),s=n(0),u=c(n(5925));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=r=d(this,e.call.apply(e,[this].concat(i))),r.node=a.createRef(),r.onClickSave=function(){var e=r.props.value;r.onSubmit(e)},r.onSubmit=function(e){var t=r.props,n=t.message,o=t.channel,a=t.onConfirmDelete,i=t.onCancel,s=t.saveMessage,u=t.validateEdit;return 0===e.length?(a(o,n),i(),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):u({value:e,channel:o}).then(function(t){if(!t.valid)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});var n=l.default.parse(r.props.channel,e,!0);return n.content!==r.props.message.content&&s(r.props.channel.id,r.props.message.id,n),i(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})})},r.onChange=function(e,t){(0,r.props.onChange)(t)},r.onKeyDown=function(e){if(e.keyCode===s.KeyboardKeys.ESCAPE&&!e.shiftKey){var t=r.props.onCancel;e.preventDefault(),t()}},r.onResize=function(){var e=r.props.onResize,t=r.node.current;e&&t instanceof HTMLElement&&e(t)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.value,r=e.message,l=e.channel,s=e.onCancel,c=e.children;return a.createElement("div",{className:t,ref:this.node},c({value:n,message:r,channel:l,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown,onResize:this.onResize}),o("div",{className:u.default.operations},void 0,i.default.Messages.EDIT_TEXTAREA_HELP.format({onCancel:s,onSave:this.onClickSave})))},t}(a.PureComponent);f.displayName="MessageEditor",t.default=f,e.exports=t.default},7612:function(e,t,n){"use strict";t.__esModule=!0,t.Message=t.MessageAvatar=t.ClickOverlay=t.LocalBotMessage=t.MessageUsername=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.MessageTimestamp=O;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=I(n(9)),s=I(n(276)),u=I(n(225)),c=I(n(81)),d=I(n(265)),f=I(n(1029)),p=I(n(7611)),h=I(n(6753)),m=I(n(7610)),y=n(0),v=I(n(6)),_=n(88),g=n(523),E=I(n(5924));function I(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C={LATIN12:E.default.latin12CompactTimeStamp,LATIN24:E.default.latin24CompactTimeStamp,ASIAN:E.default.asianCompactTimeStamp},b=5,M=/(AM|PM)$/;function O(e){var t,n=e.isCompact,r=void 0!==n&&n,o=e.timestamp,i=e.isVisibleOnlyOnHover,s=void 0!==i&&i,u=e.isMentioned,c=e.backgroundOpacity,d=r?(0,g.dateFormat)(o,"LT"):(0,g.calendarFormat)(o),f=r?function(e){return e.match(M)?C.LATIN24:e.length<=b?C.LATIN12:C.ASIAN}(d):null;return a("time",{className:(0,l.default)(f,E.default[c+"BackgroundOpacity"],(t={},t[E.default.timestampVisibleOnHover]=s,t[E.default.timestampCozy]=!r,t[E.default.timestampCompact]=r&&!u,t[E.default.timestampCompactIsMentioned]=r&&u,t)),dateTime:o},void 0,r&&a("i",{className:E.default.separatorLeft},void 0,"["),d,r&&a("i",{className:E.default.separatorRight},void 0,"] "))}O.displayName="MessageTimestamp";var N=t.MessageUsername=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=S(this,e.call.apply(e,[this].concat(a))),r.onClick=function(e){var t=r.props,n=t.message;(0,t.onClick)(e,n)},S(r,n)}return A(t,e),t.prototype.onMouseDown=function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation())},t.prototype.render=function(){var e=this.props,t=e.message,n=e.isCompact,r=e.renderPopout,o=e.popoutPosition,i=e.onContextMenu,s=e.backgroundOpacity,d=t.colorString?{color:t.colorString}:null,p=t.author.bot?a(f.default,{className:n?E.default.botTagCompact:E.default.botTagCozy}):null;return a(u.default,{closeOnScroll:!1,render:r,position:o,shadow:!n},void 0,a("span",{onContextMenu:i,className:E.default.usernameWrapper},void 0,n?p:null,a(c.default,{tag:"span",className:(0,l.default)(E.default.username,E.default[s+"BackgroundOpacity"]),style:d,onMouseDown:this.onMouseDown,onClick:this.onClick},void 0,t.nick||t.author.toString()),n&&a("i",{className:E.default.separatorRight},void 0,": "),n?null:p))},t}(i.Component);N.defaultProps={isCompact:!1},N.displayName="MessageUsername";var R=t.LocalBotMessage=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=S(this,e.call.apply(e,[this].concat(a))),r.onDeleteMessages=function(){var e=r.props,t=e.messages,n=e.channelId,o=e.onDeleteMessage;t.forEach(function(e){return o(n,e.id,!0)})},S(r,n)}return A(t,e),t.prototype.render=function(){var e=this.props.messages.length;return a("div",{className:E.default.localBotMessage},void 0,v.default.Messages.ONLY_YOU_CAN_SEE_AND_DELETE_THESE.format({count:e,handleDelete:this.onDeleteMessages}))},t}(i.Component);R.displayName="LocalBotMessage";var P=t.ClickOverlay=function(e){var t=e.onClick,n=e.label;return t&&n?a(c.default,{className:E.default.clickOverride,onClick:t,"aria-label":n}):a("div",{className:E.default.disableInteraction})},L=t.MessageAvatar=function(e){var t=e.user,n=e.isAnimated,r=e.onContextMenu,o=e.renderPopout,i=(0,_.hasAnimatedAvatar)(t),l=n&&i?t.getAvatarURL("gif"):t.getAvatarURL("jpg");return a(u.default,{closeOnScroll:!1,render:o,position:u.default.Positions.RIGHT,shadow:!1},void 0,a(d.default,{"aria-hidden":!0,src:l,size:d.default.Sizes.LARGE,className:E.default.avatar,onContextMenu:r,tabIndex:-1}))};L.displayName="MessageAvatar";var w=t.Message=function(e){function t(){var n,r;T(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=S(this,e.call.apply(e,[this].concat(s))),r.setRef=function(e){var t=r.props,n=t.registerMessageDOMNode,o=t.message;e&&(r.ref=e,null!=n&&n(o.id,e))},r.onClick=function(e){var t=r.props,n=t.onManualAck,o=t.channel,a=t.message;e.altKey&&(e.preventDefault(),n(o.id,a.id))},r.onContextMenuMessage=function(e,t){var n=r.props.onContextMenuMessage,a=e.target;n(e,o({target:a},t))},r.onContextMenuUser=function(e){var t=r.props,n=t.channel,o=t.message.author;(0,t.onContextMenuUser)(e,{user:o,channel:n})},r.onClickUsername=function(e,t){var n=r.props,o=n.onClickUsername,a=n.channel;o(e,{user:t.author,channel:a})},r.onResize=function(e){var t=r.props;(0,t.onResize)({target:e,isEditing:t.isEditing})},r.renderPopoutUser=function(e){var t=r.props,n=t.renderPopoutUser,a=t.channel,i=t.message.author,l=a.getGuildId(),s=a.id;return n(o({channelId:s,guildId:l,user:i},e))},r.renderCompactHeader=function(){var e=r.props,t=e.message,n=e.isHeader,o=e.isEditing,l=e.popoutPosition,s=e.backgroundOpacity,u=o||n,c=t.mentioned,d={message:t,isCompact:!0,renderPopout:r.renderPopoutUser,popoutPosition:l,onContextMenu:r.onContextMenuUser,onClick:r.onClickUsername,backgroundOpacity:s};return a("h2",{className:E.default.headerCompact},void 0,a(O,{isVisibleOnlyOnHover:!u,isCompact:!0,timestamp:t.timestamp,isMentioned:c,backgroundOpacity:s}),i.createElement(N,d))},S(r,n)}return A(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.isEditing,r=t.message,o=t.onResize,a=t.registerMessageDOMNode,i=e.message.embeds!==r.embeds||e.message.attachments!==r.attachments||e.message.reactions.length!==r.reactions.length;this.ref&&i&&o({isEditing:n,target:this.ref});var l=e.isEditing!==n;this.ref&&l&&o({isEditing:!0,target:this.ref}),e.registerMessageDOMNode!==a&&a&&this.ref&&a(r.id,this.ref)},t.prototype.renderCompact=function(){var e=this.props,t=e.message,n=e.channel,r=e.renderAccessories,o=e.renderEditor,l=e.renderButtons,s=e.editingContent,u=e.isEditing,c=e.onCancelEditing,d=e.onChange,f=e.onConfirmDelete,m=e.saveMessage,y=e.validateEdit,v=e.disableButtons,_=e.disableMentionStyles,g=e.isDisabled;return i.createElement("div",{ref:this.setRef,className:E.default.messageCompact,"aria-disabled":g,onClick:this.onClick},u&&this.renderCompactHeader(),u&&null!=s?a(p.default,{className:E.default.messageEditorCompact,channel:n,message:t,value:s,children:o,onCancel:c,onChange:d,onConfirmDelete:f,onResize:this.onResize,saveMessage:m,validateEdit:y}):a(h.default,{className:E.default.contentCompact,channel:n,message:t,isCompact:!0,onContextMenu:this.onContextMenuMessage,renderButtons:l,renderPrefix:this.renderCompactHeader,disableButtons:v,disableMentionStyles:_}),r({message:t}))},t.prototype.renderCozy=function(){var e=this.props,t=e.message,n=e.channel,r=e.renderAccessories,o=e.renderEditor,s=e.renderButtons,u=e.isFocusedWindow,c=e.disableAvatarAnimation,d=e.editingContent,f=e.isEditing,m=e.isHeader,y=e.onCancelEditing,v=e.onChange,_=e.onConfirmDelete,g=e.saveMessage,I=e.validateEdit,T=e.popoutPosition,S=e.disableButtons,A=e.disableMentionStyles,C=e.isDisabled,b=e.cozyClassName,M=e.backgroundOpacity,R={message:t,isCompact:!1,renderPopout:this.renderPopoutUser,popoutPosition:T,onContextMenu:this.onContextMenuUser,onClick:this.onClickUsername,backgroundOpacity:M};return i.createElement("div",{ref:this.setRef,className:(0,l.default)(b,E.default.messageCozy),"aria-disabled":C,onClick:this.onClick},m?a("div",{className:E.default.headerCozy},void 0,a(L,{user:t.author,onContextMenu:this.onContextMenuUser,renderPopout:this.renderPopoutUser,isAnimated:!c&&u}),a("h2",{className:E.default.headerCozyMeta},void 0,i.createElement(N,R),a(O,{timestamp:t.timestamp,backgroundOpacity:M}))):null,a("div",{className:E.default.contentCozy},void 0,f&&null!=d?a(p.default,{channel:n,message:t,value:d,children:o,onCancel:y,onChange:v,onConfirmDelete:_,onResize:this.onResize,saveMessage:g,validateEdit:I}):a(h.default,{channel:n,message:t,isCompact:!1,onContextMenu:this.onContextMenuMessage,renderButtons:s,renderPrefix:null,disableButtons:S,disableMentionStyles:A}),r({message:t})))},t.prototype.render=function(){var e=this.props,t=e.isCompact,n=e.disableJumpFlash,r=e.jumpSequenceId,o=t?this.renderCompact():this.renderCozy();return r&&!n?a(m.default,{sequenceId:r},void 0,o):o},t}(i.Component);w.defaultProps={disableAvatarAnimation:!0,isFocusedWindow:!0},w.displayName="Message";var D=function(e){function t(){var n,r;T(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=S(this,e.call.apply(e,[this].concat(i))),r.state={disableAvatarAnimation:!0,isAnimatableAvatar:(0,_.hasAnimatedAvatar)(r.props.messages[0]&&r.props.messages[0].author)},r.onMouseEnter=function(){return r.setState({disableAvatarAnimation:!1})},r.onMouseLeave=function(){return r.setState({disableAvatarAnimation:!0})},r.renderButtonsMessage=function(e){var t=e.message,n=e.channel,o=r.props.renderButtonsMessage;return null==o?null:a("div",{className:E.default.buttonContainer},void 0,o({message:t,channel:n}))},S(r,n)}return A(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=this.props.messages;if(n.length!==e.messages.length)return!0;if(!(0,s.default)(this.props,e,["messages"])||!(0,s.default)(this.state,t))return!0;for(var r=!1,o=!1,a=!1,i=0,l=n.length;i<l;i++){var u=e.messages[i];if(!r&&u.reactions.length&&(r=!0),!o&&u.embeds.length&&(o=!0),!a&&u.attachments.length&&(a=!0),n[i]!==u)return!0}var c=this.props,d=c.disableReactionReads,f=c.disableReactionCreates,p=c.disableReactionUpdates,h=c.disableAutoPlayGif,m=c.disableEmbeds,y=c.disableManageMessages,v=c.disableDeveloperMode;return!(!r||p===e.disableReactionUpdates&&d===e.disableReactionReads)||(!(!o||h===e.disableAutoPlayGif&&m===e.disableEmbeds)||(!(!a||h===e.disableAutoPlayGif)||(f!==e.disableReactionCreates||y!==e.disableManageMessages||v!==e.disableDeveloperMode)))},t.getDerivedStateFromProps=function(e,t){var n=e.messages[0],r=n&&(0,_.hasAnimatedAvatar)(n.author);return r!==t.isAnimatableAvatar?{isAnimatableAvatar:r}:null},t.prototype.render=function(){var e,t=this,n=this.props,r=n.messages,s=n.channel,u=n.editingMessageId,c=n.renderButtonsGroup,d=n.renderSystemMessage,f=n.onClick,p=n.onDeleteMessage,h=n.disableInteraction,m=n.disableInteractionLabel,v=n.disableDivider,_=n.editingContent,g=n.isCompact,I=n.jumpMessageId,T=n.jumpSequenceId,S=n.className,A=n.backgroundOpacity,C=(n.renderButtonsMessage,n.disableReactionReads,n.disableReactionCreates,n.disableReactionUpdates,n.disableAutoPlayGif,n.disableEmbeds,n.disableManageMessages,n.disableDeveloperMode,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["messages","channel","editingMessageId","renderButtonsGroup","renderSystemMessage","onClick","onDeleteMessage","disableInteraction","disableInteractionLabel","disableDivider","editingContent","isCompact","jumpMessageId","jumpSequenceId","className","backgroundOpacity","renderButtonsMessage","disableReactionReads","disableReactionCreates","disableReactionUpdates","disableAutoPlayGif","disableEmbeds","disableManageMessages","disableDeveloperMode"])),b=this.state,M=b.isAnimatableAvatar,O=b.disableAvatarAnimation,N=r[0]&&r[0].author,L=N&&N.isLocalBot(),D=null!=f||h;return a("div",{className:(0,l.default)(S,(e={},e[E.default.isLocalBot]=L,e[E.default.containerCompactBounded]=g&&null==u,e[E.default.containerCozyBounded]=!g&&null==u,e[E.default.containerCompact]=g&&null!=u,e[E.default.containerCozy]=!g&&null!=u,e)),onMouseEnter:M?this.onMouseEnter:null,onMouseLeave:M?this.onMouseLeave:null},void 0,r.map(function(e,n){if(!e)return null;if(e.type!==y.MessageTypes.DEFAULT)return a("div",{className:E.default.content},e.id,d({message:e,channel:s,renderButtons:t.renderButtonsMessage}));var r=u===e.id,l=e.id===I,f=o({},C,{isCompact:g,isEditing:r,isDisabled:D,channel:s,message:e,editingContent:_,disableAvatarAnimation:O,backgroundOpacity:A,jumpSequenceId:l?T:null,disableButtons:D||null!=c,isHeader:0===n,renderButtons:t.renderButtonsMessage});return i.createElement(w,o({},f,{key:e.id}))}),L&&a(R,{channelId:s.id,messages:r,onDeleteMessage:p}),D&&a(P,{onClick:f,label:m}),c&&c({messages:r,channel:s}),!L&&a("hr",{"aria-hidden":!0,className:(0,l.default)(v?E.default.divider:E.default.dividerEnabled,E.default[A+"BackgroundOpacity"])}))},t}(i.Component);D.defaultProps={popoutPosition:u.default.Positions.RIGHT,disableDivider:!0,disableInteraction:!1,disableReactionReads:!1,disableReactionCreates:!0,disableReactionUpdates:!0,disableAutoPlayGif:!1,disableEmbeds:!1,disableManageMessages:!0,disableDeveloperMode:!0,disableInteractionLabel:void 0},D.displayName="MessageGroup",t.default=D},7613:function(e,t,n){"use strict";t.__esModule=!0,t.MessageOptionPopout=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(45)),l=n(385),s=n(0),u=p(n(6)),c=p(n(225)),d=p(n(9)),f=p(n(5926));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=t.MessageOptionPopout=function(e){function t(){var n,r;h(this,t);for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return n=r=m(this,e.call.apply(e,[this].concat(c))),r.handleCopyID=function(e){var t=r.props,n=t.message,o=t.onClose;(0,l.copy)(e.shiftKey?n.channel_id+"-"+n.id:n.id),o()},r.handleCopyLink=function(){var e=r.props,t=e.channel,n=e.message,o=e.onClose;(0,l.copy)(location.protocol+"//"+location.host+s.Routes.MESSAGE(t.guild_id,t.id,n.id)),o()},r.handleEdit=function(){var e=r.props,t=e.channel,n=e.message,o=e.onClose;(0,e.onStartEditMessage)(t.id,n.id,n.content),o()},r.handleRetry=function(){var e=r.props,t=e.channel,n=e.message,o=e.onClose;(0,e.onRetrySendMessage)(t,n.id,n.content,n.tts),o()},r.handleDelete=function(){var e=r.props,t=e.onDeleteMessage,n=e.onClose,o=e.onConfirmDelete;r.props.message.state===s.MessageStates.SEND_FAILED?t(r.props.channel.id,r.props.message.id,!0):o(r.props.channel,r.props.message),n()},r.handleReactions=function(){var e=r.props,t=e.onClose,n=e.message;(0,e.onShowReactionsModal)({message:n}),t()},r.handlePin=function(){var e=r.props,t=e.onConfirmPin,n=e.channel,o=e.message,a=e.onClose;t(n,o),a()},r.handleJoinNotifConfiguration=function(){var e=r.props,t=e.channel,n=e.onClose,o=e.onOpenGuildSettings,a=t.getGuildId();null!=a&&o(a,s.GuildSettingsSections.OVERVIEW),n()},r.handleUnpin=function(e){var t=r.props,n=t.onUnpinMessage,o=t.onConfirmUnpin,a=t.channel,i=t.onClose,l=t.message;e.shiftKey?n(a,l.id):o(a,l),i()},r.renderJoinNotificationOption=function(){var e=r.props,t=e.message,n=e.channel,a=e.onCanManageGuild,l=n.getGuildId();return null==l?null:t.type===s.MessageTypes.USER_JOIN&&a({guildId:l})?o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:r.handleJoinNotifConfiguration},void 0,u.default.Messages.CONFIGURE):null},m(r,n)}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.currentUserId,r=void 0,c=void 0,d=void 0,p=void 0,h=void 0,m=void 0;return t.state===s.MessageStates.SEND_FAILED?r=o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleRetry,role:"menuitem"},void 0,u.default.Messages.RETRY):(this.props.canEdit&&t.author.id===n&&(c=o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleEdit,role:"menuitem"},void 0,u.default.Messages.EDIT)),this.props.canPin&&(d=!1===t.pinned?o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handlePin,role:"menuitem"},void 0,u.default.Messages.PIN):o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleUnpin,role:"menuitem"},void 0,u.default.Messages.UNPIN))),l.SUPPORTS_COPY&&this.props.developerMode&&(p=o(a.Fragment,{},void 0,o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleCopyID,role:"menuitem"},void 0,u.default.Messages.COPY_ID),o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleCopyLink,role:"menuitem"},void 0,u.default.Messages.COPY_LINK))),this.props.canDelete&&(h=o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleDelete,role:"menuitem"},void 0,u.default.Messages.DELETE)),t.reactions.length&&(m=o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleReactions,role:"menuitem"},void 0,u.default.Messages.REACTIONS)),o("div",{className:f.default.container,role:"menu"},void 0,d,c,r,p,h,m,this.renderJoinNotificationOption())},t}(a.PureComponent);v.displayName="MessageOptionPopout";var _=function(e){function t(){var n,r;h(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=m(this,e.call.apply(e,[this].concat(i))),r.renderOptionPopout=function(e){var t=e.onClose,n=r.props,a=n.channel,i=n.message,l=n.canDelete,s=n.canEdit,u=n.canPin,c=n.developerMode,d=n.currentUserId,f=n.onStartEditMessage,p=n.onRetrySendMessage,h=n.onDeleteMessage,m=n.onConfirmPin,y=n.onOpenGuildSettings,_=n.onUnpinMessage,g=n.onConfirmUnpin,E=n.onCanManageGuild,I=n.onConfirmDelete,T=n.onShowReactionsModal;return o(v,{channel:a,message:i,developerMode:c,canEdit:s,canPin:u,canDelete:l,onClose:t,onStartEditMessage:f,onRetrySendMessage:p,onDeleteMessage:h,onConfirmDelete:I,onConfirmPin:m,onOpenGuildSettings:y,onUnpinMessage:_,onConfirmUnpin:g,onCanManageGuild:E,onShowReactionsModal:T,currentUserId:d})},m(r,n)}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.currentUserId,r=e.canDelete,a=e.canPin,i=e.developerMode,s=e.className;return t.author.isLocalBot()?null:t.author.id===n||r||a||l.SUPPORTS_COPY&&i?o(c.default,{closeOnScroll:!1,render:this.renderOptionPopout,position:c.default.Positions.BOTTOM,offsetY:-6},void 0,o("div",{className:(0,d.default)(f.default.button,s)})):null},t}(a.PureComponent);_.displayName="MessageOptionButton",t.default=_},7614:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=m(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(54))),l=m(n(66)),s=m(n(6)),u=m(n(234)),c=m(n(33)),d=n(0),f=n(544),p=m(n(233)),h=n(32);function m(e){return e&&e.__esModule?e:{default:e}}var y=(0,i.default)({displayName:"MessageRemoveReactionsItem",mixins:[u.default,l.default],propTypes:{channel:a.default.object.isRequired,message:a.default.object.isRequired},render:function(){return this.can(d.Permissions.MANAGE_MESSAGES,this.props.channel)&&this.props.message.reactions&&this.props.message.reactions.length>0?o(c.default,{label:s.default.Messages.REMOVE_ALL_REACTIONS,action:this.handleRemoveAllReactions,danger:!0}):null},handleRemoveAllReactions:function(e){var t=this;(0,h.closeContextMenu)(),e.shiftKey?(0,f.removeAllReactions)(this.props.channel.id,this.props.message.id):p.default.show({title:s.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_TITLE,body:s.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_BODY,confirmText:s.default.Messages.YES_TEXT,cancelText:s.default.Messages.NO_TEXT,onConfirm:function(){(0,f.removeAllReactions)(t.props.channel.id,t.props.message.id)}})}});t.default=y,e.exports=t.default},7615:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=h(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(54))),l=h(n(66)),s=h(n(6)),u=h(n(234)),c=h(n(33)),d=h(n(35)),f=h(n(6493)),p=n(32);function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.default)({displayName:"MessageReactionsItem",mixins:[u.default,l.default],propTypes:{channel:a.default.object.isRequired,message:a.default.object.isRequired},render:function(){return this.props.message.reactions&&this.props.message.reactions.length>0?o(c.default,{label:s.default.Messages.REACTIONS,action:this.handleReactions}):null},handleReactions:function(){(0,p.closeContextMenu)(),d.default.push(f.default,{message:this.props.message})}});t.default=m,e.exports=t.default},7616:function(e,t,n){e.exports=n.p+"24e5837679a970699e904d047c741540.svg"},7617:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(9))),i=s(n(81)),l=s(n(198));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n=e.styles,r=e.image,s=e.label,u=e.action,c=e.active,d=void 0!==c&&c,f=e.disabled,p=void 0!==f&&f,h=e.danger,m=void 0!==h&&h,y=void 0;return p||(y=function(e){return u(e,s,d)}),o(i.default,{className:(0,a.default)(l.default.item,l.default.itemImage,(t={},t[l.default.danger]=m,t)),style:n,onClick:y},void 0,o("div",{className:l.default.label},void 0,s),o("img",{alt:"",src:r}))};u.displayName="ImageMenuItem",t.default=u,e.exports=t.default},7618:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=A(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),A(n(54))),l=A(n(66)),s=A(n(6)),u=A(n(234)),c=A(n(292)),d=A(n(7617)),f=n(0),p=n(544),h=A(n(35)),m=A(n(6493)),y=n(116),v=A(n(88)),_=A(n(199)),g=A(n(238)),E=n(557),I=A(n(288)),T=A(n(28)),S=n(32);function A(e){return e&&e.__esModule?e:{default:e}}var C=(0,i.default)({displayName:"MessageAddReactionItem",mixins:[u.default,l.default],propTypes:{channel:a.default.object.isRequired,message:a.default.object.isRequired,invertChildY:a.default.bool},renderFrequentlyUsedEmojis:function(){var e=this,t=this.props.channel.getGuildId(),r=I.default.getDisambiguatedEmojiContext(t).getFrequentlyUsedEmojis().filter(function(t){return!_.default.isEmojiDisabled(t,e.props.channel)}).map(function(t){var n=void 0;n=null==t.id?_.default.getURL(t.surrogatePair):v.default.getEmojiURL({id:t.id,animated:t.animated});var r=void 0;r=null==t.id?g.default.convertSurrogateToName(t.surrogatePair):":"+t.name+":";var a=t.id||t.surrogatePair;return o(d.default,{label:r,image:n,action:function(){return e.handleAddReaction(t)}},a)});return r.push(o(d.default,{label:s.default.Messages.OTHER_REACTIONS,image:n(7616),action:this.renderEmojiPicker},"otherReactions")),r},render:function(){return T.default.renderReactions&&(this.props.channel.isPrivate()||this.can(f.Permissions.ADD_REACTIONS,this.props.channel))?o(c.default,{label:s.default.Messages.ADD_REACTION,render:this.renderFrequentlyUsedEmojis,invertChildY:this.props.invertChildY}):null},renderEmojiPicker:function(){(0,S.closeContextMenu)(),y.ComponentDispatch.dispatch(f.ComponentActions.TOGGLE_REACTION_POPOUT(this.props.message.id))},handleAddReaction:function(e){var t=this.props,n=t.channel,r=t.message;(0,p.addReaction)(n.id,r.id,(0,E.toReactionEmoji)(e)),(0,S.closeContextMenu)()},handleReactions:function(){h.default.push(m.default,{message:this.props.message})}});t.default=C,e.exports=t.default},7619:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=m(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(54))),l=m(n(66)),s=m(n(6)),u=m(n(33)),c=n(32),d=m(n(6336)),f=m(n(6335)),p=m(n(234)),h=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var y=(0,i.default)({displayName:"MessagePinItem",mixins:[l.default,p.default],propTypes:{channel:a.default.object.isRequired,message:a.default.object.isRequired},render:function(){var e=this.props,t=e.channel,n=e.message;return!this.can(h.Permissions.MANAGE_MESSAGES,t)&&!t.isPrivate()||n.state===h.MessageStates.SEND_FAILED?null:!1===n.pinned?o(u.default,{action:this.handlePin,label:s.default.Messages.PIN_MESSAGE}):o(u.default,{action:this.handleUnpin,label:s.default.Messages.UNPIN_MESSAGE})},handlePin:function(e){(0,c.closeContextMenu)(),e.shiftKey?d.default.pinMessage(this.props.channel,this.props.message.id):f.default.confirmPin(this.props.channel,this.props.message)},handleUnpin:function(e){(0,c.closeContextMenu)(),e.shiftKey?d.default.unpinMessage(this.props.channel,this.props.message.id):f.default.confirmUnpin(this.props.channel,this.props.message)}});t.default=y,e.exports=t.default},7620:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(33)),s=n(32),u=d(n(146)),c=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleResendMessage=function(){var e=r.props,t=e.channel,n=e.message;(0,s.closeContextMenu)(),u.default.retrySendMessage(t,n.id,n.content,n.tts)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.message.state===c.MessageStates.SEND_FAILED?o(l.default,{label:i.default.Messages.RESEND_MESSAGE,action:this.handleResendMessage}):null},t}(a.PureComponent);p.displayName="MessageResendItem",t.default=p,e.exports=t.default},7621:function(e,t,n){"use strict";t.__esModule=!0,t.canReportInChannel=c,t.canReportUser=d,t.canReportMessage=function(e){return null!=e&&d(e.author)&&c(e.getChannelId())};var r=n(0),o=s(n(14)),a=s(n(118)),i=s(n(18)),l=s(n(396));function s(e){return e&&e.__esModule?e:{default:e}}var u=50;function c(e){if(a.default.can(r.Permissions.MANAGE_MESSAGES,{channelId:e})){var t=i.default.getChannel(e);if(null!=t){var n=l.default.getMemberCount(t.getGuildId());return null!=n&&n>=u}}return!1}function d(e){if(null==e)return!1;var t=e.id;return o.default.getId()!==t}},7622:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(0),a=n(12),i=(r=a)&&r.__esModule?r:{default:r};t.default={report:function(e){return i.default.post({url:o.Endpoints.REPORT,body:e})},getReasons:function(e){return i.default.get({url:o.Endpoints.REPORT,query:e}).then(function(e){return e.body})}},e.exports=t.default},7623:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(6)),l=y(n(117)),s=y(n(76)),u=y(n(268)),c=y(n(266)),d=y(n(45)),f=y(n(6057)),p=y(n(144)),h=y(n(7622)),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._isMounted=!1,r.handleReasonChange=r.handleReasonChange.bind(r),r.handleReport=r.handleReport.bind(r),r.state={loading:!0,submitting:!1,reasons:[],selectedReason:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,h.default.getReasons(this.getReportData()).then(function(t){e._isMounted&&e.setState({reasons:t,loading:!1})})},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.close=function(){(0,this.props.onClose)()},t.prototype.renderHeader=function(){var e=this.props,t=e.guild,n=e.message,r=e.user,a=void 0;return t?a=i.default.Messages.REPORT_SERVER.format({name:t.toString()}):n?a=i.default.Messages.REPORT_MESSAGE.format({name:n.getAuthorName()}):r&&(a=i.default.Messages.REPORT_USER.format({name:r.tag})),o(l.default.Header,{},void 0,o(s.default,{tag:s.default.Tags.H4},void 0,a))},t.prototype.getReportData=function(){var e=this.props,t=e.guild,n=e.message,r=e.user,o=this.state.selectedReason,a={};return null!=n?(a.channel_id=n.getChannelId(),a.message_id=n.id):null!=r?a.user_id=r.id:null!=t&&(a.guild_id=t.id),null!=o&&(a.reason=o),a},t.prototype.renderReasons=function(){var e=this.state,t=e.loading,n=e.reasons,r=e.selectedReason;if(t)return o(p.default,{style:{height:100}});var a=n.map(function(e){var t=e.reason;return{name:e.label,desc:e.description,value:t}});return o(f.default,{value:r,onChange:this.handleReasonChange,options:a})},t.prototype.renderFooter=function(){var e=this,t=this.state,n=t.loading,r=t.selectedReason,a=t.submitting,s=n||a||null==r;return o(l.default.Footer,{},void 0,o(d.default,{type:"submit",disabled:s,submitting:a},void 0,i.default.Messages.REPORT),o(d.default,{look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:function(){return e.close()}},void 0,i.default.Messages.CANCEL))},t.prototype.render=function(){return o(l.default,{tag:"form",onSubmit:this.handleReport},void 0,this.renderHeader(),o(l.default.Content,{},void 0,o(u.default,{title:i.default.Messages.FORM_LABEL_REPORT_REASON},void 0,this.renderReasons()),o(c.default,{type:c.default.Types.DESCRIPTION},void 0,i.default.Messages.FORM_REPORT_HELP_TEXT.format({guidelinesURL:m.MarketingURLs.GUIDELINES}))),this.renderFooter())},t.prototype.handleReasonChange=function(e){var t=e.value;if("number"!=typeof t)throw new Error("Report.handleReasonChange: Invalid reason type");this.setState({selectedReason:t})},t.prototype.handleReport=function(e){var t=this;e.preventDefault(),this.setState({submitting:!0});var n=this.props.onReport;h.default.report(this.getReportData()).then(function(){n&&n(),t.close()},function(){return t.setState({submitting:!1})})},t}(a.Component);v.displayName="Report",t.default=v,e.exports=t.default},7624:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=y(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),y(n(54))),l=y(n(66)),s=y(n(6)),u=y(n(234)),c=y(n(33)),d=y(n(13)),f=n(32),p=y(n(146)),h=n(0),m=y(n(6335));function y(e){return e&&e.__esModule?e:{default:e}}var v=(0,i.default)({displayName:"MessageDeleteItem",mixins:[u.default,l.default],propTypes:{channel:a.default.object.isRequired,message:a.default.object.isRequired},render:function(){return!this.can(h.Permissions.MANAGE_MESSAGES,this.props.channel)&&this.props.message.author.id!==d.default.getCurrentUser().id||this.props.message.state===h.MessageStates.SENDING?null:o(c.default,{label:s.default.Messages.DELETE_MESSAGE,action:this.handleDeleteMessage,danger:!0})},handleDeleteMessage:function(e){var t=this.props,n=t.channel,r=t.message;(0,f.closeContextMenu)(),r.state===h.MessageStates.SEND_FAILED?p.default.deleteMessage(n.id,r.id,!0):e.shiftKey?p.default.deleteMessage(n.id,r.id):m.default.confirmDelete(n,r,!0)}});t.default=v,e.exports=t.default},7625:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6)),l=f(n(33)),s=f(n(13)),u=n(32),c=f(n(146)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=p(this,e.call.apply(e,[this].concat(a))),r.handleEditMessage=function(){(0,u.closeContextMenu)(),c.default.startEditMessage(r.props.channelId,r.props.message.id,r.props.message.content)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.message,t=s.default.getCurrentUser();return e.state!==d.MessageStates.SEND_FAILED&&e.author.id===t.id?o(l.default,{label:i.default.Messages.EDIT_MESSAGE,action:this.handleEditMessage}):null},t}(a.PureComponent);h.displayName="MessageEditItem",t.default=h,e.exports=t.default},7626:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(191)),l=g(n(535)),s=g(n(7625)),u=g(n(7624)),c=g(n(7620)),d=g(n(6862)),f=g(n(6861)),p=g(n(7619)),h=g(n(7618)),m=g(n(7615)),y=g(n(7614)),v=g(n(6857)),_=n(0);function g(e){return e&&e.__esModule?e:{default:e}}var E=o(d.default,{}),I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.type,r=e.className,a=e.channel,d=e.message,g=e.invertChildY,I=e.attachment,T=this.props.target,S=void 0,A=void 0;if(I)A=S=I.url;else for(;null!=T;)T instanceof HTMLImageElement&&null!=T.src&&(A=T.src),T instanceof HTMLAnchorElement&&null!=T.href&&(S=T.href),T=T.parentNode;var C=void 0,b=void 0,M=document.getSelection?document.getSelection():null;switch(M&&!M.isCollapsed&&(C=E,b=o(v.default,{value:M.toString()})),n){case _.ContextMenuTypes.MESSAGE_MAIN:return o("div",{className:r,style:t},void 0,o(i.default,{},void 0,C),o(i.default,{},void 0,b),o(i.default,{},void 0,o(h.default,{channel:a,message:d,invertChildY:g}),o(p.default,{channel:a,message:d}),o(c.default,{channel:a,message:d}),o(s.default,{channelId:a.id,message:d}),o(m.default,{channel:a,message:d}),o(y.default,{channel:a,message:d}),o(u.default,{channel:a,message:d})),o(f.default,{href:S,src:A}),o(l.default,{id:d.id,shiftId:d.channel_id+"-"+d.id}));case _.ContextMenuTypes.MESSAGE_SYSTEM:return o("div",{className:r,style:t},void 0,o(i.default,{},void 0,C),o(i.default,{},void 0,b),o(i.default,{},void 0,o(u.default,{channel:a,message:d})),o(f.default,{href:S,src:A}),o(l.default,{id:d.id}));default:return null}},t}(a.PureComponent);I.displayName="MessageContextMenu",t.default=I,e.exports=t.default},7627:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(3))),i=c(n(6769)),l=c(n(87)),s=n(0),u=c(n(5930));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.channel,n=e.message,r=e.activity,a=e.hideParty;return o(i.default,{className:u.default.container,activity:r,activityActionType:null!=n.activity?n.activity.type:null,partyId:null!=n.activity?n.activity.party_id:null,userId:n.author.id,applicationId:null!=n.application?n.application.id:void 0,name:null!=n.application?n.application.name:void 0,coverImage:null!=n.application?n.application.cover_image:void 0,message:n,channelId:t.id,guildId:t.getGuildId(),hideParty:a})};d.displayName="MessageActivityInvite",t.default=a.default.connectStores([l.default],function(e){var t=e.message;return{activity:null!=t.application?l.default.getApplicationActivity(t.author.id,t.application.id):l.default.findActivity(t.author.id,function(e){return e.type===s.ActivityTypes.LISTENING})}})(d),e.exports=t.default},7629:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=G(n(1)),s=U(n(5)),u=U(n(9)),c=U(n(3)),d=n(226),f=U(n(228)),p=U(n(938)),h=U(n(41)),m=G(n(387)),y=n(116),v=U(n(164)),_=U(n(927)),g=U(n(46)),E=U(n(6130)),I=U(n(13)),T=U(n(14)),S=U(n(6162)),A=U(n(370)),C=G(n(953)),b=n(6748),M=U(n(81)),O=n(6494),N=U(n(42)),R=U(n(45)),P=U(n(75)),L=U(n(6)),w=n(0),D=U(n(5931));function U(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function j(e){var t=e.onClick,n=e.libraryApplication;return i(M.default,{className:D.default.libraryLink,onClick:t},void 0,i(P.default,{name:P.default.Names.LIBRARY,className:D.default.libraryIcon}),i("div",{},void 0,n.isHidden()?L.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:L.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY))}j.displayName="LibraryLink";var H=function(e){function t(){var n,r;k(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=F(this,e.call.apply(e,[this].concat(a))),r.renderMedia=function(){var e;return i("div",{className:(0,u.default)(D.default.invalidPoop,(e={},e[D.default.invalidPoopHorizontal]=r.isHorizontal,e))})},r.renderTitle=function(){return r.props.isSelfGift?L.default.Messages.GIFT_EMBED_INVALID_TITLE_SELF:L.default.Messages.GIFT_EMBED_INVALID_TITLE_OTHER},r.renderActions=function(){return r.props.isSelfGift?i(d.Link,{to:w.Routes.APPLICATION_LIBRARY_INVENTORY},void 0,i(R.default,{size:R.default.Sizes.SMALL},void 0,L.default.Messages.GIFT_INVENTORY)):i(R.default,{disabled:!0,size:R.default.Sizes.SMALL},void 0,L.default.Messages.GIFT_EMBED_BUTTON_ACCEPT)},r.renderTagline=function(){return r.props.isSelfGift?L.default.Messages.GIFT_EMBED_INVALID_TAGLINE_SELF:L.default.Messages.GIFT_EMBED_INVALID_TAGLINE_OTHER},F(r,n)}return x(t,e),t.prototype.render=function(){return i(O.ResponsiveEmbedTile,{isHorizontal:this.isHorizontal,renderTitle:this.renderTitle,renderTagline:this.renderTagline,renderMedia:this.renderMedia,renderActions:this.renderActions})},a(t,[{key:"isHorizontal",get:function(){return this.props.width>=O.HORIZONTAL_EMBED_BREAKPOINT}}]),t}(l.PureComponent);H.displayName="InvalidGift";var B=function(e){function t(){var n,r;k(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=F(this,e.call.apply(e,[this].concat(i))),r.handleViewLibrary=function(e){var t=r.props.libraryApplication;e.preventDefault(),null!=t&&t.isHidden()?A.default.open(w.UserSettingsSections.GAME_LIBRARY):h.default.transitionTo(w.Routes.APPLICATION_LIBRARY,{state:{applicationId:null!=t?t.id:null}})},r.handleVerificationClick=function(e){e.preventDefault(),A.default.open(w.UserSettingsSections.ACCOUNT)},r.handleAccept=function(e){var t=r.props.channelId;e.preventDefault(),e.stopPropagation(),C.openGiftCodeAcceptModal(r.props.code,o({},r.analyticsLocation,{object:w.AnalyticsObjects.BUTTON_CTA}),t)},r.handleEmbedClick=function(e){var t=r.props.giftCode;null!=t&&t.isSubscription&&(e.preventDefault(),A.default.open(w.UserSettingsSections.PREMIUM))},F(r,n)}return x(t,e),t.prototype.componentDidMount=function(){null==this.props.giftCode&&y.ComponentDispatch.dispatch(w.ComponentActions.CHAT_RESIZE)},t.prototype.renderActions=function(e){var t=this.props.libraryApplication;return i(N.default,{justify:N.default.Justify.BETWEEN},void 0,i(N.default,{},void 0,this.renderButton(e),null==t||e.isSubscription?null:i(j,{onClick:this.handleViewLibrary,libraryApplication:t})),i(N.default,{align:N.default.Align.END,justify:N.default.Justify.END,className:D.default.metadata,direction:N.default.Direction.VERTICAL},void 0,e.hasMultipleCopies?i("div",{},void 0,this.renderGiftCodeCopiesLeft(e)):null,e.redeemed||e.isClaimed||null!=t||null==e.expiresAt?null:i("div",{},void 0,L.default.Messages.GIFT_EMBED_EXPIRATION.format({hours:e.expiresAt.diff((0,s.default)(),"h")}))))},t.prototype.renderGiftCodeCopiesLeft=function(e){return(e.isSubscription?L.default.Messages.GIFT_EMBED_SUBSCRIPTIONS_LEFT:L.default.Messages.GIFT_EMBED_COPIES_LEFT).format({remaining:e.remainingUses,total:e.maxUses})},t.prototype.renderButton=function(e){var t=this.props,n=t.libraryApplication,r=t.currentUser,a={onClick:this.handleAccept,color:R.default.Colors.GREEN},i=e.isSubscription?m.doesUserSubscriptionMismatch(e,r):null!=n;return(e.redeemed||i||e.isClaimed||!r.verified)&&(a.color=R.default.Colors.PRIMARY,a.disabled=!0),l.createElement(R.default,o({},a,{size:R.default.Sizes.SMALL}),e.redeemed?L.default.Messages.GIFT_EMBED_BUTTON_CLAIMED:L.default.Messages.GIFT_EMBED_BUTTON_ACCEPT)},t.prototype.renderTitle=function(e){var t=this.props,n=t.isSelfGift;return null==t.sku?null:e.isSubscription?n?L.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION_SELF:L.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION:n?L.default.Messages.GIFT_EMBED_TITLE_SELF:L.default.Messages.GIFT_EMBED_TITLE},t.prototype.renderBody=function(e){var t=this.props,n=t.libraryApplication,r=t.isSelfGift,o=t.sku,a=t.gifter,i=t.subscriptionPlan,l=t.currentUser;if(null==o)return L.default.Messages.LOADING;if(e.redeemed)return e.isSubscription?L.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF_SUBSCRIPTION:L.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF.format({skuName:o.name,onViewInLibrary:this.handleViewLibrary});if(null==e.subscriptionPlanId&&null!=n)return L.default.Messages.GIFT_EMBED_BODY_OWNED.format({skuName:o.name,onViewInLibrary:this.handleViewLibrary});if(m.doesUserSubscriptionMismatch(e,l))return L.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_MISMATCH.format({planName:l.premiumType===w.PremiumTypes.TIER_1?L.default.Messages.PREMIUM_TIER_1:L.default.Messages.PREMIUM_TIER_2});if(e.isClaimed)return L.default.Messages.GIFT_EMBED_BODY_CLAIMED_OTHER;if(!l.verified)return L.default.Messages.GIFT_EMBED_BODY_REQUIRES_VERIFICATION.format({onClick:this.handleVerificationClick});if(r)return L.default.Messages.GIFT_EMBED_BODY_SELF;if(e.hasMultipleCopies)return null!=a?(e.isSubscription?L.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_GIVEAWAY:L.default.Messages.GIFT_EMBED_BODY_GIVEAWAY).format({username:a.tag,totalCopies:e.maxUses,skuName:o.name}):(e.isSubscription?L.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_GIVEAWAY:L.default.Messages.GIFT_EMBED_BODY_NO_USER_GIVEAWAY).format({totalCopies:e.maxUses,skuName:o.name});if(e.isSubscription){if(null==i)throw new Error("How could you let this happen??");return null!=a?(i.interval===w.SubscriptionIntervalTypes.MONTH?L.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_MONTHS:L.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_YEARS).format({username:a.tag,skuName:o.name,intervalCount:i.intervalCount}):(i.interval===w.SubscriptionIntervalTypes.MONTH?L.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_MONTHS:L.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_YEARS).format({skuName:o.name,intervalCount:i.intervalCount})}return null!=a?L.default.Messages.GIFT_EMBED_BODY_DEFAULT.format({username:a.tag}):L.default.Messages.GIFT_EMBED_BODY_NO_USER_DEFAULT},t.prototype.render=function(){var e=this,t=this.props,n=t.giftCode,r=t.resolved,o=t.width,a=t.isSelfGift;return null==n||n.revoked?r?i(H,{isSelfGift:a,width:o}):i(O.ResponsiveLoadingEmbedTile,{isHorizontal:o>=O.HORIZONTAL_EMBED_BREAKPOINT}):i(b.StoreEmbedWithoutDimensions,{skuId:n.skuId,onEmbedClick:this.handleEmbedClick,analyticsSection:w.AnalyticsSections.GIFT_CODE_EMBED,renderCustomActions:function(){return e.renderActions(n)},renderCustomTitle:function(){return e.renderTitle(n)},renderCustomTagline:function(){return e.renderBody(n)},width:o})},a(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return o({},e,{section:w.AnalyticsSections.GIFT_CODE_EMBED})}}]),t}(l.Component);B.displayName="GiftCodeEmbed",t.default=c.default.connectStores([T.default,v.default,I.default,_.default,E.default,g.default,S.default],function(e){var t=e.code,n=e.author,r=E.default.get(t),o=null!=r?v.default.get(r.skuId):null;return{sku:o,giftCode:r,gifter:null!=r&&null!=r.userId?I.default.getUser(r.userId):null,subscriptionPlan:null!=r&&null!=r.subscriptionPlanId?S.default.get(r.subscriptionPlanId):null,isSelfGift:null!=r?T.default.getId()===r.userId:T.default.getId()===n.id,currentUser:I.default.getCurrentUser(),resolved:E.default.getIsResolved(t),libraryApplication:null!=o?g.default.getLibraryApplication(o.applicationId,o.applicationId,!0):null}})((0,p.default)((0,f.default)(B))),e.exports=t.default},7630:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=g(n(6)),s=g(n(76)),u=g(n(42)),c=g(n(71)),d=g(n(75)),f=g(n(265)),p=g(n(6063)),h=g(n(45)),m=n(6094),y=n(106),v=g(n(5624)),_=g(n(5581));function g(e){return e&&e.__esModule?e:{default:e}}var E=function(e){var t=e.text;return a(s.default,{className:v.default.header},void 0,t)};E.displayName="InviteHeader";var I=function(e){var t=e.resolving,n=e.children;return a("div",{className:v.default.content},void 0,t?a("div",{className:v.default.resolving},void 0,a("div",{className:v.default.resolvingBackground})):n)};I.displayName="InviteBody";var T=function(e){var t=e.title,n=e.onClick,r=e.expired,o=e.children;return a(u.default,{className:v.default.guildInfo,direction:u.default.Direction.VERTICAL,justify:u.default.Justify.CENTER},void 0,a(c.default,{onClick:n,weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.MEDIUM,className:(0,y.getClass)(v.default,"guildName",r?"Expired":null!=n?"Joined":"")},void 0,t),a(c.default,{weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.SMALL,className:v.default.guildDetail},void 0,a(u.default,{grow:0,align:u.default.Align.CENTER},void 0,o)))};T.displayName="InviteInfo";var S=function(e){e.className,e.size;var t=e.checkmark,n=e.children,r=e.onClick,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","size","checkmark","children","onClick"]);return i.createElement(h.default,o({},l,{onClick:r,look:t?h.default.Looks.OUTLINED:h.default.Looks.FILLED,size:v.default.buttonSize,className:v.default.button,innerClassName:v.default.buttonInner}),a("div",{className:v.default.buttonContent},void 0,n),t?a(d.default,{name:d.default.Names.CHECKMARK,className:v.default.buttonIcon,width:18,height:18}):null)};S.displayName="InviteActionButton",S.Colors=h.default.Colors,S.Looks=h.default.Looks,S.defaultProps={checkmark:!1};var A=function(e){var t=e.children;return a("div",{className:v.default.wrapper},void 0,t)};A.displayName="InviteButton",A.Header=E,A.Body=I,A.Icon=function(e){var t=e.guild,n=e.channel,r=e.onClick,o=e.expired;if(void 0!==o&&o||null==t&&null==n)return a("div",{className:v.default.guildIconExpired});var i=null==t||null!=t.icon,l=(0,y.getClass)(v.default,"guildIcon",i?"Image":"",null!=r?"Joined":"");return null!=t?a(p.default,{onClick:r,active:!0,size:p.default.Sizes.LARGE,guild:t,className:l}):null!=n?a(f.default,{onClick:r,src:n.getIconURL(),className:l,imageClassName:_.default.iconSizeLarge}):null},A.Info=T,A.Data=function(e){var t=e.membersOnline,n=e.members,r=[];return null!=t&&t>0&&r.push(a(i.Fragment,{},"onlineCount",a("i",{className:v.default.statusOnline}),a("span",{className:v.default.onlineCount},void 0,l.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:t})))),null!=n&&r.push(a(i.Fragment,{},"memberCount",a("i",{className:v.default.statusOffline}),a("span",{},void 0,l.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:n})))),r},A.Channel=function(e){var t=e.channel,n=(0,m.getIconNameForChannel)(t);return null==t||null==n?null:[a(d.default,{name:n},"channel-icon"),a("span",{className:v.default.channelName},"channel-name",t.name)]},A.Button=S,t.default=A,e.exports=t.default},7631:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=A(n(6)),l=A(n(3)),s=A(n(9)),u=A(n(271)),c=A(n(18)),d=A(n(6109)),f=A(n(25)),p=A(n(13)),h=A(n(65)),m=A(n(132)),y=n(516),v=A(n(7630)),_=A(n(5624)),g=A(n(275)),E=A(n(383)),I=A(n(978)),T=n(116),S=n(0);function A(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=o(v.default.Body,{resolving:!0}),M=o(v.default.Icon,{expired:!0}),O=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=C(this,e.call.apply(e,[this].concat(a))),r.handleAcceptInstantInvite=function(e){var t=r.props,n=t.code,o=t.getAcceptInviteContext;u.default.acceptInvite(n,o("Invite Button Embed"),function(){r.handleTransitionToInviteChannel(e)})},r.handleTransitionToInviteChannel=function(e){var t=r.props.invite;null!=t.channel&&u.default.transitionToInviteChannelSync(t.channel.id)},r.handleMentionInviter=function(){var e=r.props,t=e.author,n=e.selectedChannelId,o=t.username,a=t.discriminator,i="@"+o;m.default.hidePersonalInformation||(i+="#"+a),T.ComponentDispatch.dispatchToLastSubscribed(S.ComponentActions.INSERT_TEXT,{content:i}),null!=n&&I.default.typing(n)},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderResolving=function(){return o(v.default,{},void 0,o(v.default.Header,{text:i.default.Messages.INVITE_BUTTON_RESOLVING}),b)},t.prototype.renderExpired=function(){var e=this.props,t=e.currentUserId,n=e.author,r=void 0,a=void 0,l=void 0;return t===n.id?(r=i.default.Messages.INVITE_BUTTON_INVALID_OWNER,l=i.default.Messages.INVITE_BUTTON_TITLE_INVITER_INVALID):(l=i.default.Messages.INVITE_BUTTON_TITLE_INVITED_INVALID,n&&n.username?(r=i.default.Messages.INSTANT_INVITE_ASK_USER_FOR_NEW_INVITE.format({username:n.username}),a=o(v.default.Button,{onClick:this.handleMentionInviter},void 0,i.default.Messages.MENTION)):r=i.default.Messages.INSTANT_INVITE_ASK_FOR_NEW_INVITE),o(v.default,{},void 0,o(v.default.Header,{text:l}),o(v.default.Body,{},void 0,M,o(v.default.Info,{expired:!0,title:i.default.Messages.INVITE_BUTTON_INVALID},void 0,r),a))},t.prototype.renderStandard=function(){var e=this.props,t=e.invite,n=e.author,r=e.currentUserId===n.id,a=t.channel,l=t.approximate_member_count,s=t.approximate_presence_count,u=t.state===S.InviteStates.ACCEPTING,c=null!=a?new g.default(a):null,d=this.props.guild,f=null!=d;if(null==d){if(null==t.guild)return this.renderResolving();d=new E.default(t.guild)}var p=void 0;null!=c&&c.type===S.ChannelTypes.GUILD_VOICE?p=o(v.default.Channel,{channel:c}):null!=l&&l>=5||null!=s&&s>0?p=o(v.default.Data,{members:l,membersOnline:s}):null!=c&&(p=o(v.default.Channel,{channel:c}));var h=f?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,m=i.default.Messages.JOIN_SERVER,y=v.default.Button.Colors.GREEN;f&&(m=i.default.Messages.JOINED_SERVER,y=v.default.Button.Colors.PRIMARY);var _=i.default.Messages.INVITE_BUTTON_TITLE_INVITED;return r&&(_=i.default.Messages.INVITE_BUTTON_TITLE_INVITER),o(v.default,{},void 0,o(v.default.Header,{text:_}),o(v.default.Body,{},void 0,o(v.default.Icon,{guild:d,onClick:f?h:null}),o(v.default.Info,{title:d.name,onClick:f?h:null},void 0,p),o(v.default.Button,{onClick:h,submitting:u,checkmark:f,color:y},void 0,m)))},t.prototype.renderGroupDM=function(){var e=this.props,t=e.invite,n=e.author,r=e.currentUserId===n.id,a=t.state===S.InviteStates.ACCEPTING,l=this.props.channel,s=null!=l,u=void 0;if(null==l){if(null==t.channel)return this.renderResolving();l=new g.default(t.channel),u=null!=t.channel&&null!=t.channel.recipients?t.channel.recipients:[]}else u=l.recipients.reduce(function(e,t){var n=p.default.getUser(t);return null!=n&&e.push(n),e},[]),s&&u.push(p.default.getCurrentUser());var c=l.name;c||(c=u.length>0?u.filter(function(e){return null!=e}).map(function(e){return e.username}).join(", "):i.default.Messages.UNNAMED);var d=s?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,f=i.default.Messages.JOIN_SERVER,h=v.default.Button.Colors.GREEN;s&&(f=i.default.Messages.JOINED_SERVER,h=v.default.Button.Colors.PRIMARY);var m=i.default.Messages.INVITE_BUTTON_TITLE_INVITED_GROUP_DM;return r&&(m=i.default.Messages.INVITE_BUTTON_TITLE_INVITER_GROUP_DM),o(v.default,{},void 0,o(v.default.Header,{text:m}),o(v.default.Body,{},void 0,o(v.default.Icon,{channel:l,onClick:s?d:null}),o(v.default.Info,{title:c,onClick:s?d:null},void 0,o(v.default.Data,{members:u.length})),o(v.default.Button,{onClick:d,submitting:a,checkmark:s,color:h},void 0,f)))},t.prototype.renderBody=function(){var e=this.props.invite;if(null==e)throw new Error("[InviteButton] Received null invite object");switch(e.state){case S.InviteStates.RESOLVING:return this.renderResolving();case S.InviteStates.EXPIRED:return this.renderExpired();default:return null!=e.channel&&e.channel.type===S.ChannelTypes.GROUP_DM?this.renderGroupDM():this.renderStandard()}},t.prototype.render=function(){var e=this;return o(y.BackgroundOpacityContext.Consumer,{},void 0,function(t){var n=t.backgroundOpacity;return n?o("div",{className:(0,s.default)(_.default[n+"BackgroundOpacity"])},void 0,e.renderBody()):e.renderBody()})},t}(a.PureComponent);O.defaultProps={invite:{state:S.InviteStates.RESOLVING,code:""}},O.displayName="InviteButton",t.default=l.default.connectStores([d.default,f.default],function(e){var t=e.code,n=d.default.getInvite(t);return{invite:n,guild:null!=n&&null!=n.guild?f.default.getGuild(n.guild.id):null,channel:null!=n&&null!=n.channel?c.default.getChannel(n.channel.id):null,selectedChannelId:h.default.getChannelId(),currentUserId:p.default.getCurrentUser().id}})(O),e.exports=t.default},7632:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=d(n(6)),s=n(0),u=d(n(961)),c=n(998);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.videoRef=i.createRef(),f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(e.play!==this.props.play){var t=this.videoRef.current;t instanceof HTMLVideoElement&&(this.props.play?t.play():t.pause())}},t.prototype.render=function(){var e=this.props,t=e.poster,n=e.src,r=e.width,o=e.height,l=e.naturalWidth,u=e.naturalHeight,c=e.play,d=e.className;return l<=s.MAX_VIDEO_WIDTH&&u<=s.MAX_VIDEO_HEIGHT||l<=s.MAX_VIDEO_HEIGHT&&u<=s.MAX_VIDEO_WIDTH?i.createElement("video",{ref:this.videoRef,className:d,poster:t,src:n,width:r,height:o,muted:!0,loop:!0,autoPlay:c,preload:"none"}):a("img",{alt:"",src:t,width:r,height:o})},t}(i.Component);p.defaultProps={play:!1},p.displayName="Video";var h=function(e){var t=e.src,n=e.poster,r=e.naturalWidth,s=e.naturalHeight,d=e.autoPlay,f=e.ImageComponent,h=e.className,m=e.playable,y=void 0===m||m,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["src","poster","naturalWidth","naturalHeight","autoPlay","ImageComponent","className","playable"]),_=f||u.default;return a(c.GIFAccessoryContext.Consumer,{},void 0,function(e){return i.createElement(_,o({alt:l.default.Messages.GIF,src:n,className:h,autoPlay:d,animated:y,renderAccessory:e,tabIndex:y?0:-1},v),function(e){var n=e.src,o=e.size,i=e.animating;return a(p,{className:h,poster:n,src:t,width:o.width,height:o.height,naturalWidth:r,naturalHeight:s,play:y&&i})})})};h.displayName="LazyGIFV",t.default=h,e.exports=t.default},7633:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=s(n(200)),i=s(n(11)),l=s(n(145));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=r=u(this,e.call.apply(e,[this].concat(l))),r.openHref=function(){var e=r.props.href;if(i.default.embedded)window.open(e);else{var t=window.open();t.opener=null,t.location=e,t.target="_blank"}},r.onClick=function(e){var t=r.props,n=t.href,o=t.isTrusted,i=t.onClickUntrusted;null!=a.default.sanitizeUrl(n)?o||(e.preventDefault(),i({openHref:r.openHref})):e.preventDefault()},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=void 0===t?null:t,i=e.children,s=e.href,u=(e.onClickUntrusted,e.isTrusted,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["title","children","href","onClickUntrusted","isTrusted"])),c=a.default.sanitizeUrl(s);return o.createElement(l.default,r({},u,{title:n,target:"_blank",rel:"noreferrer noopener",href:c,onClick:this.onClick}),i||n)},t}(o.PureComponent);c.displayName="MaskedLink",t.default=c,e.exports=t.default},7634:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(961)),s=d(n(5941)),u=n(397),c=d(n(7633));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.original,r=e.placeholder,d=e.width,f=e.height,p=e.animated,h=e.children,m=e.isTrusted,y=e.onClickUntrusted,v=(e.maxWidth,e.maxHeight,e.shouldAnimate,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["src","original","placeholder","width","height","animated","children","isTrusted","onClickUntrusted","maxWidth","maxHeight","shouldAnimate"])),_=(0,u.zoomFit)(d,f),g=_.width,E=_.height;return a.createElement("div",v,o(l.default,{src:t,placeholder:r,shouldLink:!1,width:d,height:f,maxWidth:g,maxHeight:E,children:h,animated:p,autoPlay:!0}),null!=n&&o(c.default,{href:n,className:s.default.downloadLink,isTrusted:m,onClickUntrusted:y},void 0,i.default.Messages.OPEN_ORIGINAL_IMAGE))},t}(a.PureComponent);f.displayName="ImageModal",t.default=f,e.exports=t.default},7635:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=h(n(35)),i=h(n(6)),l=h(n(961)),s=h(n(7634)),u=n(397),c=h(n(233)),d=h(n(1207)),f=h(n(133)),p=n(1206);function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var h=arguments.length,y=Array(h),v=0;v<h;v++)y[v]=arguments[v];return n=l=m(this,e.call.apply(e,[this].concat(y))),l._isListeningToWindow=!1,l.state={isWindowFocused:f.default.isFocused()},l.addWindowListeners=function(){l._isListeningToWindow=!0,f.default.addChangeListener(l.onChangeWindowStore),l.onChangeWindowStore()},l.removeWindowListeners=function(){l._isListeningToWindow=!1,f.default.removeChangeListener(l.onChangeWindowStore)},l.onChangeWindowStore=function(){var e=f.default.isFocused();e!==l.state.isWindowFocused&&l.setState({isWindowFocused:e})},l.onMouseEnter=function(e,t){var n=t.preloadImage,r=l.props,o=r.width,a=r.height;n((0,u.zoomFit)(o,a))},l.onClickUntrusted=function(e){var t=e.openHref,n=l.props,r=n.original,o=n.src,a=r||o;c.default.show({title:i.default.Messages.HOLD_UP,body:i.default.Messages.MASKED_LINK_BODY.format({url:a}),cancelText:i.default.Messages.MASKED_LINK_CANCEL,confirmText:i.default.Messages.MASKED_LINK_CONFIRM,minorText:i.default.Messages.MASKED_LINK_TRUST_THIS_DOMAIN,onConfirm:t,onConfirmSecondary:function(){(0,p.trustDomain)(a),t()}})},l.onZoom=function(e,t){var n=t.placeholder;e.preventDefault();var i=l.props,u=i.src,c=i.original,f=i.width,p=i.height,h=i.animated,m=i.children,y=c||u,v={src:u,original:c||u,width:f,height:p,animated:h,children:m,placeholder:n,isTrusted:d.default.isTrusted(y),onClickUntrusted:l.onClickUntrusted};e.currentTarget instanceof HTMLElement&&e.currentTarget.blur(),a.default.push(function(e){return o.createElement(s.default,r({},v,e,{shouldAnimate:l.state.isWindowFocused}))})},m(l,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){l.default.isAnimated(this.props)&&!this._isListeningToWindow&&this.addWindowListeners()},t.prototype.componentDidUpdate=function(){var e=l.default.isAnimated(this.props);e&&!this._isListeningToWindow?this.addWindowListeners():!e&&this._isListeningToWindow&&this.removeWindowListeners()},t.prototype.componentWillUnmount=function(){this._isListeningToWindow&&this.removeWindowListeners()},t.prototype.render=function(){return o.createElement(l.default,r({},this.props,{onZoom:this.onZoom,onMouseEnter:this.onMouseEnter,shouldAnimate:this.state.isWindowFocused}))},t}(o.PureComponent);y.defaultProps={alt:"",shouldLink:!0,autoPlay:!1,animated:!1},y.displayName="LazyImageZoomable",t.default=y,e.exports=t.default},7636:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(6096),s=n(6500),u=(o=s)&&o.__esModule?o:{default:o};var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,r=e.fileName,o=e.className,i=e.playable;return a(u.default,{src:t,fileName:r,fileSize:(0,l.sizeString)(n),type:u.default.Types.AUDIO,className:o,playable:i})},t}(i.PureComponent);c.displayName="LazyAudio",t.default=c,e.exports=t.default},7637:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),s=c(n(224)),u=c(n(5944));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f={friction:14,tension:200},p={DURATION:"DURATION",VOLUME:"VOLUME"};function h(e){var t=0|e,n=t%60;return(t-n)/60+":"+String(n).padStart(2,"0")}var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.state={animatedProgress:new s.default.Value(0),dragging:!1,offsetLeft:0,offsetWidth:0,previewWidth:new s.default.Value(0)},r.handlePreviewChange=function(){var e=r,t=e.bubble,n=e.state,o=n.dragging,a=n.previewWidth,i=e.props.value;o||null==t||(t.innerHTML=h(a._value*i))},r.handleAnimatedChange=function(){var e=r,t=e.bubble,n=e.state,o=n.dragging,a=n.animatedProgress,i=e.props.value;o&&null!=t&&(t.innerHTML=h(a._value*i))},r.handleMouseMove=function(e){var t=r.state,n=t.dragging,o=t.previewWidth;if(!n){var a=e.clientX,i=e.clientY;o.setValue(r.calculatePercentage(a,i))}},r.handleDragMove=function(e){var t=r.props,n=t.onDrag,o=t.type,a=e.clientX,i=e.clientY;n(r.calculatePercentage(a,i),o)},r.handleDragStart=function(e){var t=r.props,n=t.onDragStart,o=t.onDrag,a=t.type,i=e.clientX,l=e.clientY;if(e.preventDefault(),null!=r.wrapper){var s=r.wrapper.getBoundingClientRect(),u=s.left,c=s.width;r.setState({dragging:!0,offsetLeft:u,offsetWidth:c},function(){n(a),o(r.calculatePercentage(i,l),a),window.addEventListener("mouseup",r.handleDragEnd,!1),window.addEventListener("mousemove",r.handleDragMove,!1)})}},r.handleDragEnd=function(){(0,r.props.onDragEnd)(),window.removeEventListener("mouseup",r.handleDragEnd,!1),window.removeEventListener("mousemove",r.handleDragMove,!1),r.setState({dragging:!1})},r.setBubbleRef=function(e){null==e?r.bubble=null:null!=e.componentRef?r.bubble=e.componentRef:null!=e.refs&&(r.bubble=e.refs.node)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.addListener(this.handlePreviewChange),n.addListener(this.handleAnimatedChange)},t.prototype.componentWillUnmount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.removeListener(this.handlePreviewChange),n.removeListener(this.handleAnimatedChange),window.removeEventListener("mouseup",this.handleDragEnd,!1),window.removeEventListener("mousemove",this.handleDragMove,!1)},t.prototype.componentDidUpdate=function(e,t){var n=this.state,r=n.dragging,o=n.previewWidth,a=n.animatedProgress;!r&&t.dragging&&o.setValue(a._value)},t.prototype.setGrabber=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.state.animatedProgress;t?s.default.spring(n,a({toValue:e},f)).start():n.setValue(e)},t.prototype.calculatePercentage=function(e,t){var n=this.wrapper,r=this.props.type;if(null==n)return 0;var o=n.getBoundingClientRect(),a=o.left,i=o.width,l=o.bottom,s=o.height,u=r===p.VOLUME?(l-t)/s:(e-a)/i;return Math.min(1,Math.max(0,u))},t.prototype.render=function(){var e=this,t=this.props,n=t.buffers,r=t.type,a=this.state,c=a.dragging,d=a.previewWidth,f=a.animatedProgress,h=c?f:d;return o("div",{className:r===p.VOLUME?u.default.vertical:u.default.horizontal},void 0,i.createElement("div",{className:(0,l.default)(c?u.default.mediaBarInteractionDragging:u.default.mediaBarInteraction,r===p.VOLUME?u.default.mediaBarInteractionVolume:null),onMouseDown:this.handleDragStart,onMouseMove:this.handleMouseMove,ref:function(t){return e.wrapper=t}},o("div",{className:(0,l.default)(u.default.mediaBarWrapper,r===p.VOLUME?u.default.mediaBarWrapperVolume:null)},void 0,null!=n?n.map(function(e,t){var n=e[0],r=e[1];return o("div",{className:u.default.buffer,style:{width:100*r+"%",left:100*n+"%"}},t)}):null,r===p.DURATION?o(s.default.div,{className:u.default.mediaBarPreview,style:{width:d.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null,o(s.default.div,{className:u.default.mediaBarProgress,style:{width:f.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}},void 0,o("span",{className:u.default.mediaBarGrabber})),r===p.DURATION?i.createElement(s.default.div,{ref:this.setBubbleRef,className:u.default.bubble,style:{left:h.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null)))},t}(i.Component);m.Types=p,m.displayName="MediaBar",t.default=m,e.exports=t.default},7638:function(e,t,n){e.exports=n.p+"a11e895b46cde503a094dd31641060a6.svg"},7639:function(e,t,n){e.exports=n.p+"83a157e8720aa50957c4338e10d01c80.svg"},7640:function(e,t,n){e.exports=n.p+"985ea67d2edab4424c62009886f12e44.svg"},7641:function(e,t,n){e.exports=n.p+"85f7a4063578f6e0e2c73f60bca0fcce.svg"},7642:function(e,t,n){e.exports=n.p+"f812168e543235a62b9f6deb2b094948.svg"},7643:function(e,t,n){e.exports=n.p+"a236ab3be009cf5fbbbae4d7a7437804.svg"},7644:function(e,t,n){e.exports=n.p+"9f358f466473586417baee7bacfba5ca.svg"},7645:function(e,t,n){e.exports=n.p+"481aa700fab464f2332ca9b5f4eb6ba4.svg"},7646:function(e,t,n){e.exports=n.p+"5b0da31dc2b00717c1e35fb1f84f9b9b.svg"},7647:function(e,t,n){e.exports=n.p+"73d212e3701483c36a4660b28ac15b62.svg"},7648:function(e,t,n){e.exports=n.p+"03ad68e1f4d47f2671d629cfeac048ef.svg"},7649:function(e,t,n){e.exports=n.p+"982bd8aedd89b0607f492d1175b3b3a5.svg"},7650:function(e,t,n){e.exports=n.p+"f167b4196f02faf2dc2e7eb266a24275.svg"},7651:function(e,t,n){var r={"./icon-file-small-acrobat.svg":7650,"./icon-file-small-ae.svg":7649,"./icon-file-small-ai.svg":7648,"./icon-file-small-archive.svg":7647,"./icon-file-small-audio.svg":7646,"./icon-file-small-code.svg":7645,"./icon-file-small-document.svg":7644,"./icon-file-small-ps.svg":7643,"./icon-file-small-sketch.svg":7642,"./icon-file-small-spreadsheet.svg":7641,"./icon-file-small-unknown.svg":7640,"./icon-file-small-video.svg":7639,"./icon-file-small-webcode.svg":7638};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=7651},7652:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(9)),s=m(n(6751)),u=m(n(961)),c=m(n(6341)),d=m(n(7636)),f=n(998),p=m(n(564)),h=m(n(5942));function m(e){return e&&e.__esModule?e:{default:e}}var y=/\.(png|jpe?g|webp|gif)$/i,v=/\.(mp4|webm|mov)$/i,_=/\.(mp3|ogg|wav|flac)$/i,g=function(e){var t=e.attachment,n=e.inlineMedia,r=e.autoPlayGif,o=e.onClick,i=e.onContextMenu,l=e.ImageComponent,p=e.className,h=e.focusable,m=t.filename,g=t.width,E=t.height;if(n&&null!=g&&g>0&&null!=E&&E>0){if(y.test(m)){var I=l||u.default;return a(f.GIFAccessoryContext.Consumer,{},void 0,function(e){return a(I,{src:t.proxy_url||t.url,original:t.url,width:g,height:E,autoPlay:r,onClick:o,onContextMenu:i,renderAccessory:e,className:p,shouldLink:h})})}if(v.test(m)&&null!=t.proxy_url)return a(c.default,{poster:t.proxy_url+"?format=jpeg",fileSize:t.size,fileName:t.filename,src:t.url,width:g,height:E,onClick:o,onContextMenu:i,naturalWidth:g,naturalHeight:E,className:p,playable:h})}else if(null!=n&&_.test(m)&&null!=t.url)return a(d.default,{fileSize:t.size,fileName:t.filename,src:t.url,className:p,playable:h});return a(s.default,{url:t.url,filename:t.filename,size:t.size,onClick:o,onContextMenu:i,className:p})};g.displayName="AttachmentContent";t.default=function(e){var t=e.className,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]),r=n.attachment,s=r.width,u=r.height,c=r.spoiler,d=null!=s&&s<200||null!=u&&u<50,f=function(e){var r;return i.createElement(g,o({},n,{className:(0,l.default)(t,(r={},r[h.default.spoiler]=c&&!d,r[h.default.hiddenSpoilers]=c&&e,r[h.default.inline]=c&&d,r)),focusable:!e}))};return c?a(p.default,{type:p.default.Types.ATTACHMENT,inline:d},void 0,function(e){return f(e)}):f()},e.exports=t.default},7653:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=N(n(3)),s=N(n(9)),u=N(n(122)),c=n(116),d=N(n(980)),f=N(n(7652)),p=N(n(7635)),h=N(n(6341)),m=N(n(7632)),y=n(961),v=N(n(1208)),_=N(n(7631)),g=N(n(7629)),E=N(n(6752)),I=N(n(7627)),T=N(n(6748)),S=n(998),A=n(0),C=N(n(5929)),b=n(6343),M=N(n(6163)),O=N(n(6762));function N(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=l.default.connectStores([M.default],function(e){var t=e.url;return{isFavorite:M.default.getIsFavorite(t)}})(function(e){var t=e.width,n=e.height,r=e.url,o=e.src,i=e.isFavorite,l=e.format,u=e.className;return a(O.default,{className:(0,s.default)(u),onClick:function(e){e?(0,b.removeFavoriteGIF)(r):((0,b.addFavoriteGIF)({url:r,src:o,width:t,height:n,format:l}),c.ComponentDispatch.dispatch(A.ComponentActions.FAVORITE_GIF))},isFavorite:i})}),L=function(e,t,n){return function(){var r=t||n;if(null==r)return null;var o=r.url,i=r.proxyURL,l=r.width,s=r.height;return a(P,{width:l,height:s,src:i||o,url:e||i||o,format:null!=n?A.GIFResultFormat.VIDEO:A.GIFResultFormat.IMAGE,className:C.default.gifFavoriteButton})}},w=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=r=R(this,e.call.apply(e,[this].concat(s))),r.getAcceptInviteContext=function(e){var t=r.props,n=t.channel,o=t.message;return{location:e,location_guild_id:n.getGuildId(),location_channel_id:n.id,location_channel_type:n.type,location_message_id:o.id}},r.renderEmbed=function(e,t){var n=r.props,l=n.disableAutoPlayGif,s=n.inlineEmbedMedia,u=n.backgroundOpacity,c=i.createElement(d.default,o({className:C.default.embedWrapper,embed:e,autoPlayGif:!l,hideMedia:!s},t,{backgroundOpacity:u}));return a(S.GIFAccessoryContext.Provider,{value:L(e.url,e.image,e.video)},e.id,c)},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderInvites=function(e){var t=this;return e.invites.length?e.invites.map(function(n){return a(_.default,{code:n,author:e.author,getAcceptInviteContext:t.getAcceptInviteContext},n)}):null},t.prototype.renderGiftCodes=function(e){return e.giftCodes.map(function(t){return a(g.default,{code:t,author:e.author,channelId:e.channel_id},t)})},t.prototype.renderReactions=function(e){var t=this.props,n=t.disableReactionCreates,r=t.disableReactionReads,o=t.disableReactionUpdates,i=t.channel;return r?null:a(E.default,{message:e,channel:i,disableReactionCreates:n,disableReactionUpdates:o})},t.prototype.renderAttachments=function(e){var t=this.props,n=t.disableAutoPlayGif,r=t.inlineAttachmentMedia,o=t.onContextMenuMessage,i=t.channel;return e.attachments.length?e.attachments.map(function(t){return a(S.GIFAccessoryContext.Provider,{value:function(e){return function(){var t=e.proxy_url,n=e.width,r=e.height;return y.IMAGE_GIF_RE.test(e.filename)&&null!=n&&null!=r?a(P,{width:n,height:r,src:t,url:t,format:A.GIFResultFormat.IMAGE,className:C.default.gifFavoriteButton}):null}}(t)},t.id,a(f.default,{className:C.default.embedWrapper,attachment:t,inlineMedia:r,autoPlayGif:!n,onContextMenu:function(n){return o(n,{attachment:t,message:e,channel:i,target:n.target})},ImageComponent:p.default}))}):null},t.prototype.renderEmbeds=function(e){var t=this,n=this.props.disableEmbeds;return!e.embeds.length||n?null:e.embeds.map(function(e){var n={};if(n.ImageComponent=p.default,n.VideoComponent=h.default,n.GIFVComponent=m.default,e.type===A.EmbedTypes.RICH&&(n.LinkComponent=v.default),e.type===A.EmbedTypes.ARTICLE&&null!=e.url&&e.url.includes("discordapp.com/store/skus")&&null!=e.provider&&"Discord"===e.provider.name){var r=u.default.parse(e.url);if(null!=r.pathname){var o=r.pathname.split("/")[3];if(null!=o)return a(T.default,{skuId:o,renderFallback:function(){return t.renderEmbed(e,n)}},e.id)}}return t.renderEmbed(e,n)})},t.prototype.renderActivityInvite=function(e){if(null==e.activity)return null;var t=this.props.channel;return a(I.default,{channel:t,message:e,hideParty:!1})},t.prototype.render=function(){var e=this.props,t=e.isCompact,n=e.className,r=e.message,o=this.renderInvites(r),i=this.renderGiftCodes(r),l=this.renderAttachments(r),u=this.renderEmbeds(r),c=this.renderActivityInvite(r),d=this.renderReactions(r);return null==o&&null==l&&null==u&&null==c&&null==d&&null==i?null:a("div",{className:(0,s.default)(n,t?C.default.containerCompact:C.default.containerCozy)},void 0,o,i,l,u,c,d)},t}(i.PureComponent);w.defaultProps={disableEmbeds:!0,isCompact:!1},w.displayName="MessageAccessories",t.default=w,e.exports=t.default},7654:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(7)),s=c(n(224)),u=c(n(133));function c(e){return e&&e.__esModule?e:{default:e}}var d={ABOVE:0,VISIBLE:1,BELOW:2};function f(e){return{toValue:e,duration:300,easing:s.default.Easing.inOut(s.default.Easing.back())}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={prevValue:null,currValue:n.value,nextValue:null},r.prevAnimate=new s.default.Value(d.ABOVE),r.currAnimate=new s.default.Value(d.VISIBLE),l.default.bindAll(r,["animateNext"]),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.state,n=t.prevValue,r=t.currValue,o=t.nextValue;null==n&&r!==e.value?this.setState({prevValue:u.default.isFocused()?r:null,currValue:e.value}):null!=o&&o!==e.value&&this.setState({nextValue:e.value})},t.prototype.componentDidUpdate=function(e,t){var n=this.state,r=n.prevValue,o=n.currValue;r!==t.prevValue&&null!=r&&this.animateBetween(r,o)},t.prototype.animateBetween=function(e,t){var n=void 0;this.prevAnimate.setValue(d.VISIBLE),e>t?(this.currAnimate.setValue(d.ABOVE),n=d.BELOW):(this.currAnimate.setValue(d.BELOW),n=d.ABOVE),s.default.parallel([s.default.timing(this.prevAnimate,f(n)),s.default.timing(this.currAnimate,f(d.VISIBLE))]).start(this.animateNext)},t.prototype.animateNext=function(){var e=this.state,t=e.currValue,n=e.nextValue;null!=n?this.setState({prevValue:u.default.isFocused()?t:null,currValue:n,nextValue:null}):this.setState({prevValue:null})},t.prototype.getAnimatedStyle=function(e){return{transform:[{translateY:e.interpolate({inputRange:[0,1,2],outputRange:["-100%","0%","100%"]})}],position:"absolute",top:0,left:0,right:0,bottom:0}},t.prototype.getMinWidth=function(e){return Math.ceil(Math.log10(e+1))*this.props.digitWidth},t.prototype.render=function(){var e=this.state,t=e.prevValue,n=e.currValue,r=l.default.omit(this.props,["value","digitWidth"]);if(null==t)return i.createElement("div",a({},r,{style:{minWidth:this.getMinWidth(n)}}),n);var u=Math.max(t,n);return i.createElement("div",a({},r,{style:{position:"relative",overflow:"hidden"}}),o("div",{style:{visibility:"hidden",minWidth:this.getMinWidth(u)}},void 0,u),o(s.default.div,{style:this.getAnimatedStyle(this.prevAnimate)},void 0,t),o(s.default.div,{style:this.getAnimatedStyle(this.currAnimate)},void 0,n))},t}(i.PureComponent);p.displayName="AnimatedCounter",t.default=p,e.exports=t.default},7655:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var a=l(n(6754)),i=l(n(6110));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,r=e.onClickUsername,l=e.onContextMenuUsername,s=t.id,u=t.author,c=a.default.getSystemMessageUserJoin(s).format({username:u.username,usernameOnClick:{onClick:r,onContextMenu:l}});return o(i.default,{icon:n(6755),timestamp:t.timestamp},void 0,c)}s.displayName="UserJoin",e.exports=t.default},7656:function(e,t,n){e.exports=n.p+"aff52bc375fe2da876174301a5c6d09d.svg"},7657:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var a=l(n(6)),i=l(n(6110));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,r=e.onClickUsername,l=e.onContextMenuUsername,s=t.getAuthorName(),u=void 0;if(e.otherUsername){var c=e.otherUsername,d=e.onClickOtherUsername,f=e.onContextMenuOtherUsername;u=a.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:s,usernameOnClick:{onClick:r,onContextMenu:l},otherUsername:c,otherUsernameOnClick:{onClick:d,onContextMenu:f}})}else u=a.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:s,usernameOnClick:{onClick:r,onContextMenu:l}});return o(i.default,{icon:n(7656),timestamp:t.timestamp},void 0,u)}s.displayName="RecipientRemove",e.exports=t.default},7658:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var a=l(n(6)),i=l(n(6110));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,r=e.otherUsername,l=e.onClickUsername,s=e.onContextMenuUsername,u=e.onClickOtherUsername,c=e.onContextMenuOtherUsername,d=t.getAuthorName(),f=a.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:d,usernameOnClick:{onClick:l,onContextMenu:s},otherUsername:r,otherUsernameOnClick:{onClick:u,onContextMenu:c}});return o(i.default,{icon:n(6755),timestamp:t.timestamp},void 0,f)}s.displayName="RecipientAdd",e.exports=t.default},7659:function(e,t,n){e.exports=n.p+"4e4e1d9c907a3dc53d68f34e868fcb12.svg"},7660:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var a=s(n(6)),i=s(n(145)),l=s(n(6110));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,r=e.onClickUsername,s=e.onContextMenuUsername,u=e.onClickPins,c=t.nick,d=t.author,f=t.colorString,p=c||d.username,h=function(e,t){var n=f?{color:f}:null;return o(i.default,{onClick:r,onContextMenu:s,style:n},t,e)},m=null==u?a.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA_FORMATTED.format({usernameOnClick:h,username:p}):a.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE.format({usernameHook:h,username:p,pinsActionOnClick:u});return o(l.default,{icon:n(7659),timestamp:t.timestamp},void 0,m)}u.displayName="ChannelPinnedMessage",e.exports=t.default},7661:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var a=s(n(6)),i=s(n(6110)),l=s(n(5948));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,r=e.onClickUsername,s=e.onContextMenuUsername;return o(i.default,{className:l.default.channelNameChange,icon:n(6756),timestamp:t.timestamp},void 0,a.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:r,onContextMenu:s},channelName:t.content}))}u.displayName="ChannelNameChange",e.exports=t.default},7662:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var a=l(n(6)),i=l(n(6110));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,r=e.onClickUsername,l=e.onContextMenuUsername;return o(i.default,{icon:n(6756),timestamp:t.timestamp},void 0,a.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:r,onContextMenu:l}}))}s.displayName="ChannelIconChange",e.exports=t.default},7663:function(e,t,n){e.exports=n.p+"c30220457097b064286a8759a9b6c4af.svg"},7664:function(e,t,n){e.exports=n.p+"d80d1fdc43a3c42134a31a39581160ac.svg"},7665:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var a=l(n(6)),i=l(n(6110));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,r=e.missed,l=e.joinable,s=e.onClickUsername,u=e.onContextMenuUsername,c=e.onClickJoinCall,d=t.getAuthorName(),f={onClick:s,onContextMenu:u};return r?o(i.default,{icon:n(7664),timestamp:t.timestamp},void 0,a.default.Messages.SYSTEM_MESSAGE_CALL_MISSED.format({username:d,usernameOnClick:f})):o(i.default,{icon:n(7663),timestamp:t.timestamp},void 0,a.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:d,usernameOnClick:f}),l?o(i.default.Action,{onClick:c},void 0,a.default.Messages.SYSTEM_MESSAGE_JOIN_CALL):null)}s.displayName="Call",e.exports=t.default},7666:function(e,t,n){"use strict";var r;t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=P(n(3)),u=P(n(14)),c=P(n(390)),d=P(n(18)),f=P(n(13)),p=P(n(95)),h=P(n(167)),m=n(0),y=n(116),v=n(6757),_=P(n(293)),g=P(n(299)),E=P(n(521)),I=n(225),T=P(I),S=P(n(7665)),A=P(n(7662)),C=P(n(7661)),b=P(n(7660)),M=P(n(7658)),O=P(n(7657)),N=P(n(7655)),R=P(n(6753));function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=function(e,t){return function(n){(0,I.openPopout)(n.currentTarget,{closeOnScroll:!1,position:T.default.Positions.RIGHT,shadow:!1,render:function(n){var r=d.default.getChannel(t);return null==r?null:l.createElement(E.default,i({},n,{user:e,guildId:r.getGuildId(),channelId:r.id}))}})}},G=function(e,t){return function(n){var r=d.default.getChannel(t);null!=r&&(0,v.openUserContextMenu)(n,e,r)}},k=function(e){function t(){var n,r;L(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=w(this,e.call.apply(e,[this].concat(a))),r.handleJoinCall=function(){var e=r.props.message;h.default.selectVoiceChannel(null,e.getChannelId())},w(r,n)}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.missed,r=e.joinable,o=t.author,i=t.getChannelId();return a(S.default,{message:t,missed:n,joinable:r,onClickUsername:U(o,i),onContextMenuUsername:G(o,i),onClickJoinCall:this.handleJoinCall})},t}(l.PureComponent);k.displayName="Call";var F=s.default.connectStores([c.default,p.default],function(e){var t=e.message,n=u.default.getId(),r=t.getChannelId(),o=c.default.isCallActive(r,t.id),a=p.default.getVoiceState(m.ME,n);return{missed:!o&&null!=t.call&&!t.call.participants.includes(n),joinable:o&&(null==a||a.channelId!==r)}})(k),x=function(e){var t=e.message,n=t.author,r=t.getChannelId();return a(C.default,{message:t,onClickUsername:U(n,r),onContextMenuUsername:G(n,r)})};x.displayName="ChannelNameChange";var j=function(e){var t=e.message,n=t.author,r=t.getChannelId();return a(A.default,{message:t,onClickUsername:U(n,r),onContextMenuUsername:G(n,r)})};j.displayName="ChannelIconChange";var H=function(e){function t(){return L(this,t),w(this,e.apply(this,arguments))}return D(t,e),t.prototype.handleViewPins=function(){y.ComponentDispatch.dispatch(m.ComponentActions.TOGGLE_CHANNEL_PINS)},t.prototype.render=function(){var e=this.props.message,t=e.author,n=e.getChannelId();return a(b.default,{message:e,onClickUsername:U(t,n),onContextMenuUsername:G(t,n),onClickPins:__OVERLAY__?null:this.handleViewPins})},t}(l.PureComponent);function B(e){var t=e.message,n=e.otherUser,r=t.author,o=t.getChannelId(),i=_.default.getName(null,o,n);return a(M.default,{message:t,otherUsername:i,onClickUsername:U(r,o),onContextMenuUsername:G(r,o),onClickOtherUsername:U(n,o),onContextMenuOtherUsername:G(n,o)})}H.displayName="ChannelPinnedMessage",B.displayName="RecipientAdd";var V=s.default.connectStores([f.default],function(e){var t=e.message;return{otherUser:f.default.getUser(t.mentions[0])}})(B);function K(e){var t=e.message,n=e.otherUser,r=t.author,o=t.getChannelId(),i=U(r,o),l=G(r,o);if(null!=n&&n.id!==r.id){var s=_.default.getName(null,o,n),u=U(n,o),c=G(n,o);return a(O.default,{message:t,onClickUsername:i,onContextMenuUsername:l,otherUsername:s,onClickOtherUsername:u,onContextMenuOtherUsername:c})}return a(O.default,{message:t,onClickUsername:i,onContextMenuUsername:l})}K.displayName="RecipientRemove";var Y=s.default.connectStores([f.default],function(e){var t=e.message;return{otherUser:f.default.getUser(t.mentions[0])}})(K),W=function(e){var t=e.message,n=t.author,r=t.getChannelId();return a(N.default,{message:t,onClickUsername:U(n,r),onContextMenuUsername:G(n,r)})};W.displayName="UserJoin";var z=((r={})[m.MessageTypes.RECIPIENT_ADD]=V,r[m.MessageTypes.RECIPIENT_REMOVE]=Y,r[m.MessageTypes.CALL]=F,r[m.MessageTypes.CHANNEL_NAME_CHANGE]=x,r[m.MessageTypes.CHANNEL_ICON_CHANGE]=j,r[m.MessageTypes.CHANNEL_PINNED_MESSAGE]=H,r[m.MessageTypes.USER_JOIN]=W,r),q=function(e){function t(){var n,r;L(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=w(this,e.call.apply(e,[this].concat(a))),r.onContextMenu=function(e){var t=r.props,n=t.message,o=t.channel;(0,t.onContextMenu)(e,{message:n,channel:o,target:e.target})},w(r,n)}return D(t,e),t.prototype.render=function(){var e,t=this.props,n=t.message,r=t.renderButtons,o=t.channel,i=z[n.type];return null==i?(e=new Error("unknown message type "+n.type),g.default.captureException(e),console.error(e),null):a(R.default,{message:n,channel:o,isCompact:!1,onContextMenu:this.onContextMenu,renderButtons:m.MessageTypesDeletable[n.type]?r:null},void 0,a(i,{message:n}))},t}(l.PureComponent);q.displayName="SystemMessageWrapper",t.default=q,e.exports=t.default},7667:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(3)),o=s(n(2)),a=(n(0),s(n(7))),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6096)),l=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function e(t,n){u(this,e),this.file=t,this.channel=l.default.getChannel(n),this.classification=i.classifyFile(t),this.isImage="image"===this.classification,this.sizeString=i.sizeString(t.size),this.filename=t.name},d=[];var f=function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFirstUpload=function(){return d.length>0?d[0]:null},t.prototype.hasAdditionalUploads=function(){return d.length>1},t}(r.default.Store);t.default=new f(o.default,{UPLOAD_MODAL_POP_FILE:function(e){return d.shift(),void(d=[].concat(d))},UPLOAD_MODAL_PUSH_FILES:function(e){var t=e.files,n=e.channelId;d=[].concat(d),a.default.forEach(t,function(e){d.push(new c(e,n))})},UPLOAD_MODAL_CLEAR_ALL_FILES:function(e){d=[]}}),e.exports=t.default},7668:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o._lastUpdate=0,o._loaded=0,o._aborted=!1,o._handleStart=function(e){o._cancel=e,o.emit("start",o._file)},o._handleProgress=function(e,t){var n=Date.now(),a=Math.min(Math.floor(e/t*100),100),i=Math.floor((e-o._loaded)/((n-o._lastUpdate)/1e3));o._lastUpdate=n,o._loaded=e,o._file=r({},o._file,{size:t,progress:a,rate:i}),o.emit("progress",o._file)},o._handleError=function(e){o._aborted||(o.emit("error",o._file,e),o.removeAllListeners())},o._handleComplete=function(){o.emit("complete",o._file),o.removeAllListeners()},o._url=n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.cancel=function(){null!=this._cancel&&(this._aborted=!0,this._cancel()),this._handleComplete()},t.prototype.upload=function(e,t){if(null!=this._cancel)throw new Error("Uploader.upload(...): An upload is already in progress.");this._lastUpdate=Date.now(),this._loaded=0,this._file={id:o.default.uniqueId("Uploader"),name:e.name,size:0,progress:0,rate:0}},t}(a(n(43)).default);t.default=i,e.exports=t.default},7669:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(7)),o=l(n(412)),a=l(n(7668)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=s(this,e.call.apply(e,[this].concat(a))),r._handleXHRProgress=function(e){r._handleProgress(e.loaded,e.total)},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.upload=function(t,n){var a=this;e.prototype.upload.call(this,t,n);var l=o.default.post(this._url),s=null!=n&&n.hasSpoiler?i.SPOILER_ATTACHMENT_PREFIX:"";l.attach("file",t,""+s+t.name),l.on("error",function(){return a._handleError()}),null!=n&&r.default.each(n,function(e,t){l.field(t,e)});var u=l.end(function(e){e.ok?a._handleComplete():a._handleError(e.body&&e.body.code)}).xhr;u.upload?u.upload.onprogress=this._handleXHRProgress:u.addEventListener("progress",this._handleXHRProgress,!1),this._handleStart(function(){return l.abort()})},t}(a.default);t.default=u,e.exports=t.default},7670:function(e,t,n){"use strict";t.__esModule=!0,t.promptToUpload=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.length<1)return;if(d.anyFileTooLarge(e)){var h=r.default.getCurrentUser();s.default.push(i.default,{title:c.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:c.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:d.sizeString(d.maxFileSize())}),promo:!f.default.canUploadLargeFiles(h)})}else p?(o.default.pushFiles({files:e,channelId:t}),u.default.isModalOpen(l.default)||s.default.push(l.default,{backdropInstant:n})):a.default.instantBatchUpload(t,e)};var r=p(n(13)),o=p(n(6502)),a=p(n(6501)),i=p(n(6367)),l=p(n(6758)),s=p(n(35)),u=p(n(937)),c=p(n(6)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6096)),f=p(n(229));function p(e){return e&&e.__esModule?e:{default:e}}},7671:function(e,t,n){e.exports=n.p+"4e51af83c4879cf313ad553bdc20dcf7.png"},7672:function(e,t,n){e.exports=n.p+"7c1fdd7a2f89b4bc6f7968c3fb3b6a14.png"},7673:function(e,t,n){e.exports=n.p+"df82ca7d3be7d1271f5fb93719ea65fe.png"},7674:function(e,t,n){e.exports=n.p+"5c0d73f3d0c4e89f92bcedbe1752ae94.png"},7675:function(e,t,n){e.exports=n.p+"757c4d5d07c5691452fde54dca7fcde8.png"},7676:function(e,t,n){e.exports=n.p+"b8fa63048881311b205927b3d4111bf6.png"},7677:function(e,t,n){e.exports=n.p+"6a4c3d24e0e1bb9bd102815d01cb3d87.png"},7678:function(e,t,n){var r={"./spritesheet-.png":7677,"./spritesheet-1f3fb.png":7676,"./spritesheet-1f3fc.png":7675,"./spritesheet-1f3fd.png":7674,"./spritesheet-1f3fe.png":7673,"./spritesheet-1f3ff.png":7672,"./spritesheet-emoji.png":6760,"./spritesheet-picker.png":7671};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=7678},7679:function(e,t,n){e.exports=n.p+"9cbfe5105fc5f29ef4e659059ee01a46.svg"},7681:function(e,t,n){"use strict";t.__esModule=!0,t.ResultsLoader=t.CategoryColumn=t.AnimatedColumn=t.Block=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(7)),l=u(n(5957)),s=u(n(224));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=12,h=["#B3AEFF","#738EF5","#929AFA"],m=t.Block=function(e){function t(){var n,r;c(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.state={backgroundColor:i.default.sample(h)},d(r,n)}return f(t,e),t.prototype.render=function(){var e=this.props.height,t=this.state.backgroundColor;return o("div",{style:{height:e,backgroundColor:t},className:l.default.gif})},t}(a.PureComponent);m.displayName="Block";var y=t.AnimatedColumn=function(e){function t(n){c(this,t);var r=d(this,e.call(this,n));r.animateSlide=function(){var e=r.props.direction,t=r.state,n=t.translateY,o=t.height,a=e>0?0:-o/2+p,i=e>0?-o/2+p:0;n.setValue(a),s.default.timing(n,{toValue:i,duration:800,easing:s.default.Easing.linear}).start(r.animateSlide)};var o=new Array(10).fill(null).map(function(){return i.default.random(40,150)});return r.state={blocks:o,height:2*o.reduce(function(e,t){return e+t+p},p),translateY:new s.default.Value(0)},r}return f(t,e),t.prototype.componentDidMount=function(){this.animateSlide()},t.prototype.getAnimatedStyle=function(){return{width:100/this.props.columns+"%",transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}]}},t.prototype.render=function(){var e=this.state.blocks;return o(s.default.div,{className:l.default.column,style:this.getAnimatedStyle()},void 0,e.map(function(e,t){return o(m,{height:e},t)}),e.map(function(e,t){return o(m,{height:e},"alt"+t)}))},t}(a.Component);y.defaultProps={direction:-1},y.displayName="AnimatedColumn",(t.CategoryColumn=function(e){var t=e.columns;return o("div",{className:l.default.column,style:{width:100/t+"%"}},void 0,new Array(4).fill(null).map(function(e,t){return o("div",{className:l.default.categoryLoader},t)}))}).displayName="CategoryColumn",(t.ResultsLoader=function(e){function t(){return c(this,t),d(this,e.apply(this,arguments))}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.columns,n=e.renderColumn;return o("div",{className:l.default.container},void 0,new Array(t).fill(null).map(function(e,r){return n(t,r)}))},t}(a.PureComponent)).displayName="ResultsLoader"},7682:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(3)),l=g(n(6)),s=g(n(6503)),u=g(n(6163)),c=g(n(6767)),d=g(n(6766)),f=g(n(6765)),p=g(n(75)),h=n(7681),m=n(6764),y=n(6343),v=n(0),_=g(n(5953));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e,t){return o(h.CategoryColumn,{columns:e},t)};function T(e){return e.name}I.displayName="renderColumn";var S=function(e){function t(){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=Array(s),d=0;d<s;d++)c[d]=arguments[d];return n=r=E(this,e.call.apply(e,[this].concat(c))),r._masonryRef=a.createRef(),r.state={favoritesTile:(i=u.default.getRandomFavorite(),{type:v.GIFPickerResultTypes.FAVORITES,name:l.default.Messages.GIF_PICKER_FAVORITES,icon:p.default.Names.FAVORITE_FILLED,src:null!=i?i.src:"https://media.giphy.com/media/1TOSaJsWtnhe0/giphy.gif",format:null!=i?i.format:v.GIFResultFormat.IMAGE}),selectedIndex:{column:0,row:0},focusedId:null},r.handleFocus=function(e){var t=r._masonryRef.current;null!=t&&t.scrollIntoView(e.coords.top-10,e.coords.top+e.coords.height+10),r.setState({focusedId:e.id})},r.handleSelect=function(e){var t=r.props.onSelectItem,n=r.getData().find(function(t){return T(t)===e.id});null!=n&&null!=t&&t(n.type,n.name)},r.renderItem=function(e,t,n){var a=t.width,i=t.height,l=r.props.onSelectItem,s=r.state.focusedId;return o(m.GIFPickerSearchItem,{format:e.format,color:v.Colors.PRIMARY_DARK_800,src:e.src,item:e,index:n,itemWidth:a,itemHeight:i,onClick:function(){return l(e.type,e.name)},renderExtras:r.renderCategoryExtras,focused:T(e)===s})},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){0===this.props.trendingCategories.length&&(0,y.fetchTrending)()},t.prototype.getData=function(){var e=this.props.trendingCategories;return[this.state.favoritesTile].concat(e)},t.prototype.renderCategoryExtras=function(e){var t=e.name,n=e.icon,r=e.type;return o(a.Fragment,{},void 0,o("div",{className:r===v.GIFPickerResultTypes.FAVORITES?_.default.categoryFadeBlurple:_.default.categoryFade}),o("div",{className:_.default.categoryText},void 0,null!=n?o(p.default,{name:n,className:_.default.categoryIcon}):null,o("span",{className:_.default.categoryName},void 0,t)))},t.prototype.renderContent=function(e,t,n){return 0===this.props.trendingCategories.length?o(h.ResultsLoader,{columns:e,width:t,renderColumn:I}):a.createElement(d.default,{ref:this._masonryRef,className:_.default.container,width:t,height:n,gutterSize:12,getItemId:T,columns:e,getItemHeight:function(){return 110},renderItem:this.renderItem,data:this.getData()})},t.prototype.render=function(){var e=this;return o(c.default,{getItemGrid:function(){var t=e._masonryRef.current;return null!=t?t.getItemGrid():null},onFocus:this.handleFocus,onSelect:this.handleSelect},void 0,o(f.default,{desiredItemWidth:200,maxColumns:6},void 0,function(t,n,r){return e.renderContent(t,n,r)}))},t}(a.PureComponent);S.displayName="GIFPickerFrontPage",t.default=i.default.connectStores([s.default],function(){return{trendingCategories:s.default.getTrendingCategories()}})(S),e.exports=t.default},7683:function(e,t,n){"use strict";t.__esModule=!0,t.calculateAnalyticsMetadata=function(e,t,n){var o,a=n.offset,i=n.limit,l=n.results,s=n.totalResults,u=null!=t?((o={})[t]=1,o):{};return{search_type:r.SearchTypes.GIF,load_id:e,limit:i,offset:a,page:null!=i&&null!=a?Math.floor(a/i)+1:1,total_results:s,page_results:l?l.length:null,num_modifiers:Object.keys(u).length,modifiers:u}};var r=n(0)},7684:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=S(n(1)),l=T(n(3)),s=T(n(2)),u=T(n(6503)),c=T(n(6163)),d=S(n(6343)),f=T(n(81)),p=T(n(42)),h=T(n(75)),m=T(n(6365)),y=n(511),v=T(n(7682)),_=T(n(6764)),g=n(0),E=T(n(6)),I=T(n(5952));function T(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=A(this,e.call.apply(e,[this].concat(a))),r.state={resultType:null},r.searchBarRef=i.createRef(),r.backToFrontPage=function(e){var t=r.state.resultType;e.keyCode===g.KeyboardKeys.ESCAPE&&null!=t&&(e.stopPropagation(),e.preventDefault(),r.handleClearQuery())},r.handleChangeQuery=function(e){r.search(e,g.GIFPickerResultTypes.SEARCH)},r.handleSelectSuggestion=function(e){d.resetSearch(),r.search(e,g.GIFPickerResultTypes.SEARCH_SUGGESTION,!0)},r.handleClearQuery=function(){var e=r.searchBarRef.current;d.resetSearch(),r.setState({resultType:null}),null!=e&&e.focus()},r.handleSelectGIF=function(e){var t=r.props.onSelectGIF;null!=t&&t(e)},r.handleSelectItem=function(e,t){var n=r.searchBarRef.current;switch(e){case g.GIFPickerResultTypes.TRENDING_CATEGORY:d.search(t,g.GIFPickerResultTypes.TRENDING_CATEGORY,!0),null!=n&&n.focus();break;case g.GIFPickerResultTypes.TRENDING_GIFS:d.fetchTrendingGIFs()}r.setState({resultType:e})},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){d.initializeSearch(),document.addEventListener("keydown",this.backToFrontPage)},t.prototype.componentWillUnmount=function(){s.default.wait(function(){return d.resetSearch()}),document.removeEventListener("keydown",this.backToFrontPage)},t.prototype.search=function(e,t,n){d.search(e,t,n),""===e?this.setState({resultType:null}):this.state.resultType!==g.GIFPickerResultTypes.SEARCH&&this.setState({resultType:g.GIFPickerResultTypes.SEARCH})},t.prototype.renderHeaderContent=function(){var e=this.props.query;switch(this.state.resultType){case g.GIFPickerResultTypes.FAVORITES:return a(y.FormTitle,{tag:"h5",className:I.default.searchHeader},void 0,E.default.Messages.GIF_PICKER_FAVORITES);case g.GIFPickerResultTypes.TRENDING_GIFS:return a(y.FormTitle,{tag:"h5",className:I.default.searchHeader},void 0,E.default.Messages.GIF_PICKER_RESULT_TYPE_TRENDING_GIFS);default:return i.createElement(m.default,{query:e,onChange:this.handleChangeQuery,onClear:this.handleClearQuery,placeholder:E.default.Messages.SEARCH_TENOR,ref:this.searchBarRef,autoFocus:!0})}},t.prototype.renderHeader=function(){var e=null;return null!=this.state.resultType&&(e=a(f.default,{onClick:this.handleClearQuery,className:I.default.backButton},void 0,a(h.default,{name:h.default.Names.ARROW_LEFT,width:20,height:20,title:E.default.Messages.BACK}))),a(p.default,{align:p.default.Align.CENTER},void 0,e,this.renderHeaderContent())},t.prototype.renderContent=function(){var e=this.props,t=e.resultItems,n=e.resultQuery,r=e.query,o=e.favorites,i=e.searchOffset,l=e.searchLimit,s=e.searchTotalResults,u=e.suggestions,c=this.state.resultType;return null==c?a(v.default,{onSelectItem:this.handleSelectItem}):a(_.default,{data:c===g.GIFPickerResultTypes.FAVORITES?o:t,onSelectGIF:this.handleSelectGIF,resultType:c,resultQuery:n,query:r,searchOffset:i,searchLimit:l,searchTotalResults:s,suggestions:u,onSelectSuggestion:this.handleSelectSuggestion})},t.prototype.render=function(){var e=this.props.forwardedRef;return i.createElement("div",{className:I.default.container,onClick:function(e){return e.stopPropagation()},ref:e},a("div",{className:I.default.header},void 0,this.renderHeader()),a("div",{className:I.default.content},void 0,this.renderContent()))},t}(i.PureComponent);C.displayName="GIFPicker";var b=l.default.connectStores([u.default,c.default],function(){return{query:u.default.getQuery(),favorites:c.default.getFavorites(),resultQuery:u.default.getResultQuery(),resultItems:u.default.getResultItems(),suggestions:u.default.getSuggestions(),searchOffset:0,searchTotalResults:u.default.getResultItems().length,searchLimit:null}})(C);t.default=i.forwardRef(function(e,t){return i.createElement(b,o({},e,{forwardedRef:t}))}),e.exports=t.default},7686:function(e,t,n){"use strict";t.__esModule=!0,t.TabIndexKeys=void 0,t.getTabIndex=function(e){return l.indexOf(e)+1};var r,o=n(147),a=(r=o)&&r.__esModule?r:{default:r};var i=t.TabIndexKeys=(0,a.default)({CHANNEL_TEXT_AREA:null,CHANNEL_TEXT_AREA_PREMIUM_GIFT:null,CHANNEL_TEXT_AREA_GIF_PICKER:null,CHANNEL_TEXT_AREA_EMOJI:null,CHANNEL_TEXT_AREA_UPLOAD:null}),l=[i.CHANNEL_TEXT_AREA,i.CHANNEL_TEXT_AREA_PREMIUM_GIFT,i.CHANNEL_TEXT_AREA_GIF_PICKER,i.CHANNEL_TEXT_AREA_EMOJI,i.CHANNEL_TEXT_AREA_UPLOAD]},7687:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=f(n(225)),s=f(n(45)),u=n(106),c=n(0),d=f(n(5959));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={hovered:!1,emojiIndex:0,isPopoutOpen:!1},r.renderEmojiPickerPopout=r.renderEmojiPickerPopout.bind(r),r.handleMouseOver=r.handleMouseOver.bind(r),r.handleMouseEnter=r.handleMouseEnter.bind(r),r.handleMouseLeave=r.handleMouseLeave.bind(r),r.handlePopoutOpen=r.handlePopoutOpen.bind(r),r.handlePopoutClose=r.handlePopoutClose.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSpriteStyle=function(){var e=this.state.emojiIndex;return{backgroundPosition:-e%c.EmojiSprites.PickerPerRow*22+"px "+22*-Math.floor(e/c.EmojiSprites.PickerPerRow)+"px",backgroundSize:22*c.EmojiSprites.PickerPerRow+"px "+22*Math.ceil(c.EmojiSprites.PickerCount/c.EmojiSprites.PickerPerRow)+"px"}},t.prototype.renderEmojiPickerPopout=function(e){var t=this.props,n=t.renderEmojiPickerPopout;return n(e,{onSelectEmoji:t.onSelectEmoji,channel:t.channel})},t.prototype.render=function(){var e=this.props.tabIndex,t=this.state,n=t.hovered,r=t.isPopoutOpen,a=n||r,f=(0,u.getClass)(d.default,"emojiButton",a?"Hovered":"Normal"),p=(0,u.getClass)(d.default,"sprite",a?"Hovered":"Normal");return o(l.default,{closeOnScroll:!1,render:this.renderEmojiPickerPopout,position:l.default.Positions.TOP_RIGHT,zIndexBoost:1e3,shadow:!1,animationType:l.default.Animations.NONE,subscribeTo:c.ComponentActions.TOGGLE_EMOJI_POPOUT,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose},void 0,o(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,tabIndex:e,className:(0,i.default)(f,this.props.className),onMouseEnter:this.handleMouseEnter,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave},void 0,o("div",{className:p,style:this.getSpriteStyle()})))},t.prototype.handleMouseOver=function(){this.handleMouseEnter()},t.prototype.handleMouseEnter=function(){if(!this.state.hovered&&!this.state.isPopoutOpen){var e=Math.floor(Math.random()*c.EmojiSprites.PickerCount);this.setState({hovered:!0,emojiIndex:e})}},t.prototype.handleMouseLeave=function(){this.setState({hovered:!1})},t.prototype.handlePopoutOpen=function(){this.setState({isPopoutOpen:!0})},t.prototype.handlePopoutClose=function(){this.setState({isPopoutOpen:!1})},t}(a.PureComponent);p.displayName="EmojiButton",t.default=p,e.exports=t.default},7688:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(45)),s=c(n(75)),u=c(n(5960));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t,n,r=this.props,a=r.tabIndex,c=r.className,d=r.iconClassName,f=r.iconName,p=r.onClick,h=r.isActive,m=r.onMouseEnter,y=r.onMouseLeave,v=r.pulse;return o(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,tabIndex:a,className:(0,i.default)(u.default.buttonWrapper,(e={},e[u.default.active]=h,e)),innerClassName:(0,i.default)(u.default.button,c,(t={},t[u.default.pulseButton]=v,t)),onClick:p,onMouseEnter:m,onMouseLeave:y},void 0,o(s.default,{name:f,className:(0,i.default)(u.default.icon,d,(n={},n[u.default.pulseIcon]=v,n))}))},t}(a.PureComponent);d.displayName="ChannelTextAreaButton",t.default=d,e.exports=t.default},7689:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=D(n(9)),s=D(n(7)),u=n(32),c=D(n(189)),d=D(n(224)),f=D(n(42)),p=D(n(225)),h=D(n(6768)),m=D(n(1217)),y=D(n(7688)),v=D(n(7687)),_=D(n(45)),g=D(n(94)),E=D(n(6848)),I=D(n(6863)),T=D(n(75)),S=D(n(6)),A=n(106),C=n(6096),b=n(7686),M=n(107),O=n(5628),N=D(n(11)),R=D(n(5958)),P=n(0),L=D(n(122)),w=D(n(7685));function D(e){return e&&e.__esModule?e:{default:e}}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=/(\t|\s)/,x="UPLOAD_A_FILE",j="INVITE_TO_GAME",H="INVITE_TO_SPECTATE_GAME",B="INVITE_TO_LISTEN",V="INVITE_TO_WATCH",K=function(e,t,n,r){var o=[];return e&&o.push({type:x,icon:T.default.Names.UPLOAD,display:S.default.Messages.CHAT_ATTACH_UPLOAD_A_FILE}),t&&r.forEach(function(e){e.type===P.ActivityTypes.PLAYING&&(0,M.hasFlag)(e,P.ActivityFlags.JOIN)&&o.push({type:j,icon:T.default.Names.GAMEPAD,display:S.default.Messages.CHAT_ATTACH_INVITE_TO_PLAY_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===P.ActivityTypes.PLAYING&&(0,M.hasFlag)(e,P.ActivityFlags.SPECTATE)&&o.push({type:H,icon:T.default.Names.EYE,display:S.default.Messages.CHAT_ATTACH_INVITE_TO_SPECTATE_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===P.ActivityTypes.LISTENING&&(0,M.hasFlag)(e,P.ActivityFlags.SYNC)&&o.push({type:B,icon:T.default.Names.PERSON_PLAY,display:S.default.Messages.CHAT_ATTACH_INVITE_TO_LISTEN.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e}),e.type===P.ActivityTypes.WATCHING&&(0,M.hasFlag)(e,P.ActivityFlags.SYNC)&&o.push({type:V,icon:T.default.Names.EYE,display:S.default.Messages.CHAT_ATTACH_INVITE_TO_WATCH.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e})}),o},Y=function(e){function t(n){U(this,t);var r=G(this,e.call(this,n));return r.handleFileUpload=function(){var e=r.props.onFileUpload;r.close(),e&&e()},r.handleInviteToPlay=function(e){var t=r.props.onInviteToPlay;r.close(),t&&t(e)},r.handleInviteToSpectate=function(e){var t=r.props.onInviteToSpectate;r.close(),t&&t(e)},r.handleInviteToListen=function(e){var t=r.props.onInviteToListen;r.close(),t&&t(e)},r.handleInviteToWatch=function(e){var t=r.props.onInviteToWatch;r.close(),t&&t(e)},r.state={animations:K(n.canAttachFiles,n.canSendInvites,n.channel,n.activities).map(function(){return new d.default.Value(0)})},r}return k(t,e),t.prototype.componentDidMount=function(){var e=[].concat(this.state.animations).reverse();d.default.stagger(50,e.map(function(e){return d.default.timing(e,{duration:200,toValue:1})})).start()},t.prototype.getOnClick=function(e){var t=this;switch(e.type){case x:return this.handleFileUpload;case j:var n=e.activity;return function(){return t.handleInviteToPlay(n)};case H:var r=e.activity;return function(){return t.handleInviteToSpectate(r)};case B:var o=e.activity;return function(){return t.handleInviteToListen(o)};case V:var a=e.activity;return function(){return t.handleInviteToListen(a)}}},t.prototype.close=function(){c.default.close("popout-channel-text-area-attachments")},t.prototype.render=function(){var e=this,t=this.props,n=t.canAttachFiles,r=t.canSendInvites,o=t.channel,i=t.activities,l=K(n,r,o,i).map(function(t,n){var r=e.state.animations[n];return a(d.default.div,{onClick:e.getOnClick(t),className:R.default.attachPopoutRow,style:{opacity:r}},n,a(f.default,{align:f.default.Align.CENTER},void 0,a(T.default,{name:t.icon,className:R.default.attachPopoutIcon,foreground:R.default.attachPopoutIconForeground}),a("div",{className:R.default.attachPopoutRowText},void 0,t.display)))});return a("div",{className:R.default.attachPopout},void 0,l)},t}(i.PureComponent);function W(e){return{prefix:null,focused:e,selectionStart:0,selectionEnd:0,selectedAutocomplete:0,autocompleteType:null,submitting:!1}}Y.displayName="ChannelTextAreaAttachPopout";var z=function(e){function t(n){U(this,t);var r=G(this,e.call(this,n));return r._gifPickerButtonRef=i.createRef(),r._mounted=!1,r.state=W(!1),r.saveCurrentTextThrottled=s.default.throttle(r.saveCurrentText.bind(r,!1),500),s.default.bindAll(r,["focus","saveCurrentText","renderAttachPopout","handleSetRef","handleSetFileInputRef","handleKeyPress","handleKeyDown","handleKeyUp","handleStartFileUpload","handleFileUpload","handleOuterClick","handleClick","handleContextMenu","handleAutocompleteClick","handleAutocompleteHover","handleOnChange","handleFocus","handleBlur","handlePaste","handleSelectGIF","handleSelectEmoji"]),r}return k(t,e),t.prototype.componentDidMount=function(){var e=this.props.value;this._ref&&this._ref.setSelection(e.length,e.length),this._mounted=!0,this.maybeShowAutocomplete(),window.addEventListener("beforeunload",this.saveCurrentText)},t.prototype.componentWillUnmount=function(){this._mounted=!1,this.saveCurrentText(),window.removeEventListener("beforeunload",this.saveCurrentText)},t.prototype.componentDidUpdate=function(e){var t=this;this.props.value!==e.value&&(this.maybeShowAutocomplete(function(){return t.fixSelectedAutocomplete()}),this.saveCurrentTextThrottled())},t.prototype.focus=function(){this._ref&&this._ref.focus()},t.prototype.blur=function(){this._ref&&this._ref.blur()},t.prototype.fixSelectedAutocomplete=function(){this.state.selectedAutocomplete>=this.getAutocompletes().length&&this.setState({selectedAutocomplete:0})},t.prototype.insertText=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this._ref;if(null!=o){var a=this.state,i=a.selectionStart,l=a.selectionEnd,s=o.value.slice(0,n?o.selectionStart:i),u=o.value.slice(n?o.selectionEnd:l);r&&(e+=" ");var c=s+e+u,d=this.props.onChange;d&&d(null,c),this.setState({selectionStart:o.selectionStart,selectionEnd:o.selectionEnd},function(){var n=s.length+e.length;o.setSelection(n,n),t.maybeShowAutocomplete()}),this.saveCurrentText()}},t.prototype.clearValue=function(){this.setState(W(!0)),this.saveCurrentText()},t.prototype.saveCurrentText=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.type,r=t.onSaveCurrentText,o=t.channel;n===P.TextareaTypes.NORMAL&&(e&&this.saveCurrentTextThrottled.cancel(),r&&r(o.id))},t.prototype.maybeShowAutocomplete=function(e){var t=this._ref;if(null!=t){var n=this.props,r=n.value,o=n.autocompleteOptions,a=n.onAutocompleteQuery;if(0!==r.trim().length){var i=t.selectionStart,l=t.selectionEnd,u=void 0,c=!1,d=null;do{var f=F.test(r[i-1]);if(0===i||f)if("break"===function(){var e=(u=r.slice(i,l)).slice(1).toLowerCase();if(null!=(d=(0,s.default)(o).keys().find(function(t){return o[t].matches(u[0],e,i)}))){var t=o[d];return a&&a(t,e,d),c=!0,"break"}}())break}while(--i>=0);this.setState({prefix:c?u:null,selectionStart:i,selectionEnd:l,autocompleteType:d},e)}else this.getAutocompletes().length>0&&this.setState({prefix:null})}},t.prototype.getAutocompletes=function(){var e=this.props.autocompletes,t=[];if(null!=e)for(var n in e){e[n].forEach(function(e){return t.push(e)})}return t},t.prototype.moveSelection=function(e){var t=this.state,n=t.selectedAutocomplete,r=t.prefix,o=this.getAutocompletes().length;return 0!==o&&null!=r&&(n+e>=o?this.setState({selectedAutocomplete:0}):n+e<0?this.setState({selectedAutocomplete:o-1}):this.setState({selectedAutocomplete:n+e}),!0)},t.prototype.selectAutocompletion=function(e){var t=null,n=this.state,r=n.autocompleteType,o=n.prefix,a=this.props,i=a.autocompleteOptions,l=a.autocompletes;if(null!=r&&null!=i[r]&&null!=l){var s=i[r];t=s.getText(e,l);var u=s.onSelect;if(null!=u&&null!=o)u(o.slice(1),e,l)}null!=t&&("REACTIONS"===r?this.handleSubmit(t):this.insertText(t,!1))},t.prototype.getEnabledMode=function(){var e=this.props,t=e.disabled,n=e.canAttachFiles,r=e.canSendInvites,o=e.channel,a=e.activities,i=this.state.submitting;return t||i?"Disabled":0===K(n,r,o,a).length?"EnabledNoAttach":""},t.prototype.getAutocompleteMode=function(){var e=this.props.renderCustomAutocomplete,t=this.state,n=t.prefix,r=t.focused;return null!=n&&r||null!=e?"Autocomplete":"NoAutocomplete"},t.prototype.getTypeMode=function(){switch(this.props.type){case P.TextareaTypes.EDIT:return"Edit";case P.TextareaTypes.FORM:return"Form";default:return""}},t.prototype.hasOpenCodeBlock=function(){var e=this._ref;if(null==e)return!1;var t=this.props.value.slice(0,e.selectionStart).match(/```/g);return null!=t&&t.length>0&&t.length%2!=0},t.prototype.renderAttachPopout=function(e){var t=this.props,n=t.channel,r=t.canAttachFiles,a=t.canSendInvites,l=t.activities,s=t.onInviteToPlay,u=t.onInviteToSpectate,c=t.onInviteToListen,d=t.onInviteToWatch;return i.createElement(Y,o({},e,{canAttachFiles:r,canSendInvites:a,channel:n,activities:l,onFileUpload:this.handleStartFileUpload,onInviteToPlay:s,onInviteToSpectate:u,onInviteToListen:c,onInviteToWatch:d}))},t.prototype.renderAttachButton=function(){var e=this.props,t=e.disabled,n=e.type,r=e.canAttachFiles,o=e.canSendInvites,i=e.channel,l=e.activities,s=e.onOpenAttachPopout;if(t||n!==P.TextareaTypes.NORMAL||0===K(r,o,i,l).length)return null;var u=l.some(function(e){return(0,M.hasFlag)(e,P.ActivityFlags.SYNC)}),c=l.some(function(e){return(0,M.canJoinOrSpectate)(e)})||u;return o&&c?a(f.default,{},void 0,a(p.default,{closeOnScroll:!1,render:this.renderAttachPopout,position:p.default.Positions.TOP_LEFT,shadow:!1,animationType:p.default.Animations.NONE,uniqueId:"popout-channel-text-area-attachments",onOpen:s},void 0,a(_.default,{look:_.default.Looks.BLANK,size:_.default.Sizes.NONE,tabIndex:(0,b.getTabIndex)(b.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:R.default.attachButton,innerClassName:R.default.attachButtonInner},void 0,a(T.default,{name:T.default.Names.PLUS_CIRCLE_PLAY,className:R.default.attachButtonIcon,foreground:R.default.attachButtonPlay,background:R.default.attachButtonPlus,width:24,height:24}))),a("div",{className:R.default.attachButtonDivider})):a(f.default,{className:R.default.attachWrapper},void 0,a(_.default,{look:_.default.Looks.BLANK,size:_.default.Sizes.NONE,onClick:this.handleStartFileUpload,tabIndex:(0,b.getTabIndex)(b.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:R.default.attachButton,innerClassName:R.default.attachButtonInner},void 0,a(T.default,{name:T.default.Names.PLUS_CIRCLE,className:R.default.attachButtonIcon,foreground:R.default.attachButtonPlus,width:24,height:24})),a("div",{className:R.default.attachButtonDivider}))},t.prototype.renderPremiumGiftButton=function(){var e=this.props,t=e.disabled,n=e.onPremiumGiftClick,r=e.shouldRenderPremiumGiftButton;return t||!r?null:a(g.default,{text:S.default.Messages.PREMIUM_GIFT_BUTTON_TOOLTIP},void 0,a(y.default,{className:R.default.button,tabIndex:(0,b.getTabIndex)(b.TabIndexKeys.CHANNEL_TEXT_AREA_PREMIUM_GIFT),iconName:T.default.Names.GIFT,onClick:n,isActive:!1}))},t.prototype.getGIFPickerButton=function(){return this._gifPickerButtonRef.current},t.prototype.renderGIFPickerButton=function(){var e=this.props,t=e.disabled,n=e.isGIFPickerActive,r=e.onGIFPickerToggle,o=e.justFavorited,l=e.shouldShowTooltipOnFavorite;if(t||null==r)return null;var s=i.createElement("div",{ref:this._gifPickerButtonRef,className:R.default.buttonContainer},a(y.default,{className:R.default.button,tabIndex:(0,b.getTabIndex)(b.TabIndexKeys.CHANNEL_TEXT_AREA_GIF_PICKER),iconName:T.default.Names.INVERTED_GIF_LABEL,iconClassName:R.default.gifPickerIcon,onClick:r,isActive:n,pulse:o}));return o&&l?a(g.default,{text:S.default.Messages.GIF_TOOLTIP_FAVORITED_PICKER_BUTTON,forceOpen:!0},void 0,s):s},t.prototype.renderEmojiButton=function(){var e=this.props,t=e.channel,n=e.renderEmojiPickerPopout;return e.disabled||null==n?null:a(v.default,{className:R.default.button,onSelectEmoji:this.handleSelectEmoji,channel:t,renderEmojiPickerPopout:n,tabIndex:(0,b.getTabIndex)(b.TabIndexKeys.CHANNEL_TEXT_AREA_EMOJI)})},t.prototype.renderAutocomplete=function(){var e=this.props,t=e.autocompleteOptions,n=e.autocompletes,r=e.renderCustomAutocomplete,o=this.state,i=o.focused,l=o.autocompleteType,s=o.selectedAutocomplete,u=o.prefix;if(null!=r)return a(h.default,{className:R.default.autocomplete,isCustom:!0,onMouseDown:this.handleAutocompleteMouseDown},void 0,r(u));if(!i||null==l||null==t[l]||null==u||null==n)return null;var c=u.slice(1).toLowerCase();return a(h.default,{className:R.default.autocomplete,onMouseDown:this.handleAutocompleteMouseDown},void 0,t[l].renderResults(c,s,this.handleAutocompleteHover,this.handleAutocompleteClick,n))},t.prototype.render=function(){var e=this.props,t=e.value,n=e.disabled,r=e.placeholder,o=e.onResize,s=e.className,u=e.backgroundOpacity,c=e.channel,d=this.state.submitting,f=n?S.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:r,p=c.rateLimitPerUser<=0,h=this.getEnabledMode(),y=this.getAutocompleteMode(),v=this.getTypeMode();return a("div",{className:(0,l.default)((0,A.getClass)(R.default,"channelTextArea",h),s),onClick:this.handleOuterClick},void 0,a("div",{className:(0,l.default)((0,A.getClass)(R.default,"inner",h),(0,A.getClass)(R.default,"inner",y),R.default[u+"BackgroundOpacity"])},void 0,this.renderAttachButton(),a("div",{className:R.default.uploadInput},void 0,i.createElement(E.default,{ref:this.handleSetFileInputRef,onChange:this.handleFileUpload,multiple:p,tabIndex:-1})),i.createElement(m.default,{ref:this.handleSetRef,className:(0,l.default)((0,A.getClass)(R.default,"textArea",h),(0,A.getClass)(R.default,"textArea",v)),rows:1,fontWidthEstimate:6,autoFocus:!0,placeholder:f,disabled:n||d,onChange:this.handleOnChange,onResize:o,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,onPaste:this.handlePaste,onClick:this.handleClick,onContextMenu:this.handleContextMenu,value:n?"":t,tabIndex:(0,b.getTabIndex)(b.TabIndexKeys.CHANNEL_TEXT_AREA)}),a("div",{className:R.default.buttons},void 0,this.renderPremiumGiftButton(),this.renderGIFPickerButton(),this.renderEmojiButton()),this.renderAutocomplete()))},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleSetFileInputRef=function(e){this._fileInputRef=e},t.prototype.handleKeyPress=function(e){switch(e.which){case P.KeyboardKeys.ENTER:if(!e.shiftKey&&!e.ctrlKey&&!this.hasOpenCodeBlock())return e.preventDefault(),this.handleSubmit()}},t.prototype.handleKeyDown=function(e){switch(e.which){case P.KeyboardKeys.ARROW_DOWN:this.moveSelection(1)&&e.preventDefault();break;case P.KeyboardKeys.N:e.ctrlKey&&this.moveSelection(1)&&e.preventDefault();break;case P.KeyboardKeys.ARROW_UP:this.moveSelection(-1)&&e.preventDefault();break;case P.KeyboardKeys.P:e.ctrlKey&&this.moveSelection(-1)&&e.preventDefault();break;case P.KeyboardKeys.TAB:case P.KeyboardKeys.ENTER:this.handleTabOrEnterDown(e)}var t=this.props.onKeyDown;t&&t(e)},t.prototype.handleTabOrEnterDown=function(e){var t=this.state,n=t.selectedAutocomplete,r=t.prefix,o=this.getAutocompletes();null!=r&&0!==o.length?(e.preventDefault(),e.stopPropagation(),this.selectAutocompletion(n)):e.which===P.KeyboardKeys.TAB&&this.hasOpenCodeBlock()&&(e.preventDefault(),e.stopPropagation(),this.insertText("\t",!0,!1))},t.prototype.handleKeyUp=function(e){switch(e.which){case P.KeyboardKeys.ARROW_RIGHT:case P.KeyboardKeys.ARROW_LEFT:this.maybeShowAutocomplete()}var t=this.props.onKeyUp;t&&t(e)},t.prototype.handleStartFileUpload=function(){this._fileInputRef&&this._fileInputRef.activateUploadDialogue()},t.prototype.handleFileUpload=function(e){var t=this.props.onFileUpload;t&&t(e.currentTarget.files)},t.prototype.handleSubmit=function(e){var t=this,n=this.props,r=n.value,o=n.onSubmit,a=n.type,i=(e||r).trim();this.state.submitting||this.setState({submitting:!0},function(){o&&o(i).then(function(e){var n=e.shouldClear,r=e.shouldRefocus;t._mounted&&(n&&a===P.TextareaTypes.NORMAL&&t.clearValue(),t.setState({submitting:!1},r?t.focus:void 0))})})},t.prototype.handleFocus=function(e){var t=this.props.onFocus;t&&t(e),this.setState({focused:!0})},t.prototype.handleBlur=function(e){var t=this.props.onBlur;t&&t(e),this.setState({focused:!1})},t.prototype.handlePaste=function(e){var t=this,n=this.props,r=n.channel,o=n.onFileUpload,a=n.canPasteFiles;if(!(n.type!==P.TextareaTypes.NORMAL||null==e.clipboardData||null==e.clipboardData.items||0===e.clipboardData.items.length||!r.isPrivate()&&!a||r.isPrivate()&&r.isManaged()))for(var i=0;i<e.clipboardData.items.length;i++){var l=e.clipboardData.items[i];!function(){switch(l.type){case"image/png":e.preventDefault();var n=l.getAsFile();if(null==n)break;t.saveCurrentText(),2===e.clipboardData.items.length?e.clipboardData.items[0].getAsString(function(e){o&&o([(0,C.makeFile)(n,t.extractFileName(e))])}):o&&o([(0,C.makeFile)(n)])}}()}},t.prototype.extractFileName=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");if(t instanceof HTMLImageElement){var n=void 0;try{var r=L.default.parse(t.src).pathname;null!=r&&r.length>0&&(n=w.default.basename(r).split(".")[0])}catch(e){}if(null!=n&&n.length>0)return n+".png"}},t.prototype.handleOuterClick=function(){this.focus()},t.prototype.handleClick=function(){this.maybeShowAutocomplete()},t.prototype.handleContextMenu=function(e){if(N.default.embedded){var t=(0,O.getSelectionText)();(0,u.openContextMenu)(e,function(e){return i.createElement(I.default,o({},e,{type:P.ContextMenuTypes.CHANNEL_TEXT_AREA,value:t}))})}},t.prototype.handleAutocompleteClick=function(e){return this.selectAutocompletion(e)},t.prototype.handleAutocompleteHover=function(e){this.setState({selectedAutocomplete:e})},t.prototype.handleAutocompleteMouseDown=function(e){e.preventDefault()},t.prototype.handleSelectGIF=function(e){this.handleSubmit(e.url),this.focus()},t.prototype.handleSelectEmoji=function(e){null!=e&&this.insertText(":"+e.name+":"),this.focus()},t.prototype.handleOnChange=function(e){var t=this.props.onChange,n=e.currentTarget.value;t&&t(e,n)},t}(i.PureComponent);z.defaultProps={type:P.TextareaTypes.NORMAL,disabled:!1,shouldRenderPremiumGiftButton:!1},z.displayName="ChannelTextArea",t.default=z,e.exports=t.default},7690:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(9)),s=n(106),u=n(107),c=C(n(45)),d=C(n(42)),f=n(265),p=C(n(75)),h=C(n(225)),m=C(n(145)),y=C(n(94)),v=C(n(958)),_=C(n(6)),g=C(n(5963)),E=C(n(371)),I=C(n(120)),T=C(n(1219)),S=n(0),A=n(242);function C(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=function(e){function t(n){b(this,t);var r=M(this,e.call(this,n));return r.renderUserPopout=r.renderUserPopout.bind(r),r}return O(t,e),t.prototype.renderUserPopout=function(e){var t=this.props,n=t.renderUserPopout;return n(t.member.user,e)},t.prototype.render=function(){var e=this.props,t=e.member,n=e.className;return a(h.default,{closeOnScroll:!1,render:t.unknownUser?void 0:this.renderUserPopout,position:h.default.Positions.LEFT,shadow:!1},void 0,a(y.default,{text:t.unknownUser?"":t.nick||t.user.username},void 0,a("div",{className:t.unknownUser?g.default.partyMember:g.default.partyMemberKnown},void 0,a(f.AvatarImage,{src:t.user.getAvatarURL(),size:f.AvatarSizes.XSMALL,className:(0,l.default)(g.default.partyAvatar,n)}))))},t}(i.PureComponent);N.displayName="PartyMember";var R=function(e){function t(n){b(this,t);var r=M(this,e.call(this,n));return r.handleOpenSpotifyTrack=function(){var e=r.props,t=e.activity,n=e.onOpenSpotifyTrack;null!=t&&n&&n(t)},r.handleOpenSpotifyArtist=function(e){var t=r.props,n=t.activity,o=t.onOpenSpotifyArtist,a=t.message;null!=n&&null!=a&&o&&o(n,a.author.id,e)},r.handleOpenSpotifyAlbum=function(){var e=r.props,t=e.activity,n=e.onOpenSpotifyAlbum,o=e.message;null!=t&&null!=o&&n&&n(t,o.author.id)},r.handleJoin=r.handleJoin.bind(r),r.handleSpectate=r.handleSpectate.bind(r),r.handleSync=r.handleSync.bind(r),r.handleDownloadApp=r.handleDownloadApp.bind(r),r.renderUser=r.renderUser.bind(r),r}return O(t,e),t.prototype.isDeadInvite=function(){var e=this.props,t=e.isPreview,n=e.message,r=e.activity,o=e.applicationId;return!t&&!(null!=n&&(0,u.isInviteActive)(r,n,o))},t.prototype.getPartySize=function(){var e=this.props.activity;return null==e||null==e.party||null==e.party.size||e.party.size.length<2?[-1,-1]:e.party.size},t.prototype.getActionableMode=function(){return[S.ActivityActionTypes.LISTEN,S.ActivityActionTypes].includes(this.props.activityActionType)?"Actionable":this.props.isPreview||this.canSpectate()||this.canJoin()?"Actionable":"NotActionable"},t.prototype.isInParty=function(){var e=this.props,t=e.activity,n=e.myPartyId;return!e.isPreview&&null!=t&&null!=t.party&&n===t.party.id},t.prototype.isPartyFull=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&t>=n},t.prototype.hasPartySize=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&n>-1},t.prototype.isActionType=function(e){return this.props.activityActionType===e},t.prototype.canSpectate=function(){var e=this.props,t=e.isGameLaunchable,n=e.activity,r=e.isInBrowser,o=e.isPreview,a=(0,u.hasFlag)(n,S.ActivityFlags.SPECTATE);return!(!o||!a)||!(this.isDeadInvite()||!this.isActionType(S.ActivityActionTypes.SPECTATE)||!(0,u.hasFlag)(n,S.ActivityFlags.SPECTATE))&&!(r||!t||this.isInParty())},t.prototype.canJoin=function(){var e=this.props,t=e.activity,n=e.isPreview,r=e.isGameLaunchable,o=e.isInBrowser;return!!n||!(this.isDeadInvite()||!this.isActionType(S.ActivityActionTypes.JOIN)||!(0,u.hasFlag)(t,S.ActivityFlags.JOIN))&&(!(!this.hasPartySize()||this.isPartyFull())&&!(o||!r||this.isInParty()))},t.prototype.canSync=function(){var e=this.props,t=e.activity,n=e.isPreview,r=e.isSyncable,o=e.isInBrowser;return!!n||!(!this.isActionType(S.ActivityActionTypes.LISTEN)&&!this.isActionType(S.ActivityActionTypes.WATCH))&&(!(this.isDeadInvite()||!(0,u.hasFlag)(t,S.ActivityFlags.SYNC))&&!(o||!r||this.isInParty()))},t.prototype.getHelpdeskArticleURL=function(){var e=this.props.partyId;return null!=e&&(0,A.isSpotifyParty)(e)?S.HelpdeskArticles.SPOTIFY_CONNECTION:S.HelpdeskArticles.RICH_PRESENCE_INTRODUCTION},t.prototype.handleJoin=function(){var e=this.props.onJoin;e&&e()},t.prototype.handleSpectate=function(){var e=this.props.onSpectate;e&&e()},t.prototype.handleSync=function(){var e=this.props.onSync;e&&e()},t.prototype.handleDownloadApp=function(){var e=this.props.onDownloadApp;e&&e()},t.prototype.renderHeaderText=function(){var e=this.props,t=e.activityActionType,n=e.name;switch(t){case S.ActivityActionTypes.LISTEN:return _.default.Messages.INVITE_EMBED_INVITE_TO_LISTEN.format({name:n});case S.ActivityActionTypes.WATCH:return _.default.Messages.INVITE_EMBED_INVITE_TO_WATCH.format({name:n});case S.ActivityActionTypes.SPECTATE:return _.default.Messages.INVITE_EMBED_INVITE_TO_SPECTATE;case S.ActivityActionTypes.JOIN:default:return _.default.Messages.INVITE_EMBED_INVITE_TO_JOIN_GROUP}},t.prototype.renderPartyStatus=function(){var e=this,t=this.props,n=t.activityActionType,r=t.isGameLaunchable,o=t.isSyncable,i=t.isPreview,l=t.isInBrowser,s=t.name,c=t.activity,d=this.getPartySize(),f=d[0],p=d[1];if(this.isDeadInvite())switch(n){case S.ActivityActionTypes.LISTEN:return _.default.Messages.INVITE_EMBED_LISTEN_HAS_ENDED;case S.ActivityActionTypes.WATCH:return _.default.Messages.INVITE_EMBED_WATCH_HAS_ENDED;case S.ActivityActionTypes.SPECTATE:case S.ActivityActionTypes.JOIN:default:return _.default.Messages.INVITE_EMBED_GAME_HAS_ENDED}if(l&&!i)switch(n){case S.ActivityActionTypes.SPECTATE:return _.default.Messages.INVITE_EMBED_SPECTATE_VIA_DESKTOP_APP;case S.ActivityActionTypes.JOIN:return _.default.Messages.INVITE_EMBED_JOIN_VIA_DESKTOP_APP}if(this.isActionType(S.ActivityActionTypes.LISTEN)||this.isActionType(S.ActivityActionTypes.WATCH)){if(null!=c&&null!=c.details&&null!=c.state&&(0,u.isListeningOnSpotify)(c)){return[a("div",{className:g.default.details},"details",a(m.default,{className:g.default.textLink,onClick:this.handleOpenSpotifyTrack},void 0,c.details)),a("div",{className:g.default.state},"state",_.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:c.state,artistsHook:function(t,n){return null!=c.state?a(T.default,{artists:c.state,linkClassName:g.default.textLink,canOpen:null!=c.sync_id,onOpenSpotifyArtist:e.handleOpenSpotifyArtist},n):null}}))]}return this.isActionType(S.ActivityActionTypes.LISTEN)?_.default.Messages.USER_ACTIVITY_LISTEN_ALONG:_.default.Messages.USER_ACTIVITY_WATCH_ALONG}return this.isInParty()?_.default.Messages.INVITE_EMBED_IN_GROUP:r||o||i?this.isActionType(S.ActivityActionTypes.SPECTATE)?_.default.Messages.INVITE_EMBED_SPECTATE:this.isPartyFull()?this.canSpectate()?_.default.Messages.INVITE_EMBED_FULL_GROUP_SPECTATE:_.default.Messages.INVITE_EMBED_FULL_GROUP:this.hasPartySize()?_.default.Messages.INVITE_EMBED_NUM_OPEN_SLOTS.format({number:p-f}):_.default.Messages.JOIN:_.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:s})},t.prototype.renderActionButton=function(){var e=this,t=this.props,n=t.isInBrowser,r=t.isPreview,a=t.isGameLaunchable,l=t.partyId,s=t.activity,u=t.message,d=t.renderSpotifyJoinButton,f=t.renderCustomButton,p={className:g.default.actionButton,size:c.default.Sizes.SMALL},h=null!=f?f(p):null;if(null!=h)return h;if(!this.isDeadInvite()&&this.isActionType(S.ActivityActionTypes.LISTEN)&&null!=l&&null!=u&&(0,A.isSpotifyParty)(l))return d(o({},p,{activity:s,user:u.author}));return i.createElement(c.default,o({},p,function(){if(!r&&n&&!e.isDeadInvite())return{children:_.default.Messages.USER_ACTIVITY_ACTION_DOWNLOAD_APP,onClick:e.handleDownloadApp};var t=e.canSpectate();return e.isActionType(S.ActivityActionTypes.SPECTATE)||e.isPartyFull()&&t?t?{children:_.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,onClick:e.handleSpectate}:{children:_.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,disabled:!0}:e.canJoin()?{children:_.default.Messages.JOIN,onClick:e.handleJoin}:e.canSync()?{children:_.default.Messages.JOIN,onClick:e.handleSync}:{children:_.default.Messages.JOIN,disabled:!0}}(),{color:!n&&!a||this.isDeadInvite()?c.default.Colors.GREY:c.default.Colors.GREEN,submitting:this.props.isLaunching}))},t.prototype.renderUser=function(e,t,n){var r=this.props.renderUserPopout;return null!=e?a(N,{member:e,renderUserPopout:r,className:t},n):a("div",{className:(0,l.default)(g.default.partyMemberEmpty,t)},n)},t.prototype.renderMoreUsers=function(e,t,n){return a("div",{className:g.default.moreUsers},n,e)},t.prototype.renderParty=function(){var e=this.props,t=e.partyId,n=e.partyMembers,r=e.hideParty,o=this.getPartySize(),i=o[0],l=o[1],s=this.hasPartySize()||this.isActionType(S.ActivityActionTypes.LISTEN)||this.isActionType(S.ActivityActionTypes.WATCH);if(this.isActionType(S.ActivityActionTypes.SPECTATE)||null==t||this.isDeadInvite()||!s||r)return null;for(var u=[].concat(n);u.length<i;)u.push({user:new I.default({discriminator:"0005"}),unknownUser:!0});for(var c=Math.min(l,106);u.length<c;)u.push(null);return a(v.default,{className:g.default.partyMembers,users:u,max:l>0?Math.min(l,6):6,renderUser:this.renderUser,renderMoreUsers:this.renderMoreUsers})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.coverImage,r=e.name,o=e.activity,i=e.backgroundOpacity,c=this.isActionType(S.ActivityActionTypes.JOIN)||this.isActionType(S.ActivityActionTypes.SPECTATE),f=this.isDeadInvite(),h=void 0;return null==n||null==o||c?!c&&f&&(h=a("div",{className:g.default.artworkSpotifySessionEnded})):h=a("img",{alt:"",src:n,className:(0,s.getClass)(g.default,"artwork",this.getActionableMode())}),null!=o&&null!=h&&null!=o.assets&&o.assets.large_text&&!f&&(0,u.isListeningOnSpotify)(o)&&(h=a(y.default,{text:o.assets.large_text},void 0,a(m.default,{onClick:this.handleOpenSpotifyAlbum},void 0,h))),a("div",{className:(0,l.default)(g.default.invite,t,g.default[i+"BackgroundOpacity"])},void 0,a("div",{className:g.default.coverImageWrapper},void 0,a("div",{className:(0,l.default)((0,s.getClass)(g.default,"coverImage",this.getActionableMode()),null!=h?g.default.blurred:null),style:{backgroundImage:null!=n?"url('"+n+"')":null}})),a(d.default,{className:g.default.fullHeight},void 0,a(d.default,{direction:d.default.Direction.VERTICAL},void 0,a("div",{className:g.default.header},void 0,this.renderHeaderText()),a(d.default.Child,{className:g.default.partyStatus},void 0,this.renderPartyStatus()),a(d.default,{align:d.default.Align.END},void 0,a(d.default,{align:d.default.Align.CENTER,className:g.default.actionAndParty,basis:0,style:{marginRight:0}},void 0,this.renderActionButton(),this.renderParty()),null==h&&c?a("div",{className:g.default.name},void 0,r):null)),h),a(m.default,{href:E.default.getArticleURL(this.getHelpdeskArticleURL()),className:g.default.helpIcon},void 0,a(p.default,{name:p.default.Names.QUESTION_MARK,color:S.Colors.PRIMARY_DARK_300,width:12,height:12})))},t}(i.PureComponent);R.displayName="ActivityInviteEmbed",t.default=R,e.exports=t.default},7691:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=S(n(3)),l=S(n(279)),s=S(n(933)),u=S(n(990)),c=S(n(35)),d=S(n(146)),f=S(n(189)),p=n(969),h=S(n(117)),m=S(n(6769)),y=S(n(45)),v=S(n(76)),_=S(n(6164)),g=S(n(6)),E=n(0),I=S(n(5962)),T=S(n(94));function S(e){return e&&e.__esModule?e:{default:e}}var A=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={textValue:"",textFocused:!0},r.handleTextChange=r.handleTextChange.bind(r),r.handleShare=r.handleShare.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderTitle=function(){switch(this.props.activity.type){case E.ActivityTypes.LISTENING:return g.default.Messages.INVITE_EMBED_LISTENING_INVITE;case E.ActivityTypes.PLAYING:case E.ActivityTypes.STREAMING:default:return g.default.Messages.INVITE_EMBED_GAME_INVITE}},t.prototype.render=function(){var e=this,t=this.state,n=t.textValue,r=t.textFocused,i=this.props,l=i.activity,s=i.channel,u=i.activityActionType,c=i.cooldown,d=c>0,f=d?g.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((c+1e3)/1e3)}):null;return o(h.default,{size:h.default.Sizes.SMALL},void 0,o(h.default.Header,{},void 0,o(v.default,{tag:v.default.Tags.H4},void 0,this.renderTitle())),o(h.default.Content,{},void 0,o("div",{className:I.default.subHeader},void 0,g.default.Messages.MESSAGE_PREVIEW),o(m.default,{activityActionType:u,activity:l,className:I.default.preview,applicationId:l.application_id,partyId:null!=l.party?l.party.id:null,name:l.name,isPreview:!0}),o("div",{className:I.default.subHeader},void 0,g.default.Messages.ADD_A_COMMENT_OPTIONAL),a.createElement(_.default,{className:I.default.textArea,value:n,focused:r,channel:s,onChange:this.handleTextChange,onSubmit:this.handleShare,type:E.TextareaTypes.FORM,ref:function(t){e.channelTextAreaRef=t}})),o(h.default.Footer,{},void 0,o(T.default,{text:f},void 0,o("div",{},void 0,o(y.default,{disabled:d,onClick:this.handleShare},void 0,g.default.Messages.INVITE_EMBED_SEND_INVITE))),o(y.default,{look:y.default.Looks.LINK,onClick:this.handleCancel},void 0,g.default.Messages.CANCEL)))},t.prototype.handleCancel=function(){c.default.pop()},t.prototype.handleTextChange=function(e,t){this.setState({textValue:t})},t.prototype.handleShare=function(){var e=this.props,t=e.channel,n=e.activity,r=e.activityActionType,o=e.cooldown,a=this.state.textValue;if(o>0)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var i=l.default.parse(t,a),u={activity:n,type:r};return s.default.isOpen("popout-channel-text-area-shouting")?(f.default.close("popout-channel-text-area-shouting"),d.default.sendMessage(t.id,i,!0,u),c.default.pop(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})):(0,p.applyChatRestrictions)(this.channelTextAreaRef,a,t).then(function(e){return e.valid?(d.default.sendMessage(t.id,i,!0,u),c.default.pop(),{shouldClear:!1,shouldRefocus:!1}):{shouldClear:!1,shouldRefocus:!1}})},t}(a.PureComponent);A.displayName="ActivityInvite",t.default=i.default.connectStores([u.default],function(e){var t=e.channel;return{cooldown:u.default.getSlowmodeCooldownGuess(t.id)}})(A),e.exports=t.default},7692:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(2)),o=l(n(12)),a=l(n(6770)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}t.default={search:function(e,t){null==a.default.getResults(e,t)&&(r.default.dirtyDispatch({type:i.ActionTypes.INTEGRATION_QUERY,integration:e,query:t}),o.default.get({url:i.Endpoints.INTEGRATIONS+"/"+i.ChannelTextAreaIntegrations[e].command+"/search",query:{q:t}}).then(function(n){r.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_SUCCESS,integration:e,query:t,results:n.body})},function(){return r.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_FAILURE,integration:e,query:t})}))}},e.exports=t.default},7698:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=u(n(3)),a=u(n(2)),i=n(0),l=u(n(6539)),s=u(n(286));function u(e){return e&&e.__esModule?e:{default:e}}var c=s.default.INVITE_OPTIONS_1_DAY.value,d=s.default.INVITE_OPTIONS_UNLIMITED.value,f=i.FormStates.CLOSED,p=!1,h=void 0,m=void 0,y=void 0,v=void 0,_=void 0;function g(e){y=l.default.getInvite(e),v={channelId:e,maxAge:null!=y?y.maxAge:c,maxUses:null!=y?y.maxUses:d,temporary:null!=y&&y.temporary},_=v}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return f!==i.FormStates.CLOSED},t.prototype.isSubmitting=function(){return f===i.FormStates.SUBMITTING},t.prototype.isChannelForced=function(){return p},t.prototype.getGuildId=function(){return h},t.prototype.getError=function(){return m},t.prototype.getInvite=function(){return y},t.prototype.getInviteSettings=function(){return v},t.prototype.getPendingSettings=function(){return _},t}(o.default.Store);t.default=new E(a.default,{CREATE_INVITE_MODAL_OPEN:function(e){f=i.FormStates.OPEN,p=e.forceChannel,h=e.guildId,m=null,g(e.channelId)},CREATE_INVITE_MODAL_UPDATE_SETTINGS:function(e){var t=e.settings;_=r({},_,t)},CREATE_INVITE_MODAL_RESET_SETTINGS:function(e){_=v},CREATE_INVITE_MODAL_GENERATE_INVITE:function(e){return f=i.FormStates.SUBMITTING,void(v=_)},CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS:function(e){var t=e.channelId;f=i.FormStates.OPEN,m=null,g(t)},CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE:function(e){f=i.FormStates.OPEN,y=null,m=e.message},CREATE_INVITE_MODAL_CLOSE:function(e){f=i.FormStates.CLOSED}}),e.exports=t.default},7699:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(2)),o=n(0),a=u(n(7698)),i=u(n(271)),l=u(n(17)),s=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}t.default={open:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r.default.dispatch({type:o.ActionTypes.CREATE_INVITE_MODAL_OPEN,guildId:e,channelId:t,forceChannel:a}),this.createInvite("IOS InstantInvite Mount",!0),l.default.track(o.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite",Source:n})},updateSettings:function(e){r.default.dispatch({type:o.ActionTypes.CREATE_INVITE_MODAL_UPDATE_SETTINGS,settings:e})},resetSettings:function(){r.default.dispatch({type:o.ActionTypes.CREATE_INVITE_MODAL_RESET_SETTINGS})},createInvite:function(e,t){var n=a.default.getPendingSettings();if(null!=n){r.default.dispatch({type:o.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE});var l=n.channelId,u=n.maxAge,c=n.maxUses,d=n.temporary,f=a.default.getInvite(),p=t&&null!=f?f.code:null;i.default.createInvite(l,{validate:p,max_age:parseInt(u,10),max_uses:parseInt(c,10),temporary:d},e).then(function(){r.default.dispatch({type:o.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS,channelId:l})},function(e){var t=s.default.Messages.INSTANT_INVITE_FAILED_TO_GENERATE;null!=e.body&&null!=e.body.message&&(t=e.body.message),r.default.dispatch({type:o.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE,message:t})})}},close:function(){r.default.dispatch({type:o.ActionTypes.CREATE_INVITE_MODAL_CLOSE})}},e.exports=t.default},7996:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(6)),o=a(n(963));function a(e){return e&&e.__esModule?e:{default:e}}t.default={MENTION_EVERYONE:function(){return{test:"everyone",text:"@everyone",description:r.default.Messages.MENTION_EVERYONE_AUTOCOMPLETE_DESCRIPTION}},MENTION_HERE:function(){return{test:"here",text:"@here",description:r.default.Messages.MENTION_HERE_AUTOCOMPLETE_DESCRIPTION}},LAUNCHABLE_APPLICATIONS:function(){return o.default.launchableApplicationViewItems}},e.exports=t.default},7997:function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(84)),o=c(n(146)),a=c(n(148)),i=c(n(14)),l=c(n(18)),s=c(n(1216)),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var d=1010,f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,{defaultRetryAfter:d,logger:r.default.create("InviteQueue")}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._sendInvite=function(e,t,n){o.default.sendInvite(e.id,t,u.AnalyticsLocations.GUILD_CREATE_INVITE_SUGGESTION).then(function(){return n(null,!0)},function(){return n(null,!1)})},t.prototype.drain=function(e,t){var n=this,r=e.code,o=e.channel,s=e.user;null!=o?this._sendInvite(o,r,t):null!=s?a.default.ensurePrivateChannel(i.default.getId(),s.id).then(function(e){null!=(o=l.default.getChannel(e))&&n._sendInvite(o,r,t)},function(){return t(null,!1)}):t(null,!1)},t}(s.default);t.default=new f,e.exports=t.default},8047:function(e,t,n){e.exports=n.p+"c83861b2303b7ee40c419e9590d57f11.svg"},952:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(1006));function l(e){return e&&e.__esModule?e:{default:e}}var s={UP:i.default.directionUp,RIGHT:i.default.directionRight,DOWN:i.default.directionDown,LEFT:i.default.directionLeft},u=function(e){var t=e.direction,n=void 0===t?s.DOWN:t,r=e.width,l=void 0===r?24:r,u=e.height,c=void 0===u?24:u,d=e.color,f=void 0===d?"currentColor":d,p=e.transition,h=void 0===p?i.default.transition:p,m=e.className,y=e.foreground,v=e.expanded,_=n;return!0===v?_=s.DOWN:!1===v&&(_=s.RIGHT),o("svg",{className:(0,a.default)(m,h,_),width:l,height:c,viewBox:"0 0 24 24"},void 0,o("path",{className:y,fill:"none",stroke:f,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M7 10L12 15 17 10"}))};u.displayName="Caret",u.Directions=s,t.default=u,e.exports=t.default}}]);
//# sourceMappingURL=b37fddfeb3b9ce9d4cbb.js.map