(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{5712:function(e,t,n){"use strict";t.__esModule=!0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=P(n(1)),s=L(n(3)),l=L(n(6584)),u=n(519),f=L(n(6377)),d=L(n(7036)),c=L(n(7034)),p=n(590),h=L(n(7033)),m=L(n(88)),v=L(n(6374)),g=L(n(7029)),y=L(n(7026)),_=L(n(7024)),E=L(n(7023)),T=L(n(7021)),I=L(n(7020)),S=n(6387),N=n(939),A=L(n(6109)),O=L(n(6130)),b=L(n(271)),R=P(n(953)),C=L(n(17)),M=L(n(7008)),w=n(0);function L(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}s.default.initialize();var D=(0,T.default)(f.default),F=(0,T.default)(d.default),B=(0,T.default)(c.default),x=(0,T.default)(h.default),U=(0,T.default)(v.default),k=(0,T.default)(g.default),G=(0,T.default)(y.default),V=(0,T.default)(_.default),W=(0,T.default)(E.default),H=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n)),a=(0,u.parse)(location.search).redirect_to;null!=a&&(0,p.isSafeRedirect)(a)&&!a.startsWith(w.Routes.ME)||(a=null);var i=null;return null==n.invite&&(i=(0,S.getArtForPath)(a)),r.state={splash:i,redirectTo:a},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e){var t=e.invite;if(null!=t&&t.state===w.InviteStates.RESOLVED){var n=t.guild;if(null!=n&&"string"==typeof n.splash)return{splash:m.default.getGuildSplashURL({id:n.id,splash:n.splash})}}return{}},t.prototype.componentDidMount=function(){var e=this.props.inviteCode;null!=e&&C.default.track(w.AnalyticEvents.INVITE_OPENED,{invite_code:e,load_time:M.default.getTimeSinceNavigationStart()},!0),this.resolveInvite(),this.resolveGiftCode()},t.prototype.resolveInvite=function(){var e=this.props.inviteCode;null!=e&&(b.default.resolveInvite(e,w.PageAnalyticsLocations.INVITE),b.default.openNativeAppModal(e))},t.prototype.resolveGiftCode=function(){var e=this.props.giftCode;null!=e&&(R.resolveGiftCode(e,!0,!0),R.openNativeGiftCodeModal(e))},t.prototype.render=function(){var e=this.state,t=e.splash,n=e.redirectTo;return i(I.default,{splash:t,redirectTo:n},void 0,i(l.default.Route,{path:w.Routes.LOGIN,render:function(e){return o.createElement(D,a({},e,{redirectTo:n}))}}),i(l.default.Route,{path:w.Routes.REGISTER,render:function(e){return o.createElement(U,a({},e,{redirectTo:n}))}}),i(l.default.Route,{path:w.Routes.GIFT_CODE_LOGIN(":giftCode"),render:function(e){return o.createElement(B,a({login:!0},e))}}),i(l.default.Route,{path:w.Routes.GIFT_CODE(":giftCode"),render:function(e){return o.createElement(B,e)}}),i(l.default.Route,{path:w.Routes.INVITE_LOGIN(":inviteCode"),render:function(e){return N.isMobile||N.isTablet?o.createElement(x,e):o.createElement(F,a({login:!0},e))}}),i(l.default.Route,{path:w.Routes.INVITE(":inviteCode"),render:function(e){return N.isMobile||N.isTablet?o.createElement(x,e):o.createElement(F,e)}}),i(l.default.Route,{path:w.Routes.VERIFY,render:function(e){return o.createElement(G,e)}}),i(l.default.Route,{path:w.Routes.DISABLE_EMAIL_NOTIFICATIONS,render:function(e){return o.createElement(W,e)}}),i(l.default.Route,{path:w.Routes.AUTHORIZE_IP,render:function(e){return o.createElement(k,e)}}),i(l.default.Route,{path:w.Routes.RESET,render:function(e){return o.createElement(V,e)}}))},t}(o.PureComponent);H.displayName="ViewsWithAuth",t.default=s.default.connectStores([A.default,O.default],function(e){var t=e.match,n=function(e){return null!=e&&null!=e.params?e.params.inviteCode:null}(t),r=function(e){return null!=e&&null!=e.params?e.params.giftCode:null}(t);return{inviteCode:n,giftCode:r,gift:null!=r?O.default.get(r):null,invite:null!=n?A.default.getInvite(n):null}})(H),e.exports=t.default},6055:function(e,t,n){"use strict";t.__esModule=!0,t.ActivityCount=t.AuthSpinner=t.SubText=t.Block=t.Input=t.ChannelIcon=t.GuildIcon=t.Avatar=t.Button=t.Image=t.VerifiedIcon=t.Subtitle=t.Title=void 0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=I(n(9)),l=I(n(6)),u=I(n(71)),f=I(n(94)),d=I(n(75)),c=I(n(42)),p=I(n(45)),h=I(n(268)),m=I(n(925)),v=I(n(6143)),g=I(n(6063)),y=n(265),_=n(0),E=I(n(6142)),T=I(n(5576));function I(e){return e&&e.__esModule?e:{default:e}}function S(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var N=function(e){var t=e.className,n=e.children,r=S(e,["className","children"]);return o.createElement(u.default,i({},r,{color:u.default.Colors.WHITE,weight:u.default.Weights.LIGHT,className:(0,s.default)(T.default.title,t)}),n)};N.displayName="Title",t.Title=N;var A=function(e){var t=e.className,n=e.children,r=S(e,["className","children"]);return o.createElement(u.default,i({},r,{weight:u.default.Weights.NORMAL,className:(0,s.default)(T.default.subTitle,t)}),n)};A.displayName="Subtitle",t.Subtitle=A,(t.VerifiedIcon=function(e){var t=e.theme,n=void 0===t?_.ThemeTypes.DARK:t;return a(f.default,{text:l.default.Messages.GUILD_VERIFIED,position:f.default.Positions.LEFT,color:f.default.Colors.BRAND},void 0,a(d.default,{className:T.default.verified,name:d.default.Names.VERIFIED,inner:n===_.ThemeTypes.DARK?_.Colors.PRIMARY_DARK:_.Colors.PRIMARY_DARK_300,checkmark:_.Colors.WHITE,width:25,height:25}))}).displayName="VerifiedIcon";var O=function(e){var t=e.className,n=S(e,["className"]);return o.createElement("img",i({alt:""},n,{className:(0,s.default)(T.default.image,t)}))};O.displayName="Image",t.Image=O;var b=function(e){var t,n=e.className,r=S(e,["className"]),a=r.look===p.default.Looks.LINK;return o.createElement(p.default,i({size:a?p.default.Sizes.MIN:p.default.Sizes.LARGE,fullWidth:!a,className:(0,s.default)(n,(t={},t[T.default.button]=!a,t[T.default.linkButton]=a,t))},r))};b.displayName="Button",t.Button=b,b.Looks=p.default.Looks,b.Colors=p.default.Colors,b.Sizes=p.default.Sizes;var R=function(e){var t=e.className,n=e.src,r=S(e,["className","src"]);return o.createElement(y.AvatarImage,i({src:n,className:(0,s.default)(T.default.inviteLargeIcon,t)},r))};R.displayName="Avatar",t.Avatar=R,R.Sizes=y.AvatarSizes;var C=function e(t){var n=t.className,r=t.guild,a=t.size,l=S(t,["className","guild","size"]);return o.createElement(g.default,i({guild:r,size:a,className:(0,s.default)(a===e.Sizes.XLARGE?T.default.inviteLargeIcon:T.default.inviteSmallIcon,n)},l))};C.displayName="GuildIcon",t.GuildIcon=C,C.Sizes=g.default.Sizes;var M=function e(t){var n=t.className,r=t.channel,a=t.size,l=S(t,["className","channel","size"]);return o.createElement(y.AvatarImage,i({src:r.getIconURL(),size:a,className:(0,s.default)(a===e.Sizes.XLARGE?T.default.inviteLargeIcon:T.default.inviteSmallIcon,n)},l))};M.displayName="ChannelIcon",t.ChannelIcon=M,M.Sizes=y.AvatarSizes;var w=function(e){var t,n=e.label,r=e.error,l=e.placeholder,u=e.value,f=e.className,d=e.inputClassName,c=e.setRef,p=S(e,["label","error","placeholder","value","className","inputClassName","setRef"]);return a(h.default,{title:n,error:r,className:f},void 0,o.createElement(m.default,i({},p,{value:u,inputRef:c,placeholder:l,className:T.default.input,inputClassName:(0,s.default)(d,(t={},t[T.default.inputError]=null!=r,t))})))};w.displayName="Input",t.Input=w,(t.Block=function(e){var t=e.className,n=e.children;return a("div",{className:(0,s.default)(T.default.block,t)},void 0,n)}).displayName="Block",(t.SubText=function(e){var t=e.className,n=e.children;return a(u.default,{size:u.default.Sizes.SMALL,className:(0,s.default)(T.default.subText,t)},void 0,n)}).displayName="SubText",(t.AuthSpinner=function(e){var t=e.className,n=e.hideQuote,r=void 0!==n&&n;return a(c.default,{direction:c.default.Direction.VERTICAL,align:c.default.Align.CENTER,className:t},void 0,a(v.default,{className:T.default.spinnerVideo}),r?null:a(A,{className:T.default.spinnerText},void 0,E.default[Math.floor(Math.random()*E.default.length)][0]))}).displayName="AuthSpinner",(t.ActivityCount=function(e){var t=e.online,n=e.total,r=e.className;if(null==n)return null;var i=void 0;return null!=t&&t>0&&(i=a("div",{className:(0,s.default)(T.default.pill,T.default.pillOnline)},void 0,a("i",{className:T.default.pillIconOnline}),a(u.default,{tag:"span",size:u.default.Sizes.MEDIUM,className:T.default.pillMessage},void 0,l.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:t})))),a(c.default,{justify:c.default.Justify.CENTER,className:r},void 0,i,a("div",{className:T.default.pill},void 0,a("i",{className:T.default.pillIconTotal}),a(u.default,{tag:"span",size:u.default.Sizes.MEDIUM,className:T.default.pillMessage},void 0,l.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:n}))))}).displayName="ActivityCount";var L=function(e){var t=e.className,n=e.tag,r=void 0===n?"section":n,i=e.onSubmit,o=e.children;return a(r,{onSubmit:i,className:(0,s.default)(T.default.authBox,"theme-dark",t)},void 0,a("div",{className:T.default.centeringWrapper},void 0,o))};L.displayName="AuthBox",t.default=L},6059:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!=t&&u.default.register(e,t);var p=e.getExperimentId();return(0,r.default)({displayName:"ExperimentContainer",mixins:[a.default.LazyStoreListenerMixin(e,o.default,s.default,l.default,d.default)],getDefaultProps:function(){return{renderFunctions:t}},getInitialState:function(){return this.getStateFromStores()},shouldComponentUpdate:function(e,t){return!(0,i.default)(this.props,e)||t.guildId!==this.state.guildId||t.channelId!==this.state.channelId||!f.default.experimentDescriptorEquals(t.experimentDescriptor,this.state.experimentDescriptor)},getStateFromStores:function(){var t=this.props.guildId||s.default.getGuildId(),n=this.props.channelId||o.default.getChannelId(t),r=null,a=d.default.getOverrideExperimentDescriptor(p);return r=a||e.getExperimentDescriptor(t,n),{guildId:t,channelId:n,experimentDescriptor:r}},getRenderFunction:function(){var e=this.state.experimentDescriptor,t=this.props.renderFunctions;if(null==e)return t[c.ExperimentTypes.NONE]||h;var n=e.type,r=e.bucket,a=t[n];return null==a?t[c.ExperimentTypes.NONE]||h:null!=a[r]?a[r]:t[c.ExperimentTypes.NONE]||h},handleExperimentTriggered:function(){var e=this.state.experimentDescriptor;if(null!=e&&!e.override){if(null!=n&&!1===n(e,this.props))return;u.default.trigger(e)}},componentDidMount:function(){this.handleExperimentTriggered()},componentDidUpdate:function(e,t){var n=this.state.experimentDescriptor;f.default.experimentDescriptorEquals(n,t.experimentDescriptor)||this.handleExperimentTriggered()},render:function(){var e=this.getRenderFunction(),t=this.state.experimentDescriptor,n=this.props,r=(n.renderFunctions,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["renderFunctions"]));return e(r,t)}})};var r=p(n(54)),a=p(n(3)),i=p(n(276)),o=p(n(65)),s=p(n(187)),l=p(n(14)),u=p(n(6054)),f=p(n(6086)),d=p(n(165)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return null};e.exports=t.default},6086:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(6173)),a=n(0),i=s(n(6054)),o=s(n(165));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var i=a,s=o.default.getEligibleExperiment(i);if(null!=s)return s}return null}t.default={getFirstEligibleUserExperiment:l,isInExperimentBucket:function(e,t){return o.default.getExperimentBucket(e)===t},experimentDescriptorEquals:function(e,t){if(null==e&&null==t)return!0;if(e===t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(null!=e&&null!=t){if(e.type!==t.type)return!1;if(e.bucket!==t.bucket)return!1;if(e.revision!==t.revision)return!1;if(e.name!==t.name)return!1;if(e.type===a.ExperimentTypes.USER&&t.type===a.ExperimentTypes.USER)return(0,r.default)(e.context,t.context)}return!0},triggerFirstEligibleUserExperiment:function(e){var t=l(e);if(t)return i.default.trigger(t),t},getExperimentBucketName:function(e){return e===a.ExperimentBuckets.CONTROL?"Control":e===a.ExperimentBuckets.NOT_ELIGIBLE?"Not Eligible":"Treatment "+e}},e.exports=t.default},6116:function(e,t,n){"use strict";t.__esModule=!0;t.NOOP=function(){},t.MIN_RADIUS=780,t.MAX_RADIUS=1e3,t.TWO_PI=2*Math.PI,t.POINT_TENSION_DEFAULT=150,t.WaveStates={INITIAL:0,ENTERED:1,FILLING:2,FILLED:3}},6117:function(e,t,n){"use strict";t.__esModule=!0,t.InviteResolvingHeader=void 0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=m(n(6)),s=m(n(9)),l=n(6055),u=m(n(383)),f=m(n(275)),d=m(n(120)),c=n(0),p=m(n(510)),h=m(n(374));function m(e){return e&&e.__esModule?e:{default:e}}(t.InviteResolvingHeader=function(){return a(i.Fragment,{},void 0,a(l.Avatar,{src:null,size:l.Avatar.Sizes.XXLARGE,className:p.default.marginBottom20}),a(l.Subtitle,{},void 0,o.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),a(l.Title,{className:(0,s.default)(p.default.marginTop8,h.default.flexCenter)},void 0,o.default.Messages.LOADING))}).displayName="InviteResolvingHeader";var v=function(e){var t=e.guild,n=e.user;return n?a(l.Avatar,{src:null!=n?n.getAvatarURL():null,size:l.Avatar.Sizes.XXLARGE,className:p.default.marginBottom20}):t?a(l.GuildIcon,{guild:t,size:l.GuildIcon.Sizes.XLARGE,className:p.default.marginBottom20}):null},g=function(e){var t=e.invite,n=e.disableUser,r=void 0!==n&&n,m=e.error,g=e.theme;if(null==t)return null;var y=null!=t.guild?new u.default(t.guild):null,_=null!=t.channel?new f.default(t.channel):null,E=r||null==t.inviter?null:new d.default(t.inviter),T=null!=t.approximate_member_count&&t.approximate_member_count>100,I=null!=y&&y.hasFeature(c.GuildFeatures.VERIFIED),S=null,N=void 0,A=void 0;if(null!=y)S=null==E?o.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:o.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:E.username}),T||I||(N=a(l.GuildIcon,{guild:y,size:l.GuildIcon.Sizes.SMALL})),A=y.name;else if(null!=_){if(null==E)throw new Error("no inviter in group DM invite");var O=E.username;_.name?(S=o.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:O}),A=_.name,null!=_.icon&&(N=a(l.ChannelIcon,{channel:_,size:l.Avatar.Sizes.SMALL}))):(S=o.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,A=O)}return a(i.Fragment,{},void 0,a(v,{guild:y,user:r||T?null:E}),m?a(i.Fragment,{},void 0,a(l.Subtitle,{},void 0,o.default.Messages.INVITE_MODAL_ERROR_TITLE),a(l.Title,{},void 0,m)):a(i.Fragment,{},void 0,a(l.Subtitle,{},void 0,S),a(l.Title,{className:(0,s.default)(p.default.marginTop8,h.default.flexCenter)},void 0,I?a(l.VerifiedIcon,{theme:g}):null,N,A)),a(l.ActivityCount,{className:p.default.marginTop8,online:t.approximate_presence_count,total:t.approximate_member_count}))};g.displayName="InviteHeader",t.default=g},6142:function(e){e.exports=[["Upsorbing the Contents",null,null],["Additive Parsing the Load",null,null],["Commence Monosaturated Goodening",null,null],["Kick Off the Multi-Core Widening",null,null],["Bastening the Game Turkey",null,null],["Abstracting the Rummage Disc",null,null],["Undecerealenizing the Process",null,null],["Postrefragmenting the Widget Layer",null,null],["Satisfying the Constraints",null,null],["Abnoramalzing Some of the Matrices",null,null],["Optimizing the People",null,null],["Proclaigerizing the Network",null,null]]},6143:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=n(996);function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=s(this,e.call.apply(e,[this].concat(i))),r.chromeVersion=(0,o.getChromeVersion)(),r.handleReady=function(){var e=r.props.onReady;null!=e&&e()},s(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSources=function(){var e=[a("source",{src:n(6179),type:"video/mp4"},"mp4"),a("img",{alt:"",src:n(6178)},"png")];return(this.chromeVersion>52||-1===this.chromeVersion)&&e.unshift(a("source",{src:n(6177),type:"video/webm"},"webm")),e},t.prototype.render=function(){var e=this.props,t=e.setRef,n=e.loop,r=e.autoPlay,a=e.className;return i.createElement("video",{ref:t,onLoadedData:this.handleReady,className:a,loop:n,autoPlay:r,playsInline:!0},this.renderSources())},t}(i.PureComponent);l.defaultProps={loop:!0,autoPlay:!0},l.displayName="AppSpinner",t.default=l,e.exports=t.default},6177:function(e,t,n){e.exports=n.p+"0bdc0497eb3a19e66f2b1e3d5741634c.webm"},6178:function(e,t,n){e.exports=n.p+"5ccabf62108d5a8074ddd95af2211727.png"},6179:function(e,t,n){e.exports=n.p+"ffac5bb3fb919ce8bf7137d79e9defc9.mp4"},6182:function(e,t,n){"use strict";t.__esModule=!0,t.randomNumber=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},t.applySpringForce=function(e,t,n,r){return r.tension*(e-t)-r.friction*n}},6374:function(e,t,n){"use strict";t.__esModule=!0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(519),u=L(n(3)),f=L(n(6)),d=n(56),c=L(n(9)),p=n(6117),h=L(p),m=L(n(6376)),v=L(n(6583)),g=n(6055),y=L(g),_=L(n(76)),E=L(n(94)),T=L(n(932)),I=L(n(42)),S=L(n(941)),N=L(n(14)),A=L(n(930)),O=L(n(17)),b=n(116),R=n(976),C=n(0),M=L(n(510)),w=L(n(5709));function L(e){return e&&e.__esModule?e:{default:e}}u.default.initialize();var P=/\.$/,D=function(e){return Array.isArray(e)?e.map(function(e){return e.replace(P,"")}).join(". ").trim():e},F=i(p.InviteResolvingHeader,{}),B=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));r._retryTimer=new d.Timeout,r.handleCaptchaVerify=function(e){return r.setState({captchaKey:e},function(){return r.handleRegister()})},r.handleGotoLogin=function(){var e=r.props,t=e.onLoginStart,n=e.giftCode,a=e.transitionTo,i=e.invite,o=e.redirectTo,s=""!==r.state.email?"email="+r.state.email:"",l=void 0;l=null!=i?C.Routes.INVITE_LOGIN(i.code):null!=n?C.Routes.GIFT_CODE_LOGIN(n.code):null!=o?C.Routes.LOGIN_AND_REDIRECT(o):(0,R.getLoginPath)(C.Routes.APP,!1,s),A.default.loginReset(),a(l),null!=t&&t(),b.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE)},r.handleSubmit=function(e){e&&e.preventDefault(),r.handleRegister()},r.renderGiftCodeHeader=function(e){return i(m.default,{giftCode:e})};var a=null!=n.location?(0,l.parse)(n.location.search):{};return r.state={email:a.email||"",username:"",password:"",captchaKey:null,consent:!n.consentRequired,isRateLimited:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t},t.prototype.componentDidMount=function(){this.redirectIfAuthenticated();var e=this.props.giftCodeSKU;O.default.track(C.AnalyticEvents.REGISTER_VIEWED,a({registration_source:this.registrationSource},null!=e?e.getAnalyticsData(!1,!1):{}),!0),null==this.props.consentRequired&&A.default.getConsentRequired()},t.prototype.componentWillUnmount=function(){this._retryTimer.stop()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){null==this.props.consentRequired&&null!=e.consentRequired&&(e.consentRequired?this.setState({consent:!1}):e.consentRequired||this.setState({consent:!0}))},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props,r=n.errors,a=n.authenticated;e.errors!==r&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("retry_after")&&(this.setState({isRateLimited:!0}),this._retryTimer.start(this.props.errors.retry_after,function(){t.setState({isRateLimited:!1})}))),a&&!e.authenticated&&this.redirectIfAuthenticated()},t.prototype.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,r=e.redirectTo;t&&n(null!=r?r:S.default.defaultRoute)},t.prototype.handleRegister=function(){var e=this.state,t=e.email,n=e.username,r=e.password,a=e.captchaKey,i=e.consent,o=this.props,s=o.invite,l=o.giftCode,u=o.consentRequired,f=null!=s?s.code:null,d=null!=l?l.skuId:null;null!==u&&(null!=s?A.default.register({username:n,consent:i,invite:f,giftCodeSKUId:d,captchaKey:a}):A.default.registerFull({email:t,username:n,consent:i,password:r,invite:f,giftCodeSKUId:d,captchaKey:a}),b.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE))},t.prototype.hasError=function(e){return null!=this.props.errors[e]},t.prototype.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,r=null;return this.props.consentRequired?r=i(I.default,{className:M.default.marginTop20,align:I.default.Align.CENTER},void 0,i(T.default,{value:t,type:T.default.Types.INVERTED,onChange:function(t,n){return e.setState({consent:n})},className:w.default.checkbox}),i(g.SubText,{},void 0,f.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:C.MarketingURLs.TERMS,privacyURL:C.MarketingURLs.PRIVACY}))):n=i(g.SubText,{className:M.default.marginTop20},void 0,f.default.Messages.TERMS_PRIVACY.format({termsURL:C.MarketingURLs.TERMS,privacyURL:C.MarketingURLs.PRIVACY})),{subText:n,consentText:r}},t.prototype.renderInviteResolving=function(){var e=this;return i(y.default,{},void 0,F,i(g.Block,{className:M.default.marginTop40},void 0,i(_.default,{},void 0,f.default.Messages.FORM_LABEL_USERNAME),i(E.default,{text:f.default.Messages.AUTH_USERNAME_TOOLTIP,position:E.default.Positions.RIGHT,color:E.default.Colors.BRAND},void 0,i(g.Input,{autoFocus:!0,className:M.default.marginBottom8,name:"username",value:this.state.username,placeholder:f.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})}})),i(g.Button,{className:M.default.marginTop20,disabled:!0},void 0,f.default.Messages.CONTINUE),i(g.Button,{look:g.Button.Looks.LINK,disabled:!0,className:M.default.marginTop8},void 0,f.default.Messages.ALREADY_HAVE_ACCOUNT),i(g.SubText,{disabled:!0,className:M.default.marginTop20},void 0,f.default.Messages.TERMS_PRIVACY.format({termsURL:C.MarketingURLs.TERMS,privacyURL:C.MarketingURLs.PRIVACY}))))},t.prototype.renderInvite=function(){var e=this,t=this.props,n=t.invite,r=t.registering,a=t.consentRequired,o=t.errors.username,s=this.state.consent,l=this.renderConsentComponents(),u=l.subText,d=l.consentText,c=i(g.Button,{className:M.default.marginTop20,type:"submit",submitting:r,disabled:!this.hasConsent()},void 0,f.default.Messages.CONTINUE);return!s&&a&&(c=i(E.default,{text:f.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,c)),i(y.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,i(h.default,{invite:n}),i(g.Block,{className:M.default.marginTop40},void 0,i(_.default,{error:D(o)},void 0,f.default.Messages.FORM_LABEL_USERNAME),i(E.default,{text:f.default.Messages.AUTH_USERNAME_TOOLTIP,position:E.default.Positions.RIGHT,color:E.default.Colors.BRAND},void 0,i(g.Input,{autoFocus:!0,className:M.default.marginBottom8,name:"username",value:this.state.username,placeholder:f.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=o?"":null})),d,c,i(g.Button,{look:g.Button.Looks.LINK,onClick:this.handleGotoLogin,className:M.default.marginTop8},void 0,f.default.Messages.ALREADY_HAVE_ACCOUNT),u))},t.prototype.renderErrorMessage=function(){var e=this.props.errors.message,t=this.state.isRateLimited;return null!=e&&t?i(g.SubText,{className:(0,c.default)(M.default.marginTop20,w.default.errorMessage)},void 0,e):null},t.prototype.renderFull=function(e){var t=this,n=this.state,r=n.email,a=n.username,o=n.password,s=n.consent,l=this.props,u=l.registering,d=l.consentRequired,c=l.errors,p=(c=void 0===c?{}:c).email,h=c.username,m=c.password,v=this.renderConsentComponents(),_=v.subText,T=v.consentText,I=this.renderErrorMessage(),S=i(g.Button,{type:"submit",submitting:u,disabled:!this.hasConsent()||this.state.isRateLimited,className:M.default.marginTop20},void 0,f.default.Messages.CONTINUE);return!s&&d&&(S=i(E.default,{text:f.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,S)),i(y.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,null!=e?e():i(g.Title,{},void 0,f.default.Messages.REGISTER_TITLE),i(g.Block,{className:M.default.marginTop20},void 0,i(g.Input,{autoFocus:!0,label:f.default.Messages.FORM_LABEL_EMAIL,className:M.default.marginBottom20,name:"email",value:r,onChange:function(e){return t.setState({email:e})},error:D(p),type:"email",setRef:function(e){t.emailRef=e}}),i(g.Input,{label:f.default.Messages.FORM_LABEL_USERNAME,className:M.default.marginBottom20,name:"username",value:a,onChange:function(e){return t.setState({username:e})},error:D(h),setRef:function(e){t.usernameRef=e}}),i(g.Input,{label:f.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:o,onChange:function(e){return t.setState({password:e})},error:D(m),type:"password",setRef:function(e){t.passwordRef=e}}),T,S,I,i(g.Button,{look:g.Button.Looks.LINK,onClick:this.handleGotoLogin,className:M.default.marginTop8},void 0,f.default.Messages.ALREADY_HAVE_ACCOUNT),_))},t.prototype.render=function(){var e=this;if(this.hasError("captcha_key"))return i(v.default,{onVerify:this.handleCaptchaVerify,title:f.default.Messages.REGISTER_TITLE});var t=this.props,n=t.invite,r=t.giftCode;return null!=n?n.state===C.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite():null!=r?this.renderFull(function(){return e.renderGiftCodeHeader(r)}):this.renderFull()},o(t,[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":null}}]),t}(s.PureComponent);B.defaultProps={giftCodeResolved:!1},B.displayName="Register",t.default=u.default.connectStores([N.default],function(){return{consentRequired:N.default.getConsentRequired(),authenticated:N.default.isAuthenticated(),registering:N.default.getRegisterStatus(),errors:N.default.getErrors()}})(B),e.exports=t.default},6375:function(e,t,n){e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},6376:function(e,t,n){"use strict";t.__esModule=!0,t.GiftCodeResolvingHeader=void 0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=_(n(3)),s=_(n(9)),l=_(n(22)),u=_(n(13)),f=_(n(6162)),d=_(n(164)),c=n(6055),p=_(n(378)),h=n(0),m=_(n(6)),v=_(n(510)),g=_(n(374)),y=_(n(5711));function _(e){return e&&e.__esModule?e:{default:e}}(t.GiftCodeResolvingHeader=function(){return a(i.Fragment,{},void 0,a(c.Avatar,{src:null,size:c.Avatar.Sizes.XXLARGE,className:v.default.marginBottom20}),a(c.Subtitle,{},void 0,m.default.Messages.GIFT_CODE_AUTH_GIFTED),a(c.Title,{className:(0,s.default)(v.default.marginTop8,g.default.flexCenter)},void 0,m.default.Messages.LOADING))}).displayName="GiftCodeResolvingHeader";var E=function(e){var t=e.error,n=e.gifter,r=e.sku,o=e.application,l=e.subscriptionPlan,u=null==n?m.default.Messages.GIFT_CODE_AUTH_GIFTED:m.default.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:n.username}),f=r.name;return null!=l&&(f=(l.interval===h.SubscriptionIntervalTypes.MONTH?m.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:m.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:r.name,intervalCount:l.intervalCount})),a(i.Fragment,{},void 0,a(c.Avatar,{src:null!=n?n.getAvatarURL():null,size:c.Avatar.Sizes.XXLARGE,className:v.default.marginBottom20}),null!=t?a(i.Fragment,{},void 0,a(c.Subtitle,{},void 0,m.default.Messages.INVITE_MODAL_ERROR_TITLE),a(c.Title,{},void 0,t)):a(i.Fragment,{},void 0,a(c.Subtitle,{},void 0,u),a(c.Title,{className:(0,s.default)(v.default.marginTop8,g.default.flexCenter)},void 0,a(p.default,{size:p.default.Sizes.MEDIUM,className:y.default.applicationIcon,game:o,skuId:r.id}),f)))};E.displayName="GiftCodeHeader",t.default=o.default.connectStores([d.default,l.default,f.default,u.default],function(e){var t=e.giftCode,n=d.default.get(t.skuId),r=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=r?f.default.get(r):null,application:null!=n?l.default.getGame(n.applicationId):null,gifter:u.default.getUser(t.userId)}})(E)},6377:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=P(n(3)),u=P(n(6)),f=n(519),d=P(n(9)),c=n(6055),p=P(c),h=P(n(71)),m=n(6117),v=P(m),g=P(n(6376)),y=P(n(6583)),_=P(n(166)),E=P(n(14)),T=P(n(941)),I=P(n(1042)),S=P(n(930)),N=n(591),A=P(n(35)),O=n(939),b=P(n(17)),R=n(116),C=n(0),M=P(n(510)),w=P(n(1241)),L=P(n(5710));function P(e){return e&&e.__esModule?e:{default:e}}var D=a(c.AuthSpinner,{hideQuote:!0}),F=a(m.InviteResolvingHeader,{}),B=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));x.call(r);var a=null!=n.location?(0,f.parse)(n.location.search):{};return r.state={redirecting:n.authenticated,checkingHandoff:n.handoffAvailable,email:a.email||"",password:"",code:"",smsCode:"",captchaKey:null,undelete:!1},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,r=e.giftCodeSKU;t&&!n?(0,N.handoffBegin)():n&&this.loginOrSSO(n,location,!0),b.default.track(C.AnalyticEvents.LOGIN_VIEWED,i({login_source:this.loginSource},null!=r?r.getAnalyticsData(!1,!1):{}),!0)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.handoffAvailable;e.handoffAvailable||!t||e.authenticated||this.setState({checkingHandoff:!1})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,r=t.location,a=this.state.checkingHandoff;!n||e.authenticated||a||this.loginOrSSO(n,r),e.errors!==this.props.errors&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("code")&&null!=this.codeRef&&this.codeRef.focus())},t.prototype.loginOrSSO=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&null!=t&&(r?S.default.verifySSOToken().then(function(){return n.transitionSSO(t)}):this.transitionSSO(t))},t.prototype.transitionSSO=function(e){var t=(0,f.parse)(e.search),n=this.props,r=n.transitionTo,a=n.redirectTo;if(null!=a)r(a);else if(null==t.service)r(C.Routes.APP);else{var i=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+C.Endpoints.SSO;window.location=i+"?token="+(E.default.getToken()||"")+"&"+(0,f.stringify)(t)}},t.prototype.hasError=function(e){return null!=this.props.errors[e]},t.prototype.renderHandOffAvailable=function(){return a(p.default,{},void 0,D,a(c.Title,{className:M.default.marginBottom8},void 0,u.default.Messages.BROWSER_HANDOFF_DETECTING_TITLE),a(c.Subtitle,{},void 0,u.default.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))},t.prototype.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo;return null==t?null:a(p.default,{},void 0,a(c.Avatar,{src:t.getAvatarURL(),size:c.Avatar.Sizes.XXLARGE,className:M.default.marginBottom20}),a(c.Title,{className:M.default.marginBottom8},void 0,u.default.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),a(c.Subtitle,{className:M.default.marginBottom40},void 0,u.default.Messages.BROWSER_HANDOFF_SUCCESS_BODY),a(c.Block,{},void 0,a(c.Button,{onClick:function(){return n(C.Routes.APP)},className:M.default.marginBottom8},void 0,u.default.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),a(c.Button,{look:c.Button.Looks.LINK,onClick:this.handleReset},void 0,u.default.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))},t.prototype.renderDisabledAccount=function(){var e=this.props.loginStatus===C.LoginStates.ACCOUNT_DISABLED,t=e?u.default.Messages.ACCOUNT_DISABLED_TITLE:u.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,n=e?u.default.Messages.ACCOUNT_DISABLED_DESCRIPTION:u.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return a(p.default,{tag:"form",onSubmit:this.handleReset},void 0,a(c.Title,{className:M.default.marginBottom8},void 0,t),a(c.Subtitle,{className:M.default.marginBottom20},void 0,n),a(c.Block,{},void 0,a(c.Button,{color:c.Button.Colors.BRAND,type:"submit"},void 0,u.default.Messages.RETURN_TO_LOGIN),a("div",{className:(0,d.default)(M.default.marginTop8,L.default.needAccount)},void 0,u.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion}))))},t.prototype.renderResolving=function(){var e=this;return a(p.default,{},void 0,F,a(c.Block,{className:M.default.marginTop20},void 0,a(c.Input,{className:M.default.marginBottom20,label:u.default.Messages.FORM_LABEL_EMAIL,onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!0}),a(c.Input,{className:M.default.marginBottom20,label:u.default.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password}),a(c.Button,{className:M.default.marginBottom8,type:"submit",disabled:!0},void 0,u.default.Messages.LOGIN),a(c.Button,{disabled:!0,look:c.Button.Looks.LINK},void 0,u.default.Messages.FORGOT_PASSWORD),a(c.Button,{disabled:!0,className:M.default.marginTop4,look:c.Button.Looks.LINK},void 0,u.default.Messages.NEED_ACCOUNT)))},t.prototype.renderDefault=function(){var e=this,t=this.props,n=t.invite,r=t.giftCode,i=t.loginStatus,o=!this.hasError("email")&&this.hasError("password"),l=void 0;return l=null!=n&&null!=n.channel?a(v.default,{invite:n}):null!=r?a(g.default,{giftCode:r}):a(s.Fragment,{},void 0,a(c.Title,{className:M.default.marginBottom8},"title",u.default.Messages.LOGIN_TITLE),a(c.Subtitle,{},"subtitle",u.default.Messages.AUTH_LOGIN_BODY)),a(p.default,{onSubmit:this.handleLogin,tag:"form"},void 0,l,a(c.Block,{className:M.default.marginTop20},void 0,a(c.Input,{className:M.default.marginBottom20,label:u.default.Messages.FORM_LABEL_EMAIL,error:this.renderError("email"),onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!o}),a(c.Input,{label:u.default.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:o,value:this.state.password}),a(c.Button,{tabIndex:10,onClick:this.handleForgotPassword,look:c.Button.Looks.LINK,className:(0,d.default)(M.default.marginBottom20,M.default.marginTop4)},void 0,u.default.Messages.FORGOT_PASSWORD),a(c.Button,{type:"submit",submitting:i===C.LoginStates.LOGGING_IN,className:M.default.marginBottom8},void 0,u.default.Messages.LOGIN),a("div",{className:M.default.marginTop4},void 0,a("span",{className:L.default.needAccount},void 0,u.default.Messages.NEED_ACCOUNT),a(c.Button,{onClick:this.handleGotoRegister,look:c.Button.Looks.LINK,className:L.default.smallRegisterLink},void 0,u.default.Messages.REGISTER))))},t.prototype.renderMFA=function(){var e=this,t=this.props,r=t.loginStatus,i=t.mfaSMS;return a(p.default,{onSubmit:this.handleTokenSubmit,tag:"form"},void 0,a("img",{alt:"",src:n(6375),className:M.default.marginBottom20}),a(c.Title,{className:M.default.marginBottom8},void 0,u.default.Messages.TWO_FA),a(c.Subtitle,{},void 0,u.default.Messages.TWO_FA_ENTER_TOKEN_BODY),a(c.Block,{className:M.default.marginTop40},void 0,a(c.Input,{className:M.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:u.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:u.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code},"totpCode"),a(c.Button,{type:"submit",submitting:r===C.LoginStates.LOGGING_IN_MFA},void 0,u.default.Messages.LOGIN),i?a(c.Button,{onClick:this.handleToggleSMSLogin,submitting:r===C.LoginStates.LOGGING_IN_MFA_SMS,className:M.default.marginTop8,look:c.Button.Looks.LINK},void 0,u.default.Messages.MFA_SMS_RECEIVE_CODE):null,a(c.Button,{look:c.Button.Looks.LINK,className:M.default.marginTop4,onClick:this.handleReset},void 0,u.default.Messages.TWO_FA_LOGIN_FOOTER)))},t.prototype.renderMFASMS=function(){var e=this,t=this.props,r=t.loginStatus,i=t.maskedPhone,o=r===C.LoginStates.LOGGING_IN_MFA_SMS||""===i;return a(p.default,{onSubmit:this.handleSMSTokenSubmit,tag:"form"},void 0,a("img",{alt:"",src:n(6375),className:M.default.marginBottom20}),a(c.Title,{className:M.default.marginBottom8},void 0,u.default.Messages.TWO_FA),a(c.Subtitle,{className:M.default.marginBottom8},void 0,o?u.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:u.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:i})),a(c.Block,{className:M.default.marginTop40},void 0,a(c.Input,{className:M.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:u.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:u.default.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode},"smsCode"),a(c.Button,{type:"submit",submitting:o,color:o?c.Button.Colors.TRANSPARENT:c.Button.Colors.BRAND},void 0,u.default.Messages.LOGIN),o?null:a(c.Button,{onClick:this.handleToggleSMSLogin,className:M.default.marginTop8,look:c.Button.Looks.LINK},void 0,u.default.Messages.MFA_SMS_RESEND),a(c.Button,{look:c.Button.Looks.LINK,className:M.default.marginTop4,onClick:this.handleReset},void 0,u.default.Messages.TWO_FA_LOGIN_FOOTER)))},t.prototype.render=function(){var e=this.props,t=e.authenticated,n=e.invite,r=e.loginStatus,i=e.handoffAvailable,o=this.state,s=o.checkingHandoff;if(o.redirecting)return null;if(this.hasError("captcha_key"))return a(y.default,{onVerify:this.handleCaptchaVerify,title:u.default.Messages.LOGIN_TITLE});if(i)return this.renderHandOffAvailable();if(t&&s)return this.renderHandOffContinue();switch(r){case C.LoginStates.LOGGING_IN_MFA_SMS:case C.LoginStates.MFA_SMS_STEP:return this.renderMFASMS();case C.LoginStates.LOGGING_IN_MFA:case C.LoginStates.MFA_STEP:return this.renderMFA();case C.LoginStates.ACCOUNT_SCHEDULED_FOR_DELETION:case C.LoginStates.ACCOUNT_DISABLED:return this.renderDisabledAccount();case C.LoginStates.LOGGING_IN:case C.LoginStates.NONE:default:return null!=n&&n.state===C.InviteStates.RESOLVING?this.renderResolving():this.renderDefault()}},o(t,[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}}]),t}(s.PureComponent),x=function(){var e=this;this.setEmailRef=function(t){e.emailRef=t},this.setPasswordRef=function(t){e.passwordRef=t},this.setCodeRef=function(t){e.codeRef=t},this.renderError=function(t){var n=e.props.errors;if(e.hasError(t)){var r=n[t];return Array.isArray(r)?r[0]:r}return null},this.handleLogin=function(t){var n=e.state,r=n.email,a=n.password,i=n.captchaKey,o=n.undelete;null!=t&&t.preventDefault(),S.default.login({email:r,password:a,undelete:o,captchaKey:i,source:e.loginSource,giftCodeSKUId:e.giftCodeSKUId}),R.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE)},this.handleTokenSubmit=function(t){var n=e.state.code,r=e.props.mfaTicket;null!=t&&t.preventDefault(),S.default.loginMFA({code:n.replace(/ /g,""),ticket:r,source:e.loginSource,giftCodeSKUId:e.giftCodeSKUId}),R.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE)},this.handleSMSTokenSubmit=function(t){var n=e.state.smsCode,r=e.props.mfaTicket;null!=t&&t.preventDefault(),S.default.loginSMS({code:n.replace(/ /g,""),ticket:r}),R.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE)},this.handleToggleSMSLogin=function(t){var n=e.props.mfaTicket;null!=t&&t.preventDefault(),S.default.requestSMSToken(n),R.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE)},this.handleForgotPassword=function(){var t=e.state.email;null!=e.emailRef&&e.emailRef.focus(),S.default.forgotPassword(t,function(){A.default.push(function(e){return s.createElement(_.default,i({header:u.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:u.default.Messages.OKAY,red:!1,className:O.isMobile?w.default.mobile:""},e),a(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,u.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:t})))})}),R.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE)},this.handleReset=function(t){null!=t&&t.preventDefault(),S.default.loginReset(),e.setState({password:"",email:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1})},this.handleCancelAccountDeletion=function(){e.setState({undelete:!0},e.handleLogin)},this.handleCaptchaVerify=function(t){e.setState({captchaKey:t},e.handleLogin)},this.handleGotoRegister=function(){var t=e.state.email,n=e.props,r=n.invite,a=n.giftCode,i=n.location,o=n.transitionTo,s=n.redirectTo,l=null!=i?(0,f.parse)(i.search):{};""!==t&&(l.email=t);var u=void 0;null!=r?(l.mode="register",u=C.Routes.INVITE(r.code)):null!=a?(l.mode="register",u=C.Routes.GIFT_CODE(a.code)):u=null!=s?C.Routes.REGISTER_AND_REDIRECT(s):C.Routes.REGISTER,S.default.loginReset(),o(u,{search:(0,f.stringify)(l)}),R.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE)}};B.displayName="Login",t.default=l.default.connectStores([E.default,I.default,T.default],function(){return{authenticated:E.default.isAuthenticated(),handoffAvailable:I.default.isHandoffAvailable(),user:I.default.user,loginStatus:E.default.getLoginStatus(),mfaTicket:E.default.getMFATicket(),mfaSMS:E.default.getMFASMS(),maskedPhone:E.default.getMaskedPhone(),errors:E.default.getErrors(),defaultRoute:T.default.defaultRoute}})(B),e.exports=t.default},6384:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},6385:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},6386:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},6387:function(e,t,n){"use strict";t.__esModule=!0,t.getArtForPath=void 0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.makeAuthenticated=function(e,t){var n=a(t,{});return function(r){if(!s.default.isAuthenticated()){if(null!=t)return n;var u=location.pathname+location.search;return a(o.Redirect,{to:(0,l.getLoginPath)(u,!1)})}return i.createElement(e,r)}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=n(226),s=d(n(14)),l=n(976),u=d(n(6386)),f=d(n(6385));function d(e){return e&&e.__esModule?e:{default:e}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(6384);var t=(new Date).getHours();return t>=6&&t<20?u.default:f.default}},6578:function(e,t,n){e.exports=n.p+"bdcfee0c4d9fb22ce3c47b593df14254.svg"},6579:function(e,t,n){e.exports=n.p+"375217725f8ad1df6310e6738a7306e4.svg"},6580:function(e,t,n){e.exports=n.p+"ab4f6c12a1ced9de8b5d279056f21334.svg"},6581:function(e,t,n){e.exports=n.p+"17192d3fe939ecf404e8cdd64b340469.svg"},6582:function(e,t,n){e.exports=n.p+"e0c782560fd96acd7f01fda1f8c6ff24.svg"},6583:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(6))),o=n(6055),s=d(o),l=d(n(985)),u=d(n(510)),f=d(n(374));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.title,r=e.onVerify;return a(s.default,{},void 0,a("img",{alt:"",src:n(6375),className:u.default.marginBottom20}),a(o.Title,{className:u.default.marginBottom8},void 0,t),a(o.Subtitle,{className:u.default.marginBottom40},void 0,i.default.Messages.BEEP_BOOP),a("div",{className:f.default.flexCenter},void 0,a(l.default,{onVerify:r,theme:l.default.Themes.DARK})))};c.displayName="AuthCaptcha",t.default=c,e.exports=t.default},6584:function(e,t,n){"use strict";t.__esModule=!0,t.TransitionRoute=void 0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=n(6864),s=n(226),l=n(512),u=(r=l)&&r.__esModule?r:{default:r};function f(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var d=t.TransitionRoute=function(){return null},c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.context.router,t=e.route,n=e.history,r=e.staticContext,s=this.props,l=s.children,d=s.location,c=s.childProps,p=f(s,["children","location","childProps"]),h=d||t.location,m=void 0,v=void 0,g=void 0;return i.Children.forEach(l,function(e){if(null==m&&i.isValidElement(e)){var s=e.props,l=s.path,u=s.exact,d=s.strict,p=s.sensitive,y=s.from,_=s.component,E=s.render,T=f(s,["path","exact","strict","sensitive","from","component","render"]),I=l||y;if(null==(m=(0,o.matchPath)(h.pathname,{path:I,exact:u,strict:d,sensitive:p},t.match)))return;g=a({key:l,location:h,match:m,history:n,staticContext:r},c,T),null!=_?v=i.createElement(_,g):null!=E&&(v=E(g))}}),i.createElement(u.default,p,v)},t}(i.Component);c.Route=d,c.contextTypes=a({},s.Switch.contextTypes),c.displayName="TransitionSwitch",t.default=c},7008:function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(39)),a=n(592),i=o(n(11));function o(e){return e&&e.__esModule?e:{default:e}}t.default={getIdleTime:function(e){i.default.getIdleMilliseconds(e)},dump:function(e){var t=void 0;performance.memory&&(t={jsHeapSizeLimit:performance.memory.jsHeapSizeLimit,totalJSHeapSize:performance.memory.totalJSHeapSize,usedJSHeapSize:performance.memory.usedJSHeapSize});var n={browser:{name:r.default.name,version:r.default.version},os:{name:r.default.os.family,version:r.default.os.version},memory:t};e(n)},getTimeSinceNavigationStart:function(){return Date.now()-a.navigationStart}},e.exports=t.default},7009:function(e,t,n){e.exports=n.p+"c8f0b54f79a9fd1ef60ad74c73a1ee1a.png"},7010:function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(6182),i=n(7009),o=(r=i)&&r.__esModule?r:{default:r};var s=20,l=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.mx=0,this.my=0,this.x=0,this.y=0,this.velX=0,this.velY=0,this.targetX=2*s,this.targetY=2*s,this.spring={friction:60,tension:100},this.handleMouseMove=function(e){var n=e.clientX,r=e.clientY;t.targetX=n/window.innerWidth*s+s,t.targetY=r/window.innerWidth*s+s}}return e.prototype.initialize=function(){var e=this;this.img=new Image,this.img.onload=function(){e.loaded=!0},this.img.src=o.default,this.bind()},e.prototype.bind=function(){window.addEventListener("mousemove",this.handleMouseMove,!1)},e.prototype.unbind=function(){window.removeEventListener("mousemove",this.handleMouseMove,!1)},e.prototype.terminate=function(){this.img=null,this.loaded=!1,this.isFilled=!1,this.alpha=0,this.unbind()},e.prototype.update=function(e){this.loaded&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.velX+=(0,a.applySpringForce)(this.targetX,this.x,this.velX,this.spring)*e,this.velY+=(0,a.applySpringForce)(this.targetY,this.y,this.velY,this.spring)*e,this.x+=this.velX*e,this.y+=this.velY*e)},e.prototype.render=function(e){var t=this.img;this.loaded&&null!=t&&(e.save(),e.globalCompositeOperation="source-atop",e.globalAlpha=this.alpha,e.drawImage(t,this.x+s,this.y+s),e.restore())},e.prototype.fill=function(){this.isFilled=!0},e}();l.displayName="Blobs",t.default=l,e.exports=t.default},7011:function(e,t,n){"use strict";t.__esModule=!0;var r=30;function a(e,t){return Math.max(Math.min((e-t)/r,1),-1)}var i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resistance=.98,this.px=0,this.py=0,this.x=0,this.y=0,this.forceX=0,this.forceY=0,this.handleMouseMove=function(e){var n=e.clientX,r=e.clientY;t.x=n,t.y=r}}return e.prototype.initialize=function(){window.addEventListener("mousemove",this.handleMouseMove)},e.prototype.terminate=function(){window.removeEventListener("mousemove",this.handleMouseMove)},e.prototype.update=function(){this.x!==this.px&&this.y!==this.py&&(this.forceX+=a(this.x,this.px),this.forceY+=a(this.y,this.py),this.px=this.x,this.py=this.y),0!==this.forceX&&(this.forceX=this.forceX*this.resistance),0!==this.forceY&&(this.forceY=this.forceY*this.resistance)},e.prototype.render=function(){},e}();i.displayName="Wind",t.default=i,e.exports=t.default},7012:function(e,t,n){"use strict";t.__esModule=!0;var r=n(6182),a=n(6116);var i=2,o=3,s=1,l=4,u=["#7d8187","#18191c","#8fa2df","#4f545c"],f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.size=(0,r.randomNumber)(i,o),this.depth=(0,r.randomNumber)(s,l),this.positionMultiplier=this.depth/l,this.color=u[l-this.depth],this.offscreenX=a.MAX_RADIUS+this.size,this.offscreenY=a.MAX_RADIUS+this.size,this.x=(0,r.randomNumber)(-this.size,this.offscreenX),this.y=(0,r.randomNumber)(-this.size,this.offscreenY)}return e.prototype.checkBounds=function(){this.x>this.offscreenX?this.x=-this.size:this.y>this.offscreenY?this.y=-this.size:this.x<-this.size?this.x=this.offscreenX:this.y<-this.size&&(this.y=this.offscreenY)},e.prototype.update=function(e,t){this.checkBounds(),this.y+=t*this.positionMultiplier,this.x+=e*this.positionMultiplier},e.prototype.render=function(e,t){e.beginPath(),e.globalAlpha=t*this.depth/4,e.arc(this.x,this.y,this.size,0,a.TWO_PI,!0),e.fillStyle=this.color,e.fill(),e.globalAlpha=1},e}();f.displayName="Particle",t.default=f,e.exports=t.default},7013:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(7012)),a=i(n(7011));function i(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.particles=[],this.wind=new a.default,this.alpha=0,this.isFilled=!1,this.loadInTimer=null}return e.prototype.initialize=function(){var e=this;this.particles=[],this.wind.initialize(),this.loadInTimer=setTimeout(function(){for(var t=0;t<75;t++)e.particles.push(new r.default)},250)},e.prototype.terminate=function(){this.particles=[],this.wind.terminate(),null!=this.loadInTimer&&clearTimeout(this.loadInTimer)},e.prototype.update=function(e){var t=this;0!==this.particles.length&&(!this.isFilled&&this.alpha<1?this.alpha=Math.min(1,this.alpha+e):this.isFilled&&this.alpha>0&&(this.alpha=Math.max(0,this.alpha-3*e)),this.wind.update(),this.particles.forEach(function(n){return n.update(10*t.wind.forceX*e,10*Math.min(t.wind.forceY,-.001)*e-.1)}))},e.prototype.render=function(e){var t=this;0!==this.particles.length&&(e.save(),e.globalCompositeOperation="source-atop",this.particles.forEach(function(n){return n.render(e,t.alpha)}),e.restore())},e.prototype.fill=function(){this.isFilled=!0},e}();o.displayName="Particles",t.default=o,e.exports=t.default},7014:function(e,t,n){"use strict";t.__esModule=!0;var r=n(6182),a=n(6116);var i=60,o=2.15*Math.cos(Math.PI),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=-40,this.y=-40,this.targetX=0,this.targetY=0,this.oscillate=!0,this.velX=0,this.velY=0,this.angle=0,this.speedUp=1.5,this.waveRange=i,this.spring={friction:15,tension:a.POINT_TENSION_DEFAULT},this.index=t,this.spring.tension=a.POINT_TENSION_DEFAULT*Math.max(.1,t/7)+a.POINT_TENSION_DEFAULT,this.count=o*t}return e.prototype.updateStatic=function(){this.targetX=this.targetX+30*Math.cos(this.angle)*Math.sin(this.count),this.targetY=this.targetY+30*Math.sin(this.angle)*Math.sin(this.count),this.x=this.targetX,this.y=this.targetY},e.prototype.update=function(e){this.speedUp>0?(this.speedUp=Math.max(0,this.speedUp-e),this.count+=e*(10*Math.min(this.speedUp,1)+.4)):this.count+=.4*e;var t=void 0,n=void 0;if(t=(0,r.applySpringForce)(this.targetX,this.x,this.velX,this.spring),n=(0,r.applySpringForce)(this.targetY,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e,this.oscillate){var a=this.targetX+this.waveRange*Math.cos(this.angle)*Math.sin(this.count),i=this.targetY+this.waveRange*Math.sin(this.angle)*Math.sin(this.count);t=(0,r.applySpringForce)(a,this.x,this.velX,this.spring),n=(0,r.applySpringForce)(i,this.y,this.velY,this.spring),this.velX+=t*e,this.velY+=n*e}this.x+=this.velX*e,this.y+=this.velY*e},e.prototype.render=function(e){e.fillStyle="#fff",e.fillRect(this.x,this.y,4,4)},e}();s.displayName="Point",t.default=s,e.exports=t.default},7015:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(6103)),a=u(n(7014)),i=n(6182),o=n(273),s=n(6116),l=u(n(5573));function u(e){return e&&e.__esModule?e:{default:e}}var f=15,d=f/2,c=(0,o.cssValueToNumber)(l.default.responsiveWidthMobile);function p(e,t,n,r){return t*(n/r)+e}function h(){return Math.min(Math.max(Math.min(.8*window.innerWidth,.8*window.innerHeight),s.MIN_RADIUS),s.MAX_RADIUS)}var m=30,v=function(){function e(t){var n,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.points=[],this.hasEntered=!1,this.isFilling=!1,this._resizeWave=function(){var e=h();o.points.forEach(function(t,n){var r=e*Math.cos(s.TWO_PI*p(0,.25,n,f))-40,a=e*Math.sin(s.TWO_PI*p(0,.25,n,f))-40;0!==n?a+=(0,i.randomNumber)(0,m)-m/2:n!==f&&(r+=(0,i.randomNumber)(0,m)-m/2),t.targetX=r,t.targetY=a,t.angle=Math.atan2(a,r)})},this.resizeWave=(0,r.default)(this._resizeWave,200),this.updateWaveState=t,this.hasEntered=!1;for(var l=0;l<=f;l++)this.points.push(new a.default((n=l,Math.floor(d-Math.floor(Math.abs(n-d))))))}return e.prototype.initialize=function(){this._resizeWave()},e.prototype.emphasize=function(){this.points.forEach(function(e){return e.speedUp=1})},e.prototype.terminate=function(){this.points=[]},e.prototype.update=function(e){0!==this.points.length&&(this.points.forEach(function(t){return t.update(Math.min(e,1/60))}),this.hasEntered||this.points[0].x>c&&(this.hasEntered=!0,this.updateWaveState(s.WaveStates.ENTERED)),this.isFilling&&this.points[0].x>this.points[0].targetX&&(this.isFilling=!1,this.updateWaveState(s.WaveStates.FILLED)))},e.prototype.render=function(e){if(0!==this.points.length){var t=this.points,n=t[0],r=t.slice(1);e.save(),e.beginPath(),e.moveTo(n.x,n.y),r.forEach(function(t,n){if(null==r[n+1])e.quadraticCurveTo(t.x,t.y,t.x,t.y);else{var a=(t.x+r[n+1].x)/2,i=(t.y+r[n+1].y)/2;e.quadraticCurveTo(t.x,t.y,a,i)}}),e.lineTo(0,0),e.closePath(),e.fillStyle="#000",e.globalCompositeOperation="destination-in",e.fill(),e.restore()}},e.prototype.fill=function(){var e=this,t=Math.sqrt(window.innerWidth*window.innerWidth+window.innerHeight*window.innerHeight)+100,n=h()-140,r=function(e,t,n,r){e.targetX=t*Math.cos(s.TWO_PI*p(0,.25,n,f))-40,e.targetY=t*Math.sin(s.TWO_PI*p(0,.25,n,f))-40,r&&(e.targetX+=(0,i.randomNumber)(0,m)-m/2,e.targetY+=(0,i.randomNumber)(0,m)-m/2,e.speedUp=3,e.spring.tension=s.POINT_TENSION_DEFAULT*Math.random()*.5+s.POINT_TENSION_DEFAULT)};this.points.forEach(function(e,t){return r(e,n,t,!0)}),setTimeout(function(){e.points.forEach(function(e,n){r(e,t,n,!1);var a=1-e.index/(f/2);e.spring.friction+=e.spring.friction+e.spring.friction*a,e.spring.tension=.7*s.POINT_TENSION_DEFAULT+80*Math.random(),e.waveRange=2*e.waveRange}),e.isFilling=!0,e.updateWaveState(s.WaveStates.FILLING)},250)},e}();v.displayName="Wave",t.default=v,e.exports=t.default},7016:function(e,t,n){"use strict";t.__esModule=!0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=n(116),i=p(n(7015)),o=p(n(7013)),s=p(n(7010)),l=n(273),u=n(0),f=n(6116),d=p(n(5703)),c=p(n(5573));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,l.cssValueToNumber)(c.default.responsiveWidthMobile),m=1/120,v=4e3,g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.width=0,r.height=0,r.children=[],r.ratio=0,r._lastTick=0,r._reqAnimId=null,r.setCanvas=function(e){if(null!=e){r.canvas=e,r.canvasContext=r.canvas.getContext("2d");var t=window.devicePixelRatio||1,n=r.canvasContext.webkitBackingStorePixelRatio||r.canvasContext.mozBackingStorePixelRatio||r.canvasContext.msBackingStorePixelRatio||r.canvasContext.oBackingStorePixelRatio||r.canvasContext.backingStorePixelRatio||1;r.ratio=t/n}},r.resizeCanvas=function(){r.width=window.innerWidth,r.height=window.innerHeight;var e=r.canvas,t=r.canvasContext,n=r.width,a=r.height,i=r.ratio;null!=e&&null!=t&&(e.width=n*i,e.height=a*i,e.style.width=n+"px",e.style.height=a+"px",t.scale(i,i)),n<=h?r.pause():r.play(),r.wave.resizeWave(),r.renderAnimation()},r.handleVisibilityChange=function(){document.hidden?r.delayedPause():r.play()},r.play=function(){clearTimeout(r._pauseTimeout),null==r._reqAnimId&&r.run()},r.pause=function(){clearTimeout(r._pauseTimeout),window.cancelAnimationFrame(r._reqAnimId),r._reqAnimId=null,r.advanceTransitionalState()},r.delayedPause=function(){clearTimeout(r._pauseTimeout),r._pauseTimeout=setTimeout(r.pause,v)},r.updateWaveState=function(e){(0,r.props.updateWaveState)(e)},r.handleWaveEmphasize=function(){r.wave.emphasize()},r.run=function(){if(0===r._lastTick)return r._lastTick=Date.now(),void(r._reqAnimId=requestAnimationFrame(r.run));for(var e=Date.now(),t=Math.min((e-r._lastTick)/1e3,8*m);t>0;){var n=t<m?t:m;r.updateAnimation(n),t-=n}r.renderAnimation(),r._lastTick=e,r._reqAnimId=requestAnimationFrame(r.run)},r.wave=new i.default(r.updateWaveState),r.children=[new s.default,new o.default,r.wave],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.initialize()},t.prototype.componentDidUpdate=function(e){var t=this.props.waveState;t===f.WaveStates.FILLING&&t!==e.waveState&&this.waveFill()},t.prototype.componentWillUnmount=function(){this.terminate()},t.prototype.initialize=function(){this.children.forEach(function(e){return e.initialize()}),this.bindEvents(),this.resizeCanvas(),document.hidden&&this.delayedPause()},t.prototype.terminate=function(){this.pause(),this.unbindEvents(),this.children.forEach(function(e){return e.terminate()})},t.prototype.bindEvents=function(){window.addEventListener("resize",this.resizeCanvas,!1),window.addEventListener("blur",this.delayedPause,!1),window.addEventListener("focus",this.play,!1),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1),a.ComponentDispatch.subscribe(u.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},t.prototype.unbindEvents=function(){window.removeEventListener("resize",this.resizeCanvas,!1),window.removeEventListener("blur",this.delayedPause,!1),window.removeEventListener("focus",this.play,!1),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1),a.ComponentDispatch.unsubscribe(u.ComponentActions.WAVE_EMPHASIZE,this.handleWaveEmphasize)},t.prototype.advanceTransitionalState=function(){var e=this.props.waveState;e!==f.WaveStates.INITIAL&&e!==f.WaveStates.FILLING||this.updateWaveState(e+1)},t.prototype.waveFill=function(){null==this._reqAnimId?this.updateWaveState(f.WaveStates.FILLED):this.children.forEach(function(e){return e.fill()})},t.prototype.updateAnimation=function(e){this.children.forEach(function(t){return t.update(e)})},t.prototype.renderAnimation=function(){var e=this.canvasContext;null!=e&&(e.fillStyle=u.Colors.PRIMARY_DARK_630,e.fillRect(0,0,this.width,this.height),this.children.forEach(function(t){return t.render(e)}))},t.prototype.render=function(){return r.createElement("canvas",{className:d.default.canvas,ref:this.setCanvas})},t}(r.Component);g.displayName="WaveAnimation",t.default=g,e.exports=t.default},7017:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=u(n(224)),s=n(0),l=u(n(5704));function u(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.anim=new o.default.Value(0),r.animate=function(e){o.default.spring(r.anim,{toValue:e,friction:10,tension:100}).start()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.show!==this.props.show&&this.animate(e.show?1:0)},t.prototype.getAnimatedStyle=function(){var e=this.anim;return{opacity:e,transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["-100px","0px"]})},{translateZ:0}]}},t.prototype.render=function(){return a(o.default.a,{href:s.Routes.INDEX,target:"_blank",rel:"noopener",className:l.default.logo,style:this.getAnimatedStyle()})},t}(i.PureComponent);d.displayName="AuthLogo",t.default=d,e.exports=t.default},7018:function(e,t,n){"use strict";t.__esModule=!0;var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=u(n(9)),l=u(n(5705));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.unmounting=!1,r.state={loaded:!1},r.initialize(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;e.src!==this.props.src&&this.setState({loaded:!1},function(){return t.initialize()})},t.prototype.initialize=function(){var e,t=this;(e=this.props.src,new Promise(function(t,n){null==e&&n(new Error("No image src passed"));var r=new Image;r.src=e,r.onload=function(){return t(r)},r.onerror=function(e){return n(e)}})).then(function(){t.unmounting||t.setState({loaded:!0})})},t.prototype.componentWillUnmount=function(){this.unmounting=!0},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.src,o=t.alt,u=t.width,f=t.height,d=t.onLoad,c=t.style,p=this.state.loaded;return i("div",{className:n,style:a({},c,{width:u,height:f})},void 0,i("img",{className:(0,s.default)(l.default.image,(e={},e[l.default.loaded]=p,e)),width:u,height:f,src:r,alt:o,onLoad:d}))},t}(o.PureComponent);f.defaultProps={width:0,height:0,alt:""},f.displayName="LazySplash",t.default=f,e.exports=t.default},7019:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=c(n(9)),s=c(n(7018)),l=c(n(7017)),u=c(n(7016)),f=n(6116),d=c(n(5573));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=p(this,e.call.apply(e,[this].concat(i))),r.state={naturalWidth:0,naturalHeight:0,width:0,height:0},r.resizeImage=function(){var e=r.state,t=e.naturalWidth,n=e.naturalHeight;r.setState(r.calculateDimensions(t,n))},r.handleLoad=function(e){var t=e.currentTarget,n=t.naturalWidth,a=t.naturalHeight;r.setState(r.calculateDimensions(n,a)),window.removeEventListener("resize",r.resizeImage),window.addEventListener("resize",r.resizeImage)},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeImage)},t.prototype.calculateDimensions=function(e,t){var n=window,r=n.innerWidth,a=n.innerHeight;if(0===e||0===t)return null;var i=t/e,o=r,s=Math.round(r*i);return s<a&&(s=a,i=e/t,o=Math.round(a*i)),{naturalWidth:e,naturalHeight:t,width:o,height:s}},t.prototype.renderSplashArt=function(){var e=this.props.splash,t=this.state,n=t.width,r=t.height;return null!=e?a(s.default,{className:d.default.rightSplit,src:e,width:n,height:r,onLoad:this.handleLoad}):null},t.prototype.renderContent=function(){var e,t=this.props,n=t.children,r=t.waveState,s=t.updateWaveState,c=t.showLogo;return a(i.Fragment,{},void 0,a(u.default,{waveState:r,updateWaveState:s}),a("div",{className:(0,o.default)(d.default.leftSplit,(e={},e[d.default.hasLogo]=c,e))},void 0,c?a(l.default,{show:r===f.WaveStates.ENTERED&&r!==f.WaveStates.FILLING}):null,n))},t.prototype.render=function(){var e=this.props.className;return a("div",{className:(0,o.default)(e,d.default.wrapper)},void 0,this.renderSplashArt(),this.renderContent())},t}(i.PureComponent);h.displayName="WaveSplash",t.default=h,e.exports=t.default},7020:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=m(n(9)),s=m(n(6584)),l=m(n(7019)),u=n(939),f=m(n(41)),d=m(n(11)),c=n(0),p=n(6116),h=m(n(5702));function m(e){return e&&e.__esModule?e:{default:e}}var v=[c.Routes.LOGIN,c.Routes.REGISTER,c.Routes.INVITE(""),c.Routes.GIFT_CODE(""),c.Routes.DISABLE_EMAIL_NOTIFICATIONS,c.Routes.VERIFY,c.Routes.AUTHORIZE_IP,c.Routes.RESET,c.Routes.HANDOFF],g=[c.Routes.APP,c.Routes.ACTIVITY,c.Routes.APPLICATION_LIBRARY,c.Routes.APPLICATION_STORE,c.Routes.GUILD(""),"/welcome/","/settings/",c.Routes.USERS("")];function y(e){return v.some(function(t){return e.startsWith(t)})}var _=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.updateWaveState=function(e){var t=r.state.waveState;r.setState({waveState:Math.max(t,e)})},r.transitionTo=function(e,t){var n=r.state.waveState;y(e)?f.default.transitionTo(e):r.setState({route:e,extra:t,waveState:Math.max(n,p.WaveStates.FILLING)})},r.replaceWith=function(e){var t=r.state.waveState;y(e)?f.default.replaceWith(e):r.setState({route:e,replaceWith:!0,waveState:Math.max(t,p.WaveStates.FILLING)})},r.state={waveState:p.WaveStates.INITIAL,extra:{},replaceWith:!1,route:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.state,r=n.waveState,a=n.replaceWith,i=n.extra,o=n.route;if(r===p.WaveStates.FILLED&&r!==t.waveState&&null!=o){if(function(e){return g.some(function(t){return e.startsWith(t)})}(o))return a?f.default.replaceWith(o):f.default.transitionTo(o,i);window.location=o}},t.prototype.mobileTransitionTo=function(e,t){y(e)?f.default.transitionTo(e,t):window.location=e},t.prototype.mobileReplaceWith=function(e){y(e)?f.default.replaceWith(e):window.location=e},t.prototype.renderDefault=function(){var e,t=this,n=this.props,r=n.splash,u=n.children,f=this.state,c=f.waveState,m=null;return null==f.route&&(m=i.Children.map(u,function(e){return i.cloneElement(e,{transitionTo:t.transitionTo,replaceWith:t.replaceWith})})),a(l.default,{className:(0,o.default)(h.default.splashBackground,(e={},e[h.default.loggingIn]=c>=p.WaveStates.FILLING,e)),splash:r,waveState:c,showLogo:!d.default.isWindows(),updateWaveState:this.updateWaveState},void 0,a(s.default,{component:i.Fragment},void 0,m))},t.prototype.renderMobile=function(){var e=this;return a(s.default,{component:i.Fragment},void 0,i.Children.map(this.props.children,function(t){return i.cloneElement(t,{transitionTo:e.mobileTransitionTo,replaceWith:e.mobileReplaceWith})}))},t.prototype.render=function(){return u.isMobile?this.renderMobile():this.renderDefault()},t}(i.Component);_.displayName="AuthWrapper",t.default=_,e.exports=t.default},7021:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=p(n(224)),l=p(n(6103)),u=n(939),f=n(273),d=p(n(5706)),c=p(n(5573));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,f.cssValueToNumber)(c.default.responsiveWidthMobile),v={START:0,END:1,OPACITY_INPUT_START:.5,OPACITY_INPUT_END:.7,OPACITY_OUTPUT_START:0,OPACITY_OUTPUT_END:1,SCALE_INPUT_START:0,SCALE_INPUT_END:1,SCALE_OUTPUT_START:.8,SCALE_OUTPUT_END:1},g={friction:10,tension:130};t.default=function(e){return function(t){function n(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=r=h(this,t.call.apply(t,[this].concat(i))),r.anim=new s.default.Value(v.START),r.state={shouldAnimate:!u.isMobile},r.handleResize=function(){var e=window.innerWidth>m;!r.state.shouldAnimate&&e&&r.anim.setValue(v.END),r.setState({shouldAnimate:e})},r.handleResizeDebounced=(0,l.default)(r.handleResize,60),h(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.UNSAFE_componentWillMount=function(){u.isMobile||(window.addEventListener("resize",this.handleResizeDebounced),this.handleResize())},n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),window.removeEventListener("resize",this.handleResizeDebounced)},n.prototype.componentWillAppear=function(e){this.state.shouldAnimate?this.animateTo(v.END,e):e()},n.prototype.componentWillEnter=function(e){var t=this;this.state.shouldAnimate?(clearTimeout(this.timeout),this.timeout=setTimeout(function(){return t.animateTo(v.END,e)},40)):e()},n.prototype.componentWillLeave=function(e){this.state.shouldAnimate?this.animateTo(v.START,e):e()},n.prototype.animateTo=function(e,t){s.default.spring(this.anim,i({toValue:e},g)).start(t)},n.prototype.getAnimatedStyle=function(){return this.state.shouldAnimate?{opacity:this.anim,transform:[{scale:this.anim.interpolate({inputRange:[0,1],outputRange:[1.05,1]})},{translateY:this.anim.interpolate({inputRange:[0,1],outputRange:["-70px","0px"]})},{translateZ:0}]}:null},n.prototype.render=function(){return a(s.default.div,{className:d.default.wrapper,style:this.getAnimatedStyle()},void 0,o.createElement(e,this.props))},n}(o.Component)},e.exports=t.default},7022:function(e,t,n){e.exports=n.p+"4dfc23421736b1eaf2a19bcb16633bad.svg"},7023:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=v(n(3)),s=v(n(12)),l=v(n(6)),u=n(519),f=n(6055),d=v(f),c=v(n(941)),p=v(n(120)),h=n(0),m=v(n(510));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}o.default.initialize();var y=a(d.default,{},void 0,a(f.AuthSpinner,{})),_=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=g(this,e.call.apply(e,[this].concat(i))),r.state={busy:!0,success:!1,user:null},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this,t=(0,u.parse)(this.props.location.search);s.default.post({url:h.Endpoints.DISABLE_EMAIL_NOTIFICATIONS,body:{token:t.token,pixel_uuid:t.hash}}).then(function(t){var n=t.body.user,r=new p.default(n);e.setState({success:!0,busy:!1,user:r})},function(){return e.setState({success:!1,busy:!1})})},t.prototype.renderBusy=function(){return y},t.prototype.renderSuccess=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo,r=this.state.user;return a(d.default,{},void 0,a(f.Avatar,{src:r?r.getAvatarURL():null,size:f.Avatar.Sizes.XXLARGE,className:m.default.marginBottom20}),a(f.Title,{className:m.default.marginBottom8},void 0,l.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_HEADER),a(f.Subtitle,{},void 0,l.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_SUCCESS_BODY),a(f.Button,{className:m.default.marginTop40,onClick:function(){return n(t)}},void 0,l.default.Messages.CONTINUE_TO_WEBAPP))},t.prototype.renderError=function(){var e=this.props,t=e.defaultRoute,r=e.transitionTo;return a(d.default,{},void 0,a(f.Image,{src:n(7022),className:m.default.marginBottom20}),a(f.Title,{className:m.default.marginBottom8},void 0,l.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_HEADER),a(f.Subtitle,{},void 0,l.default.Messages.AUTH_DISABLE_EMAIL_NOTIFICATIONS_FAILURE_BODY),a(f.Button,{className:m.default.marginTop40,onClick:function(){return r(t)}},void 0,l.default.Messages.CONTINUE_TO_WEBAPP))},t.prototype.render=function(){var e=this.state,t=e.busy,n=e.success;return t?this.renderBusy():n?this.renderSuccess():this.renderError()},t}(i.PureComponent);_.displayName="DisableEmailNotifications",t.default=o.default.connectStores([c.default],function(){return{defaultRoute:c.default.defaultRoute}})(_),e.exports=t.default},7024:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=y(n(3)),s=y(n(9)),l=n(519),u=y(n(6)),f=n(6055),d=y(f),c=y(n(14)),p=y(n(930)),h=n(116),m=n(939),v=n(0),g=y(n(510));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}o.default.initialize();var E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=_(this,e.call.apply(e,[this].concat(i))),r.state={password:"",code:"",error:null},r.handleSubmit=function(e){var t=r.props,n=t.location,a=t.replaceWith,i=r.state,o=i.password,s=i.error;if(null!=e&&e.preventDefault(),0===o.length)return r.setState({error:u.default.Messages.PASSWORD_REQUIRED}),void h.ComponentDispatch.dispatch(v.ComponentActions.WAVE_EMPHASIZE);null!=s&&r.setState({error:null});var f=(0,l.parse)(n.search);null!=f.token&&p.default.resetPassword(f.token,o,a)},r.handleTokenSubmit=function(e){var t=r.props,n=t.location,a=t.replaceWith,i=t.mfaTicket,o=r.state,s=o.code,f=o.password,d=o.error;if(null!=e&&e.preventDefault(),0===f.length)return r.setState({error:u.default.Messages.PASSWORD_REQUIRED}),void h.ComponentDispatch.dispatch(v.ComponentActions.WAVE_EMPHASIZE);null!=d&&r.setState({error:null});var c=(0,l.parse)(n.search);null!=c.token&&p.default.resetPasswordMFA(s,i,f,c.token,a)},r.renderError=function(e){var t=r.props.errors;if(r.hasError(e)){var n=t[e];return Array.isArray(n)?n[0]:n}return null},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasError=function(e){return null!=this.props.errors[e]||null!=this.state.error},t.prototype.renderPasswordReset=function(){var e=this,t=this.state,r=t.password,i=t.error,o=this.props.loginStatus,s=i||this.renderError("password");return a(d.default,{onSubmit:this.handleSubmit,tag:"form"},void 0,a("img",{alt:"",src:n(null==s?6579:6578),className:g.default.marginBottom20}),a(f.Title,{},void 0,u.default.Messages.RESET_PASSWORD_TITLE),a(f.Block,{className:g.default.marginTop20},void 0,a(f.Input,{label:u.default.Messages.FORM_LABEL_NEW_PASSWORD,className:g.default.marginBottom20,name:"password",value:r,onChange:function(t){return e.setState({password:t})},error:s,type:"password"}),a(f.Button,{type:"submit",submitting:o===v.LoginStates.LOGGING_IN_MFA},void 0,u.default.Messages.CHANGE_PASSWORD)))},t.prototype.renderMFA=function(){var e=this,t=this.state.error,r=this.props.loginStatus,i=t||this.renderError("code");return a(d.default,{onSubmit:this.handleTokenSubmit,tag:"form"},void 0,a("img",{alt:"",src:n(null==i?6579:6578),className:(0,s.default)(g.default.marginBottom20,m.isMobile?g.default.marginTop20:"")}),a(f.Title,{className:g.default.marginBottom8},void 0,u.default.Messages.TWO_FA_ENTER_TOKEN_LABEL),a(f.Subtitle,{},void 0,u.default.Messages.TWO_FA_ENTER_TOKEN_BODY),a(f.Block,{className:g.default.marginTop20},void 0,a(f.Input,{className:g.default.marginBottom8,error:i,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:u.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,value:this.state.code}),a(f.Button,{type:"submit",submitting:r===v.LoginStates.LOGGING_IN_MFA},void 0,u.default.Messages.LOGIN)))},t.prototype.render=function(){return this.props.mfaTicket?this.renderMFA():this.renderPasswordReset()},t}(i.PureComponent);E.displayName="ResetPassword",t.default=o.default.connectStores([c.default],function(){return{loginStatus:c.default.getLoginStatus(),mfaTicket:c.default.getMFATicket(),errors:c.default.getErrors()}})(E),e.exports=t.default},7025:function(e,t,n){e.exports=n.p+"1a06a76c7ea3e0facf0d6635e10c5898.svg"},7026:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=N(n(3)),s=N(n(9)),l=N(n(6)),u=n(519),f=N(n(39)),d=n(6055),c=N(d),p=N(n(985)),h=N(n(41)),m=N(n(17)),v=N(n(930)),g=N(n(14)),y=N(n(941)),_=N(n(1031)),E=n(0),T=N(n(5707)),I=N(n(510)),S=N(n(374));function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}o.default.initialize();var O=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=A(this,e.call.apply(e,[this].concat(i))),r.handleVerify=function(e){var t=(0,u.parse)(r.props.location.search);v.default.verify(t.token,e)},r.handleLogin=function(){(0,r.props.transitionTo)(E.Routes.LOGIN)},r.handleOpenApp=function(){var e=r.props.verifyingUserId;m.default.track(E.AnalyticEvents.VERIFY_ACCOUNT_APP_OPENED,{verifying_user_id:e}),r.openAppWithFingerprint()},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.handleVerify()},t.prototype.openAppWithFingerprint=function(){var e=this.props.fingerprint,t=void 0;t="Android"===f.default.os.family||"iOS"===f.default.os.family?E.DownloadLinks.DYNAMIC("verify_email",{queryString:(0,u.stringify)({fingerprint:e})}):"discord://",_.default.launch(t,function(e){e||h.default.replaceWith(y.default.defaultRoute)})},t.prototype.renderVerifyCaptcha=function(){return a(c.default,{},void 0,a(d.Image,{src:n(6580),className:(0,s.default)(T.default.image,I.default.marginBottom20)}),a(d.Title,{className:I.default.marginBottom8},void 0,l.default.Messages.VERIFICATION_VERIFYING),a(d.Subtitle,{className:I.default.marginBottom40},void 0,l.default.Messages.VERIFICATION_BODY_ALT),a("div",{className:S.default.flexCenter},void 0,a(p.default,{onVerify:this.handleVerify,theme:p.default.Themes.DARK})))},t.prototype.renderVerifyFailed=function(){return a(c.default,{},void 0,a(d.Image,{src:n(7025),className:(0,s.default)(T.default.image,I.default.marginBottom20)}),a(d.Title,{className:I.default.marginBottom8},void 0,l.default.Messages.VERFICATION_EXPIRED),a(d.Subtitle,{className:I.default.marginBottom40},void 0,l.default.Messages.AUTH_VERFICATION_EXPIRED_SUGGESTION),a(d.Button,{onClick:this.handleLogin},void 0,l.default.Messages.LOGIN))},t.prototype.renderVerifySucceeded=function(){return a(c.default,{},void 0,a(d.Image,{src:n(6580),className:(0,s.default)(T.default.image,I.default.marginBottom20)}),a(d.Title,{className:I.default.marginBottom40},void 0,l.default.Messages.VERIFICATION_VERIFIED),a(d.Button,{onClick:this.handleOpenApp},void 0,l.default.Messages.VERIFICATION_OPEN_DISCORD))},t.prototype.renderVerifying=function(){return a(c.default,{},void 0,a(d.Image,{src:n(6581),className:(0,s.default)(T.default.image,I.default.marginBottom20)}),a(d.Title,{className:I.default.marginBottom8},void 0,l.default.Messages.VERIFICATION_VERIFYING),a(d.Subtitle,{className:I.default.marginBottom40},void 0,l.default.Messages.ACTION_MAY_TAKE_A_MOMENT),a(d.Button,{submitting:!0,color:d.Button.Colors.PRIMARY}))},t.prototype.render=function(){var e=this.props,t=e.verifyErrors,n=e.verifyFailed,r=e.verifySucceeded;return null!=t&&t.captcha_key?this.renderVerifyCaptcha():n?this.renderVerifyFailed():r?this.renderVerifySucceeded():this.renderVerifying()},t}(i.PureComponent);O.displayName="VerifyEmail",t.default=o.default.connectStores([g.default],function(){return{verifyFailed:g.default.didVerifyFail(),verifyErrors:g.default.getVerifyErrors(),verifySucceeded:g.default.didVerifySucceed(),fingerprint:g.default.getFingerprint(),verifyingUserId:g.default.getVerifyingUserId()}})(O),e.exports=t.default},7027:function(e,t,n){e.exports=n.p+"004dd8db75dd498bf03f6b0e7fcb51fd.svg"},7028:function(e,t,n){e.exports=n.p+"5ed6422f4a60342227db5d2678ecf911.svg"},7029:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),o=v(n(3)),s=v(n(6)),l=n(519),u=v(n(39)),f=n(6055),d=v(f),c=v(n(14)),p=v(n(930)),h=n(0),m=v(n(510));function v(e){return e&&e.__esModule?e:{default:e}}o.default.initialize();var g=a(f.AuthSpinner,{hideQuote:!0}),y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=(0,l.parse)(this.props.location.search);p.default.authorizeIPAddress(e.token)},t.prototype.renderLoginButton=function(){if("Android"===u.default.os.family||"iOS"===u.default.os.family)return null;var e=this.props.transitionTo;return a(f.Button,{onClick:function(){return e(h.Routes.LOGIN)}},void 0,s.default.Messages.LOGIN)},t.prototype.renderFailed=function(){return a(d.default,{},void 0,a("img",{alt:"",src:n(7028),className:m.default.marginBottom20}),a(f.Title,{className:m.default.marginBottom8},void 0,s.default.Messages.AUTHORIZATION_EXPIRED),a(f.Subtitle,{className:m.default.marginBottom40},void 0,s.default.Messages.AUTH_EXPIRED_SUGGESTION),this.renderLoginButton())},t.prototype.renderSucceeded=function(){return a(d.default,{},void 0,a("img",{alt:"",src:n(7027),className:m.default.marginBottom20}),a(f.Title,{className:m.default.marginBottom8},void 0,s.default.Messages.IP_AUTHORIZATION_SUCCEEDED),a(f.Subtitle,{className:m.default.marginBottom40},void 0,s.default.Messages.AUTH_IP_AUTH_SUCCEEDED_SUGGESTION),this.renderLoginButton())},t.prototype.renderDefault=function(){return a(d.default,{},void 0,g,a(f.Title,{},void 0,s.default.Messages.AUTHORIZING))},t.prototype.render=function(){var e=this.props,t=e.verifyFailed,n=e.verifySucceeded;return t?this.renderFailed():n?this.renderSucceeded():this.renderDefault()},t}(i.PureComponent);y.displayName="AuthorizeIPAddress",t.default=o.default.connectStores([c.default],function(){return{verifyFailed:c.default.didVerifyFail(),verifySucceeded:c.default.didVerifySucceed()}})(y),e.exports=t.default},7030:function(e,t,n){e.exports=n.p+"acb452cda03a99894210f832308c055d.svg"},7031:function(e,t,n){e.exports=n.p+"96191331272ece160a85126d54e49f3d.svg"},7032:function(e,t,n){e.exports=n.p+"07c4931451dfa8c32fc8551b48a89536.svg"},7033:function(e,t,n){"use strict";var r,a;t.__esModule=!0;var i,o=(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=w(n(3)),f=w(n(9)),d=n(6055),c=w(d),p=w(n(268)),h=w(n(513)),m=w(n(42)),v=w(n(71)),g=w(n(6117)),y=w(n(17)),_=w(n(271)),E=w(n(14)),T=w(n(6109)),I=w(n(6)),S=w(n(5708)),N=w(n(1246)),A=w(n(510)),O=w(n(374)),b=n(0),R=w(n(6059)),C=w(n(946)),M=w(n(925));function w(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}u.default.initialize();var P=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=L(this,e.call.apply(e,[this].concat(i))),r.state={},r.handleOpenApp=function(e){e.preventDefault(),r.track(b.AnalyticEvents.INVITE_APP_OPENED,!0),r.openAppWithFingerprint()},L(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){y.default.track(b.AnalyticEvents.INVITE_VIEWED,{},!0)},t.prototype.track=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.props,a=r.invite,i=r.code,o=this.state.username,l={invite_code:i};t&&(l.guild_id=a.guild?a.guild.id:null,l.channel_id=a.channel?a.channel.id:null,l.inviter_id=a.inviter?a.inviter.id:null,l.has_username=null!=o&&o.length>0),y.default.track(e,s({},l,n))},t.prototype.isValidInvite=function(e){return e.state!==b.InviteStates.EXPIRED},t.prototype.openAppWithFingerprint=function(){var e=this.props,t=e.code,n=e.invite,r=e.fingerprint,a=this.state.username;_.default.openApp(this.isValidInvite(n)?t:void 0,void 0,r,a)},t.prototype.renderInvalid=function(){return o(c.default,{},void 0,o(d.Image,{src:n(7032)}),o(d.Title,{className:(0,f.default)(A.default.marginTop20,A.default.marginBottom8,O.default.flexCenter)},void 0,I.default.Messages.DISCORD_DESC_SHORT),o(d.Subtitle,{className:A.default.marginBottom40},void 0,I.default.Messages.DISCORD_DESC_LONG),o(h.default,{className:S.default.card,type:h.default.Types.CUSTOM},void 0,o("img",{alt:"",className:S.default.cardAccentLeft,src:n(7031)}),o("img",{alt:"",className:S.default.cardAccentRight,src:n(7030)}),o(m.default,{className:S.default.cardContents,direction:m.default.Direction.VERTICAL,align:m.default.Align.STRETCH,grow:0},void 0,o(v.default,{className:S.default.buttonTitle,color:N.default.primary300,size:v.default.Sizes.MEDIUM,weight:v.default.Weights.MEDIUM},void 0,I.default.Messages.INVITE_INVALID_ERROR),o(d.Button,{className:S.default.button,onClick:this.handleOpenApp},void 0,I.default.Messages.INVITE_INVALID_CTA))))},t.prototype.render=function(){var e=this,t=this.props.invite,n=this.state.username;return this.isValidInvite(t)?o(B,{invite:t,onClick:this.handleOpenApp,username:n,onUserNameChange:function(t){return e.setState({username:t})}}):this.renderInvalid()},t}(l.PureComponent);P.displayName="InviteMobile";var D=function(e){var t=e.invite,n=e.onClick;return o(c.default,{},void 0,o(g.default,{invite:t}),o(d.Button,{onClick:n,className:A.default.marginTop20},void 0,I.default.Messages.INSTANT_INVITE_ACCEPT))};D.displayName="ValidInvite";var F=function(e){var t=e.invite,n=e.onClick,r=e.username,a=e.onUserNameChange;return o(c.default,{},void 0,o(g.default,{invite:t}),o("div",{className:S.default.text},void 0,o(p.default,{title:I.default.Messages.FORM_LABEL_NEW_USER,className:A.default.marginTop20},void 0,o(M.default,{label:I.default.Messages.FORM_LABEL_USERNAME,placeholder:I.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:a,autoComplete:"off",spellCheck:"false",value:r,autoFocus:!0}),o(d.Button,{onClick:n,className:A.default.marginTop8},void 0,I.default.Messages.INSTANT_INVITE_JOIN)),o(p.default,{title:I.default.Messages.ALREADY_HAVE_ACCOUNT,className:A.default.marginTop20},void 0,o(d.Button,{onClick:n,className:(0,f.default)(A.default.marginTop8),color:d.Button.Colors.GREEN},void 0,I.default.Messages.INSTANT_INVITE_ACCEPT))))};F.displayName="ValidInviteUsername";var B=(0,R.default)((0,C.default)(b.Experiments.MOBILE_INVITE,"Mobile Invite Experiment",["Allow mobile invite landings to enter a username","Control: No username UI shown","Treatment 1: Username required"]),((a={})[b.ExperimentTypes.NONE]=function(e){return l.createElement(D,e)},a[b.ExperimentTypes.USER]=((r={})[b.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return l.createElement(D,e)},r[b.ExperimentBuckets.CONTROL]=function(e){return l.createElement(D,e)},r[b.ExperimentBuckets.TREATMENT_1]=function(e){return l.createElement(F,e)},r),a));t.default=u.default.connectStores([T.default,E.default],function(e){var t=e.match.params.inviteCode;return{code:t,invite:T.default.getInvite(t)||{},fingerprint:E.default.getFingerprint()}})(P),e.exports=t.default},7034:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=M(n(1)),s=C(n(3)),l=C(n(9)),u=C(n(371)),f=C(n(524)),d=M(n(387)),c=C(n(14)),p=C(n(6130)),h=C(n(164)),m=C(n(46)),v=C(n(941)),g=M(n(953)),y=M(n(543)),_=C(n(930)),E=M(n(135)),T=C(n(6376)),I=C(n(6374)),S=C(n(6377)),N=n(6055),A=C(N),O=n(0),b=C(n(6)),R=C(n(510));function C(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}s.default.initialize();var L=Object.freeze({REGISTER:"register",LOGIN:"login"}),P=a(N.AuthSpinner,{}),D=function(e){function t(){var n,r,a,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=w(this,e.call.apply(e,[this].concat(s))),r.state={error:null,continueOnWeb:!1,currentUser:null,sentVerification:!1,fetchingUser:!1},r.refreshUser=function(){r.setState({fetchingUser:!0}),y.fetchCurrentUser().then(function(e){return r.setState({currentUser:e,fetchingUser:!1})}).catch(function(){return r.setState({fetchingUser:!1})})},r.handleContinue=function(){(0,r.props.transitionTo)(O.Routes.APPLICATION_LIBRARY)},r.handleLogout=function(){var e=r.props.match.params.giftCode;_.default.logout(O.Routes.GIFT_CODE_LOGIN(e))},r.handleResendVerification=function(){_.default.verifyResend(),r.setState({sentVerification:!0})},r.handleAccept=(a=regeneratorRuntime.mark(function e(){var t,n,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.transitionTo,null!=(a=t.giftCode)){e.next=3;break}throw new Error("Trying to accept gift before resolve");case 3:return o=r.getCode(),e.prev=4,r.setState({error:null}),e.next=8,g.redeemGiftCode(o);case 8:a.premiumSubscriptionType===O.PremiumTypes.TIER_2?n(O.Routes.APPLICATION_STORE_BROWSE,{search:f.default.formatSearch({type:O.StoreApplicationCategorySelector.PREMIUM})}):a.premiumSubscriptionType===O.PremiumTypes.TIER_1?n(O.Routes.ACTIVITY):n(O.Routes.APPLICATION_LIBRARY),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),r.setState({error:e.t0});case 14:case"end":return e.stop()}},e,i,[[4,11]])}),function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function r(a,i){try{var o=e[a](i),s=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})}),w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.authenticated&&this.handleAuthenticated()},t.prototype.componentDidUpdate=function(e){var t=this.props.authenticated,n=this.getCode();n!==this.getCode(e)&&g.resolveGiftCode(n,!0,!0),t&&!e.authenticated&&this.handleAuthenticated(),!t&&e.authenticated&&this.setState({currentUser:null})},t.prototype.handleAuthenticated=function(){var e=this.state.currentUser;E.fetchLibrary(),null==e&&this.refreshUser()},t.prototype.getCode=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).match.params.giftCode},t.prototype.getMode=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).login?L.LOGIN:L.REGISTER},t.prototype.getErrorMessage=function(e){var t=this.props.libraryApplication,n=this.state.currentUser,r=this.state.error,a=null!=r?r.code:null;return a===O.AbortCodes.INVALID_GIFT_SELF_REDEMPTION?b.default.Messages.GIFT_CONFIRMATION_BODY_SELF_GIFT_NO_PAYMENT:null!=t||a===O.AbortCodes.INVALID_GIFT_REDEMPTION_OWNED?b.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_OWNED.format({libraryLink:O.Routes.APPLICATION_LIBRARY}):e.isClaimed||a===O.AbortCodes.INVALID_GIFT_REDEMPTION_EXHAUSTED?b.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_CLAIMED:null!=n&&d.doesUserSubscriptionMismatch(e,n)?b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_MISMATCH.format({planName:n.premiumType===O.PremiumTypes.TIER_2?b.default.Messages.PREMIUM_TIER_2:b.default.Messages.PREMIUM_TIER_1}):null},t.prototype.renderSpinner=function(e){return a(A.default,{},void 0,a(N.Title,{},void 0,e),P)},t.prototype.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,r=e.transitionTo;return a(A.default,{},void 0,a(N.Image,{src:n(6582),className:R.default.marginBottom8}),a(N.Title,{className:(0,l.default)(R.default.marginTop8,R.default.marginBottom8)},void 0,b.default.Messages.GIFT_CODE_AUTH_INVALID_TITLE),a(N.Subtitle,{},void 0,b.default.Messages.GIFT_CODE_AUTH_INVALID_BODY),a(N.Button,{className:(0,l.default)(R.default.marginTop40,R.default.marginBottom8),onClick:function(){return r(t)}},void 0,b.default.Messages.CONTINUE_TO_WEBAPP),a(N.Button,{onClick:function(){return window.open(u.default.getArticleURL(O.HelpdeskArticles.GIFTING),"_blank")},look:N.Button.Looks.LINK},void 0,b.default.Messages.GIFT_CODE_AUTH_INVALID_TIP))},t.prototype.renderAppOpened=function(){var e=this;return a(A.default,{},void 0,a(N.Title,{className:R.default.marginBottom8},void 0,b.default.Messages.APP_OPENED_TITLE),a(N.Subtitle,{},void 0,b.default.Messages.APP_OPENED_BODY),a(N.Button,{className:R.default.marginTop40,onClick:function(){return e.setState({continueOnWeb:!0})}},void 0,b.default.Messages.GIFT_CODE_AUTH_CONTINUE_IN_BROWSER))},t.prototype.renderVerification=function(e){var t=this.state.sentVerification;return a(A.default,{},void 0,a(N.Image,{src:n(6581),className:R.default.marginBottom8}),a(N.Title,{},void 0,b.default.Messages.GIFT_CODE_AUTH_VERIFICATION_TITLE.format({username:e.username})),a(N.Subtitle,{className:R.default.marginTop20},void 0,b.default.Messages.GIFT_CODE_AUTH_HELP_TEXT_VERIFICATION_REQUIRED),a(N.Button,{disabled:t,className:R.default.marginTop40,onClick:this.handleResendVerification},void 0,t?b.default.Messages.GIFT_CODE_AUTH_VERIFICATION_SENT:b.default.Messages.RESEND_VERIFICATION_EMAIL),a(N.Button,{look:N.Button.Looks.LINK,onClick:this.refreshUser,className:R.default.marginTop8},void 0,b.default.Messages.GIFT_CODE_AUTH_CHECK_VERIFICATION_AGAIN))},t.prototype.renderAuthenticated=function(e,t){var n=this.getErrorMessage(e),r=null!=n;return a(A.default,{},void 0,a(T.default,{giftCode:e}),a(N.Button,{disabled:r,className:R.default.marginTop40,onClick:this.handleAccept},void 0,b.default.Messages.GIFT_CODE_AUTH_ACCEPT),null!=n?a(N.Subtitle,{className:R.default.marginTop20},void 0,n):a(N.SubText,{className:R.default.marginTop20},void 0,b.default.Messages.GIFT_CODE_AUTH_LOGGED_IN_AS.format({userTag:t.tag,onLogoutClick:this.handleLogout})))},t.prototype.render=function(){var e=this.props,t=e.nativeAppState,n=e.sku,r=e.authenticated,i=e.giftCode,o=e.isResolved,s=e.isAccepting,l=e.transitionTo,u=e.location,f=this.state,d=f.fetchingUser,c=f.continueOnWeb;if(t===O.NativeAppStates.OPEN&&!c)return this.renderAppOpened();if(t===O.NativeAppStates.OPENING)return this.renderSpinner(b.default.Messages.APP_OPENING);if(s)return this.renderSpinner(b.default.Messages.GIFT_CODE_AUTH_ACCEPTING);if(null==i)return o?this.renderExpiredInvite():this.renderSpinner(b.default.Messages.GIFT_CODE_AUTH_RESOLVING);if(o){if(r){var p=this.state.currentUser;return d||null==p?this.renderSpinner(b.default.Messages.GIFT_CODE_AUTH_FETCHING_USER):this.requiresVerification&&null!=p?this.renderVerification(p):this.renderAuthenticated(i,p)}return this.getMode()===L.LOGIN?a(S.default,{giftCodeSKU:n,giftCode:i,transitionTo:l,location:u}):a(I.default,{giftCodeSKU:n,giftCode:i,transitionTo:l,location:u})}return null},i(t,[{key:"requiresVerification",get:function(){var e=this.state.currentUser;return null!=e&&!e.verified}}]),t}(o.PureComponent);D.displayName="GiftCode",t.default=s.default.connectStores([p.default,m.default,c.default,h.default,v.default],function(e){var t=e.match.params.giftCode,n=p.default.get(t),r=null!=n?h.default.get(n.skuId):null;return{giftCode:n,sku:r,libraryApplication:null!=r?m.default.getLibraryApplication(r.applicationId,r.applicationId,!0):null,authenticated:c.default.isAuthenticated(),defaultRoute:v.default.defaultRoute,isResolved:p.default.getIsResolved(t),isAccepting:p.default.getIsAccepting(t),libraryApplicationsFetched:m.default.fetched,nativeAppState:p.default.getNativeAppState(t)}})(D),e.exports=t.default},7035:function(e,t,n){"use strict";t.__esModule=!0;var r=n(411);Object.defineProperty(t,"extractId",{enumerable:!0,get:function(){return r.extractId}})},7036:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={}),t&&i)for(var s in i)void 0===t[s]&&(t[s]=i[s]);else t||(t=i||{});if(1===o)t.children=a;else if(o>1){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=O(n(1)),s=A(n(3)),l=A(n(24)),u=A(n(9)),f=A(n(6)),d=A(n(6117)),c=A(n(6374)),p=A(n(6377)),h=n(6055),m=A(h),v=A(n(14)),g=A(n(6109)),y=A(n(941)),_=A(n(271)),E=A(n(17)),T=O(n(7035)),I=A(n(371)),S=n(0),N=A(n(510));function A(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}s.default.initialize();var R="Accept Invite Page",C="register",M="login",w=a(h.AuthSpinner,{}),L=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=b(this,e.call.apply(e,[this].concat(i))),r.getAcceptInviteContext=function(e){return _.default.getInviteContext(e,r.props.invite)},r.handleContinue=function(){var e=r.props,t=e.invite,n=e.transitionTo;if(null!=t.channel){var a=null!=t.guild?t.guild.id:S.ME;_.default.transitionToInviteChannel(a,t.channel.id,t.channel.type,n)}},r.handleAccept=function(){var e=r.props.invite,t=r.getCode();_.default.acceptInvite(t,r.getAcceptInviteContext(R),function(){null!=e.channel&&_.default.openApp(t,e.channel.id)})},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){E.default.track(S.AnalyticEvents.INVITE_VIEWED,{},!0)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.invite,r=t.authenticated,a=t.transitionTo,i=this.getCode();if(i!==this.getCode(e))_.default.resolveInvite(i,R);else if(n.state===S.InviteStates.APP_NOT_OPENED)this.handleContinue();else if(this.getMode()===M&&r!==e.authenticated&&r){var o=v.default.getFingerprint();if(null!=o){var s=T.extractId(o);this.track(S.AnalyticEvents.INVITE_LOGIN_SUCCESSFUL,!0,{prev_user_id:s})}_.default.acceptInvite(i,this.getAcceptInviteContext(R),this.handleContinue)}if(n.nativeAppState!==e.invite.nativeAppState&&n.nativeAppState===S.NativeAppStates.OPEN&&this.track(S.AnalyticEvents.INVITE_APP_INVOKED,!1),this.getMode()===C&&r&&!e.authenticated){var u=n.guild,f=n.channel;if(null!=f){var d=null!=u?u.id:S.ME;l.default.set("homepageNUFComplete",!0),a(S.Routes.WELCOME(d,f.id,f.type))}}},t.prototype.getCode=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).match.params.inviteCode},t.prototype.getMode=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).login?M:C},t.prototype.track=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.props.invite,a={invite_code:this.getCode()};t&&(a.guild_id=r.guild?r.guild.id:null,a.channel_id=r.channel?r.channel.id:null,a.inviter_id=r.inviter?r.inviter.id:null),E.default.track(e,i({},a,n))},t.prototype.renderSpinner=function(e){return a(m.default,{},void 0,a(h.Title,{},void 0,e),w)},t.prototype.renderExpiredInvite=function(){var e=this.props,t=e.defaultRoute,r=e.transitionTo;return a(m.default,{},void 0,a(h.Image,{src:n(6582),className:N.default.marginBottom8}),a(h.Title,{className:(0,u.default)(N.default.marginTop8,N.default.marginBottom8)},void 0,f.default.Messages.AUTH_INVALID_INVITE_TITLE),a(h.Subtitle,{},void 0,f.default.Messages.AUTH_INVALID_INVITE_BODY),a(h.Button,{className:(0,u.default)(N.default.marginTop40,N.default.marginBottom8),onClick:function(){return r(t)}},void 0,f.default.Messages.CONTINUE_TO_WEBAPP),a(h.Button,{onClick:function(){return window.open(I.default.getArticleURL(S.HelpdeskArticles.INVALID_INVITES),"_blank")},look:h.Button.Looks.LINK},void 0,f.default.Messages.AUTH_INVALID_INVITE_TIP))},t.prototype.renderAppOpened=function(){return a(m.default,{},void 0,a(h.Title,{className:N.default.marginBottom8},void 0,f.default.Messages.APP_OPENED_TITLE),a(h.Subtitle,{},void 0,f.default.Messages.APP_OPENED_BODY),a(h.Button,{className:N.default.marginTop40,onClick:this.handleContinue},void 0,f.default.Messages.CONTINUE_TO_WEBAPP))},t.prototype.renderAuthenticated=function(){var e=this.props.invite;return a(m.default,{},void 0,a(d.default,{invite:e}),a(h.Button,{className:N.default.marginTop40,onClick:this.handleAccept},void 0,f.default.Messages.INSTANT_INVITE_ACCEPT))},t.prototype.renderContinue=function(){var e=this.props,t=e.defaultRoute,n=e.transitionTo;return a(m.default,{},void 0,a(h.Title,{},void 0,f.default.Messages.APP_NOT_OPENED),a(h.Button,{className:N.default.marginTop40,onClick:function(){return n(t)}},void 0,f.default.Messages.CONTINUE_TO_WEBAPP))},t.prototype.render=function(){var e=this,t=this.props,n=t.invite,r=t.authenticated,i=t.transitionTo,o=t.location;if(n.nativeAppState===S.NativeAppStates.OPEN)return this.renderAppOpened();switch(n.state){case S.InviteStates.APP_OPENED:return this.renderAppOpened();case S.InviteStates.APP_NOT_OPENED:return this.renderContinue();case S.InviteStates.APP_OPENING:return this.renderSpinner(f.default.Messages.APP_OPENING);case S.InviteStates.RESOLVING:case S.InviteStates.RESOLVED:return r?this.renderAuthenticated():this.getMode()===M?a(p.default,{invite:n,transitionTo:i,location:o}):a(c.default,{invite:n,onLoginStart:function(){return e.track(S.AnalyticEvents.INVITE_LOGIN,!0)},location:o,transitionTo:i});case S.InviteStates.ACCEPTING:return this.renderSpinner(f.default.Messages.INSTANT_INVITE_ACCEPTING);case S.InviteStates.EXPIRED:return this.renderExpiredInvite();case S.InviteStates.ACCEPTED:default:return null}},t}(o.PureComponent);L.displayName="Invite",t.default=s.default.connectStores([g.default,y.default,v.default],function(e){return{invite:g.default.getInvite(e.match.params.inviteCode)||{},authenticated:v.default.isAuthenticated(),defaultRoute:y.default.defaultRoute}})(L),e.exports=t.default}}]);
//# sourceMappingURL=522c96ec50ed902dc5a8.js.map