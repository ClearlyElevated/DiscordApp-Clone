(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{5676:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(226),l=N(n(3)),u=n(589),s=n(519),c=N(n(6066)),f=n(6962),d=n(6187),p=N(n(1001)),h=N(n(376)),y=N(n(41)),E=N(n(28)),_=n(6152),S=n(278),T=N(n(938)),m=N(n(6115)),v=N(n(6961)),A=N(n(6951)),g=n(6144),I=n(0),R=N(n(6)),O=N(n(5586));function N(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=(0,u.makeLazy)(function(){return Promise.all([n.e(0),n.e(213),n.e(214)]).then(n.t.bind(null,6880,7))});l.default.initialize();var L=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=C(this,e.call.apply(e,[this].concat(l))),r.state={pageSize:t.getPageSize(r.props.width)},r.renderApplicationStoreListing=function(e){var t=e.match,n=e.location,a=(0,s.parse)(n.search);return o(h.default,{page:I.AnalyticsPages.STORE_LISTING,root:!0},void 0,o(A.default,{match:t,location:n,storeListingId:a.store_listing_id,pageSize:r.state.pageSize}))},r.renderContent=function(e,t){return o(i.Switch,{},void 0,o(i.Route,{path:I.Routes.APPLICATION_STORE,exact:!0,render:function(n){var r=n.location;return o(h.default,{page:I.AnalyticsPages.STORE_DIRECTORY_HOME,root:!0},void 0,o(v.default,{location:r,scrollTo:e,getScrollTop:t}))}}),o(i.Route,{path:I.Routes.APPLICATION_STORE_BROWSE,render:function(n){var r=n.location;return o(h.default,{page:I.AnalyticsPages.STORE_DIRECTORY_BROWSE,root:!0},void 0,o(v.default,{location:r,scrollTo:e,getScrollTop:t}))}}),o(i.Route,{path:I.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:r.renderApplicationStoreListing}),o(i.Route,{path:I.Routes.APPLICATION_STORE_LISTING_SKU(":skuId"),render:r.renderApplicationStoreListing}),o(i.Redirect,{to:I.Routes.APPLICATION_STORE}))},C(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,n){var r=t.getPageSize(e.width);return r!==n.pageSize?{pageSize:r}:null},t.getPageSize=function(e){return e<g.PAGE_WIDTH_THRESHOLD?g.PageSizes.SMALL:g.PageSizes.LARGE},t.prototype.componentDidMount=function(){(0,_.updateLocation)(this.props.location),this.stopListeningToHistory=y.default.getHistory().listen(function(e){e.pathname.startsWith(I.Routes.APPLICATION_STORE)&&(0,_.updateLocation)(e)}),this.props.isAuthenticated&&(0,S.fetchPaymentSources)(),c.default.disable(),c.default.setLayout(f.APPLICATION_STORE_LAYOUT),c.default.enable()},t.prototype.componentWillUnmount=function(){null!=this.stopListeningToHistory&&this.stopListeningToHistory(),c.default.disable(),c.default.setLayout(d.DEFAULT_LAYOUT),c.default.enable()},t.prototype.renderCustomErrorMessage=function(){return o("div",{},void 0,o("p",{},void 0,R.default.Messages.ERRORS_STORE_CRASH),o("p",{},void 0,R.default.Messages.ERRORS_ACTION_TO_TAKE))},t.prototype.render=function(){var e=this.props,t=e.isAuthenticated,n=e.location,r=e.theme,a=t?o("div",{className:O.default.applicationStore},void 0,this.renderContent()):o(P,{className:O.default.applicationStore,location:n,render:this.renderContent});return o(p.default,{theme:r,renderCustomMessage:this.renderCustomErrorMessage},void 0,a)},t}(a.Component);L.displayName="ApplicationStore",t.default=(0,i.withRouter)((0,m.default)((0,T.default)(l.default.connectStores([E.default],function(){return{theme:E.default.theme}})(L)))),e.exports=t.default},6059:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!=t&&s.default.register(e,t);var p=e.getExperimentId();return(0,r.default)({displayName:"ExperimentContainer",mixins:[o.default.LazyStoreListenerMixin(e,i.default,l.default,u.default,f.default)],getDefaultProps:function(){return{renderFunctions:t}},getInitialState:function(){return this.getStateFromStores()},shouldComponentUpdate:function(e,t){return!(0,a.default)(this.props,e)||t.guildId!==this.state.guildId||t.channelId!==this.state.channelId||!c.default.experimentDescriptorEquals(t.experimentDescriptor,this.state.experimentDescriptor)},getStateFromStores:function(){var t=this.props.guildId||l.default.getGuildId(),n=this.props.channelId||i.default.getChannelId(t),r=null,o=f.default.getOverrideExperimentDescriptor(p);return r=o||e.getExperimentDescriptor(t,n),{guildId:t,channelId:n,experimentDescriptor:r}},getRenderFunction:function(){var e=this.state.experimentDescriptor,t=this.props.renderFunctions;if(null==e)return t[d.ExperimentTypes.NONE]||h;var n=e.type,r=e.bucket,o=t[n];return null==o?t[d.ExperimentTypes.NONE]||h:null!=o[r]?o[r]:t[d.ExperimentTypes.NONE]||h},handleExperimentTriggered:function(){var e=this.state.experimentDescriptor;if(null!=e&&!e.override){if(null!=n&&!1===n(e,this.props))return;s.default.trigger(e)}},componentDidMount:function(){this.handleExperimentTriggered()},componentDidUpdate:function(e,t){var n=this.state.experimentDescriptor;c.default.experimentDescriptorEquals(n,t.experimentDescriptor)||this.handleExperimentTriggered()},render:function(){var e=this.getRenderFunction(),t=this.state.experimentDescriptor,n=this.props,r=(n.renderFunctions,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["renderFunctions"]));return e(r,t)}})};var r=p(n(54)),o=p(n(3)),a=p(n(276)),i=p(n(65)),l=p(n(187)),u=p(n(14)),s=p(n(6054)),c=p(n(6086)),f=p(n(165)),d=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return null};e.exports=t.default},6062:function(e,t,n){"use strict";t.__esModule=!0;var r=_(n(7)),o=_(n(3)),a=_(n(24)),i=_(n(6486)),l=_(n(2)),u=n(0),s=_(n(65)),c=_(n(187)),f=_(n(25)),d=_(n(18)),p=_(n(61)),h=_(n(6485)),y=n(6068),E=n(6484);function _(e){return e&&e.__esModule?e:{default:e}}var S=.05,T={},m=!1;function v(e){return null==T[e]&&(T[e]={searchId:e,searchType:A(e),isIndexing:!1,isHistoricalIndexing:!1,isSearching:!1,analyticsId:null,editorState:null,offset:null,query:null,hasError:!1,searchFetcher:null,searchResults:null,totalResults:null,documentsIndexed:null,resultsBlocked:0,showBlockedResults:!1,showNoResultsAlt:!1}),T[e]}function A(e){return f.default.getGuild(e)?u.SearchTypes.GUILD:d.default.getChannel(e)?u.SearchTypes.CHANNEL:null}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e)return n;var r=T[e];return null==r?n:t(r)}var I="SearchStore",R=!1,O={},N=null;function C(e){var t=e.searchId,n=T[t];if(null==n)return!1;null!=n.searchFetcher&&n.searchFetcher.cancel(),delete T[t]}function P(){var e=c.default.getGuildId(),t=s.default.getChannelId(e),n=e||t;if(n===N)return!1;n&&!T[n]&&v(n),N=n}function L(){(0,y.refreshSearchTokens)()}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,c.default,f.default,d.default);var e,t=a.default.get(I);t&&t.history&&(e=t.history,Object.keys(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=e[t].filter(function(e){return"string"==typeof e&&e.trim()})),Array.isArray(e[t])&&e[t].length||delete e[t]}),O=e),R=!!a.default.get("tokenized")||!1},t.prototype.isOpen=function(){return m},t.prototype.getCurrentSearchId=function(){return N},t.prototype.isActive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N;return null!=e&&(this.isIndexing(e)||this.isSearching(e)||this.hasResults(e))},t.prototype.isTokenized=function(){return R},t.prototype.getSearchType=function(e){return g(e||N,function(e){return e.searchType})},t.prototype.getResults=function(e){return g(e,function(e){return e.searchResults})},t.prototype.hasResults=function(e){return null!=g(e,function(e){return e.searchResults})},t.prototype.isIndexing=function(e){return g(e,function(e){return e.isIndexing})||!1},t.prototype.isHistoricalIndexing=function(e){return g(e,function(e){return e.isHistoricalIndexing})||!1},t.prototype.isSearching=function(e){return g(e,function(e){return e.isSearching})||!1},t.prototype.getAnalyticsId=function(e){return g(e,function(e){return e.analyticsId})},t.prototype.getResultsBlocked=function(e){return g(e,function(e){return e.resultsBlocked})},t.prototype.getDocumentsIndexedCount=function(e){return g(e,function(e){return e.documentsIndexed})},t.prototype.getSearchFetcher=function(e){return g(e,function(e){return e.searchFetcher})},t.prototype.getTotalResults=function(e){return g(e,function(e){return e.totalResults})||0},t.prototype.getEditorState=function(e){return g(e,function(e){return e.editorState})},t.prototype.getHistory=function(e){return O[e]},t.prototype.getOffset=function(e){return g(e,function(e){return e.offset})||0},t.prototype.getQuery=function(e){return g(e,function(e){return e.query})},t.prototype.hasError=function(e){return g(e,function(e){return e.hasError})||!1},t.prototype.shouldShowBlockedResults=function(e){return g(e,function(e){return e.showBlockedResults},!1)||!1},t.prototype.shouldShowNoResultsAlt=function(e){return g(e,function(e){return e.showNoResultsAlt},!1)||!1},t.prototype.getResultsState=function(e){return{isSearching:this.isSearching(e),isIndexing:this.isIndexing(e),isHistoricalIndexing:this.isHistoricalIndexing(e),documentsIndexed:this.getDocumentsIndexedCount(e),offset:this.getOffset(e),results:this.getResults(e),totalResults:this.getTotalResults(e),hasError:this.hasError(e),resultsBlocked:this.getResultsBlocked(e),showBlockedResults:this.shouldShowBlockedResults(e),showNoResultsAlt:this.shouldShowNoResultsAlt(e)}},t}(o.default.Store);t.default=new b(l.default,{SEARCH_START:function(e){var t=e.queryString,n=e.searchId,o=e.query,s=v(n);s.searchFetcher&&(s.searchFetcher.cancel(),s.searchFetcher=null);var c=new i.default(n,s.searchType,o);s.searchFetcher=c,s.isSearching=!0,s.searchResults=null,s.analyticsId=null,s.query=r.default.omit(o,"type"),s.offset=o.offset?o.offset:0,s.showBlockedResults=!1,function(e,t){if("string"==typeof t){var n=O[e]=O[e]||[];t=t.trim();var r=n.indexOf(t);-1!==r?(n.splice(r,1),n.unshift(t)):n[0]&&t.startsWith(n[0])?n[0]=t:r<0&&n.unshift(t),n.length>5&&n.splice(5,n.length),a.default.set(I,{history:O})}}(n,t),c.fetch(function(e){l.default.dispatch({type:u.ActionTypes.SEARCH_FINISH,searchId:n,analyticsId:e.body.analytics_id,totalResults:e.body.total_results,messages:e.body.messages,hasError:!1,doingHistoricalIndex:e.body.doing_deep_historical_index,documentsIndexed:e.body.documents_indexed})},function(){l.default.dispatch({type:u.ActionTypes.SEARCH_INDEXING,searchId:n})},function(){l.default.dispatch({type:u.ActionTypes.SEARCH_FINISH,searchId:n,messages:[],totalResults:0,analyticsId:null,hasError:!0,doingHistoricalIndex:!1,documentsIndexed:0})})},SEARCH_INDEXING:function(e){var t=v(e.searchId);t.isIndexing=!0,t.isHistoricalIndexing=!0,t.isSearching=!1},SEARCH_FINISH:function(e){var t=v(e.searchId);t.isSearching=!1,t.isIndexing=!1,t.isHistoricalIndexing=e.doingHistoricalIndex,t.searchFetcher=null,t.totalResults=e.totalResults,t.hasError=e.hasError,t.analyticsId=e.analyticsId,t.documentsIndexed=e.documentsIndexed,t.showNoResultsAlt=Math.random()<S;var n=t.query;if(n){var o=(0,E.createASTHighlighter)(n.content||""),a=0;t.searchResults=(0,r.default)(e.messages).map(function(e){return e.map(function(e){return h.default.create(e,o)})}).map(function(e){return e.filter(function(e){var t=p.default.isBlocked(e.message.author.id);return t&&e.hit&&a++,!t||e.hit})}).value(),t.resultsBlocked=a}else t.hasError=!0},SEARCH_EDITOR_STATE_CLEAR:C,SEARCH_ENSURE_SEARCH_STATE:function(e){var t=e.searchId;t&&v(t)},SEARCH_EDITOR_STATE_CHANGE:function(e){var t=e.searchId,n=e.editorState;v(t).editorState=n},SEARCH_SET_SHOW_BLOCKED_RESULTS:function(e){var t=e.searchId,n=e.showBlocked;v(t).showBlockedResults=n},CHANNEL_SELECT:function(e){return P()},GUILD_SELECT:function(e){return P()},CHANNEL_TOGGLE_SECTION:function(e){return null!=N&&C({searchId:N})},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null==t?(a.default.remove(I),O={}):(delete O[t],a.default.set(I,{history:O}))},LOGOUT:function(e){return a.default.remove(I),void(O={})},CONNECTION_OPEN:function(e){Object.keys(T).forEach(function(e){null!=T[e]&&(T[e].searchType=A(e))})},SEARCH_MODAL_OPEN:function(e){m=!0},SEARCH_MODAL_CLOSE:function(e){m=!1},USER_SETTINGS_UPDATE:function(e){return L()},I18N_LOAD_SUCCESS:function(e){return L()}}),e.exports=t.default},6067:function(e,t,n){"use strict";t.__esModule=!0,t.ComponentTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getRandomDateShortcut=function(){return a.default.sample(D())},t.refreshSearchTokens=function(){Object.assign(G,(t=[u.default.Messages.SEARCH_ANSWER_HAS_LINK,u.default.Messages.SEARCH_ANSWER_HAS_EMBED,u.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT,u.default.Messages.SEARCH_ANSWER_HAS_VIDEO,u.default.Messages.SEARCH_ANSWER_HAS_IMAGE,u.default.Messages.SEARCH_ANSWER_HAS_SOUND],(e={})[S.SearchTokenTypes.FILTER_FROM]={regex:P(u.default.Messages.SEARCH_FILTER_FROM),componentType:B.FILTER,key:C(u.default.Messages.SEARCH_FILTER_FROM),validator:j,getAutocompletions:F},e[S.SearchTokenTypes.ANSWER_USERNAME_FROM]={follows:[S.SearchTokenTypes.FILTER_FROM],regex:H,validator:L,mutable:!0,componentType:B.ANSWER,queryKey:"author_id"},e[S.SearchTokenTypes.FILTER_MENTIONS]={regex:P(u.default.Messages.SEARCH_FILTER_MENTIONS),componentType:B.FILTER,key:C(u.default.Messages.SEARCH_FILTER_MENTIONS),validator:j,getAutocompletions:F},e[S.SearchTokenTypes.ANSWER_USERNAME_MENTIONS]={follows:[S.SearchTokenTypes.FILTER_MENTIONS],regex:H,validator:L,mutable:!0,componentType:B.ANSWER,queryKey:"mentions"},e[S.SearchTokenTypes.FILTER_HAS]={regex:P(u.default.Messages.SEARCH_FILTER_HAS),componentType:B.FILTER,key:C(u.default.Messages.SEARCH_FILTER_HAS),getAutocompletions:function(e,n,r){return U(e,r,t)}},e[S.SearchTokenTypes.ANSWER_HAS]={regex:new RegExp("(?:\\s*-?("+t.map(function(e){return _.default.escape(e)}).join("|")+"))","i"),follows:[S.SearchTokenTypes.FILTER_HAS],validator:w,componentType:B.ANSWER,queryKey:"has"},e[S.SearchTokenTypes.FILTER_FILE_TYPE]={regex:P(u.default.Messages.SEARCH_FILTER_FILE_TYPE),key:C(u.default.Messages.SEARCH_FILTER_FILE_TYPE),componentType:B.FILTER},e[S.SearchTokenTypes.ANSWER_FILE_TYPE]={regex:/(?:\s*([^\s]+))/,follows:[S.SearchTokenTypes.FILTER_FILE_TYPE],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_extensions"},e[S.SearchTokenTypes.FILTER_FILE_NAME]={regex:P(u.default.Messages.SEARCH_FILTER_FILE_NAME),key:C(u.default.Messages.SEARCH_FILTER_FILE_NAME),componentType:B.FILTER},e[S.SearchTokenTypes.ANSWER_FILE_NAME]={regex:/(?:\s*([^\s]+)(?=\s))/,follows:[S.SearchTokenTypes.FILTER_FILE_NAME],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_filename"},e[S.SearchTokenTypes.FILTER_BEFORE]={regex:P(u.default.Messages.SEARCH_FILTER_BEFORE),componentType:B.FILTER,key:C(u.default.Messages.SEARCH_FILTER_BEFORE),getAutocompletions:function(e,t,n){return k(e,n,S.SearchTokenTypes.FILTER_BEFORE)}},e[S.SearchTokenTypes.FILTER_ON]={regex:P("("+u.default.Messages.SEARCH_FILTER_ON+"|"+u.default.Messages.SEARCH_FILTER_DURING+")"),componentType:B.FILTER,key:C(u.default.Messages.SEARCH_FILTER_DURING),getAutocompletions:function(e,t,n){return k(e,n,S.SearchTokenTypes.FILTER_ON)}},e[S.SearchTokenTypes.FILTER_AFTER]={regex:P(u.default.Messages.SEARCH_FILTER_AFTER),componentType:B.FILTER,key:C(u.default.Messages.SEARCH_FILTER_AFTER),getAutocompletions:function(e,t,n){return k(e,n,S.SearchTokenTypes.FILTER_AFTER)}},e[S.SearchTokenTypes.ANSWER_BEFORE]={regex:N,follows:[S.SearchTokenTypes.FILTER_BEFORE],componentType:B.ANSWER,mutable:!0,validator:function(e){return b(e,"before")}},e[S.SearchTokenTypes.ANSWER_ON]={regex:N,follows:[S.SearchTokenTypes.FILTER_ON],componentType:B.ANSWER,mutable:!0,validator:function(e){return b(e,"on")}},e[S.SearchTokenTypes.ANSWER_AFTER]={regex:N,follows:[S.SearchTokenTypes.FILTER_AFTER],componentType:B.ANSWER,mutable:!0,validator:function(e){return b(e,"after")}},e[S.SearchTokenTypes.FILTER_IN]={regex:P(u.default.Messages.SEARCH_FILTER_IN),componentType:B.FILTER,key:C(u.default.Messages.SEARCH_FILTER_IN),validator:x,getAutocompletions:function(e,t,n){"#"===e[0]&&(e=e.substring(1));var r=E.default.queryChannels(e,t,1/0).map(function(e){var t=e.channel;return t});if(!e.trim()){var o=d.default.getChannelId(t),i=r.find(function(e){return e.id===o});i&&(r.splice(r.indexOf(i),1),r.unshift(i))}var l=y.default.getTextChannelNameDisambiguations(t);return(0,a.default)(r).take(n).map(function(e){return{text:""+l[e.id].name,channel:e}}).value()}},e[S.SearchTokenTypes.ANSWER_IN]={regex:/(?:\s*#?([^ ]+))/i,mutable:!0,follows:[S.SearchTokenTypes.FILTER_IN],componentType:B.ANSWER,validator:M,queryKey:"channel_id"},e));var e,t},t.getFilterAutocompletions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(G).length;return(0,a.default)(Object.keys(G)).filter(function(e){return S.IS_SEARCH_FILTER_TOKEN.test(e)}).filter(function(e){return G[e].key}).map(function(e){return{token:e,text:G[e].key}}).filter(function(t){var n=t.text;return(0,o.default)(e.toLowerCase(),n)}).take(t).value()};var o=T(n(959)),a=T(n(7)),i=T(n(5)),l=T(n(147)),u=T(n(6)),s=T(n(13)),c=T(n(6062)),f=T(n(187)),d=T(n(65)),p=T(n(132)),h=T(n(61)),y=T(n(119)),E=T(n(6085)),_=T(n(196)),S=n(0);function T(e){return e&&e.__esModule?e:{default:e}}function m(){return new Set(i.default.months().map(function(e){return e.toLowerCase()}))}function v(){return new Set(i.default.weekdays().map(function(e){return e.toLowerCase()}))}function A(){var e=(new Date).getFullYear();return new Set(a.default.range(2015,e+1).map(function(e){return e.toString()}))}function g(e,t){return[e,e.clone().add(1,t)]}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return g((0,i.default)().startOf(e).add(t,e),e)}function R(e,t,n){return g((0,i.default)(e,t).local(),n)}function O(){var e;return(e={})[u.default.Messages.SEARCH_SHORTCUT_TODAY]=function(){return I("day")},e[u.default.Messages.SEARCH_SHORTCUT_YESTERDAY]=function(){return I("day",-1)},e[u.default.Messages.SEARCH_SHORTCUT_WEEK]=function(){return I("week")},e[u.default.Messages.SEARCH_SHORTCUT_MONTH]=function(){return I("month")},e[u.default.Messages.SEARCH_SHORTCUT_YEAR]=function(){return I("year")},e}var N=new RegExp("(?:\\s*(([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})|([0-9]{4})-([0-9]{1,2})|\\d{4}|([a-z]+)))","i");function C(e){return e+":"}function P(e){return new RegExp(C(e),"i")}function L(e){var t=void 0;return!!(t=e.getMatch(1)===S.ME?s.default.getCurrentUser():s.default.findByTag(e.getMatch(2),e.getMatch(3)))&&(e.setData("user",t),!0)}function b(e,t){var n=e.getFullMatch().trim().toLowerCase(),r=O()[n],o=void 0,a=void 0;if(null!=r){var i=r();o=i[0],a=i[1]}else if(m().has(n)){var l=R(n,"MMMM","month");o=l[0],a=l[1]}else if(v().has(n)){var u=R(n,"dddd","day");o=u[0],a=u[1]}else if(A().has(n)){var s=R(n,"YYYY","year");o=s[0],a=s[1]}else{var c=R(n,S.SEARCH_DATE_FORMAT,"day");o=c[0],a=c[1]}return!(!o.isValid()||!a.isValid())&&("before"===t?(a=o,o=null):"after"===t&&(o=a,a=null),e.setData("start",o),e.setData("end",a),!0)}function M(e){var t=e.getMatch(1),n=f.default.getGuildId(),r=y.default.getChannels(n)[S.ChannelTypes.GUILD_TEXT],o=y.default.getTextChannelNameDisambiguations(n),i=a.default.chain(r).map(function(e){return e.channel}).find(function(e){return t===o[e.id].name}).value();return!!i&&(e.setData("channel",i),!0)}function w(e){var t,n=(t={},t[u.default.Messages.SEARCH_ANSWER_HAS_LINK]="link",t[u.default.Messages.SEARCH_ANSWER_HAS_EMBED]="embed",t[u.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT]="file",t[u.default.Messages.SEARCH_ANSWER_HAS_VIDEO]="video",t[u.default.Messages.SEARCH_ANSWER_HAS_IMAGE]="image",t[u.default.Messages.SEARCH_ANSWER_HAS_SOUND]="sound",t)[e.getMatch(1)];return!!n&&(e.setData("has",n),!0)}function D(){return[].concat(Array.from(m()),Array.from(v()),Array.from(A()),Object.keys(O()))}function k(e,t,n){return U(e,t,D()).map(function(e){return r({},e,{group:n,key:n+"-"+e.text})})}function U(e,t,n){return(0,a.default)(n).filter(function(t){return(0,o.default)(e.toLocaleLowerCase(),t.toLowerCase())}).take(t).map(function(e){return{text:e}}).value()}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=c.default.getSearchType(t);e=e.split("#")[0];var a=void 0;switch(o){case S.SearchTypes.GUILD:a=E.default.queryGuildUsers;break;case S.SearchTypes.CHANNEL:a=E.default.queryChannelUsers;break;default:return[]}return a(t,e,n,r).filter(function(e){var t=e.user;return!h.default.isBlocked(t.id)}).map(function(e){var t=e.user;return{text:t.tag,user:t}})}function x(){return c.default.getSearchType()===S.SearchTypes.GUILD}function j(){return!p.default.hidePersonalInformation}var H=/^(?:\s*(@me|([^@#:]+)#([0-9]{4})))/i,B=t.ComponentTypes=(0,l.default)({FILTER:null,ANSWER:null});var G={};t.default=G},6068:function(e,t,n){"use strict";t.__esModule=!0,t.ShowDatePicker=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getSearchOptionAnswer=function(e){switch(e){case c.SearchTokenTypes.FILTER_FROM:return f.default.Messages.SEARCH_ANSWER_FROM;case c.SearchTokenTypes.FILTER_MENTIONS:return f.default.Messages.SEARCH_ANSWER_MENTIONS;case c.SearchTokenTypes.FILTER_HAS:return f.default.Messages.SEARCH_ANSWER_HAS;case c.SearchTokenTypes.FILTER_BEFORE:case c.SearchTokenTypes.FILTER_ON:case c.SearchTokenTypes.FILTER_AFTER:return f.default.Messages.SEARCH_ANSWER_DATE;case c.SearchTokenTypes.FILTER_IN:return f.default.Messages.SEARCH_ANSWER_IN;case c.SearchTokenTypes.FILTER_FILE_TYPE:return f.default.Messages.SEARCH_ANSWER_FILE_TYPE;case c.SearchTokenTypes.FILTER_FILE_NAME:return f.default.Messages.SEARCH_ANSWER_FILE_NAME}},t.getSearchQueryFromTokens=function(e){var t={};e.forEach(function(e){var n=e.type;if(!c.IS_SEARCH_FILTER_TOKEN.test(n)){switch(n){case c.SearchTokenTypes.ANSWER_BEFORE:case c.SearchTokenTypes.ANSWER_ON:case c.SearchTokenTypes.ANSWER_AFTER:var r=e.getData("start"),o=e.getData("end");return r&&(t.min_id=s.default.fromTimestamp(r)),void(o&&(t.max_id=s.default.fromTimestamp(o)))}var a=function(e){var t=u.default[e],n=t?t.queryKey:null;n||(n="content");return n}(n);null==t[a]&&(t[a]=new Set);var i=t[a];switch(n){case c.SearchTokenTypes.ANSWER_USERNAME_FROM:case c.SearchTokenTypes.ANSWER_USERNAME_MENTIONS:i.add(e.getData("user").id);break;case c.SearchTokenTypes.ANSWER_FILE_TYPE:case c.SearchTokenTypes.ANSWER_FILE_NAME:i.add(e.getMatch(1));break;case c.SearchTokenTypes.ANSWER_IN:i.add(e.getData("channel").id);break;case c.SearchTokenTypes.ANSWER_HAS:i.add(e.getData("has"));break;default:i.add(e.getFullMatch().trim())}}});for(var n=Object.entries(t),r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var i=a,l=i[0],f=i[1];f instanceof Set&&(t[l]=Array.from(f))}t.content&&(t.content=t.content.join(" ").trim(),t.content||delete t.content);return t},t.getNonTokenQuery=function(e){return e.map(function(e){return e.type===i.default.NON_TOKEN_TYPE?e.getFullMatch():""}).join(" ").trim()},t.getSelectionScope=function(e,t,n){var r=void 0,o=void 0,a=e.find(function(a,i){return t>=a.start&&t<=a.end&&n>=a.start&&n<=a.end?(e[i+1]&&(o=e[i+1]),!0):(r=a,!1)});if(!a)return null;return{previousToken:r,currentToken:a,nextToken:o,focusOffset:t,anchorOffset:n}},t.getAutocompleteMode=function(e,t){var n=e=e||{},r=n.currentToken,o=n.nextToken,a=n.previousToken;if(0===t.length)return{type:c.SearchPopoutModes.EMPTY,filter:null,token:null};if(!r)return{type:c.SearchPopoutModes.FILTER_ALL,filter:null,token:null};if(c.IS_SEARCH_FILTER_TOKEN.test(r.type)){if(!o||o.type===i.default.NON_TOKEN_TYPE)return{type:c.SearchPopoutModes.FILTER,filter:r.type,token:o};if(o&&!c.IS_SEARCH_ANSWER_TOKEN.test(o.type))return{type:c.SearchPopoutModes.FILTER,filter:r.type,token:null}}if(r.type===i.default.NON_TOKEN_TYPE&&a&&c.IS_SEARCH_FILTER_TOKEN.test(a.type))return{type:c.SearchPopoutModes.FILTER,filter:a.type,token:r};var l=void 0;r.type===i.default.NON_TOKEN_TYPE&&(l=r);return{type:c.SearchPopoutModes.FILTER_ALL,filter:null,token:l}},t.getFlattenedStringArray=function(e,t){var n=[];return(0,a.default)(e).forEach(function(e){if(e&&e.results.length){var r=e.group;n=n.concat(e.results.map(function(e){var n=e.text;if(t===c.SearchPopoutModes.FILTER_ALL){r=e.group||r;var o=u.default[r];o&&o.key&&(n=o.key+" "+n)}return n}))}}),n.filter(function(e){return e})},t.getTotalResults=function(e){return e.reduce(function(e,t){return t?t.results.length+e:e},0)},t.getQueryFromTokens=function(e){if(!e)return"";return e.map(function(e){return e.getFullMatch()}).join("")},t.tokenizeQuery=function(e){return h.tokenize(e)},t.clearTokenCache=function(){return h.clearCache()},t.showDatePicker=function(e){return p[e]},t.filterHasAnswer=function(e,t){var n=c.IS_SEARCH_FILTER_TOKEN.test(e.type);if(!t&&n||t&&n&&!c.IS_SEARCH_ANSWER_TOKEN.test(t.type))return!1;return!0},t.refreshSearchTokens=function(){(0,l.refreshSearchTokens)(),h.reset(),(0,a.default)(u.default).forOwn(function(e,t){return h.addRule(o({type:t},e))})};var a=d(n(7)),i=d(n(6081)),l=n(6067),u=d(l),s=d(n(149)),c=n(0),f=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.ShowDatePicker=((r={})[c.SearchTokenTypes.FILTER_BEFORE]=!0,r[c.SearchTokenTypes.FILTER_AFTER]=!0,r[c.SearchTokenTypes.FILTER_ON]=!0,r);var h=new i.default},6078:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(59),a=(r=o)&&r.__esModule?r:{default:r},i=n(188);n(373),n(197);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){return new t({id:e.id,heroItems:e.hero_items.map(function(e){return{skuId:e.sku_id,url:e.url,title:e.title,header:e.header,description:e.description,buttonLabel:e.button_label,thumbnail:null!=e.thumbnail?(0,i.transformStoreAssetFromServer)(e.thumbnail):null,previewVideo:null!=e.preview_video?(0,i.transformStoreAssetFromServer)(e.preview_video):null,fullVideo:null!=e.full_video?(0,i.transformStoreAssetFromServer)(e.full_video):null,paginationImage:null!=e.pagination_image?(0,i.transformStoreAssetFromServer)(e.pagination_image):null,background:null!=e.background?(0,i.transformStoreAssetFromServer)(e.background):null}}).filter(Boolean),premiumCarouselSkuIds:e.premium_carousel_skus,featuredSkuIds:e.featured_skus,premiumSkuIds:e.featured_premium_skus,allSkuIds:e.all_skus})},t.prototype.initialize=function(e){this.id=e.id,this.heroItems=e.heroItems,this.premiumCarouselSkuIds=e.premiumCarouselSkuIds,this.featuredSkuIds=e.featuredSkuIds,this.premiumSkuIds=e.premiumSkuIds,this.allSkuIds=e.allSkuIds},t}(a.default);t.default=l,e.exports=t.default},6081:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=/.+/g,i=t.NON_TOKEN_TYPE="NON_TOKEN";function l(e,t,n){if(!t)return null;for(var r=0;r<t.length;r++){var o=t[r],a=u(e.match(o.regex),n),i=void 0;if(a){var l=o.cache;if(l&&(i=l.get(a[0]))&&((i=new c(i)).start=a.index),!i){if(i=new c(a,o.type),o.validator&&!o.validator(i))continue;l&&!l.has(a[0])&&l.set(a[0],i)}return i}}return null}function u(e,t){if(!e)return null;var n=[].concat(e);return n.index=t,n}var s=t.QueryTokenizer=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];o(this,e),this.reset(n,r),n.forEach(function(e){return t.addRule(e)})}return e.prototype.reset=function(e){this._rules=[],this._followers={},this._nonTokenType=e||i},e.prototype.addRule=function(e){var t=this,n=e.type,r=e.follows,o=e.validator,a=e.regex;"^"!==a.source.charAt(0)&&(a=new RegExp("^"+a.source,a.flags));var i=void 0;o&&(i=new Map),r?r.forEach(function(e){t._followers[e]||(t._followers[e]=[]),t._followers[e].push({regex:a,type:n,validator:o,cache:i})}):this._rules.push({regex:a,type:n,validator:o,cache:i})},e.prototype.tokenize=function(e){for(var t=e,n="",r=0,o=void 0,i=[];t.length;){var l=this._getMatch(t,o,r+n.length);l?(n&&i.push(new c(u(n.match(a),r),this._nonTokenType)),o=l,i.push(l),r+=o.length+n.length,t=t.substring(o.length),n=""):(n+=t[0],t=t.substring(1))}return n&&i.push(new c(u(n.match(a),r),this._nonTokenType)),i},e.prototype.clearCache=function(){for(var e in this._rules.forEach(function(e){return e.cache&&e.cache.clear()}),this._followers){this._followers[e].forEach(function(e){return e.cache&&e.cache.clear()})}},e.prototype._getMatch=function(e,t,n){var r=t?t.type:null,o=void 0;return t&&t.end===n&&(o=l(e,this._followers[r],n)),o||(o=l(e,this._rules,n)),o},e}(),c=t.Token=function(){function e(t,n){o(this,e),t instanceof e?(this.match=[].concat(t.match),this.start=t.start,this.type=t.type,t._data&&(this._data=t._data)):(this.match=[].concat(t),this.start=t.index||0,this.type=n)}return e.prototype.valueOf=function(){return this.match[0]},e.prototype.getFullMatch=function(){return this.match[0]},e.prototype.getMatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.match[e]},e.prototype.setData=function(e,t){this._data||(this._data=new Map),this._data.set(e,t)},e.prototype.getData=function(e){if(this._data)return this._data.get(e)},r(e,[{key:"end",get:function(){return this.start+this.length}},{key:"length",get:function(){return this.match[0].length}}]),e}();s.NON_TOKEN_TYPE=i,s.Token=c,t.default=s},6082:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderBarIcon=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));n(226);var l=L(n(9)),u=L(n(3)),s=n(939),c=n(371),f=L(n(18)),d=L(n(65)),p=L(n(6509)),h=L(n(35)),y=L(n(189)),E=n(6508),_=L(n(380)),S=L(n(6506)),T=L(n(6487)),m=L(n(145)),v=L(n(42)),A=L(n(75)),g=L(n(45)),I=L(n(94)),R=L(n(225)),O=L(n(6089)),N=L(n(6)),C=n(0),P=L(n(5613));function L(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D="RECENT_MENTIONS_POPOUT",k=t.HeaderBarIcon=function(e){function t(){return b(this,t),M(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.tooltip,r=e.onClick,l=e.foreground,u=e.noMargin,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["name","tooltip","onClick","foreground","noMargin"]),c=a(O.default.Icon,{name:t,onClick:r,foreground:l,noMargin:u});return null!=n?i.createElement(I.default,o({text:n,position:I.default.Positions.BOTTOM},s),c):c},t}(i.PureComponent);k.displayName="HeaderBarIcon";var U=u.default.connectStores([p.default],function(){return{state:p.default.getState()}})(function(e){function t(){var n,r;b(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=M(this,e.call.apply(e,[this].concat(a))),r.state={clicked:!1},r.handleInstallDownload=function(){r.state.clicked||(r.setState({clicked:!0}),(0,E.quitAndInstall)())},M(r,n)}return w(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.state!==this.props.state&&this.setState({clicked:!1})},t.prototype.render=function(){var e=void 0,t=void 0,n=void 0,r=void 0;switch(this.props.state){case C.ActionTypes.UPDATE_NOT_AVAILABLE:case C.ActionTypes.UPDATE_ERROR:break;case C.ActionTypes.CHECKING_FOR_UPDATES:e=A.default.Names.UPDATE_AVAILABLE,n=N.default.Messages.CHECKING_FOR_UPDATES;break;case C.ActionTypes.UPDATE_AVAILABLE:e=A.default.Names.DOWNLOADING,n=N.default.Messages.UPDATE_AVAILABLE;break;case C.ActionTypes.UPDATE_MANUALLY:e=A.default.Names.DOWNLOADING,n=N.default.Messages.UPDATE_MANUALLY,r=this.handleDownloadApps;break;case C.ActionTypes.UPDATE_DOWNLOADED:e=A.default.Names.UPDATE,t=P.default.updateIconForeground,n=N.default.Messages.UPDATE_DOWNLOADED,r=this.handleInstallDownload}return null==e||null==n?null:a(k,{tooltip:n,onClick:r,name:e,foreground:t})},t.prototype.handleDownloadApps=function(){h.default.push(_.default,{source:"Links"})},t}(i.PureComponent)),F=a(O.default.Divider,{}),x=a(U,{}),j=function(e){function t(){var n,r;b(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=M(this,e.call.apply(e,[this].concat(l))),r.renderRecentMentionsPopout=function(e){return i.createElement(S.default,o({},e,{onJump:r.handleMentionsJump,channel:f.default.getChannel(d.default.getChannelId()),popoutName:D}))},M(r,n)}return w(t,e),t.prototype.renderTitle=function(){var e=this.props.title;return null==e?null:a(O.default.Title,{className:P.default.title},void 0,e)},t.prototype.renderSearch=function(){var e=this.props,t=e.guildId;return null!=e.channelId?a(T.default,{className:P.default.search},t):null},t.prototype.renderBackButton=function(){var e=this.props,t=e.isAuthenticated,n=e.backLocation,r=e.backText;if(null==n)return null;var o=a(g.default.Link,{look:g.default.Looks.BLANK,size:g.default.Sizes.NONE,to:n,className:P.default.back},void 0,a(A.default,{name:A.default.Names.ARROW_LEFT})),i=t?I.default.Positions.BOTTOM:I.default.Positions.RIGHT;return s.isMobile?o:a(I.default,{text:r,position:i},void 0,o)},t.prototype.renderStandardToolbar=function(e){return s.isMobile?null:a(i.Fragment,{},void 0,e?F:null,x,a(R.default,{animationType:R.default.Animations.NONE,uniqueId:D,position:R.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderRecentMentionsPopout,subscribeTo:C.ComponentActions.TOGGLE_MENTIONS,closeOnScroll:!1},void 0,a(k,{name:A.default.Names.MENTION,tooltip:N.default.Messages.MENTIONS})),a(m.default,{href:c.SUPPORT_LOCATION,target:"_blank"},void 0,a(k,{name:A.default.Names.QUESTION_MARK,tooltip:N.default.Messages.HELP})))},t.prototype.renderLoggedOut=function(){var e=this.props,t=e.children,n=e.className;return a(O.default,{className:(0,l.default)(P.default.headerBarLoggedOut,n)},void 0,a("div",{className:P.default.headerBarLoggedOutInner},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(v.default.Child,{},void 0,t):null))},t.prototype.renderLoggedIn=function(){var e=this.props,t=e.children,n=e.renderToolbar,r=e.className,o=null!=n?n():null,l=null!=o&&i.Children.count(o)>0;return a(O.default,{className:r},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(v.default.Child,{},void 0,t):null,a(v.default,{grow:0,shrink:0,align:v.default.Align.CENTER,className:P.default.toolbar},void 0,o,l?this.renderSearch():null,this.renderStandardToolbar(l)))},t.prototype.render=function(){return this.props.isAuthenticated?this.renderLoggedIn():this.renderLoggedOut()},t.prototype.handleMentionsJump=function(e){e.shiftKey||y.default.close(D)},t}(i.PureComponent);j.defaultProps={isAuthenticated:!0,backText:N.default.Messages.BACK},j.displayName="HeaderBarContainer",t.default=j},6086:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(6173)),o=n(0),a=l(n(6054)),i=l(n(165));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o,l=i.default.getEligibleExperiment(a);if(null!=l)return l}return null}t.default={getFirstEligibleUserExperiment:u,isInExperimentBucket:function(e,t){return i.default.getExperimentBucket(e)===t},experimentDescriptorEquals:function(e,t){if(null==e&&null==t)return!0;if(e===t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(null!=e&&null!=t){if(e.type!==t.type)return!1;if(e.bucket!==t.bucket)return!1;if(e.revision!==t.revision)return!1;if(e.name!==t.name)return!1;if(e.type===o.ExperimentTypes.USER&&t.type===o.ExperimentTypes.USER)return(0,r.default)(e.context,t.context)}return!0},triggerFirstEligibleUserExperiment:function(e){var t=u(e);if(t)return a.default.trigger(t),t},getExperimentBucketName:function(e){return e===o.ExperimentBuckets.CONTROL?"Control":e===o.ExperimentBuckets.NOT_ELIGIBLE?"Not Eligible":"Treatment "+e}},e.exports=t.default},6089:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=h(n(9)),u=n(106),s=h(n(42)),c=h(n(81)),f=h(n(75)),d=h(n(71)),p=h(n(5614));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=function(e){function t(){return E(this,t),_(this,e.apply(this,arguments))}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=y(e,["className","children"]);return i.createElement(d.default,a({className:(0,l.default)(p.default.title,t),weight:d.default.Weights.SEMIBOLD},r),n)},t}(i.PureComponent);T.displayName="HeaderBarTitle";var m=function(e){function t(){return E(this,t),_(this,e.apply(this,arguments))}return S(t,e),t.prototype.getMode=function(){var e=this.props,t=e.disabled,n=e.active;return t?"Disabled":n?"Active":"Inactive"},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.noMargin,s=t.foreground,d=(t.active,t.disabled),h=t.showBadge,E=t.onClick,_=y(t,["className","noMargin","foreground","active","disabled","showBadge","onClick"]),S=i.createElement(f.default,a({foreground:null!=s?s:p.default.iconForeground},_,{className:(0,l.default)((0,u.getClass)(p.default,"icon",this.getMode()),n)}));return h?o(c.default,{tag:"span",onClick:d?null:E,className:p.default.iconBadgeWrapper},void 0,S,o("span",{className:p.default.iconBadge})):d?S:o(c.default,{tag:"span",onClick:E,className:(0,l.default)((e={},e[p.default.iconMargin]=!r,e))},void 0,S)},t}(i.PureComponent);m.displayName="HeaderBarIcon";var v=function(e){function t(){return E(this,t),_(this,e.apply(this,arguments))}return S(t,e),t.prototype.render=function(){return o("div",{className:(0,l.default)(p.default.divider,this.props.className)})},t}(i.PureComponent);v.displayName="HeaderBarDivider";var A=function(e){function t(){return E(this,t),_(this,e.apply(this,arguments))}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return o(s.default,{align:s.default.Align.CENTER,className:(0,l.default)(p.default.headerBarDrag,p.default.headerBar,t),shrink:0,grow:0},void 0,n)},t}(i.PureComponent);A.Icon=m,A.Title=T,A.Divider=v,A.displayName="HeaderBar",t.default=A,e.exports=t.default},6101:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(3)),a=d(n(24)),i=d(n(2)),l=d(n(22)),u=d(n(164)),s=d(n(927)),c=(d(n(6078)),n(0)),f=d(n(28));function d(e){return e&&e.__esModule?e:{default:e}}n(373);var p="storeDirectoryVersion",h=2,y={},E=void 0,_=!1,S=!1,T=void 0,m={},v=void 0,A=void 0,g=void 0,I=0;function R(e){var t=e.directoryLayout;y[t.id]=t,_=!1,E=Date.now(),I=h,a.default.set(p,I)}function O(){y={},E=null}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,s.default,l.default,f.default),g=f.default.locale,I=a.default.get(p)||0},t.prototype.getDirectoryLayout=function(e){return y[e]},t.prototype.shouldFetch=function(){return!_&&(null==E||Date.now()-E>18e5)},r(t,[{key:"isFetching",get:function(){return _}},{key:"lastHomeDirectoryView",get:function(){return v}},{key:"lastBrowseDirectoryView",get:function(){return A}},{key:"isLibraryApplicationsHidden",get:function(){return S}},{key:"searchTerm",get:function(){return T}},{key:"previousFilters",get:function(){return m}},{key:"hasSeenDirectory",get:function(){return I===h}}]),t}(o.default.Store);t.default=new N(i.default,{APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START:function(e){_=!0},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS:R,APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS:R,APPLICATION_STORE_DIRECTORY_UNMOUNT:function(e){var t=e.scrollTop;switch(e.directoryLocation){case c.DirectoryLocations.HOME:v={scrollTop:t};break;case c.DirectoryLocations.BROWSE:A={scrollTop:t}}},APPLICATION_STORE_SET_HIDE_LIBRARY:function(e){var t=e.hidden;S=t},APPLICATION_STORE_SET_SEARCH_QUERY:function(e){var t=e.query;T=t},APPLICATION_STORE_SAVE_FILTERS:function(e){var t=e.filters;m=t},USER_SETTINGS_UPDATE:function(e){var t=e.locale?e.locale:f.default.locale;if(g===t)return!1;g=t,O()},APPLICATION_STORE_CLEAR_DATA:function(e){return O()},APPLICATION_STORE_RESET_NAVIGATION:function(e){return v=null,void(A=null)}}),e.exports=t.default},6102:function(e,t,n){"use strict";t.__esModule=!0,t.CarouselNext=t.CarouselPrevious=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(1019)),u=d(n(45)),s=n(227),c=d(s),f=d(n(5612));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E={CENTER:f.default.alignCenter,LEFT:f.default.alignLeft},_=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r._paginationItemRefs=[],r.handleSetScrollerRef=function(e){r._scrollerRef=e},r.handleSelectedIndexChange=function(e){var t=r._scrollerRef;if(null!=t){var n=r._paginationItemRefs[e];null!=n&&t.scrollIntoView(n,!0,r.props.scrollToPadding)}},r.handlePageClick=function(e){(0,r.props.onSetItem)(e)},h(r,n)}return y(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.selectedIndex;e.selectedIndex!==t&&this.handleSelectedIndexChange(t)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderItem,r=t.items,o=t.vertical,l=t.paginationContainerClass,u=t.align,d=t.gutterStyle,p=o?c.default:s.HorizontalScroller,h=o?f.default.verticalPaginationItemContainer:f.default.horizontalPaginationItemContainer;return a.createElement(p,{track:!0,gutterStyle:d,className:(0,i.default)(h,l,u),ref:this.handleSetScrollerRef},r.map(function(t,r){return a.cloneElement(n(t,r),{onClick:function(){return e.handlePageClick(r)},key:r,ref:function(t){e._paginationItemRefs[r]=t}})}))},t}(a.PureComponent);_.Align=E,_.Gutter=c.default.GutterStyles,_.defaultProps={scrollToPadding:{top:0,left:0,bottom:0,right:0},align:E.CENTER},_.displayName="CarouselPaginationStrip",(t.CarouselPrevious=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handlePrevClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return y(t,e),t.prototype.render=function(){var e=this.props.className;return o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:(0,i.default)(f.default.prevButtonContainer,e),onClick:this.handlePrevClick},void 0,o(l.default,{className:f.default.arrow,direction:l.default.Directions.LEFT}))},t}(a.PureComponent)).displayName="CarouselPrevious",(t.CarouselNext=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleNextClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return y(t,e),t.prototype.render=function(){var e=this.props.className;return o(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,className:(0,i.default)(f.default.nextButtonContainer,e),onClick:this.handleNextClick},void 0,o(l.default,{className:f.default.arrow,direction:l.default.Directions.RIGHT}))},t}(a.PureComponent)).displayName="CarouselNext",t.default=_},6115:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(t){function n(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=u(this,t.call.apply(t,[this].concat(a))),e=r,r.state={isAuthenticated:l.default.isAuthenticated()},r.onStoreChange=function(){r.setState({isAuthenticated:l.default.isAuthenticated()})},u(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.componentDidMount=function(){l.default.addChangeListener(this.onStoreChange)},n.prototype.componentWillUnmount=function(){l.default.removeChangeListener(this.onStoreChange)},n.prototype.render=function(){var t=this.props,n=t.setRef,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["setRef"]);return a.createElement(e,r({},o,{ref:n,isAuthenticated:this.state.isAuthenticated}))},n}(a.Component)};var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(14),l=(o=i)&&o.__esModule?o:{default:o};function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},6125:function(e,t,n){"use strict";t.__esModule=!0,t.loadDirectory=t.loadLayout=void 0;var r,o;t.loadLayout=(r=f(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START}),e.next=3,a.default.get(s.Endpoints.STORE_DIRECTORY_LAYOUT(t));case 3:return n=e.sent,r=u.default.createFromServer(n.body),i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS,directoryLayout:r}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),t.loadDirectory=(o=f(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.httpGetWithCountryCodeQuery)(s.Endpoints.STORE_DIRECTORY(t));case 2:n=e.sent,r=n.body,o=n.body.store_listings,i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS,directoryLayout:u.default.createFromServer(r),storeListings:o});case 6:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)});t.setHideLibraryGames=function(e){i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_SET_HIDE_LIBRARY,hidden:e})},t.updateSearchTerm=function(e){i.default.wait(function(){return i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_SET_SEARCH_QUERY,query:e})})},t.saveFilters=function(e){console.log("SAVE FILTERS"),console.log(e),i.default.wait(function(){return i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_SAVE_FILTERS,filters:e})})},t.clearStoreData=function(){i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_CLEAR_DATA})};var a=c(n(12)),i=c(n(2)),l=n(188),u=c(n(6078)),s=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}n(373)},6128:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.search=c,t.searchByMode=function(e,t){var n=a.default.getQuery(e);return c(e,r({},n,{offset:0,sort_by:t}))},t.searchNextPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.SEARCH_PAGE_SIZE;return f(e,t)},t.searchPreviousPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.SEARCH_PAGE_SIZE;return f(e,-t)},t.clearHistory=function(e){o.default.dispatch({type:u.ActionTypes.SEARCH_CLEAR_HISTORY,searchId:e})},t.ensureSearchState=function(e){o.default.dispatch({type:u.ActionTypes.SEARCH_ENSURE_SEARCH_STATE,searchId:e})},t.setSearchState=function(e,t){null!=e&&o.default.dirtyDispatch({type:u.ActionTypes.SEARCH_EDITOR_STATE_CHANGE,searchId:e,editorState:t})},t.clearSearchState=function(e){i.default.trackWithMetadata(u.AnalyticEvents.SEARCH_CLOSED,{search_id:a.default.getAnalyticsId(e)}),o.default.wait(function(){return o.default.dispatch({type:u.ActionTypes.SEARCH_EDITOR_STATE_CLEAR,searchId:e})})},t.updateAutocompleteQuery=function(e,t,n){null!=e&&o.default.dirtyDispatch({type:u.ActionTypes.SEARCH_AUTOCOMPLETE_QUERY_UPDATE,searchId:e,tokens:t,cursorScope:n})},t.setShowBlockedResults=function(e,t){o.default.dispatch({type:u.ActionTypes.SEARCH_SET_SHOW_BLOCKED_RESULTS,searchId:e,showBlocked:t})};var o=s(n(2)),a=s(n(6062)),i=s(n(190)),l=s(n(6107)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){l.default.didAgree(e)&&(t.include_nsfw=!0);var r=Object.keys(t);i.default.trackWithMetadata(u.AnalyticEvents.SEARCH_STARTED,{search_type:a.default.getSearchType(),prev_search_id:a.default.getAnalyticsId(e),num_modifiers:r.length,modifiers:r.reduce(function(e,n){var r=t[n];return e[n]=Array.isArray(r)?r.length:1,e},{})}),o.default.dispatch({type:u.ActionTypes.SEARCH_START,query:t,searchId:e,queryString:n})}function f(e,t){var n=a.default.getOffset(e),o=a.default.getQuery(e),i=n+t,l=a.default.getTotalResults(e);if(!(i<0||i>l))return c(e,r({},o,{offset:i}))}},6129:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(3)),o=u(n(24)),a=u(n(2)),i=n(0),l=u(n(6062));function u(e){return e&&e.__esModule?e:{default:e}}var s="ChannelSectionStore",c=null,f=null;function d(){var e=void 0;if(l.default.isActive()&&(e=i.ChannelSections.SEARCH),f===e)return!1;f=e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){c=o.default.get(s)||i.ChannelSections.MEMBERS},t.prototype.getSection=function(){return f||c},t}(r.default.Store);t.default=new p(a.default,{CHANNEL_TOGGLE_SECTION:function(e){var t=e.section;c===t?null==f&&(c=i.ChannelSections.NONE):c=t,f=null,o.default.set(s,c)},SEARCH_START:function(e){return d()},SEARCH_INDEXING:function(e){return d()},SEARCH_FINISH:function(e){return d()},SEARCH_EDITOR_STATE_CLEAR:function(e){return d()},SEARCH_EDITOR_STATE_CHANGE:function(e){return d()},CHANNEL_SELECT:function(e){return d()},GUILD_SELECT:function(e){return d()}}),e.exports=t.default},6144:function(e,t,n){"use strict";t.__esModule=!0;t.PAGE_WIDTH_THRESHOLD=1e3,t.PageSizes=Object.freeze({SMALL:"small",LARGE:"large"})},6150:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=n(523),u=n(6198),s=h(n(145)),c=h(n(75)),f=h(n(6)),d=n(0),p=h(n(5610));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t=e.iconName,n=e.className;return o("div",{className:(0,i.default)(p.default.iconCircle,n)},void 0,o(c.default,{name:t,className:p.default.icon}))};y.displayName="IconCircle";var E=function(e){var t=e.circle,n=e.smallHeader,r=e.text,a=e.className;return o("div",{className:(0,i.default)(p.default.recommendationReason,a)},void 0,t,o("div",{className:p.default.description},void 0,null!=n?o("div",{className:p.default.smallHeader},void 0,n):null,o("div",{className:p.default.text},void 0,r)))};E.displayName="Unit";var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReviewAggregator=function(e){var t=this.props.className,n=(0,u.getRatingTier)(e);return null==n?null:o(E,{circle:null!=e.url?o(s.default,{href:e.url,useDefaultUnderlineStyles:!1,className:(0,i.default)(p.default.reviewCircle,p.default.circleAnchor),style:{backgroundColor:n.color}},void 0,e.criticScore):o("div",{className:p.default.reviewCircle,style:{backgroundColor:n.color}},void 0,e.criticScore),smallHeader:f.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC,text:n.label,className:t})},t.prototype.render=function(){var e=this.props,t=e.reason,n=e.className;return t.type===d.StoreRecommendationTypes.RECENT_RELEASE_DATE?o(E,{className:n,circle:o(y,{iconName:c.default.Names.CALENDAR}),smallHeader:f.default.Messages.APPLICATION_STORE_NEW_RELEASE,text:(0,l.dateFormat)(t.releaseDate,"LL")}):t.type===d.StoreRecommendationTypes.RELEASE_DATE?o(E,{className:n,circle:o(y,{iconName:c.default.Names.CALENDAR}),smallHeader:f.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,text:(0,l.dateFormat)(t.releaseDate,"LL")}):t.type===d.StoreRecommendationTypes.EARLY_ACCESS?null!=t.releaseDate?o(E,{className:n,circle:o(y,{iconName:c.default.Names.EARLY_ACCESS,className:p.default.earlyAccess}),smallHeader:f.default.Messages.APPLICATION_STORE_EARLY_ACCESS,text:(0,l.dateFormat)(t.releaseDate,"LL")}):o(E,{className:n,circle:o(y,{iconName:c.default.Names.EARLY_ACCESS,className:p.default.earlyAccess}),text:f.default.Messages.APPLICATION_STORE_EARLY_ACCESS}):t.type===d.StoreRecommendationTypes.METACRITIC_SCORE?this.renderReviewAggregator(t.reviewAggregator):t.type===d.StoreRecommendationTypes.FLAVOR_TEXT?o(E,{circle:o(y,{iconName:c.default.Names.CHECKMARK}),text:t.flavorText,className:n}):t.type===d.StoreRecommendationTypes.HAS_FREE_PREMIUM_CONTENT?o(E,{className:n,circle:o(y,{iconName:c.default.Names.NITRO_WHEEL,className:p.default.premiumCircle}),text:f.default.Messages.APPLICATION_STORE_FREE_PREMIUM_CONTENT}):null},t}(a.Component);_.displayName="StoreRecommendationReason",t.default=_,e.exports=t.default},6151:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(3)),o=a(n(2));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i=void 0,l=void 0,u=void 0;function s(){l={},i={},u=new Set}s();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStatisticsForApplication=function(e){return i[e]},t.prototype.shouldFetchStatisticsForApplication=function(e){var t=l[e];return!u.has(e)&&(null==t||Date.now()-t>36e5)},t}(r.default.Store);t.default=new c(o.default,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){var t=e.applicationId;u.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){var t=e.applicationId;u.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){var t=e.statistics,n=e.applicationId;l[n]=Date.now(),u.delete(n),i[n]=t},LOGOUT:function(e){return s()}}),e.exports=t.default},6152:function(e,t,n){"use strict";t.__esModule=!0,t.updateLocation=function(e){a.default.wait(function(){return a.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_LOCATION_CHANGE,location:e})})},t.handleDirectoryUnmount=function(e,t){a.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMOUNT,scrollTop:e,directoryLocation:t})};var r,o=n(2),a=(r=o)&&r.__esModule?r:{default:r},i=n(0)},6153:function(e,t,n){"use strict";t.__esModule=!0,t.deepLinkRouteIfLandedAndNotAuthed=t.deepLinkRouteIfLanded=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(14)),a=s(n(1003)),i=s(n(11)),l=s(n(389)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.deepLinkRouteIfLanded=i.default.embedded?u.NOOP:function(e,t){i.default.isDesktop&&!a.default.hasNavigated&&l.default.requestOnce(u.RPCCommands.DEEP_LINK,{type:e,params:t})};t.deepLinkRouteIfLandedAndNotAuthed=i.default.embedded?u.NOOP:function(e,t){if(!o.default.isAuthenticated())return c(e,r({},t||{},{fingerprint:o.default.getFingerprint()}))}},6154:function(e,t,n){"use strict";t.__esModule=!0,t.getDefaultKeyBinding=void 0,t.createEntity=y,t.getCollapsedSelection=function(e,t,n){var r=t.getCurrentContent().getFirstBlock();n=(n=(n=n||t.getSelection()).set("focusKey",r.getKey())).set("anchorKey",r.getKey());var o=Math.min(n.getStartOffset(),n.getEndOffset())+e.length;return n=(n=n.set("anchorOffset",o)).set("focusOffset",o)},t.updateContent=E,t.deleteContent=function(e,t){switch(e){case"delete":return(0,u.default)(t);case"delete-word":return(0,i.default)(t);case"backspace":return(0,l.default)(t);case"backspace-word":return(0,a.default)(t);case"backspace-to-start-of-line":return(0,o.default)(t);default:return t}},t.miscCommand=function(e,t){switch(e){case"transpose-characters":return(0,s.default)(t);case"move-selection-to-start-of-block":return(0,c.default)(t);case"move-selection-to-end-of-block":return(0,f.default)(t);default:return t}},t.adaptSelection=function(e,t){var n=(e=(e=e.set("focusKey",t.getKey())).set("anchorKey",t.getKey())).getEndOffset();return e=(e=e.set("anchorOffset",n)).set("focusOffset",n)},t.getFirstTextBlock=_,t.applyTokensAsEntities=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.getCurrentContent(),o=r.getFirstBlock(),a=o.getText(),i=[];return o.findEntityRanges(function(e){return null!==e.getEntity()},function(e,t){var n=r.getEntity(o.getEntityAt(e)).getType(),l=a.substring(e,t);i.push({processed:!1,type:n,start:e,end:t,text:l})}),e.forEach(function(e){var r=!1;if(i.forEach(function(n){var o=e.type,a=e.start,i=e.end,l=e.getFullMatch();n.processed||(n.type===o&&n.start===a&&n.text===l?(n.processed=!0,r=!0):(a>=n.start&&a<n.end||i>n.start&&i<=n.end)&&(n.processed=!0,t=y(null,n.start,n.end,t)))}),!r){var o=n[e.type];t=y([e.type,o&&o.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,t)}}),i.forEach(function(e){e.processed||(t=y(null,e.start,e.end,t))}),t},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset,a=void 0,i=void 0,l=e.find(function(t,n){return r>=t.start&&r<=t.end&&o>=t.start&&o<=t.end?(e[n+1]&&(i=e[n+1]),!0):(a=t,!1)});if(!l)return null;return{previousToken:a,currentToken:l,nextToken:i}},t.createEmptyEditorState=function(e){return r.EditorState.createEmpty(new r.CompositeDecorator(e))},t.clearContent=function(e){return r.EditorState.push(e,r.ContentState.createFromText(""))},t.replaceAllContent=function(e,t){var n=_(t);return E(e,t,0,n.length)},t.appendSpace=function(e){var t=_(e);return E(" ",e,t.length)},t.setCollapsedSelection=S,t.setCollapsedEndSelection=function(e){return S(e.getCurrentContent().getFirstBlock().getText().length,e)},t.setCollapsedStartSelection=function(e){return S(0,e)},t.setToStartSelection=function(e){var t=e.getSelection();return t=(t=t.set("focusOffset",0)).set("isBackward",!0),r.EditorState.forceSelection(e,t)},t.setToEndSelection=function(e){var t=_(e),n=e.getSelection();return n=(n=n.set("focusOffset",t.length)).set("isBackward",!1),r.EditorState.forceSelection(e,n)},t.truncateContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=_(e);if(n.length>t){var o=e.getSelection();e=E("",e,t,n.length),o.getAnchorOffset()>t&&(o=o.set("anchorOffset",t)),o.getFocusOffset()>t&&(o=o.set("focusOffset",t)),e=r.EditorState.forceSelection(e,o)}return e},t.scrollCursorIntoView=function(e){var t=window.getSelection();if(!t||"Caret"!==t.type||!e)return;var n=t.getRangeAt(0);if(!function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(n.commonAncestorContainer,e))return;var r=n.getClientRects()[0],o=e.getClientRects()[0];if(!r||!o)return;var a=r.left-o.left+e.scrollLeft;a<e.scrollLeft?e.scrollLeft=a-10:a>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=a-e.offsetWidth+3)},t.isEmpty=function(e){return 0===_(e).length};var r=n(6206),o=h(n(6467)),a=h(n(6465)),i=h(n(6464)),l=h(n(6461)),u=h(n(6460)),s=h(n(6459)),c=h(n(6462)),f=h(n(6463)),d=h(n(6157)),p=h(n(6202));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,o){var a,i=o.getCurrentContent(),l=null;null!=e&&(l=(i=(a=i).createEntity.apply(a,e)).getLastCreatedEntityKey());var u=i.getFirstBlock(),s=new r.SelectionState({anchorKey:u.getKey(),anchorOffset:t,focusKey:u.getKey(),focusOffset:n});return i=r.Modifier.applyEntity(i,s,l),r.EditorState.set(o,{currentContent:i})}function E(e,t,n,o){var a=void 0,i=t.getCurrentContent(),l=i.getFirstBlock(),u=l.getText();"number"==typeof n?(n>u.length&&(n=u.length),o>u.length&&(o=u.length),a=new r.SelectionState({anchorKey:l.getKey(),anchorOffset:n,focusKey:l.getKey(),focusOffset:o||n})):a=t.getSelection();var s=t.getCurrentInlineStyle(),c=(0,d.default)(i,a),f=void 0;return a.isCollapsed()?(i=r.Modifier.insertText(i,a,e,s,c),f="insert-characters"):(i=r.Modifier.replaceText(i,a,e,s,c),f="replace-characters"),r.EditorState.push(t,i,f)}function _(e){return e.getCurrentContent().getFirstBlock().getText()}function S(e,t){var n=t.getSelection();return n=(n=n.set("focusOffset",e)).set("anchorOffset",e),r.EditorState.forceSelection(t,n)}t.getDefaultKeyBinding=p.default},6161:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(6)),u=d(n(81)),s=d(n(6160)),c=d(n(5619)),f=d(n(5572));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){e.stopPropagation(),e.preventDefault()}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderQuery=function(e){var t,n=this.props,r=n.query,a=n.focusedIndex,d=n.onSelectQuery,p=n.onHighlightQuery,h=n.hideQuery;return e||h?null:o(u.default,{className:(0,i.default)(c.default.queryContainer,(t={},t[c.default.focused]=-1===a,t)),onMouseEnter:p,onClick:d},void 0,o("div",{className:c.default.queryText},void 0,l.default.Messages.SEARCH_FOR_VALUE.format({value:r})),o("div",{className:c.default.queryShortcut},void 0,o(s.default,{shortcut:"return",className:(0,i.default)(f.default.dim,f.default.keybindShortcutSearchPopout)})))},t.prototype.renderResults=function(e){var t=this.props,n=t.numResults,r=t.renderNoResults,o=t.renderInitialState,a=t.renderResult,i=t.renderCustomResults;if(e)return o();if(0===n)return r();if(null!=a)return Array.from({length:n}).map(function(e,t){return a(t)});if(null!=i)return i();throw new Error("SearchResultsPopout.renderResults: Flow should never allow this...")},t.prototype.render=function(){var e=this.props,t=e.query,n=e.width,r=""===t.trim();return o("div",{className:c.default.container,style:{width:n},onMouseDown:p},void 0,this.renderQuery(r),this.renderResults(r))},t}(a.PureComponent);h.defaultProps={renderInitialState:function(){return null},hideQuery:!1,width:320},h.displayName="SearchResultsPopout",t.default=h,e.exports=t.default},6176:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2)),o=n(0),a=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var l=o.STATUS_PAGE_ENDPOINT+"/api/v2/scheduled-maintenances",u=o.STATUS_PAGE_ENDPOINT+"/api/v2/incidents/unresolved.json";t.default={checkIncidents:function(){Promise.all([a.default.get(l+"/active.json"),a.default.get(u)]).then(function(e){var t=e[0],n=e[1],a=t.body.scheduled_maintenances[0],i=n.body.incidents[0];r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_INCIDENT,incident:i||a})})},checkScheduledMaintenances:function(){a.default.get(l+"/upcoming.json").then(function(e){var t=e.body.scheduled_maintenances[0];r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE,maintenance:t})})},ackScheduledMaintenance:function(){r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK})}},e.exports=t.default},6197:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=S(n(9)),s=S(n(6)),c=S(n(958)),f=S(n(94)),d=S(n(265)),p=S(n(954)),h=S(n(225)),y=S(n(521)),E=n(0),_=S(n(5609));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(188);var m=((o={})[E.StoreRecommendationTypes.NOW_PLAYING]={single:function(e,t){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_OTHER.format({count:e})}},o[E.StoreRecommendationTypes.RECENTLY_PLAYED]={single:function(e,t){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_OTHER.format({count:e})}},o[E.StoreRecommendationTypes.EVER_PLAYED]={single:function(e,t){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_OTHER.format({count:e})}},o),v=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=T(this,e.call.apply(e,[this].concat(s))),r.renderUserPopout=function(e,t){return l.createElement(y.default,i({},t,{user:e}))},r.renderUserTooltip=function(e,t,n){return a("div",{className:_.default.tooltip},void 0,a("div",{},void 0,e.tag),a(p.default,{className:_.default.tooltipTimestamp,start:t,end:n,location:p.default.Locations.ACTIVITY_FEED}))},r.renderPlayer=function(e,t,n,o){var i,l=e;if(null==l)return null;var s=r.props.reason.userInfo.find(function(e){return e.user===l});return null==s?null:a(h.default,{render:function(e){return r.renderUserPopout(l,e)},position:h.default.Positions.RIGHT,closeOnScroll:!1},l.id,a(f.default,{text:r.renderUserTooltip(l,s.startTime,s.endTime)},void 0,a(d.default,{className:(0,u.default)(_.default.playerAvatar,(i={},i[_.default.avatarMasked]=!o,i)),src:l.getAvatarURL(),size:d.default.Sizes.SMALL})))},r.renderPlayerOverflow=function(e,t,n){return a("div",{className:_.default.playerOverflow},n,e)},T(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDescription=function(e,t){var n=this,r=m[e];return 1===t.length?r.single(t[0].user,function(e){return n.renderActivityDiscordTag(e)}):2===t.length?r.double(t[0].user,t[1].user,function(e){return n.renderActivityDiscordTag(e)}):r.other(t.length)},t.prototype.renderActivityDiscordTag=function(e){var t=this;return a(h.default,{render:function(n){return t.renderUserPopout(e,n)},position:h.default.Positions.RIGHT,closeOnScroll:!1},e.id,a("span",{className:_.default.username},void 0,e.username))},t.prototype.render=function(){var e=this.props,t=e.reason,n=e.className,r=t.type,o=t.userInfo;return 0===o.length?null:a("div",{className:n},void 0,a(c.default,{className:_.default.players,users:o.map(function(e){return e.user}),renderUser:this.renderPlayer,max:8,renderMoreUsers:this.renderPlayerOverflow}),a("div",{className:_.default.description},void 0,this.renderDescription(r,o)))},t}(l.PureComponent);v.displayName="ApplicationRecommendationActivity",t.default=v,e.exports=t.default},6198:function(e,t,n){"use strict";var r;t.__esModule=!0,t.getRatingTier=function(e){var t=c[e.aggregator];if(null==t)return null;if(e.aggregator===l.ReviewAggregators.METACRITIC&&e.criticTotalRatings<u)return null;return t.find(function(t){return t.minimumScore<=e.criticScore})};var o,a=n(6),i=(o=a)&&o.__esModule?o:{default:o},l=n(0);var u=4;function s(e,t,n){return{minimumScore:e,color:t,get label(){return n()}}}var c=((r={})[l.ReviewAggregators.METACRITIC]=[s(90,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_UNIVERSAL_ACCLAIM}),s(75,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_FAVORABLE}),s(50,"#fc3",function(){return i.default.Messages.METACRITIC_VERDICT_MIXED_OR_AVERAGE}),s(20,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_UNFAVORABLE}),s(0,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_OVERWHELMING_DISLIKE})],r)},6199:function(e,t,n){"use strict";t.__esModule=!0,t.fetchStatisticsForApplication=void 0;t.fetchStatisticsForApplication=(r=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.default.dispatch({type:u.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_START,applicationId:t}),e.prev=1,e.next=4,a.default.get(u.Endpoints.APPLICATION_ACTIVITY_STATISTICS(t));case 4:return n=e.sent,r=n.body,l.default.dispatch({type:u.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:r,applicationId:t}),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(1),l.default.dispatch({type:u.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL,applicationId:t}),new i.default(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,10]])}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})},function(e){return o.apply(this,arguments)});var r,o,a=s(n(12)),i=s(n(239)),l=s(n(2)),u=n(0);function s(e){return e&&e.__esModule?e:{default:e}}},6200:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=I(n(1)),l=g(n(3)),u=g(n(9)),s=g(n(1041)),c=n(273),f=g(n(5)),d=g(n(164)),p=g(n(133)),h=g(n(46)),y=I(n(32)),E=g(n(6449)),_=g(n(949)),S=g(n(42)),T=n(0),m=g(n(5606)),v=g(n(5605)),A=g(n(6));function g(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=(0,c.cssValueToNumber)(v.default.mediaQueryMobileHeader),N=(0,f.default)(new Date(0)),C=function(e){var t=d.default.get(e);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},P=function(e,t){var n=C(e),r=C(t);return n.name.localeCompare(r.name,"en",{sensitivity:"base"})},L=function(e,t){return P(t,e)},b=function(e,t){return(0,s.default)(t).compare((0,s.default)(e))},M=function(e,t){var n=C(e),r=C(t),o=n.releaseDate,a=r.releaseDate,i=Date.now();return(null==o||o.isAfter(i))&&(o=N),(null==a||a.isAfter(i))&&(a=N),o.isAfter(a)?-1:o.isBefore(a)?1:P(e,t)},w=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=R(this,e.call.apply(e,[this].concat(a))),r.analyticsPropsForTile=function(e){var t=r.props,n=t.sort,o=t.viewConfig,a=t.analyticsIndexOffset,i=t.analyticsApplicationTypeFilter;return{listIndex:e+a,listSort:n,listSearched:null!=o&&Boolean(o.titleQuery),listFilterDistributionType:i}},r.getSortedSkuIds=function(){var e=r.props,t=e.directoryLayout;switch(e.sort){case T.StoreApplicationSort.FEATURED:return t.featuredSkuIds;case T.StoreApplicationSort.NEW_RELEASES:return t.allSkuIds.sort(M);case T.StoreApplicationSort.PREMIUM:return t.premiumSkuIds;case T.StoreApplicationSort.ALPHABETICAL:return t.allSkuIds.sort(P);case T.StoreApplicationSort.REVERSE_ALPHABETICAL:return t.allSkuIds.sort(L);case T.StoreApplicationSort.ID:return t.allSkuIds.sort(b);default:return t.allSkuIds}},r.getTileDisplayType=function(e){var t=r.props,n=t.getTileDisplayType,o=t.isSmallResolution;return null!=n?n(e,o):T.StoreDirectoryTileTypes.REGULAR},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getApplicationFilterProperties=function(e){var t=new Set;return e.accessType===T.SKUAccessTypes.EARLY_ACCESS&&t.add(T.StoreApplicationFilterProperty.EARLY_ACCESS),e.isOnSale&&t.add(T.StoreApplicationFilterProperty.SALE),e.premium?t.add(T.StoreApplicationFilterProperty.PREMIUM):null!=e.getPrice()?t.add(T.StoreApplicationFilterProperty.DISTRIBUTION):t.add(T.StoreApplicationFilterProperty.COMING_SOON),t},t.prototype.getFilteredSkuIds=function(e,t){var n=this,r=e.titleQuery,o=e.hideApplicationsInUserLibrary,a=e.applicationTypes,i=e.genre,l=t;return null!=i&&i!==T.StoreApplicationGenresFilter.ALL&&(l=l.filter(function(e){var t=C(e);return null!=t.genres&&t.genres.has(i)})),null!=a&&(l=l.filter(function(e){var t=C(e);return null!=t&&Array.from(a).filter(function(e){return n.getApplicationFilterProperties(t).has(e)}).length>0})),null!=r&&(l=l.filter(function(e){var t=C(e);return null!=t&&t.name.toLowerCase().includes(r.toLowerCase())})),o&&(l=l.filter(function(e){var t=C(e);return!h.default.hasApplication(t.applicationId,t.applicationId,!0)})),l},t.prototype.handleTileContextMenu=function(e,t){y.openContextMenu(e,function(e){return i.createElement(_.default,a({},e,{type:T.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:t}))})},t.prototype.renderEmptyState=function(){var e=this.props.className;return o("div",{className:e},void 0,o("div",{className:m.default.emptyWumpus}),o("h1",{className:m.default.noMatches},void 0,A.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),o("div",{className:m.default.noMatchesDescription},void 0,A.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_SUBHEADER))},t.prototype.render=function(){var e=this,t=this.props,n=t.directoryLayout,r=t.sort,l=t.className,s=t.viewConfig,c=t.maxTiles,f=t.onSKUViewed,d=null!=r?this.getSortedSkuIds():n.allSkuIds,p=null!=s?this.getFilteredSkuIds(s,d):d;return 0===p.length&&null!=s?this.renderEmptyState():(null!=c&&(p=p.slice(0,c)),o("div",{className:l},void 0,o(S.default,{wrap:S.default.Wrap.WRAP},void 0,p.map(function(t,n){var r,o=e.analyticsPropsForTile(n),l=e.getTileDisplayType(n);return i.createElement(E.default,a({key:t,skuId:t},o,{type:l,className:(0,u.default)(m.default.tile,(r={},r[m.default.tileRegular]=l===T.StoreDirectoryTileTypes.REGULAR,r[m.default.tileMedia]=l===T.StoreDirectoryTileTypes.MEDIA,r)),onSKUViewed:f,onContextMenu:e.handleTileContextMenu}))}))))},t}(i.Component);w.defaultProps={analyticsIndexOffset:0},w.displayName="ApplicationDirectoryTileLayout",t.default=l.default.connectStores([p.default],function(){return{isSmallResolution:p.default.windowSize().width<O}})(w),e.exports=t.default},6332:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(3)),a=h(n(2)),i=n(0),l=n(78),u=h(n(28)),s=h(n(379)),c=h(n(95)),f=h(n(65)),d=h(n(187)),p=h(n(55));function h(e){return e&&e.__esModule?e:{default:e}}var y=i.ThemeTypes.DARK,E=null;function _(){y=u.default.theme}function S(){E=f.default.getChannelId(d.default.getGuildId())}function T(e){return e.channelId===E}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,s.default,d.default,f.default,c.default),this.syncWith([u.default],_),this.syncWith([d.default,f.default,s.default],S)},r(t,[{key:"theme",get:function(){if(null!=E){var e=d.default.getGuildId(),t=c.default.isInChannel(e,E)&&(null!=e||c.default.hasVideo(e,E))&&p.default.supports(l.Features.VIDEO)?s.default.getLayout(E):null;return t===i.ChannelLayouts.NORMAL||t===i.ChannelLayouts.NO_CHAT?i.ThemeTypes.DARK:y}return y}}]),t}(o.default.Store);t.default=new m(a.default,{VOICE_STATE_UPDATE:T,CHANNEL_RTC_UPDATE_LAYOUT:T}),e.exports=t.default},6333:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(3)),o=i(n(2)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,u=[a.DispatchErrorCodes.REDISTRIBUTABLE_INSTALL_FAILED,a.DispatchErrorCodes.POST_INSTALL_FAILED,a.DispatchErrorCodes.POST_INSTALL_CANCELLED],s=[a.DispatchErrorCodes.APPLICATION_NOT_FOUND,a.DispatchErrorCodes.APPLICATION_LOAD_FAILED,a.DispatchErrorCodes.INTERRUPTED,a.DispatchErrorCodes.DESERIALIZATION_FAILED];var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getLastError=function(){return l},t}(r.default.Store);t.default=new c(o.default,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){null!=l&&u.includes(l.code)&&(l=null)},DISPATCH_APPLICATION_ERROR:function(e){var t=e.error;l=s.includes(t.code)?null:t}}),e.exports=t.default},6334:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=V(n(3)),i=V(n(82)),l=V(n(24)),u=V(n(2)),s=n(0),c=V(n(11)),f=V(n(229)),d=V(n(13)),p=V(n(231)),h=V(n(14)),y=V(n(6333)),E=V(n(1035)),_=V(n(55)),S=V(n(542)),T=V(n(295)),m=V(n(6370)),v=V(n(25)),A=V(n(62)),g=V(n(132)),I=V(n(550)),R=V(n(970)),O=V(n(165)),N=V(n(388)),C=V(n(187)),P=V(n(6108)),L=V(n(6491)),b=V(n(95)),M=V(n(237)),w=V(n(57)),D=V(n(6490)),k=V(n(22)),U=V(n(164)),F=V(n(195)),x=V(n(527)),j=V(n(1036)),H=n(543),B=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(278)),G=n(78);function V(e){return e&&e.__esModule?e:{default:e}}var W=((r={})[s.NoticeTypes.DOWNLOAD_NAG]="hideNag",r[s.NoticeTypes.CONNECT_SPOTIFY]="hideConnectSpotify",r[s.NoticeTypes.PREMIUM_PROMO]="hidePremiumPromo",r[s.NoticeTypes.MFA_SMS_BACKUP]="hideMFASMSNotice",r[s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED]="hidePremiumGrandfatheredStarted",r[s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING]="hidePremiumGrandfatheredEnding",r[s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED]="hidePremiumGrandfatheredEnded",r),Y=new Set([s.NoticeTypes.NO_INPUT_DETECTED,s.NoticeTypes.STREAMER_MODE,s.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,s.NoticeTypes.SPOTIFY_AUTO_PAUSED,s.NoticeTypes.DISPATCH_ERROR,s.NoticeTypes.DISPATCH_ERROR,s.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS]),K={},z=Object.freeze({id:null,message:null,buttonText:null,callback:null,metadata:null}),$=null;function q(e){if(null!=e){var t=W[e];null!=t&&l.default.set(t,!0),Y.has(e)&&(K[e]=!0),e===s.NoticeTypes.PREMIUM_PROMO&&(0,H.setFlag)(s.UserFlags.PREMIUM_PROMO_DISMISSED,!0)}}function Q(e){if(null==e)return!1;var t=W[e];return t?l.default.get(t):!!Y.has(e)&&K[e]}function X(){if(!N.default.isConnected())return!1;$=null;var e=d.default.getCurrentUser(),t=x.default.getPremiumSubscription(),n=null!=t?t.plan:null,r=b.default.getCurrentVoiceChannelId(null,h.default.getId()),a=null!=r&&b.default.hasVideo(null,r),l=void 0,u=y.default.getLastError(),v=E.default.getLastProgress(),A=L.default.getCurrentSurvey();if(null!=I.default.getRequest())$=o({},z,{type:s.NoticeTypes.ACTIVITY_JOIN_REQUEST});else if(p.default.isDisabled())$=o({},z,{type:s.NoticeTypes.VOICE_DISABLED});else if(!1===_.default.getInputDetected())$=o({},z,{type:s.NoticeTypes.NO_INPUT_DETECTED});else if(p.default.isConnected()&&_.default.isHardwareMute()){var O=_.default.getInputDeviceId(),C=S.default.getVendor(O),P=S.default.getModel(O);null!=C&&null!=P&&($=o({},z,{type:s.NoticeTypes.HARDWARE_MUTE,metadata:{vendor:C,model:P}}))}else if(null!=u)$=o({},z,{type:s.NoticeTypes.DISPATCH_ERROR,metadata:{error:u}});else if(null!=v)$=o({},z,{type:s.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS,metadata:v});else if(M.default.wasAutoPaused())$=o({},z,{type:s.NoticeTypes.SPOTIFY_AUTO_PAUSED});else if(!Q(s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED)&&null!=n&&f.default.isGrandfathered(n)&&f.default.isNearGrandfatheredStartPeriod())$=o({},z,{type:s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED,metadata:{plan:n}});else if(!Q(s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED)&&null!=n&&f.default.isGrandfathered(n)&&f.default.getDaysToGrandfatheredEnd(n)>=-14&&f.default.getDaysToGrandfatheredEnd(n)<=0)$=o({},z,{type:s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED});else if(!Q(s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING)&&null!=n&&f.default.isGrandfathered(n)&&f.default.getDaysToGrandfatheredEnd(n)>0&&f.default.getDaysToGrandfatheredEnd(n)<=f.default.GRANDFATHERED_DAYS_APPROACHING)$=o({},z,{type:s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING,metadata:{plan:n}});else if(null!=e&&null==e.email)$=o({},z,{type:s.NoticeTypes.UNCLAIMED_ACCOUNT});else if(!c.default.embedded||j.default.supported()&&!T.default.isCorruptInstallation())if(!a||_.default.supports(G.Features.VIDEO)||Q(s.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER))if(R.default.getDisplayType()===s.DetectedPlatformAccountsDisplayTypes.NOTICE)$=o({},z,{type:s.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS,metadata:R.default.getDetectedAccounts()});else if(g.default.enabled)$=o({},z,{type:s.NoticeTypes.STREAMER_MODE});else if(c.default.embedded||Q(s.NoticeTypes.DOWNLOAD_NAG))if(l=m.default.getScheduledMaintenance())$=o({},z,{type:s.NoticeTypes.SCHEDULED_MAINTENANCE,metadata:{id:l.id,start:new Date(l.scheduled_for),end:new Date(l.scheduled_until)}});else if(null!=A)$=o({},z,{type:s.NoticeTypes.SURVEY,metadata:A});else if(null==e||e.verified)if(M.default.hasConnectedAccount()||!w.default.isObservedAppRunning(i.default.get(s.PlatformTypes.SPOTIFY).name)||Q(s.NoticeTypes.CONNECT_SPOTIFY))if(null==e||f.default.isPremium(e)||e.hasFlag(s.UserFlags.PREMIUM_PROMO_DISMISSED)||!D.default.isEligible()||Q(s.NoticeTypes.PREMIUM_PROMO))if(null==e||!e.mfaEnabled||e.hasFlag(s.UserFlags.MFA_SMS)||e.hasFlag(s.UserFlags.STAFF)||e.hasFlag(s.UserFlags.PARTNER)||Q(s.NoticeTypes.MFA_SMS_BACKUP)){if(null!=F.default.testModeApplicationId){var H=F.default.testModeApplicationId,B=k.default.getGame(H),V=null!=B?B.name:H;$=o({},z,{type:s.NoticeTypes.APPLICATION_TEST_MODE,metadata:{applicationName:V,applicationId:H,skus:U.default.getForApplication(H)}})}}else $=o({},z,{type:s.NoticeTypes.MFA_SMS_BACKUP});else $=o({},z,{type:s.NoticeTypes.PREMIUM_PROMO});else $=o({},z,{type:s.NoticeTypes.CONNECT_SPOTIFY});else $=o({},z,{type:s.NoticeTypes.UNVERIFIED_ACCOUNT});else $=o({},z,{type:s.NoticeTypes.DOWNLOAD_NAG});else $=o({},z,{type:s.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER});else $=o({},z,{type:s.NoticeTypes.CORRUPT_INSTALLATION});null!=$&&Q($.type)&&($=null)}function J(){return g.default.enabled||delete K[s.NoticeTypes.STREAMER_MODE],X()}var Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([L.default,I.default,D.default],X),this.waitFor(d.default,m.default,v.default,A.default,p.default,_.default,g.default,O.default,C.default,P.default,I.default,R.default,M.default,w.default,D.default,y.default,E.default,F.default,x.default,T.default)},t.prototype.hasNotice=function(){return null!=$&&null!=$.type},t.prototype.getNotice=function(){return null==P.default.getAction()?$:null},t}(a.default.Store);t.default=new Z(u.default,{CONNECTION_OPEN:function(e){return function(){if(!N.default.isConnected())return!1;var e=d.default.getCurrentUser();f.default.isPremium(e)&&f.default.shouldCheckGrandfatheredPlan()&&u.default.wait(function(){return B.fetchSubscriptions()}),X()}()},CURRENT_USER_UPDATE:function(e){return X()},AUDIO_ENABLE:function(e){return X()},VOICE_CHANNEL_CLEAR:function(e){return X()},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){return X()},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return X()},GUILD_CREATE:function(e){return X()},GUILD_DELETE:function(e){return X()},AUDIO_INPUT_DETECTED:function(e){return X()},AUDIO_SET_DISPLAY_SILENCE_WARNING:function(e){return X()},CERTIFIED_DEVICES_SET:function(e){return X()},AUDIO_SET_INPUT_DEVICE:function(e){return X()},AUDIO_SET_OUTPUT_DEVICE:function(e){return X()},MEDIA_ENGINE_DEVICES:function(e){return X()},RTC_CONNECTION_STATE:function(e){return X()},RPC_APP_AUTHENTICATED:function(e){return X()},RPC_APP_DISCONNECTED:function(e){return X()},PLATFORM_ACCOUNTS_DETECTED:function(e){return X()},PLATFORM_ACCOUNTS_IGNORE:function(e){return X()},USER_CONNECTIONS_UPDATE:function(e){return X()},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){return X()},WINDOW_FOCUS:function(e){return X()},INSTANT_INVITE_CREATE:function(e){return X()},INSTANT_INVITE_REVOKE_SUCCESS:function(e){return X()},SPOTIFY_PLAYER_PAUSE:function(e){return X()},RUNNING_GAMES_CHANGE:function(e){return X()},EXPERIMENTS_FETCH_SUCCESS:function(e){return X()},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return X()},DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:function(e){return X()},DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:function(e){return X()},DEVELOPER_TEST_MODE_RESET:function(e){return X()},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return X()},DISPATCH_APPLICATION_INSTALL:function(e){return X()},VOICE_STATE_UPDATE:function(e){return e.userId===h.default.getId()&&X()},STREAMER_MODE_UPDATE:function(e){return J()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return J()},DISPATCH_APPLICATION_ERROR:function(e){return delete K[s.NoticeTypes.DISPATCH_ERROR],X()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){return delete K[s.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS],X()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(e){return X()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(e){return X()},NOTICE_SHOW:function(e){$=e.notice},NOTICE_DISMISS:function(e){return null!=$&&(null==e.id||e.id===$.id)&&(q($.type),X())},NOTICE_DISABLE:function(e){return q(e.noticeType),X()},LOGOUT:function(e){return K={},void($=null)}}),e.exports=t.default},6345:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=H(n(60)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=H(n(54)),u=H(n(9)),s=H(n(7)),c=H(n(66)),f=H(n(227)),d=H(n(3)),p=H(n(234)),h=H(n(274)),y=H(n(146)),E=H(n(41)),_=H(n(233)),S=H(n(144)),T=H(n(6131)),m=H(n(225)),v=H(n(45)),A=H(n(989)),g=H(n(81)),I=H(n(6)),R=H(n(133)),O=H(n(28)),N=H(n(6334)),C=H(n(17)),P=n(116),L=H(n(275)),b=H(n(384)),M=H(n(65)),w=H(n(6107)),D=H(n(271)),k=H(n(18)),U=H(n(25)),F=n(0),x=H(n(5623)),j=H(n(5575));function H(e){return e&&e.__esModule?e:{default:e}}var B=function(e){var t=e.title,n=e.children,r=e.className;return o("div",{className:(0,u.default)(x.default.header,j.default.header,r)},void 0,o("div",{className:(0,u.default)(x.default.title,j.default.title)},void 0,t),n)};B.displayName="Header";var G=function(e){var t=e.msg,n=e.image;return o("div",{className:x.default.emptyPlaceholder},void 0,o("div",{className:x.default.image,style:{backgroundImage:"url("+n+")"}}),o("div",{className:x.default.body},void 0,t))};G.displayName="EmptyStateCenter";var V=function(e){var t=e.msg,n=e.image;return o("div",{className:(0,u.default)(x.default.emptyPlaceholder,x.default.bottom)},void 0,o("div",{className:x.default.body},void 0,t),o("div",{className:x.default.image,style:{backgroundImage:"url("+n+")"}}))};V.displayName="EmptyStateBottom";var W=o(S.default,{}),Y=o(S.default,{}),K=(0,l.default)({displayName:"MessagesPopout",mixins:[d.default.StoreListenerMixin(O.default,R.default,N.default,h.default),p.default,c.default],statics:{EmptyStateCenter:G,EmptyStateBottom:V,Header:B},propTypes:{onFetch:a.default.func.isRequired,channel:a.default.instanceOf(L.default),messages:a.default.arrayOf(a.default.instanceOf(b.default)),loading:a.default.bool.isRequired,analyticsName:a.default.string.isRequired,renderEmptyState:a.default.func.isRequired,renderHeader:a.default.func.isRequired,hasMore:a.default.bool,onCloseMessage:a.default.func,onJump:a.default.func,loadMore:a.default.func,showChannels:a.default.bool,showGuildNames:a.default.bool,canCloseAllMessages:a.default.bool},getDefaultProps:function(){return{showChannels:!1,showGuildNames:!1,renderMentioned:!0,canCloseAllMessages:!1}},scrollPageUp:function(){var e=this.scroller;e&&e.scrollPageUp(!0)},scrollPageDown:function(){var e=this.scroller;e&&e.scrollPageDown(!0)},UNSAFE_componentWillMount:function(){C.default.track(F.AnalyticEvents.OPEN_POPOUT,{type:this.props.analyticsName}),this.props.onFetch(this.props.channel)},componentDidMount:function(){P.ComponentDispatch.subscribe(F.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),P.ComponentDispatch.subscribe(F.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},componentWillUnmount:function(){P.ComponentDispatch.unsubscribe(F.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),P.ComponentDispatch.unsubscribe(F.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},getStateFromStores:function(){var e=N.default.hasNotice(),t=O.default.inlineAttachmentMedia,n=O.default.inlineEmbedMedia,r=O.default.renderEmbeds,o=O.default.developerMode,a=O.default.messageDisplayCompact,i=this.props.channel?h.default.getMessages(this.props.channel.id):null,l=!!i&&(i.loadingMore&&!i.get(i.jumpTargetId));return{inlineAttachmentMedia:t,inlineEmbedMedia:n,renderEmbeds:r,developerMode:o,messageDisplayCompact:a,isNoticeOpen:e,size:R.default.windowSize(),jumping:l}},renderControlButtons:function(e){var t,n=this,r=e.channel,a=e.messages[0],i=this.state.jumping,l=null;this.props.onCloseMessage&&(this.props.canCloseAllMessages||r.isPrivate()||this.can(F.Permissions.MANAGE_MESSAGES,r))&&(l=o(v.default,{look:v.default.Looks.BLANK,size:v.default.Sizes.NONE,onClick:this.props.onCloseMessage.bind(null,a)},void 0,o("div",{className:x.default.closeButton})));var s=o(g.default,{className:x.default.jumpButton,onClick:function(e){return n.jumpTo(a,e)}},void 0,o("div",{className:(0,u.default)(x.default.text,{hidden:i})},void 0,I.default.Messages.JUMP),o(S.default,{type:S.default.Type.PULSING_ELLIPSIS,className:(0,u.default)(x.default.loading,(t={},t[x.default.visible]=i,t))}));return o("div",{className:x.default.actionButtons},void 0,s,l)},jumpTo:function(e,t){var n=e.id,r=e.blocked,o=e.author,a=e.channel_id;if(r)_.default.show({title:I.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:I.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:o.username}),confirmText:I.default.Messages.OKAY});else if(!this.state.jumping){var i=k.default.getChannel(a);i&&(y.default.trackJump(a,n,this.props.analyticsName),E.default.transitionTo(F.Routes.MESSAGE(i.getGuildId(),a,n))),this.props.onJump&&this.props.onJump(t)}},handleScroll:function(){var e=this.scroller;if(e){var t=e.getScrollData();t.scrollHeight===t.scrollTop+t.offsetHeight&&this.props.hasMore&&!this.props.loading&&this.props.loadMore()}},selectChannel:function(e,t){e!==M.default.getChannelId()&&D.default.transitionToInviteChannelSync(e),this.props.onJump&&this.props.onJump(t)},setScrollerRef:function(e){this.scroller=e},render:function(){var e=this,t=null,n=!0,r=this.props,a=r.messages,l=r.loading,c=r.channel,d=r.className;if(a)if(0===a.length)t=this.props.renderEmptyState(O.default.theme);else{n=!1,t=[];var p=this.props.showChannels?null:c,h=this.state,y=h.renderEmbeds,E=h.inlineEmbedMedia,_=h.inlineAttachmentMedia;s.default.each(a,function(n){if(e.props.showChannels&&(null==p||p.id!==n.channel_id)){p=k.default.getChannel(n.channel_id);var r=U.default.getGuild(p.getGuildId());t.push(o("div",{className:x.default.channelSeparator},""+n.id+p.id,o(g.default,{tag:"span",className:x.default.channelName,onClick:e.selectChannel.bind(null,p.id)},void 0,p?p.toString(!0):"???"),e.props.showGuildNames&&o("span",{className:x.default.guildName},void 0,r?r.toString():"")))}var a=p.isNSFW()?w.default.didAgree(p.getGuildId()):null;if(null!=n){var i=o("div",{className:x.default.messageGroupWrapper},n.id,o("div",{className:x.default.messageGroupWrapperOffsetCorrection},void 0,o(T.default,{cozyClassName:x.default.messageGroupCozy,messages:[n],channel:p,inlineAttachmentMedia:_&&null!=a?a:_,inlineEmbedMedia:E&&null!=a?a:E,renderEmbeds:y&&null!=a?a:y,renderEmbedsSmall:!0,compact:!1,developerMode:e.state.developerMode,hasDivider:!1,popoutPosition:m.default.Positions.LEFT,groupOption:e.renderControlButtons,onClickAnywhere:function(t){return e.jumpTo(n,t)},messageOption:!1,canEdit:!1,renderMentioned:e.props.renderMentioned,disableInteractionLabel:I.default.Messages.JUMP,accessoriesClassName:x.default.accessories})));t.push(i)}})}else t=o("div",{className:(0,u.default)(x.default.emptyPlaceholder,x.default.loadingPlaceholder)},void 0,W);var S=null;t.length>0&&this.props.loadMore&&(S=l?o("div",{className:x.default.loadingMore},"loading-more-after",Y):this.props.hasMore?o("div",{className:x.default.hasMore},"has-more-after",o("button",{type:"button",onClick:this.props.loadMore,className:x.default.hasMoreButton},void 0,I.default.Messages.LOAD_MORE_MESSAGES)):o("div",{className:x.default.scrollingFooterWrap},void 0,this.props.renderEmptyState(O.default.theme)));var v=this.props.getProTip&&this.props.getProTip(),R=n&&v?o("div",{className:(0,u.default)(j.default.footer,x.default.footer)},void 0,o(A.default,{style:{width:"100%",paddingTop:10}},void 0,v)):null,N={maxHeight:this.state.size.height-43-25};this.state.isNoticeOpen&&(N.maxHeight-=40);var C=this.props.loadMore&&this.props.hasMore;return o("div",{className:(0,u.default)(x.default.messagesPopoutWrap,j.default.themedPopout,d),style:N},void 0,this.props.renderHeader(),i.createElement(f.default,{className:x.default.messagesPopout,ref:this.setScrollerRef,onScroll:C?this.handleScroll:void 0,backgroundColor:O.default.theme===F.ThemeTypes.LIGHT?F.Colors.WHITE:F.Colors.PRIMARY_DARK_630},t,S),R)}});t.default=K,e.exports=t.default},6370:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(3)),o=l(n(2)),a=(n(0),l(n(24))),i=l(n(6176));function l(e){return e&&e.__esModule?e:{default:e}}var u="MaintenanceStore",s=null,c=null,f=null;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){f=a.default.get(u)},t.prototype.getIncident=function(){return s},t.prototype.getScheduledMaintenance=function(){return null!=c&&c.id!==f?c:null},t}(r.default.Store);t.default=new d(o.default,{CONNECTION_OPEN:function(e){return s=null,void i.default.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){s=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){c=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return function(){if(null==c)return!1;f=c.id,a.default.set(u,f)}()}}),e.exports=t.default},6392:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=f(n(925)),u=f(n(81)),s=f(n(75)),c=f(n(5593));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=d(this,e.call.apply(e,[this].concat(i))),r._textInputRef=a.createRef(),r.handleClear=function(){var e=r._textInputRef.current,t=r.props.onClear;null!=e&&e.focus(),null!=t&&t()},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.label,r=e.placeholder,a=e.searchTerm,f=e.inputClassName,d=e.className,p=e.onChange,h=e.autoComplete,y=null!=a&&a.length>0;return o("div",{className:(0,i.default)(c.default.searchBox,d)},void 0,o(l.default,{inputRef:this._textInputRef,name:"search",maxLength:100,className:c.default.searchBoxInputWrapper,inputClassName:(0,i.default)(c.default.searchBoxInput,f),onChange:p,value:y?a:"",placeholder:r,autoFocus:t,"aria-label":n,autoComplete:h?"on":"off"}),y?o(u.default,{onClick:this.handleClear,className:c.default.clear},void 0,o(s.default,{name:s.default.Names.CLEAR,className:c.default.clearIcon})):o(s.default,{className:c.default.searchIcon,name:s.default.Names.SEARCH}))},t}(a.Component);p.defaultProps={autoComplete:!1},p.displayName="SearchBox",t.default=p,e.exports=t.default},6439:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=p(n(147)),u=p(n(45)),s=p(n(42)),c=p(n(81)),f=p(n(75)),d=p(n(5602));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,l.default)({SMALL:null,MEDIUM:null,LARGE:null}),y=((o={})[h.SMALL]=d.default.dropdownSmall,o[h.MEDIUM]=d.default.dropdownMedium,o[h.LARGE]=d.default.dropdownLarge,o),E=function(e){var t=e.onDropdownClick,n=e.children,r=e.contentClassName,o=e.dropdownSize,l=void 0===o?h.MEDIUM:o,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onDropdownClick","children","contentClassName","dropdownSize"]);return i.createElement(u.default,p,a(s.default,{align:s.default.Align.CENTER},void 0,a(s.default.Child,{className:r},void 0,n),null!=t?a(c.default,{className:y[l],onClick:function(e){e.stopPropagation(),null!=t&&t(e)}},void 0,a("div",{className:d.default.arrowSeparator}),a(f.default,{name:f.default.Names.ARROW_DROP_DOWN,className:d.default.dropdownArrow})):null))};E.displayName="DropdownButton",E.DropdownSizes=h,E.Sizes=u.default.Sizes,E.Colors=u.default.Colors,E.Looks=u.default.Looks,t.default=E,e.exports=t.default},6445:function(e,t,n){"use strict";t.__esModule=!0,t.ApplicationResultsEmpty=t.ApplicationResult=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(6))),i=d(n(9)),l=d(n(75)),u=d(n(81)),s=d(n(6091)),c=n(188),f=d(n(5604));function d(e){return e&&e.__esModule?e:{default:e}}(t.ApplicationResult=function(e){var t,n=e.focused,r=e.sku,a=e.onSelect,l=e.onHighlight,d=e.storeListing,p=e.inLibrary,h=null;if(null!=d){var y=d.thumbnail;h=null!=y?(0,c.getAssetURL)(r.applicationId,y,128):null}return o(u.default,{className:(0,i.default)(f.default.result,(t={},t[f.default.focused]=n,t)),onMouseEnter:l,onClick:a},void 0,o("div",{className:f.default.resultAssetContainer},void 0,null!=h?o("img",{className:f.default.resultAsset,src:h,alt:""}):o("div",{className:f.default.resultAssetEmpty})),o("div",{className:f.default.resultContent},void 0,o("div",{className:f.default.resultName},void 0,r.name),o(s.default,{type:s.default.Types.DIRECTORY_SEARCH,sku:r,inLibrary:p,className:f.default.price,iconClass:f.default.iconClass})))}).displayName="ApplicationResult",(t.ApplicationResultsEmpty=function(e){var t=e.onViewAllGamesClick;return o("div",{className:f.default.empty},void 0,o("div",{className:f.default.emptyTitle},void 0,a.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),o("div",{className:f.default.emptyNote},void 0,a.default.Messages.APPLICATION_STORE_SEARCH_EMPTY_SUBHEADER),o(u.default,{tag:"a",onClick:t,className:f.default.allGamesContainer},void 0,a.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,o(l.default,{name:l.default.Names.RIGHT_CARET,className:f.default.caret})))}).displayName="ApplicationResultsEmpty"},6446:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=C(n(3)),s=C(n(9)),c=C(n(6085)),f=C(n(41)),d=C(n(524)),p=n(6125),h=C(n(189)),y=C(n(927)),E=C(n(46)),_=C(n(925)),S=C(n(225)),T=C(n(75)),m=C(n(81)),v=n(6445),A=C(n(6161)),g=n(116),I=C(n(228)),R=C(n(6)),O=n(0),N=C(n(5603));function C(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=370,b=4;function M(e,t){(0,p.updateSearchTerm)(e),f.default.transitionTo(O.Routes.APPLICATION_STORE_BROWSE,{search:d.default.formatSearch({q:e}),state:t})}function w(e){return i(v.ApplicationResultsEmpty,{onViewAllGamesClick:function(){return M("",e)}})}w.displayName="renderNoResults";var D=u.default.connectStores([y.default],function(e){var t=e.sku;return{storeListing:y.default.getForSKU(t.id),inLibrary:E.default.hasApplication(t.applicationId,t.applicationId,!0)}})(v.ApplicationResult),k=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=P(this,e.call.apply(e,[this].concat(a))),r.popoutRef=l.createRef(),r.state={query:"",focused:!1,focusedIndex:-1,results:[]},r.inputRef=null,r.setInputRef=function(e){r.inputRef=e},r.focusInput=function(){var e=r.inputRef;null!=e&&e.focus()},r.reset=function(){r.setState({query:"",results:[]})},r.handleInputChange=function(e){var t=r.state,n=t.query,o=t.results,a=e.trim();""===a?o=[]:a!==n.trim()&&(o=c.default.querySKUs(a,b,!0)),r.setState({query:e,results:o})},r.handleSelect=function(e){var t,n,o=r.state,a=o.query,i=o.results[e];null==i?M(a,r.transitionState):(t=i.sku,n=r.transitionState,f.default.transitionTo(O.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),{state:n}))},r.handleHighlight=function(e){r.setState({focusedIndex:e})},r.handleFocus=function(){r.setState({focused:!0})},r.handleBlur=function(){r.setState({focused:!1})},r.handleKeyDown=function(e){var t=e.ctrlKey,n=e.altKey,o=e.metaKey,a=e.which,i=r,l=i.inputRef,u=i.state,s=u.query,c=u.focusedIndex,f=u.results;if(!(t||n||o))switch(e.stopPropagation(),a){case O.KeyboardKeys.ESCAPE:""!==s?r.reset():null!=l&&l.blur();break;case O.KeyboardKeys.ENTER:r.handleSelect(c),e.preventDefault();break;case O.KeyboardKeys.ARROW_UP:c=Math.max(c-1,-1),r.handleHighlight(c),e.preventDefault();break;case O.KeyboardKeys.ARROW_DOWN:c=Math.min(c+1,f.length-1),r.handleHighlight(c),e.preventDefault()}},r.renderPopoutResult=function(e){var t=r.state,n=t.results,o=t.focusedIndex,a=n[e];return null!=a?i(D,{sku:a.sku,focused:e===o,onSelect:function(){return r.handleSelect(e)},onHighlight:function(){return r.handleHighlight(e)}},a.sku.id):null},r.renderPopout=function(){var e=r.state,t=e.results,n=e.query,o=e.focusedIndex;return""!==n.trim()?i(A.default,{numResults:t.length,query:n,width:L,renderResult:r.renderPopoutResult,renderNoResults:function(){return w(r.transitionState)},focusedIndex:o,onSelectQuery:function(){return r.handleSelect(-1)},onHighlightQuery:function(){return r.handleHighlight(-1)}}):null},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){g.ComponentDispatch.subscribe(O.ComponentActions.FOCUS_SEARCH,this.focusInput)},t.prototype.componentDidUpdate=function(e,t){var n=this.popoutRef.current,r=this.state,o=r.focused,a=r.query,i=r.focusedIndex;a=a.trim(),o&&!t.focused?null!=n&&n.open():!o&&t.focused&&h.default.close("game-store-search"),a===t.query.trim()&&i===t.focusedIndex||h.default.rerender("game-store-search")},t.prototype.componentWillUnmount=function(){g.ComponentDispatch.unsubscribe(O.ComponentActions.FOCUS_SEARCH,this.focusInput),this.reset()},t.prototype.render=function(){var e,t,n=this.props.className,r=this.state.query;return l.createElement(S.default,{ref:this.popoutRef,offsetX:-156,uniqueId:"game-store-search",position:S.default.Positions.BOTTOM_LEFT,toggleClose:!1,render:this.renderPopout,animationType:S.default.Animations.NONE},i("div",{className:(0,s.default)(N.default.browseSearch,n)},void 0,i(_.default,{inputClassName:N.default.browseSearchInput,className:N.default.inputWrapper,inputRef:this.setInputRef,size:_.default.Sizes.MINI,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,name:"search",maxLength:100,value:r,placeholder:R.default.Messages.APPLICATION_STORE_BROWSE_SEARCH_PLACEHOLDER,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}),i(T.default,{className:(0,s.default)(N.default.icon,(e={},e[N.default.iconVisible]=""===r,e)),name:T.default.Names.SEARCH}),i(m.default,{onMouseDown:function(e){e.preventDefault()},onClick:this.reset},void 0,i(T.default,{className:(0,s.default)(N.default.icon,N.default.clearIcon,(t={},t[N.default.iconVisible]=""!==r,t)),name:T.default.Names.CLEAR}))))},a(t,[{key:"transitionState",get:function(){var e=this.props.analyticsContext;return{analyticsSource:o({},e.location,{object:O.AnalyticsObjects.SEARCH})}}}]),t}(l.PureComponent);k.displayName="ApplicationStoreBrowseSearch",t.default=(0,I.default)(k),e.exports=t.default},6447:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=C(n(5)),l=C(n(3)),u=C(n(9)),s=C(n(224)),c=C(n(512)),f=n(188),d=n(273),p=(C(n(518)),C(n(6151))),h=C(n(927)),y=C(n(545)),E=C(n(164)),_=C(n(13)),S=C(n(14)),T=n(6199),m=C(n(539)),v=n(277),A=C(n(6150)),g=n(225),I=C(n(6197)),R=C(n(540)),O=n(0),N=C(n(5608));function C(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=(0,d.cssValueToNumber)(N.default.popoutWidth),w=function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=L(this,e.call.apply(e,[this].concat(a))),r._animated=new s.default.Value(0),r.componentWillEnter=function(e){s.default.timing(r._animated,{toValue:1,duration:200}).start(e)},L(r,n)}return b(t,e),t.prototype.getPopoutOutputRange=function(){switch(this.props.popoutPosition){case g.Positions.LEFT:case g.Positions.TOP:return["8px","0px"];case g.Positions.BOTTOM:default:return["-8px","0px"]}},t.prototype.getPopoutStyle=function(){var e=this.props.popoutPosition,t=e===g.Positions.RIGHT||e===g.Positions.LEFT?[{translateX:this._animated.interpolate({inputRange:[0,1],outputRange:this.getPopoutOutputRange()})},{translateY:"-50%"}]:[{translateY:this._animated.interpolate({inputRange:[0,1],outputRange:this.getPopoutOutputRange()})},{translateX:"-50%"}];return s.default.accelerate({transform:t,opacity:this._animated.interpolate({inputRange:[0,1],outputRange:[0,1],easing:s.default.Easing.in(s.default.Easing.ease)})})},t.prototype.renderSocial=function(){var e=this.props.socialReason;return null==e?null:o(I.default,{className:N.default.popoutSocialInfo,reason:e})},t.prototype.renderNonSocial=function(){var e=this.props.nonSocialReasons;return 0===e.length?null:e.map(function(e,t){return o(A.default,{reason:e,className:N.default.reason},t)})},t.prototype.renderReleaseDate=function(){var e=this.props.dateReason;return null==e?null:o(A.default,{reason:e,className:N.default.reason})},t.prototype.render=function(){var e,t=this.props.className,n=this.renderSocial();return o(s.default.div,{style:this.getPopoutStyle(),className:(0,u.default)(N.default.popout,(e={},e[N.default.popoutWithoutSocial]=null==n,e),t)},void 0,n,this.renderNonSocial(),this.renderReleaseDate())},t}(a.Component);w.displayName="ApplicationDirectoryTilePopout";var D=function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=L(this,e.call.apply(e,[this].concat(a))),r.state={popoutPosition:null},L(r,n)}return b(t,e),t.getDerivedStateFromProps=function(e,t){if(e.showPopout&&null==t.popoutPosition&&null!=e.tileRef.current){var n=e.tileRef.current.getBoundingClientRect(),r=window.innerWidth,o=g.Positions.RIGHT;return n.right+M>r&&(o=n.left-M-310>0?g.Positions.LEFT:window.innerHeight-n.bottom>n.top?g.Positions.BOTTOM:g.Positions.TOP),{popoutPosition:o}}return e.showPopout||null==t.popoutPosition?null:{popoutPosition:null}},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.shouldFetchStatistics,r=t.applicationId,o=t.showPopout,a=t.hasFetchedActivities,i=t.sku,l=t.hasFetchedStoreListing,u=t.isAuthenticated;o&&!e.showPopout&&(u&&(n&&(0,T.fetchStatisticsForApplication)(r),a||m.default.getActivities()),null==i||l||(0,v.fetchStoreListingForSku)(i.id))},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.socialReason,i=t.nonSocialReasons,l=t.dateReason,s=t.hasFetchedActivities,f=t.hasFetchedStatistics,d=t.hasFetchedStoreListing,p=t.isAuthenticated,h=this.state.popoutPosition,y=d&&(!p||s&&f);return o(c.default,{component:a.Fragment},void 0,null!=h&&y?o(w,{socialReason:r,nonSocialReasons:i,dateReason:l,popoutPosition:h,className:(0,u.default)((e={},e[N.default.popoutWrapperRight]=h===g.Positions.RIGHT,e[N.default.popoutWrapperLeft]=h===g.Positions.LEFT,e[N.default.popoutWrapperTop]=h===g.Positions.TOP,e[N.default.popoutWrapperBottom]=h===g.Positions.BOTTOM,e),n)}):null)},t}(a.Component);D.displayName="ApplicationDirectoryTilePopoutWrapper",t.default=l.default.connectStores([E.default,p.default,y.default,R.default,_.default,h.default,S.default],function(e){var t=e.sku,n=t.applicationId,r=h.default.getForSKU(t.id);return{applicationId:n,hasFetchedActivities:R.default.hasFetchedActivities,shouldFetchStatistics:p.default.shouldFetchStatisticsForApplication(n),hasFetchedStatistics:null!=p.default.getStatisticsForApplication(n),hasFetchedStoreListing:null!=r&&!r.isSlimDirectoryVersion(),socialReason:function(e){var t=(0,f.getNowPlayingReason)(e,_.default,y.default),n=(0,f.getRecentlyPlayedReason)(e,_.default,R.default),r=null!=t?t.userInfo.length:0,o=null!=n?n.userInfo.length:0,a=(0,f.getEverPlayedReason)(e,_.default,p.default),i=null!=a?a.userInfo.length:0;return r>0&&(r>1||o<4)?t:o>0&&(o>1||i<4)?n:a}(n),nonSocialReasons:function(e){var t=(0,f.getNonSocialRecommendationReasons)(e.id,E.default,h.default).filter(function(e){return e.type!==O.StoreRecommendationTypes.RECENT_RELEASE_DATE&&e.type!==O.StoreRecommendationTypes.EARLY_ACCESS}).slice(0,2);if(t.length<2&&null!=e.reviews&&null==t.find(function(e){return e.type===O.StoreRecommendationTypes.METACRITIC_SCORE})){var n=e.reviews.find(function(e){return e.aggregator===O.ReviewAggregators.METACRITIC});null!=n&&t.push({type:O.StoreRecommendationTypes.METACRITIC_SCORE,reviewAggregator:n})}return t}(t),dateReason:function(e){var t=e.releaseDate;return null==t?null:{type:e.accessType===O.SKUAccessTypes.EARLY_ACCESS?O.StoreRecommendationTypes.EARLY_ACCESS:(0,i.default)().diff(t,"months")<f.RECENTLY_RELEASED_MONTHS_THRESHOLD?O.StoreRecommendationTypes.RECENT_RELEASE_DATE:O.StoreRecommendationTypes.RELEASE_DATE,releaseDate:t}}(t),isAuthenticated:S.default.isAuthenticated()}})(D),e.exports=t.default},6448:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),E(n(9))),i=n(188),l=E(n(6497)),u=E(n(6496)),s=E(n(6495)),c=E(n(45)),f=E(n(6091)),d=E(n(957)),p=n(6337),h=(E(n(518)),E(n(955)),n(0)),y=E(n(5611));function E(e){return e&&e.__esModule?e:{default:e}}var _=function(e){var t,n,r,E=e.sku,_=e.storeListing,S=e.playing,T=e.stationaryExtendedPlay,m=e.muted,v=e.inLibrary,A=e.showMediaPlaceholder,g=e.onToggleMute,I=e.isMouseOver,R=e.className,O=(e.showBuyInline||!E.requiresPayment)&&!v,N=O&&I;return o("div",{className:(0,a.default)(y.default.tileMedia,R)},void 0,o(l.default,{className:y.default.splashContainer,video:null!=_.previewVideo?(0,i.getAssetURL)(E.applicationId,_.previewVideo):null,image:null!=_.thumbnail?(0,i.getAssetURL)(E.applicationId,_.thumbnail,600):null,title:E.name,playing:S,muted:m,placeholder:A,onToggleMute:g}),o("div",{className:y.default.mediaFade}),o("div",{className:(0,a.default)(y.default.description,(t={},t[y.default.descriptionExtendedPlay]=T,t))},void 0,o("h2",{className:y.default.gameTitle},void 0,E.name),o("div",{className:y.default.tagline},void 0,_.tagline),o("div",{className:y.default.priceOSSection},void 0,o(f.default,{type:f.default.Types.DIRECTORY_TILE,sku:E,inLibrary:v,className:N?y.default.tilePriceWithVisibleBuyButton:y.default.tilePrice}),o(p.OperatingSystemSection,{systems:[h.OperatingSystems.WINDOWS],className:y.default.platform,iconClassName:y.default.osIcon}),O?o(d.default,{skuId:E.id,applicationId:E.applicationId,size:c.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:N?y.default.tileBuyButtonVisible:y.default.tileBuyButton}):null)),E.exclusive?o(u.default,{className:(0,a.default)(y.default.exclusiveMedia,(n={},n[y.default.exclusivePlaying]=S,n))}):E.isTheGameAwardsWinner?o(s.default,{className:(0,a.default)(y.default.exclusiveMedia,(r={},r[y.default.exclusivePlaying]=S,r))}):null)};_.displayName="ApplicationTileFullMedia",t.default=_,e.exports=t.default},6449:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,l,u=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.analyticsLocationForTile=j,t.analyticsListProperties=H;var c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),f=w(n(9)),d=n(226),p=w(n(3)),h=n(56),y=n(538),E=n(116),_=n(188),S=w(n(17)),T=w(n(228)),m=w(n(164)),v=w(n(6339)),A=w(n(22)),g=w(n(927)),I=w(n(46)),R=n(962),O=w(n(6498)),N=w(n(6448)),C=w(n(6447)),P=w(n(946)),L=w(n(6059)),b=n(0),M=w(n(5607));w(n(518)),w(n(955));function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(373);var k=200,U=1e3,F=Object.freeze(((o={})[b.StoreApplicationCategorySelector.PREMIUM]="premium",o[b.StoreApplicationCategorySelector.ALL]="all",o[b.StoreApplicationCategorySelector.DISTRIBUTION]="distribution",o[b.StoreApplicationCategorySelector.EARLY_ACCESS]="early access",o[b.StoreApplicationCategorySelector.SALE]="sale",o)),x=Object.freeze(((a={})[b.StoreApplicationSort.REVERSE_ALPHABETICAL]="z-a",a[b.StoreApplicationSort.ALPHABETICAL]="a-z",a[b.StoreApplicationSort.NEW_RELEASES]="Newest",a[b.StoreApplicationSort.ID]="id",a[b.StoreApplicationSort.FEATURED]=null,a[b.StoreApplicationSort.PREMIUM]=null,a));function j(e,t){return s({},e,{object:b.AnalyticsObjects.CARD,objectType:t===b.StoreDirectoryTileTypes.REGULAR?b.AnalyticsObjectTypes.SMALL:b.AnalyticsObjectTypes.LARGE})}function H(e){var t=e.listIndex,n=e.listSort,r=e.listFilterDistributionType,o=e.listSearched;return{list_index:t,list_sort:x[n],list_filter_distribution_type:F[r],list_searched:o}}var B=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=D(this,e.call.apply(e,[this].concat(a))),r._tileRef=c.createRef(),r.mouseoverTimeout=new h.Timeout,r.extendedPlayTimeout=new h.Timeout,r.isUnmounted=!1,r.state={playing:!1,stationaryExtendedPlay:!1,hasSeen:!1,isMouseOver:!1,showBuyInline:!1},r.handleSetTilePlaying=function(e){var t=e.skuId,n=r.props.sku;r.setState({playing:null!=n&&n.id===t})},r.handleMouseEnter=function(){var e=r.state,t=e.isMouseOver,n=e.playing;t||r.setState({isMouseOver:!0}),n||r.mouseoverTimeout.start(k,function(){if(!r.isUnmounted){var e=r.props,t=e.analyticsContext,n=t.loadId,o=t.location,a=e.sku,i=e.type,l=e.muted,u=null!=a?a.id:null;E.ComponentDispatch.dispatch(b.ComponentActions.STORE_VIDEO_PLAY,{skuId:u,muted:l}),r.setState({playing:!0}),null!=a&&S.default.track(b.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,s({},a.getAnalyticsData(),H(r.props),{watch_trailer:!0,load_id:n,location:j(o,i)}))}})},r.handleMouseLeave=function(){var e=r.state,t=e.isMouseOver,n=e.playing;if(r.mouseoverTimeout.stop(),r.extendedPlayTimeout.stop(),!r.isUnmounted){var o=null;t&&(o={isMouseOver:!1}),n&&(o=s({},o,{stationaryExtendedPlay:!1,playing:!1})),null!=o&&r.setState(o)}},r.handleMouseMove=function(){r.state.stationaryExtendedPlay&&r.setState({stationaryExtendedPlay:!1}),r.extendedPlayTimeout.start(k+U,function(){r.isUnmounted||r.setState({stationaryExtendedPlay:!0})})},r.handleToggleMute=function(){var e=r.props,t=e.sku,n=e.type,o=e.analyticsContext,a=o.loadId,i=o.location;null!=t&&S.default.track(b.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,s({},t.getAnalyticsData(),H(r.props),{audio_enabled:r.props.muted,load_id:a,location:j(i,n)})),r.props.muted?(null!=t&&E.ComponentDispatch.dispatch(b.ComponentActions.STORE_VIDEO_PLAY,{skuId:t.id,muted:!1}),(0,R.unmuteStoreDirectory)()):(0,R.muteStoreDirectory)()},r.handleVisibilityChange=function(e){if(!r.state.hasSeen&&e){r.setState({hasSeen:e});var t=r.props,n=t.onSKUViewed,o=t.sku;null!=n&&null!=o&&n(o)}},r.handleContextMenu=function(e){var t=r.props,n=t.onContextMenu,o=t.sku;null!=o&&null!=n&&n(e,o.applicationId)},D(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.isUnmounted=!0,this.mouseoverTimeout.stop(),this.extendedPlayTimeout.stop(),E.ComponentDispatch.unsubscribe(b.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},t.prototype.componentDidUpdate=function(e,t){var n=this.state.playing;!t.playing&&n&&E.ComponentDispatch.subscribe(b.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying),!n&&t.playing&&E.ComponentDispatch.unsubscribe(b.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},t.prototype.getStoreListingLocation=function(){var e=this.props,t=e.sku,n=e.type,r=e.analyticsContext.location;if(null==t)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,_.getStoreListingLocation)(t.id,{slug:t.slug,analyticsSource:j(r,n),analyticsProperties:H(this.props)})},t.prototype.renderTile=function(){var e=this.props,t=e.type,n=e.sku,r=e.skuId,o=e.storeListing,a=e.muted,i=e.inLibrary,l=e.showBuyInline,u=this.state,s=u.hasSeen,f=u.playing,d=u.stationaryExtendedPlay,p=u.isMouseOver;if(null==n)throw new Error("Should not be rendering ApplicationDirectoryTile without SKU: "+r);if(null==o)throw new Error("Should not be rendering ApplicationDirectoryTile without StoreListing");var h={onToggleMute:this.handleToggleMute,className:M.default.tile,sku:n,storeListing:o,playing:f,stationaryExtendedPlay:d,muted:a,inLibrary:i,showMediaPlaceholder:!s,isMouseOver:p,showBuyInline:l};switch(t){case b.StoreDirectoryTileTypes.MEDIA:return c.createElement(N.default,h);case b.StoreDirectoryTileTypes.REGULAR:default:return c.createElement(O.default,h)}},t.prototype.renderTilePopout=function(){var e=this.props.sku;return null==e?null:u(C.default,{tileRef:this._tileRef,className:M.default.popoutWrapper,sku:e,showPopout:this.state.playing})},t.prototype.render=function(){return u(y.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!this.state.hasSeen},void 0,c.createElement("div",{className:(0,f.default)(M.default.tilePopoutContainer,this.props.className),ref:this._tileRef,onContextMenu:this.handleContextMenu},u(d.Link,{to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,className:M.default.tileWrapper},void 0,this.renderTile()),this.renderTilePopout()))},t}(c.PureComponent);B.defaultProps={type:b.StoreDirectoryTileTypes.REGULAR},B.displayName="ApplicationDirectoryTile";var G=p.default.connectStores([m.default,v.default,I.default,A.default,g.default],function(e){var t=e.skuId,n=m.default.get(t);return{sku:n,inLibrary:null!=n&&I.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?g.default.getForSKU(n.id):null,muted:v.default.isDirectoryMuted}})((0,T.default)(B));t.default=(0,L.default)((0,P.default)(b.Experiments.STORE_DIRECTORY_BUY_INLINE,"Store Directory Buy Inline"),((l={})[b.ExperimentTypes.NONE]=function(e){return c.createElement(G,e)},l[b.ExperimentTypes.USER]=((i={})[b.ExperimentBuckets.CONTROL]=function(e){return c.createElement(G,e)},i[b.ExperimentBuckets.TREATMENT_1]=function(e){return c.createElement(G,s({},e,{showBuyInline:!0}))},i),l))},6457:function(e,t,n){"use strict";t.__esModule=!0,t.Answer=t.Filter=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),n(5617)),l=(o=i)&&o.__esModule?o:{default:o};function u(e,t){var n=e.children;return a("span",{className:t},void 0,n)}u.displayName="renderToken";t.Filter=function(e){return u(e,l.default.searchFilter)},t.Answer=function(e){return u(e,l.default.searchAnswer)}},6458:function(e,t,n){"use strict";var r;t.__esModule=!0,t.Components=void 0,t.matchColonGroup=p,t.generateDecorators=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).forEach(function(n){var r=e[n];t.push({strategy:function(e,t,r){return p(r,e,t,n)},component:d[r.componentType]})}),t},t.cleanQueryTokens=function(e,t){var n=!1,r=[];if(e.forEach(function(t,o){var a=e[o];r.push(t.getFullMatch()),f.IS_SEARCH_ANSWER_TOKEN.test(t.type)&&(a&&a.type!==s.default.NON_TOKEN_TYPE||!a)&&(n=!0,r.push(" "))}),!n)return t;return(0,a.replaceAllContent)(r.join(""),t)},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset;return(0,l.getSelectionScope)(e,r,o)};var o,a=n(6154),i=n(6067),l=n(6068),u=n(6081),s=(o=u)&&o.__esModule?o:{default:o},c=n(6457),f=n(0);var d=t.Components=((r={})[i.ComponentTypes.FILTER]=c.Filter,r[i.ComponentTypes.ANSWER]=c.Answer,r);function p(e,t,n,r){t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&e.getEntity(n).getType()===r},n)}},6481:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(6742)),l=s(n(5));n(5621);var u=s(n(5620));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.minDate,n=e.maxDate,r=e.onSelect,a=e.locale,l=e.value;return o("div",{className:u.default.calendarPicker},void 0,o(i.default,{fixedHeight:!0,inline:!0,selected:l,locale:a,onSelect:r,maxDate:n,minDate:t}))},t}(a.PureComponent);c.defaultProps={value:(0,l.default)().local()},c.displayName="CalendarPicker",t.default=c,e.exports=t.default},6482:function(e,t,n){"use strict";t.__esModule=!0;var r=_(n(3)),o=_(n(2)),a=n(6068),i=n(6067),l=_(i),u=_(n(62)),s=_(n(6062)),c=_(n(132)),f=_(n(933)),d=_(n(13)),p=_(n(6085)),h=_(n(6166)),y=_(n(6331)),E=n(0);function _(e){return e&&e.__esModule?e:{default:e}}var S={},T={},m=10,v=3;function A(e,t,n,r,o,a){var i=T[e];return null==i&&(i={results:[],context:y.default.getSearchContext(function(e,t){var n=t.results,r=T[e],o=S[e];if(null==r||null==o)return;var a=o.mode,i=a.type,l=a.filter;if(i===E.SearchPopoutModes.EMPTY||i===E.SearchPopoutModes.FILTER&&l!==E.SearchTokenTypes.FILTER_FROM&&l!==E.SearchTokenTypes.FILTER_MENTIONS)return;var u=v;o.mode.type===E.SearchPopoutModes.FILTER&&(u=m);r.results=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;(e=e.reduce(function(e,t){var n=d.default.getUser(t.id);return null==n?e:(e.push({text:n.tag,user:n}),e)},[])).length>t&&(e.length=t);return e}(n,u);var s=o.query,c=o.mode,f=o.tokens,p=o.cursorScope,h=o.autocompletes;h=O(e,c),S[e]=A(e,s,c,f,p,h),L.emitChange()}.bind(null,e))},T[e]=i),{query:t||"",mode:n||{type:E.SearchPopoutModes.EMPTY,filter:null,token:null},tokens:r||[],cursorScope:o||null,autocompletes:a||[]}}function g(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;if(!e)return null;var o=void 0;if(e===E.SearchTokenTypes.FILTER_FROM||e===E.SearchTokenTypes.FILTER_MENTIONS){var a=T[n];null==a?o=null:(null!=t&&0!==t.getFullMatch().trim().length||(a.results=p.default.getRecentlyTalked(n,m).map(function(e){var t=e.user;return{user:t,text:t.tag}})),o=a.results)}else{var i=l.default[e]&&l.default[e].getAutocompletions,u=(null!=t?t.getFullMatch():"").trim();o=i?i(u,n,r):[]}return o&&o.length?{group:e,results:o}:null}function I(e){var t,n=(e?e.getFullMatch():"").trim(),r=((t={})[E.SearchTokenTypes.FILTER_FROM]=!c.default.hidePersonalInformation,t[E.SearchTokenTypes.FILTER_MENTIONS]=!c.default.hidePersonalInformation,t[E.SearchTokenTypes.FILTER_HAS]=!0,t[E.SearchTokenTypes.FILTER_BEFORE]=!0,t[E.SearchTokenTypes.FILTER_AFTER]=!0,t[E.SearchTokenTypes.FILTER_ON]=!0,t[E.SearchTokenTypes.FILTER_IN]=s.default.getSearchType()===E.SearchTypes.GUILD,t),o=(0,i.getFilterAutocompletions)(n).filter(function(e){return r[e.token]});return{group:E.SearchAutocompleteGroups.SEARCH_OPTIONS,results:o}}function R(e,t){var n=[];return(e?e.getFullMatch():"").trim()&&(function(e){var t=s.default.getSearchType(e),n=[E.SearchTokenTypes.FILTER_HAS];return c.default.hidePersonalInformation||(n.push(E.SearchTokenTypes.FILTER_FROM),n.push(E.SearchTokenTypes.FILTER_MENTIONS)),t===E.SearchTypes.GUILD&&n.push(E.SearchTokenTypes.FILTER_IN),n}(t).forEach(function(r){if(r){var o=g(r,e,t,v);o&&n.push(o)}}),n.push(function(e,t){var n=(e?e.getFullMatch():"").trim();if(n){var r=l.default[E.SearchTokenTypes.FILTER_BEFORE].getAutocompletions(n,t,1),o=r[0],a=l.default[E.SearchTokenTypes.FILTER_ON].getAutocompletions(n,t,1),i=a[0],u=l.default[E.SearchTokenTypes.FILTER_AFTER].getAutocompletions(n,t,1),s=u[0];if(!o)return null;var c=[o,i,s];return{group:E.SearchAutocompleteGroups.DATES,results:c}}}(e,t))),(0,a.getTotalResults)(n)<5&&n.push(I(e)),n}function O(e,t){var n=[];return t.type===E.SearchPopoutModes.FILTER?n.push(g(t.filter,t.token,e,m)):t.type===E.SearchPopoutModes.FILTER_ALL?n=R(t.token,e):t.type===E.SearchPopoutModes.EMPTY&&(n.push(I(t.token)),n.push(function(e){if(c.default.hidePersonalInformation)return null;var t=s.default.getHistory(e);return t?{group:E.SearchAutocompleteGroups.HISTORY,results:t.map(function(e){return{text:e}})}:null}(e))),n}function N(){(0,a.clearTokenCache)()}function C(e){var t=S[e];if(t){var n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope,i=t.autocompletes;S[e]=A(e,n,r,o,a,i.map(function(e){return e&&e.group===E.SearchAutocompleteGroups.HISTORY?null:e}))}}function P(){if(f.default.isOpen(E.SEARCH_POPOUT_ID)){var e=s.default.getCurrentSearchId();if(e&&S[e]){var t=S[e],n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope;S[e]=A(e,n,r,o,a,O(e,r))}}}var L=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,c.default,f.default)},t.prototype.getState=function(e){return S[e]||A(e)},t}(r.default.Store))(o.default,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t=e.searchId,n=e.tokens,r=e.cursorScope;if(!f.default.isOpen(E.SEARCH_POPOUT_ID))return!1;var o=(0,a.getQueryFromTokens)(n),i=(0,a.getAutocompleteMode)(r,n),l=S[t]||{},u=T[t],s=!0,c=void 0;if(o!==l.query||l.mode&&l.mode.filter!==i.filter){if(i.type===E.SearchPopoutModes.EMPTY||i.type===E.SearchPopoutModes.FILTER&&i.filter!==E.SearchTokenTypes.FILTER_FROM&&i.filter!==E.SearchTokenTypes.FILTER_MENTIONS)null!=u&&(u.context.clearQuery(),u.results=[]),c=O(t,i);else if(null!=u){var d=i.token;null!=d&&d.getFullMatch().trim().length>0?(h.default.requestMembers(t,d.getFullMatch(),m),u.context.setQuery(d.getFullMatch().trim(),{guild:t}),c=l.autocompletes,s=!1):(u.context.clearQuery(),c=O(t,i))}}else c=l.autocompletes,s=!1;return S[t]=A(t,o,i,n,r,c),s},SEARCH_EDITOR_STATE_CLEAR:function(e){var t=e.searchId,n=T[t];null!=n&&(n.context.destroy(),n.results=[],delete T[t]),delete S[t]},CHANNEL_CREATE:function(e){return N()},CHANNEL_DELETE:function(e){return N()},STREAMER_MODE_UPDATE:function(e){return P()},POPOUT_OPEN:function(e){return P()},SEARCH_MODAL_OPEN:function(e){return P()},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null!=t?C(t):Object.keys(S).forEach(C)},LOGOUT:function(e){Object.keys(S).forEach(C)}});t.default=L,e.exports=t.default},6483:function(e,t,n){"use strict";var r;t.__esModule=!0,t.GroupData=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=x(n(1)),u=F(n(54)),s=F(n(3)),c=F(n(66)),f=F(n(18)),d=F(n(187)),p=F(n(65)),h=F(n(62)),y=F(n(28)),E=n(6128),_=n(6094),S=F(n(75)),T=F(n(81)),m=F(n(9)),v=F(n(5)),A=n(116),g=F(n(6482)),I=F(n(6481)),R=F(n(6161)),O=F(n(94)),N=F(n(145)),C=n(6067),P=F(C),L=F(n(7)),b=x(n(6068)),M=F(n(371)),w=F(n(6)),D=n(6081),k=n(0),U=F(n(5618));function F(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var j=/^\s*$/,H=(0,v.default)("2015-05-15").local();var B=function(e,t,n){var r=n.user,o=n.text;if(!r)return i("strong",{},void 0,o);var a=h.default.getNick(e,r.id)||r.username,l=r.avatarURL||r.getAvatarURL();return[i("img",{alt:"",className:U.default.displayAvatar,src:l},"avatar-"+t+"-"+r.id),i("span",{className:U.default.displayedNick},"display-nick-"+t+"-"+r.id,a),i("span",{className:U.default.displayUsername},"display-username-"+t+"-"+r.id,o)]},G=function(e,t,n){var r=n.channel,o=f.default.getChannel(r.parent_id),a=(0,_.getIconNameForChannel)(r);return i("div",{className:U.default.resultChannel},void 0,null!=a?i(S.default,{name:a,className:U.default.searchResultChannelIcon,background:U.default.searchResultChannelIconBackground}):null,i("strong",{},void 0,r.toString()),null!=o?i("span",{className:U.default.searchResultChannelCategory},void 0,o.toString()):null)};G.displayName="renderChannel";var V=function(e){var t,n=e.searchId,r=e.result,o=e.group,a=e.selected,l=e.className,u=e.onSelect,s=e.onFocus,c=e.showFilter,f=e.renderResult,d=void 0;c&&(d=i("span",{className:U.default.filter},void 0,P.default[o].key||"addme:"));var p=void 0;return p=f?f(n,o,r):i("strong",{},void 0,r.text),i(T.default,{className:(0,m.default)(U.default.option,l,(t={},t[U.default.selected]=a,t)),onClick:u,onMouseOver:s,onFocus:s},void 0,d,p,i(S.default,{name:S.default.Names.PLUS_ALT,className:U.default.plusIcon}))};V.displayName="ResultComponent";var W=function(e){return l.createElement(V,a({},e,{className:U.default.user,renderResult:B}))};W.displayName="UserResultComponent";var Y=function(e){return l.createElement(V,a({},e,{renderResult:G}))};Y.displayName="ChannelResultComponent";var K=t.GroupData=((r={})[k.SearchTokenTypes.FILTER_FROM]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_FROM},component:W},r[k.SearchTokenTypes.FILTER_MENTIONS]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_MENTIONS},component:W},r[k.SearchTokenTypes.FILTER_HAS]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_HAS}},r[k.SearchTokenTypes.FILTER_FILE_TYPE]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_FILE_TYPE}},r[k.SearchTokenTypes.FILTER_IN]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_CHANNELS},component:Y},r[k.SearchAutocompleteGroups.DATES]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_DATES}},r[k.SearchAutocompleteGroups.HISTORY]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_HISTORY},groupTip:function(e){var t=e.searchId;return i(O.default,{text:w.default.Messages.SEARCH_CLEAR_HISTORY,position:O.default.Positions.LEFT},void 0,i(T.default,{onClick:function(){return(0,E.clearHistory)(t)},className:U.default.searchClearHistory,title:w.default.Messages.SEARCH_CLEAR_HISTORY},void 0,i(S.default,{name:S.default.Names.CLEAR_HISTORY})))},component:(0,u.default)({displayName:"component",mixins:[s.default.LazyStoreListenerMixin(f.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{tokens:b.tokenizeQuery(this.props.result.text).map(function(e,t,n){return b.filterHasAnswer(e,n[t+1])?e:new D.Token(e.getFullMatch(),D.NON_TOKEN_TYPE)})}},render:function(){var e,t=this.props,n=t.selected,r=t.onSelect,o=t.onFocus,a=this.state.tokens.map(function(e,t){var n,r=e.getFullMatch();if(j.test(r))return null;var o=k.IS_SEARCH_FILTER_TOKEN.test(e.type),a=k.IS_SEARCH_ANSWER_TOKEN.test(e.type),l=!o&&!a;return i("span",{className:(0,m.default)((n={},n[U.default.filter]=o,n[U.default.answer]=a,n[U.default.nonText]=l,n))},t,r)});return i(T.default,{className:(0,m.default)(U.default.option,U.default.history,(e={},e[U.default.selected]=n,e)),onClick:r,onMouseOver:o,onFocus:o},void 0,a,i(S.default,{name:S.default.Names.PLUS_ALT,className:U.default.plusIcon}))}})},r[k.SearchAutocompleteGroups.SEARCH_OPTIONS]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS},groupTip:function(){return i(O.default,{text:w.default.Messages.LEARN_MORE,position:O.default.Positions.LEFT},void 0,i("div",{className:U.default.searchLearnMore},void 0,i(N.default,{href:M.default.getArticleURL(k.HelpdeskArticles.USING_SEARCH),title:w.default.Messages.LEARN_MORE},void 0,i(S.default,{name:S.default.Names.LEARN_MORE}))))},component:function(e){var t,n,r=e.result,o=e.selected,a=e.onSelect,l=e.onFocus,u=b.getSearchOptionAnswer(r.token);return i(T.default,{className:(0,m.default)(U.default.option,U.default.searchOption,(t={},t[U.default.selected]=o,t)),onClick:a,onMouseOver:l,onFocus:l},void 0,i("span",{className:U.default.filter},void 0,r.text),i("span",{className:(0,m.default)((n={},n[U.default.answer]=u,n))},void 0,u),i(S.default,{name:S.default.Names.PLUS_ALT,className:U.default.plusIcon}))}},r),z=(0,u.default)({displayName:"SearchPopout",mixins:[c.default,s.default.LazyStoreListenerMixin(d.default,p.default,g.default,y.default)],getInitialState:function(){return a({dateHint:(0,C.getRandomDateShortcut)()},this.getStateFromStores())},getStateFromStores:function(){var e=d.default.getGuildId(),t=p.default.getChannelId(),n=e||t;if(null==n)throw new Error("SearchPopout.getStateFromStores - invalid searchId");var r=g.default.getState(n),o=this.state?this.state.selectedIndex:-1,i=b.getTotalResults(r.autocompletes);return a({locale:y.default.locale,searchId:n,selectedIndex:o,totalResults:i},r)},componentDidUpdate:function(e,t){var n=this.state,r=n.mode,o=n.totalResults;r.filter&&!t.mode.filter&&o?this.setState({selectedIndex:0}):r.type===k.SearchPopoutModes.FILTER_ALL&&t.mode.type!==r.type?this.setState({selectedIndex:-1}):this.keepCurrentOptionSelected(t)},handleDateChange:function(e){this.setSearchQuery(e.format(k.SEARCH_DATE_FORMAT)+" ",!0)},keepCurrentOptionSelected:function(e){var t=this.state,n=t.mode,r=t.selectedIndex,o=t.autocompletes,a=t.totalResults;if(this.state.mode.type!==e.mode.type)this.setState({selectedIndex:-1});else if(e.selectedIndex>=0&&(e.selectedIndex===r||e.autocompletes.length!==o.length)){var i=b.getFlattenedStringArray(e.autocompletes,e.mode.type)[e.selectedIndex-1],l=b.getFlattenedStringArray(o,n.type).indexOf(i);-1!==l?this.setState({selectedIndex:l}):e.selectedIndex>=a&&this.setState({selectedIndex:a-1})}},focusNextOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;b.showDatePicker(n&&n.filter)||(t+=1,this.focusOption(t))},focusPreviousOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;b.showDatePicker(n.filter)||(t-=1,this.focusOption(t))},focusOption:function(e){var t=this.state.autocompletes,n=this.shouldShowSearchQuery();e<-1||!n&&e<0?e=b.getTotalResults(t)-1:n&&e>=b.getTotalResults(t)?e=-1:!n&&e>=b.getTotalResults(t)&&(e=0),this.setState({selectedIndex:e})},selectOption:function(e){if(null==e&&(e=this.state.selectedIndex),e<0)return!1;var t=this.state,n=t.autocompletes,r=t.mode;if(!b.showDatePicker(r.filter)){var o=b.getFlattenedStringArray(n,r.type);if(e>=o.length)return!1;var a=o[e],i=function(e){var t=!0;return e=e.trim(),(0,L.default)(P.default).forOwn(function(n){n.key&&e===n.key&&(t=!1)}),t}(a);return this.setSearchQuery(a,i),!0}},setSearchQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.mode,o=n.cursorScope,a=0;r.token?a=r.token.start:o&&o.currentToken&&(a=o.currentToken.end);var i=r.token?r.token.end:a;A.ComponentDispatch.dispatch(k.ComponentActions.SET_SEARCH_QUERY,{query:e,anchor:a,focus:i,performSearch:t}),this.setState({selectedIndex:-1})},shouldShowSearchQuery:function(){var e=this.state.mode;return e.type!==k.SearchPopoutModes.FILTER&&e.type!==k.SearchPopoutModes.EMPTY&&!b.showDatePicker(e.filter)},renderDatePicker:function(){return i("div",{className:U.default.datePicker},void 0,i(I.default,{locale:this.state.locale,onSelect:this.handleDateChange,maxDate:(0,v.default)().local(),minDate:H}),i("div",{className:U.default.datePickerHint},void 0,i("span",{className:U.default.hint},void 0,w.default.Messages.SEARCH_DATE_PICKER_HINT," "),i(T.default,{tag:"span",className:U.default.hintValue,onClick:this.handleHintClick},void 0,this.state.dateHint)))},handleHintClick:function(){this.setSearchQuery(this.state.dateHint,!0)},performSearch:function(){A.ComponentDispatch.dispatch(k.ComponentActions.PERFORM_SEARCH)},renderAutocompletes:function(){var e=this,t=this.state,n=t.autocompletes,r=t.selectedIndex,o=t.mode,a=t.searchId;if(b.showDatePicker(o.filter))return this.renderDatePicker();var l=-1;return n.map(function(t){if(!t||!t.results.length)return null;var n=K[t.group]||{},u=void 0;n.titleText&&(u=i("div",{className:U.default.header},void 0,n.titleText()));var s=n.groupTip||null;s&&(s=i(s,{searchId:a}));var c=n.component||V,f=o.type===k.SearchPopoutModes.FILTER_ALL||!1;return i("div",{className:U.default.resultsGroup},t.group,u,s,t.results.map(function(n){return n&&t?(l+=1,i(c,{searchId:a,group:n.group||t.group,result:n,showFilter:f,selected:r===l,onSelect:e.selectOption.bind(null,l),onFocus:e.focusOption.bind(null,l)},t.group+"-"+n.text+"-"+(n.key||""))):null}))})},render:function(){var e=this,t=this.state,n=t.query,r=t.selectedIndex,o=t.totalResults;return i(R.default,{numResults:o,query:n,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:r,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:function(){return e.focusOption(-1)},onSelectQuery:this.performSearch,renderNoResults:function(){return null}})}});t.default=z},6484:function(e,t,n){"use strict";t.__esModule=!0,t.analyze=f,t.shouldHighlight=d,t.highlightAST=p,t.createASTHighlighter=function(e){var t=new Set(f(e));return function(e){return p(e,t)}};var r=a(n(6744)),o=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function l(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function u(e){return e.toLowerCase()}function s(e){return i.has(e)}function c(e){return 0===e.length}function f(e){return(0,o.default)(e.split(/\W+/)).map(l).reject(c).map(u).reject(s).map(r.default).value()}function d(e,t){return!c(e=u(l(e)))&&!s(e)&&t.has((0,r.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach(function(e){return p(e,t)});else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach(function(e){d(e,t)?(r.length>0&&n.push({type:"text",content:r}),n.push({type:"highlight",content:e}),r=""):r+=e}),n.length>0&&(r.length>0&&n.push({type:"text",content:r}),"text"===e.type?e.content=n:e.content=[{type:"text",content:n}])}else null!=e.content&&p(e.content,t);return e}},6485:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(59)),o=a(n(384));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.create=function(e,n){var r=e.hit,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["hit"]),i=o.default.create(a,function(e){return r?n(e):e});return new t({hit:r,message:i})},t.prototype.initialize=function(e){this.message=e.message,this.hit=e.hit||!1},t}(r.default);t.default=i,e.exports=t.default},6486:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(12)),o=i(n(150)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isCanceled=!1,this.searchId=t,this.searchType=n,this.query=r}return e.prototype.fetch=function(e,t,n){var i=this;if(!this.isCanceled){var l=this.searchType===a.SearchTypes.GUILD?a.Endpoints.SEARCH_GUILD:a.Endpoints.SEARCH_CHANNEL;this.searchId&&r.default.get({url:l(this.searchId),query:o.default.stringify(this.query)}).then(function(r){i.isCanceled||(200===r.status?e(r):202===r.status&&(i.query.attempts=(i.query.attempts||0)+1,i.retryDelay=r.body.retry_after||5e3,i.retryLater(e,t,n),t(r)))}).catch(function(e){console.error(e),n(e)})}},e.prototype.cancel=function(){this.isCanceled=!0,null!=this.indexingPollId&&clearTimeout(this.indexingPollId)},e.prototype.retryLater=function(e,t,n){null!=this.indexingPollId&&clearTimeout(this.indexingPollId),this.indexingPollId=setTimeout(this.fetch.bind(this,e,t,n),this.retryDelay)},e}();t.default=l,e.exports=t.default},6487:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=U(n(1)),i=k(n(9)),l=k(n(3)),u=k(n(6)),s=k(n(6129)),c=k(n(119)),f=k(n(187)),d=k(n(235)),p=k(n(65)),h=k(n(6062)),y=k(n(933)),E=k(n(18)),_=k(n(6332)),S=k(n(225)),T=k(n(81)),m=n(6092),v=k(n(6483)),A=n(6206),g=U(n(6128)),I=k(n(189)),R=n(0),O=U(n(6154)),N=U(n(6068)),C=U(n(6458)),P=n(116),L=k(n(190)),b=k(n(6081)),M=k(n(6067)),w=k(n(6201));n(5616);var D=k(n(5615));function k(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var F=512,x=(0,w.default)(g.search,500),j=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={focused:!1},r.handleSetSearchQuery=function(e){var t=e.query,n=e.anchor,o=e.focus,a=e.performSearch,i=e.replace,l=r.props.editorState,u=O.getFirstTextBlock(l);" "!==t.charAt(t.length-1)&&(t+=" "),n&&" "!==u.charAt(n-1)&&" "!==t.charAt(0)&&(t=" "+t),i?(l=O.replaceAllContent(t,l),n=0):l=O.updateContent(t,l,n,o),l=O.truncateContent(l,F),l=r.tokenize(l);var s=n+t.length;l=O.setCollapsedSelection(s,l),r.setEditorState(l),a&&r.search(O.getFirstTextBlock(l))},r.renderPopout=function(){return a.createElement(v.default,{ref:r.setSearchPopoutRef})},r.search=function(e){var t=r.props,n=t.searchId,o=t.isSearching;if(!e){var a=r.props.editorState;e=O.getFirstTextBlock(a)}if(n&&!o){for(var i=N.tokenizeQuery(e),l=N.getSearchQueryFromTokens(i),u=0;u<i.length;u++)N.filterHasAnswer(i[u],i[u+1])||(e=e.substring(0,i[u].start)+e.substring(i[u].end));if(!i.length||0===Object.keys(l).length)return!1;x(n,l,e),r.onBlur()}return!0},r.handleClearSearch=function(e){e.preventDefault(),e.stopPropagation(),r.clearSearch()},r.handleFocusSearch=function(e){if(e.prefillCurrentChannel&&O.isEmpty(r.props.editorState)){var t=p.default.getChannelId(),n=E.default.getChannel(t);if(null==n||n.isPrivate())r.focusEditor();else{var o=c.default.getTextChannelNameDisambiguations(n.getGuildId())[n.id],a=null!=o?o.name:n.name;r.handleSetSearchQuery({query:M.default[R.SearchTokenTypes.FILTER_IN].key+"#"+a+" ",replace:!0})}}else r.focusEditor()},r.focusEditor=function(){r._editorRef&&r._editorRef.focus()},r.blurEditor=function(){r._editorRef&&r._editorRef.blur()},r.setEditorRef=function(e){r._editorRef=e},r.setPopoutRef=function(e){r._popoutRef=e},r.setSearchPopoutRef=function(e){r._searchPopoutRef=e},r.onFocus=function(){var e=r.props.searchType;L.default.trackWithMetadata(R.AnalyticEvents.SEARCH_OPENED,{search_type:e}),r.setState({focused:!0})},r.onBlur=function(){r.setState({focused:!1},function(){I.default.close(R.SEARCH_POPOUT_ID),O.isEmpty(r.props.editorState)&&r.clearSearch()})},r.onDownArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusNextOption(),!0},r.onUpArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusPreviousOption(),!0},r.onTab=function(e){if(!R.EnableAccessibility)return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.selectOption(),!0},r.handleReturn=function(e){e.preventDefault();var t=!1;return r._searchPopoutRef&&(t=r._searchPopoutRef.selectOption()),t||r.search(),!0},r.onEscape=function(e){return e.preventDefault(),e.stopPropagation(),r.blurEditor(),!0},r.handleBeforeInput=function(e){var t=r.props.editorState,n=r.state.focused;return O.getFirstTextBlock(t).length>=F||(t=O.updateContent(e,t),t=O.truncateContent(t,F),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0)},r.handleKeyCommand=function(e){var t=r.props.editorState,n=r.state.focused;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":return t=O.deleteContent(e,t),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":return t=O.miscCommand(e,t),t=r.tokenize(t),r.setEditorState(t),!0;case"split-block":case"underline":case"bold":case"italic":return!0}},r.handlePastedText=function(e){var t=r.props.editorState,n=r.state.focused;return e=null!=e?e.replace(/\n/g,""):"",t=O.updateContent(e,t),t=O.truncateContent(t,F),t=r.tokenize(t),n||r.setState({focused:!0}),r.setEditorState(t),!0},r.setEditorState=function(e){var t=r.props.searchId;g.setSearchState(t,e)},r.handleKeyBind=function(e){var t=e.key,n=e.metaKey,o=e.shiftKey,a=r.props.editorState;return e.stopPropagation(),"Home"===t||"ArrowLeft"===t&&n?(e.preventDefault(),a=o?O.setToStartSelection(a):O.setCollapsedStartSelection(a),r.setEditorState(a),!0):"End"===t||"ArrowRight"===t&&n?(e.preventDefault(),a=o?O.setToEndSelection(a):O.setCollapsedEndSelection(a),r.setEditorState(a),!0):O.getDefaultKeyBinding(e)},N.clearTokenCache(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){P.ComponentDispatch.subscribe(R.ComponentActions.PERFORM_SEARCH,this.search),P.ComponentDispatch.subscribe(R.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),P.ComponentDispatch.subscribe(R.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editorState,r=t.searchId;if(this.state.focused&&this.ensurePopoutIsOpen(),n!==e.editorState){var o=N.tokenizeQuery(O.getFirstTextBlock(n)),a=C.getSelectionScope(o,n);g.updateAutocompleteQuery(r,o,a),this._editorRef&&O.scrollCursorIntoView(this._editorRef.refs.editor)}},t.prototype.componentWillUnmount=function(){P.ComponentDispatch.unsubscribe(R.ComponentActions.PERFORM_SEARCH,this.search),P.ComponentDispatch.unsubscribe(R.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),P.ComponentDispatch.unsubscribe(R.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.tokenize=function(e){var t=N.tokenizeQuery(O.getFirstTextBlock(e)).filter(function(e){return e.type!==b.default.NON_TOKEN_TYPE});return O.applyTokensAsEntities(t,e,M.default)},t.prototype.clearSearch=function(){var e=this.props.searchId;e&&g.clearSearchState(e)},t.prototype.ensurePopoutIsOpen=function(){this._popoutRef&&!y.default.isOpen(R.SEARCH_POPOUT_ID)&&this._popoutRef.open()},t.prototype.handlePastedFiles=function(){return!0},t.prototype.handleDroppedFiles=function(){return!0},t.prototype.handleDrop=function(){return!0},t.prototype.renderInput=function(){var e=this.props.editorState;return a.createElement(A.Editor,{ref:this.setEditorRef,onDownArrow:this.onDownArrow,onUpArrow:this.onUpArrow,onTab:this.onTab,onEscape:this.onEscape,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:u.default.Messages.SEARCH,editorState:e,onChange:this.setEditorState})},t.prototype.render=function(){var e,t,n=this.props,r=n.searchId,l=n.editorState,u=n.hasResults,s=n.theme,c=n.className,f=n.isLurking,d=this.state.focused,p=!!O.getFirstTextBlock(l).length;return!r||f?null:a.createElement(S.default,{offsetX:-12,ref:this.setPopoutRef,uniqueId:R.SEARCH_POPOUT_ID,render:this.renderPopout,position:S.default.Positions.BOTTOM,toggleClose:!1,animationType:S.default.Animations.NONE,preventInvert:!0},o("div",{className:(0,i.default)(c,{"theme-dark":s===R.ThemeTypes.DARK})},void 0,o(T.default,{className:(0,i.default)(D.default.search,(e={},e[D.default.open]=p,e[D.default.focused]=d,e)),onClick:this.focusEditor},void 0,o("div",{className:(0,i.default)(D.default.searchBar,(t={},t[D.default.searchBarLight]=s===R.ThemeTypes.LIGHT,t))},r,this.renderInput(),o(m.SearchBarIcon,{handleClear:this.handleClearSearch,hasContent:p||u,className:D.default.icon})))))},t}(a.PureComponent);j.displayName="Search",t.default=l.default.connectStores([h.default,s.default,_.default,f.default,d.default],function(){var e=h.default.getCurrentSearchId(),t=h.default.getSearchType(),n=!!e&&h.default.isSearching(e),r=e&&h.default.getEditorState(e)||O.createEmptyEditorState(C.generateDecorators(M.default)),o=f.default.getGuildId();return{searchId:e,searchType:t,isSearching:n,editorState:r,hasResults:h.default.hasResults(e),theme:_.default.theme,isLurking:null!=o&&d.default.isLurking(o)}})(j),e.exports=t.default},6488:function(e,t,n){e.exports=n.p+"308e587f3a68412f137f7317206e92c2.svg"},6489:function(e,t,n){e.exports=n.p+"9b0d90147f7fab54f00dd193fe7f85cd.svg"},6490:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(3)),o=u(n(2)),a=u(n(149)),i=u(n(14)),l=u(n(61));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=10,c=15552e6,f=!1;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,i.default)},t.prototype.isEligible=function(){return f},t}(r.default.Store);t.default=new d(o.default,{CONNECTION_OPEN:function(e){return f!==(f=l.default.getFriendIDs().length>=s&&a.default.extractTimestamp(i.default.getId())<Date.now()-c)}}),e.exports=t.default},6491:function(e,t,n){"use strict";t.__esModule=!0;var r=c(n(3)),o=c(n(2)),a=c(n(24)),i=c(n(165)),l=c(n(6054)),u=c(n(13)),s=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f="surveys",d={},p=[{id:s.Experiments.SURVEY_NITRO,url:function(){var e=u.default.getCurrentUser();return"https://www.surveymonkey.com/r/8MZCZGJ?user_id="+(null!=e?e.id:"")},noticeContent:"Help improve Nitro! Take a short survey and let us know your thoughts.",noticeButton:"Take Survey",title:"Nitro Survey",description:"Ask users their thoughts on nitro n stuff",validateDescriptor:function(){var e=u.default.getNullableCurrentUser();return null!=e&&e.premiumType===s.PremiumTypes.TIER_2}}];function h(){Object.keys(d).length>0?a.default.set(f,d):a.default.remove(f)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([i.default],function(){return!0});var e=a.default.get(f)||{},t=new Set(p.map(function(e){return e.id}));p.forEach(function(n){var r=n.id;e[r]&&t.has(r)&&(d[r]=!0)}),h(),o.default.wait(function(){return l.default.registerSurveys(p)})},t.prototype.getCurrentSurvey=function(){return p.find(function(e){var t=e.id,n=e.validateDescriptor;if(d[t])return!1;var r=i.default.getEligibleExperiment(t);return null!=r&&(null==n||n(r,e))})},t}(r.default.Store);t.default=new y(o.default,{SURVEY_HIDE:function(e){var t=e.id;d[t]=!0,h()},LOGOUT:function(e){return d={},void a.default.remove(f)}}),e.exports=t.default},6504:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2)),o=n(0),a=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}t.default={setGuildFilter:function(e){var t=e.guildFilter,n=e.roleFilter,a=e.everyoneFilter;r.default.dispatch({type:o.ActionTypes.SET_RECENT_MENTIONS_FILTER,guildFilter:t,roleFilter:n,everyoneFilter:a})},truncateMentions:function(e){r.default.dirtyDispatch({type:o.ActionTypes.TRUNCATE_MENTIONS,size:e})},fetchRecentMentions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MAX_MENTIONS_PER_FETCH,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];r.default.dirtyDispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS,guildId:n}),a.default.get({url:o.Endpoints.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:i,everyone:l},retries:2}).then(function(t){var n=t.body;r.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_SUCCESS,messages:n,isAfter:null!=e,hasMoreAfter:n.length>=o.MAX_MENTIONS_PER_FETCH})},function(){r.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_FAILURE})})},deleteRecentMention:function(e){a.default.delete({url:o.Endpoints.MENTIONS_MESSAGE_ID(e),retries:2}),r.default.dispatch({type:o.ActionTypes.RECENT_MENTION_DELETE,id:e})}},e.exports=t.default},6505:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=S(n(7)),i=S(n(3)),l=S(n(2)),u=n(0),s=S(n(384)),c=S(n(18)),f=S(n(274)),d=S(n(14)),p=S(n(13)),h=S(n(187)),y=S(n(28)),E=S(n(61)),_=S(n(24));function S(e){return e&&e.__esModule?e:{default:e}}var T="recentMentionFilterSettings",m=[],v={},A=!1,g=!0,I=_.default.get(T,{guildFilter:u.RecentMentionsFilters.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),R=!1,O=!1;function N(e){if(e instanceof s.default)return e;var t=f.default.getMessage(e.channel_id,e.id);return null!=t?t:s.default.create(e)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.type!==u.MessageTypes.DEFAULT)return null;t||(t=e.channel_id);var n=c.default.getChannel(t);if(!n||n&&n.type===u.ChannelTypes.DM)return null;if(I.guildFilter===u.RecentMentionsFilters.THIS_SERVER&&n.getGuildId()!==h.default.getGuildId())return null;var r=e.author.id,o=d.default.getId();return E.default.isBlocked(r)||r===o?null:(e=N(e)).isMentioned(o,!I.everyoneFilter,!I.roleFilter)?e:null}function P(e){null!=v[e]&&(delete v[e],m=a.default.filter(m,function(t){return t.id!==e}))}function L(e){P(e.id)}function b(e){var t=o({},I);I=a.default.defaults(a.default.pick(e,["guildFilter","roleFilter","everyoneFilter"]),I),_.default.set(T,I);var n=function(e,n){return t[e]!==I[e]&&I[e]===n},r=n("guildFilter",u.RecentMentionsFilters.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);v={};var i=[];r&&m.forEach(function(e){var t=C(e);t&&(i.push(t),v[t.id]=!0)}),0===(m=i).length&&(R=!1)}function M(){a.default.forEach(m,function(e){e.timestamp.locale(y.default.locale)})}function w(){m=m.filter(function(e){return!E.default.isBlocked(e.author.id)})}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default,c.default,f.default)},t.prototype.isOpen=function(){return O},t.prototype.getMentions=function(){return R||m.length?m:null},r(t,[{key:"hasLoadedEver",get:function(){return R}},{key:"loading",get:function(){return A}},{key:"hasMore",get:function(){return g}},{key:"guildFilter",get:function(){return I.guildFilter}},{key:"everyoneFilter",get:function(){return I.everyoneFilter}},{key:"roleFilter",get:function(){return I.roleFilter}}]),t}(i.default.Store);t.default=new D(l.default,{LOAD_RECENT_MENTIONS:function(e){var t=e.guildId;A=!0,null==t&&I.guildFilter===u.RecentMentionsFilters.THIS_SERVER&&b({guildFilter:u.RecentMentionsFilters.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){var t=e.hasMoreAfter,n=e.messages,r=e.isAfter,o=a.default.map(n,N);r?m=m.concat(o):(m=o,v={}),a.default.forEach(o,function(e){v[e.id]=!0}),A=!1,g=t,R=!0},LOAD_RECENT_MENTIONS_FAILURE:function(e){A=!1},SET_RECENT_MENTIONS_FILTER:b,TRUNCATE_MENTIONS:function(e){for(var t=e.size,n=t;n<m.length;++n)delete v[m[n].id];m=m.slice(0,t),g=!0},GUILD_SELECT:function(e){I.guildFilter===u.RecentMentionsFilters.THIS_SERVER&&(R=!1)},CONNECTION_OPEN:function(e){return m=[],v={},void(R=!1)},GUILD_DELETE:function(e){var t=e.guild;m=a.default.filter(m,function(e){var n=c.default.getChannel(e.channel_id);return!(!n||n.getGuildId()===t.id)||(delete v[e.id],!1)})},MESSAGE_CREATE:function(e){var t=e.channelId,n=C(e.message,t);if(!n)return!1;(m=m.slice()).unshift(n),v[n.id]=!0},MESSAGE_UPDATE:function(e){var t=e.message.id;if(null!=v[t]){var n=a.default.findIndex(m,function(e){return e.id===t}),r=(m=m.slice())[n];m[n]=r.updateMessage(e.message)}},MESSAGE_DELETE:L,RECENT_MENTION_DELETE:L,MESSAGE_DELETE_BULK:function(e){var t=e.ids;a.default.forEach(t,P)},USER_SETTINGS_UPDATE:function(e){return M()},I18N_LOAD_SUCCESS:function(e){return M()},CHANNEL_DELETE:function(e){var t=e.channel;m=a.default.filter(m,function(e){return e.channel_id!==t.id||(delete v[e.id],!1)})},RELATIONSHIP_ADD:function(e){return w()},RELATIONSHIP_REMOVE:function(e){return w()},MENTION_MODAL_OPEN:function(e){O=!0},MENTION_MODAL_CLOSE:function(e){O=!1}}),e.exports=t.default},6506:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=O(n(60)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=O(n(54)),s=O(n(9)),c=O(n(66)),f=O(n(3)),d=O(n(6505)),p=O(n(6504)),h=O(n(6)),y=O(n(6345)),E=n(0),_=n(6072),S=O(_),T=O(n(191)),m=O(n(193)),v=O(n(225)),A=O(n(275)),g=O(n(28)),I=O(n(198)),R=O(n(5622));function O(e){return e&&e.__esModule?e:{default:e}}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.guildFilter,r=t.roleFilter,o=t.everyoneFilter,a=t.messageId,i=void 0===a?null:a;n=void 0===n?d.default.guildFilter:n,r=void 0===r?d.default.roleFilter:r,o=void 0===o?d.default.everyoneFilter:o;var l=null;e&&(l=n===E.RecentMentionsFilters.ALL_SERVERS?null:e.getGuildId()),p.default.fetchRecentMentions(i,E.MAX_MENTIONS_PER_FETCH,l,r,o)}var C=(0,u.default)({displayName:"FilterPopout",propTypes:{channel:i.default.instanceOf(A.default)},mixins:[f.default.StoreListenerMixin(d.default),c.default],getStateFromStores:function(){return{everyoneFilter:d.default.everyoneFilter,roleFilter:d.default.roleFilter}},toggleRoleFilter:function(){var e=!this.state.roleFilter;p.default.setGuildFilter({roleFilter:e}),N(this.props.channel,{roleFilter:e})},toggleEveryoneFilter:function(){var e=!this.state.everyoneFilter;p.default.setGuildFilter({everyoneFilter:e}),N(this.props.channel,{everyoneFilter:e})},render:function(){return l.createElement("div",this.props,a("div",{className:(0,s.default)(I.default.contextMenu,"theme-"+g.default.theme,R.default.recentMentionsFilterPopout)},void 0,a(T.default,{},void 0,a(m.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:this.toggleEveryoneFilter,active:this.state.everyoneFilter},"Everyone"),a(m.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_ROLES,action:this.toggleRoleFilter,active:this.state.roleFilter},"Roles"))))}}),P=(0,u.default)({displayName:"RecentMentions",mixins:[f.default.StoreListenerMixin(d.default,g.default),c.default],setGuildFilter:function(e){p.default.setGuildFilter({guildFilter:e}),N(this.props.channel,{guildFilter:e})},getStateFromStores:function(){return{theme:g.default.theme,messages:d.default.getMentions(),hasMore:d.default.hasMore,loading:d.default.loading,guildFilter:d.default.guildFilter,roleFilter:d.default.roleFilter,everyoneFilter:d.default.everyoneFilter}},loadMore:function(){var e=this.state.messages,t=e&&e.length>0?e[e.length-1].id:null;N(this.props.channel,{messageId:t})},renderEmptyState:function(e){var t=h.default.Messages.NO_RECENT_MENTIONS,r=e===E.ThemeTypes.LIGHT?n(6489):n(6488);return a(y.default.EmptyStateBottom,{msg:t,image:r})},getProTip:function(){return h.default.Messages.RECENT_MENTIONS_PRO_TIP},renderDisplayPopout:function(e){return l.createElement(C,o({},e,{channel:this.props.channel}))},fetchOnMount:function(e){d.default.hasLoadedEver||N(e)},componentWillUnmount:function(){this.state.messages&&this.state.messages.length>E.MAX_MENTIONS_PER_FETCH&&p.default.truncateMentions(E.MAX_MENTIONS_PER_FETCH)},onCloseMessage:function(e){p.default.deleteRecentMention(e.id)},render:function(){var e=this.state,t=e.messages,n=e.loading,r=e.hasMore;return a(y.default,{className:R.default.recentMentionsPopout,onFetch:this.fetchOnMount,onJump:this.props.onJump,onCloseMessage:this.onCloseMessage,channel:this.props.channel,messages:t,loading:n,hasMore:r,analyticsName:"Recent Mentions",loadMore:this.loadMore,showGuildNames:this.state.guildFilter===E.RecentMentionsFilters.ALL_SERVERS,showChannels:!0,getProTip:this.getProTip,canCloseAllMessages:!0,renderMentioned:!1,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})},renderHeader:function(){var e=this.state.theme,t=h.default.Messages.RECENT_MENTIONS_FILTER_EXPLAIN_EVERYTHING;this.state.everyoneFilter||this.state.roleFilter?this.state.everyoneFilter?this.state.roleFilter||(t=h.default.Messages.RECENT_MENTIONS_EVERYONE_AND_DIRECT):t=h.default.Messages.RECENT_MENTIONS_ROLES_AND_DIRECT:t=h.default.Messages.RECENT_MENTIONS_DIRECT_ONLY;var n=null,r=this.state.guildFilter,o=e===E.ThemeTypes.LIGHT?E.Colors.PRIMARY_DARK:E.Colors.WHITE;return this.props.channel&&!this.props.channel.isPrivate()?n=a(_.Item,{id:E.RecentMentionsFilters.THIS_SERVER,className:R.default.tabBarItem,color:o},void 0,h.default.Messages.THIS_SERVER):r=E.RecentMentionsFilters.ALL_SERVERS,a(y.default.Header,{title:h.default.Messages.RECENT_MENTIONS,className:R.default.header},void 0,a("div",{className:R.default.headerTabBarWrapper},void 0,a(S.default,{selectedItem:r,onItemSelect:this.setGuildFilter,type:_.Types.TOP,className:R.default.tabBar},void 0,a(_.Item,{id:E.RecentMentionsFilters.ALL_SERVERS,className:R.default.tabBarItem,color:o},void 0,h.default.Messages.ALL_SERVERS),n),a(v.default,{render:this.renderDisplayPopout,position:v.default.Positions.BOTTOM_LEFT,preventInvert:!0,dependsOn:this.props.popoutName,zIndexBoost:100,shadow:!1,offsetY:-25},void 0,a("div",{className:R.default.mentionFilter},void 0,a("div",{className:R.default.label},void 0,h.default.Messages.RECENT_MENTIONS_FILTER_LABEL),a("div",{className:R.default.value},void 0,t)))))}});t.default=P,e.exports=t.default},6507:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(11)),o=l(n(12)),a=n(0),i=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var u=36e5,s=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateAvailable=!1,this.hasNativeUpdate=!1,this._callbacks=[],this.checkForUpdates=function(){return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&t.updateAvailable||(r.default.embedded?r.default.send("CHECK_FOR_UPDATES"):t._handleNativeUpdateNotAvailable()),new Promise(function(e){t.updateAvailable?e(!0):t._callbacks.push(e)})},this._handleCheckingForUpdates=function(){i.default.dispatch({type:a.ActionTypes.CHECKING_FOR_UPDATES})},this._handleNativeUpdateNotAvailable=function(){t._handleCheckingForUpdates(),o.default.get({url:location.protocol+"//"+location.host+"/assets/version."+window.GLOBAL_ENV.RELEASE_CHANNEL+".json",query:{_:Date.now()/1e3/60/5|0}}).then(function(e){null!=e.body&&"98a420a7f60bef60d0892f5ced0f2045889a5694"!==e.body.hash&&e.body.required?t._handleUpdateDownloaded(!1):t._handleUpdateNotAvailable()},function(){return t._handleUpdateError()})},this._handleUpdateNotAvailable=function(){i.default.dispatch({type:a.ActionTypes.UPDATE_NOT_AVAILABLE}),t._emitCallbacks()},this._handleUpdateAvailable=function(e){t.updateAvailable=!0,t.hasNativeUpdate=e,i.default.dispatch({type:a.ActionTypes.UPDATE_AVAILABLE})},this._handleUpdateManually=function(){t.updateAvailable=!0,t.hasNativeUpdate=!0,i.default.dispatch({type:a.ActionTypes.UPDATE_MANUALLY})},this._handleUpdateError=function(e){t.updateAvailable=!1,i.default.dispatch({type:a.ActionTypes.UPDATE_ERROR,message:e})},this._handleUpdateDownloaded=function(e,n,r,o,l){t._handleUpdateAvailable(e),i.default.dispatch({type:a.ActionTypes.UPDATE_DOWNLOADED,releaseNotes:n,releaseName:r,releaseDate:o,updateURL:l}),t._emitCallbacks()},r.default.embedded&&(r.default.on(a.ActionTypes.CHECKING_FOR_UPDATES,this._handleCheckingForUpdates),r.default.on(a.ActionTypes.UPDATE_NOT_AVAILABLE,this._handleNativeUpdateNotAvailable),r.default.on(a.ActionTypes.UPDATE_AVAILABLE,function(){return t._handleUpdateAvailable(!0)}),r.default.on(a.ActionTypes.UPDATE_ERROR,this._handleUpdateError),r.default.on(a.ActionTypes.UPDATE_DOWNLOADED,function(){return t._handleUpdateDownloaded(!0)}),r.default.on(a.ActionTypes.UPDATE_MANUALLY,this._handleUpdateManually)),this._checkInterval=setInterval(this.checkForUpdates,n)}return e.prototype.destroy=function(){clearInterval(this._checkInterval)},e.prototype.quitAndInstall=function(){this.updateAvailable&&(this.hasNativeUpdate?r.default.send("QUIT_AND_INSTALL"):location.reload(!0))},e.prototype._emitCallbacks=function(){var e=this;this._callbacks.forEach(function(t){return t(e.updateAvailable)}),this._callbacks=[]},e}();t.default=s,e.exports=t.default},6508:function(e,t,n){"use strict";t.__esModule=!0,t.checkForUpdates=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.checkForUpdates(e)},t.quitAndInstall=function(){a.quitAndInstall()};var r,o=n(6507);var a=new((r=o)&&r.__esModule?r:{default:r}).default},6509:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(3)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var i=n(0).ActionTypes.UPDATE_NOT_AVAILABLE;function l(e){i=e.type}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return i},t}(r.default.Store);t.default=new u(o.default,{CHECKING_FOR_UPDATES:l,UPDATE_NOT_AVAILABLE:l,UPDATE_AVAILABLE:l,UPDATE_MANUALLY:l,UPDATE_ERROR:l,UPDATE_DOWNLOADED:l}),e.exports=t.default},6562:function(e,t,n){"use strict";t.__esModule=!0,t.MessageStyles=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=p(n(1)),i=d(n(147)),l=d(n(3)),u=d(n(2)),s=d(n(1016)),c=p(n(282)),f=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var h=t.MessageStyles=(0,i.default)({SHORT:null,LONG:null}),y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getText=function(e,t){if(429===e.status)switch(t){case h.SHORT:return f.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR_SHORT;case h.LONG:return f.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR}switch(t){case h.SHORT:return f.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR_SHORT;case h.LONG:return f.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR}},t.prototype.componentWillUnmount=function(){this.props.purchaseError&&u.default.wait(function(){return c.clearPurchaseError()})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.purchaseError,r=e.messageStyle;return null==n?null:o("div",{className:t},void 0,this.getText(n,r))},t}(a.PureComponent);y.defaultProps={messageStyle:h.LONG},y.displayName="ApplicationStorePurchaseError",t.default=l.default.connectStores([s.default],function(){return{purchaseError:s.default.error}})(y)},6563:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(5)),l=d(n(145)),u=d(n(42)),s=n(523),c=n(151),f=d(n(5658));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCoverImageURL=function(){var e=this.props,t=e.game,n=e.news.thumbnail;return null!=n&&null!=n.proxy_url?(0,c.getSizedImageSrc)(n.proxy_url,700,210,"png"):t.getSplashURL(700)},t.prototype.getCoverImageURLStyle=function(){var e=this.getCoverImageURL();return null!=e?{backgroundImage:"url("+e+")"}:null},t.prototype.getTimestamp=function(){var e=this.props.news;return null!=e.timestamp?(0,s.dateFormat)((0,i.default)(e.timestamp),"LL"):null},t.prototype.renderOpenBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),n=this.getTimestamp();return o(u.default,{className:f.default.openWrap},void 0,o("div",{className:f.default.openBody},void 0,null!=n?o("div",{className:f.default.openTimestamp},void 0,n):null,o("div",{className:f.default.openTitle},void 0,e.title),o("div",{className:f.default.openDescription},void 0,e.description)),o("div",{className:f.default.openImage,style:t}))},t.prototype.renderCollapsedBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),n=null!=e.timestamp?(0,s.dateFormat)((0,i.default)(e.timestamp),"LL"):null;return o(u.default,{className:f.default.collapsedWrap},void 0,o("div",{className:f.default.collapsedImage,style:t}),o(u.default,{className:f.default.collapsedBody,direction:u.default.Direction.VERTICAL,justify:u.default.Justify.CENTER,style:{margin:16}},void 0,null!=n?o("div",{className:f.default.collapsedTimestamp},void 0,n):null,o("div",{className:f.default.collapsedTitle},void 0,e.title)))},t.prototype.render=function(){var e=this.props,t=e.collapsed,n=e.news;return o(l.default,{href:n.url,target:"_blank",className:f.default.item},void 0,t?this.renderCollapsedBody():this.renderOpenBody())},t}(a.PureComponent);p.displayName="ApplicationNewsItem",t.default=p,e.exports=t.default},6564:function(e,t,n){"use strict";t.__esModule=!0,t.ItemSizes=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=((o=["grayscale(",")"]).raw=["grayscale(",")"],o),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=I(n(9)),c=I(n(224)),f=n(116),d=I(n(6338)),p=n(980),h=I(n(6341)),y=n(6566),E=I(y),_=n(6102),S=I(_),T=I(n(551)),m=I(n(81)),v=I(n(938)),A=n(0),g=I(n(5662));function I(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O={top:85,left:85,bottom:85,right:85},N=t.ItemSizes={SMALL:{width:640,height:360,margin:15},MEDIUM:{width:880,height:495,margin:20}},C={width:1920,height:1080},P={width:1280,height:720},L=function(e){var t=e.item,n=e.size,r=e.onPlay,o=e.onEnded,l=e.onClick,u=e.playable,s=e.volume,c=e.isMuted,f=e.onVolumeChange,d=e.onMute,y=void 0,E=void 0;if(t.type===A.CarouselMediaTypes.YOUTUBE_VIDEO)y=i({url:(0,A.YOUTUBE_PREVIEW_URL)(t.youtubeVideoId)},C),E=i({url:(0,A.YOUTUBE_EMBED_URL)(t.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},P);else{var _=null!=t.width?t.width:0,S=null!=t.height?t.height:0;y={url:t.thumbnailSrc,width:_,height:S},E={url:t.src,proxyURL:t.src,width:_,height:S}}var T=a(p.EmbedVideo,{href:null,thumbnail:y,video:E,allowFullScreen:!0,VideoComponent:h.default,maxHeight:n.height,maxWidth:n.width,onPlay:r,onEnded:o,playable:u,className:g.default.video,volume:s,onVolumeChange:f,autoMute:c,onMute:d,autoPlay:!0});return u?T:a(m.default,{onClick:l},void 0,T)},b=function(){return a("div",{className:g.default.paginationVideoOverlay},void 0,a(T.default,{inactive:!0,className:g.default.paginationVideoPlayPill}))};b.displayName="VideoOverlay";var M=a(b,{}),w=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=R(this,e.call.apply(e,[this].concat(i))),r.state={currentIndex:0,animate:!0,playingVideo:!1,hasInteracted:!1,hoveringPreviousItem:!1,hoveringNextItem:!1,volume:1,isMuted:!0},r.getItemSize=function(){var e=r.props.width,t=N.MEDIUM;return null!=e&&e<t.width&&(t=N.SMALL),t},r.setItem=function(e,t){var n=r,o=n.props,a=o.items,i=o.onIntentionalChange,l=n.state,u=l.currentIndex,s=l.hasInteracted,c=(0,y.normalizeIndex)(u,a.length),f=(0,y.normalizeIndex)(e,a.length),d=1===Math.abs(e-c)||e===a.length-1&&0===c||0===e&&c===a.length-1;t&&(s=!0),r.setState({playingVideo:!1,currentIndex:f,animate:d,hasInteracted:s}),t&&null!=i&&i(a[f],c,f)},r.autoNext=function(){r.setItem(r.state.currentIndex+1,!1)},r.manualNext=function(){r.setItem(r.state.currentIndex+1,!0)},r.manualPrevious=function(){r.setItem(r.state.currentIndex-1,!0)},r.handlePlay=function(e){return r.setState({playingVideo:!0,hasInteracted:!e})},r.handleEnded=function(){r.state.hasInteracted||r.autoNext()},r.handleVolumeChange=function(e){r.setState({volume:e,hasInteracted:!0})},r.handleMute=function(e){r.setState({isMuted:e,hasInteracted:!0})},r.handleVideoClick=function(e){r.setItem(e,!0)},r.handleEdgeItemMouseLeave=function(){r.setState({hoveringPreviousItem:!1,hoveringNextItem:!1})},r.renderCarouselImage=function(e,t,n){return n?a(m.default,{onClick:function(){return r.handleCurrentItemClick(e,t)},className:g.default.itemImageWrapper},void 0,a("img",{src:e.src,alt:"",className:g.default.currentImage})):a(m.default,{onClick:function(){return r.setItem(t,!0)},className:g.default.itemImageWrapper},void 0,a("img",{alt:"",className:g.default.itemImage,src:e.src,draggable:!1}))},r.renderItem=function(e,t,n){var o,i=r.state,l=i.currentIndex,u=i.volume,f=i.isMuted,d=t===(0,y.normalizeIndex)(l,r.props.items.length);return a(c.default.div,{className:(0,s.default)(g.default.item,(o={},o[g.default.currentItem]=d,o)),style:null!=n?r.getStyle(t,n):null,onMouseEnter:d?null:function(){return r.handleEdgeItemMouseEnter(t)},onMouseLeave:d?null:r.handleEdgeItemMouseLeave},void 0,e.type===A.CarouselMediaTypes.VIDEO||e.type===A.CarouselMediaTypes.YOUTUBE_VIDEO?a(L,{item:e,size:r.getItemSize(),onPlay:r.handlePlay,onEnded:r.handleEnded,playable:d,onClick:function(){return r.handleVideoClick(t)},volume:u,onVolumeChange:r.handleVolumeChange,isMuted:f,onMute:r.handleMute}):r.renderCarouselImage(e,t,d))},r.renderPaginationItem=function(e,t){var n=r.state.currentIndex===t;return a("div",{className:(0,s.default)(g.default.paginationItem,n?g.default.selectedStorePaginationItem:g.default.unselectedStorePaginationItem)},"page-"+t,a("img",{alt:null==e.alt?t:e.alt,className:g.default.storePaginationImg,src:r.getPaginationSrc(e),draggable:!1}),e.type===A.CarouselMediaTypes.YOUTUBE_VIDEO||e.type===A.CarouselMediaTypes.VIDEO?M:null,n?a("div",{className:g.default.overlappingBorder}):null)},R(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){f.ComponentDispatch.subscribe(A.ComponentActions.CAROUSEL_PREV,this.manualPrevious),f.ComponentDispatch.subscribe(A.ComponentActions.CAROUSEL_NEXT,this.manualNext)},t.prototype.componentWillUnmount=function(){f.ComponentDispatch.unsubscribe(A.ComponentActions.CAROUSEL_PREV,this.manualPrevious),f.ComponentDispatch.unsubscribe(A.ComponentActions.CAROUSEL_NEXT,this.manualNext)},t.prototype.getStyle=function(e,t){var n=t.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:c.default.Extrapolate.CLAMP});return{opacity:t.interpolate({inputRange:[0,1],outputRange:[.3,1],extrapolate:c.default.Extrapolate.CLAMP}),filter:c.default.template(l,n)}},t.prototype.handleCurrentItemClick=function(e,t){var n=this.props.onCurrentItemClick;null!=n&&n(e,t),this.setState({hasInteracted:!0})},t.prototype.handleEdgeItemMouseEnter=function(e){var t=this.state.currentIndex;e<t?this.setState({hoveringPreviousItem:!0}):e>t&&this.setState({hoveringNextItem:!0})},t.prototype.renderCarousel=function(){var e,t,n=this.props.items,r=this.state,o=r.currentIndex,i=r.animate,l=r.hoveringPreviousItem,u=r.hoveringNextItem,c=a(E.default,{items:n,itemSize:this.getItemSize(),renderItem:this.renderItem,currentIndex:o,animate:i,edgeItems:2});return n.length<=1?c:a("div",{className:g.default.carouselButtonsContainer},void 0,c,a(_.CarouselPrevious,{onClick:this.manualPrevious,className:(0,s.default)(g.default.arrow,(e={},e[g.default.arrowHovered]=l,e))}),a(_.CarouselNext,{onClick:this.manualNext,className:(0,s.default)(g.default.arrow,(t={},t[g.default.arrowHovered]=u,t))}))},t.prototype.getPaginationSrc=function(e){return e.type===A.CarouselMediaTypes.YOUTUBE_VIDEO?(0,A.YOUTUBE_PREVIEW_URL)(e.youtubeVideoId):e.type===A.CarouselMediaTypes.IMG?e.src:e.type===A.CarouselMediaTypes.VIDEO?e.thumbnailSrc:null},t.prototype.render=function(){var e=this,t=this.props,n=t.items,r=t.className,o=t.autoplayInterval,i=t.paused,l=this.state,u=l.currentIndex,s=l.playingVideo,c=l.hasInteracted;return a(d.default,{pauseOnHover:!0,onInterval:this.autoNext,interval:o,className:r,disable:s||c||i},void 0,this.renderCarousel(),a("div",{className:g.default.pagination},void 0,a(S.default,{renderItem:this.renderPaginationItem,scrollToPadding:O,items:n,selectedIndex:u,onSetItem:function(t){return e.setItem(t,!0)},paginationContainerClass:g.default.scroller,gutterStyle:S.default.Gutter.STORE,align:n.length<6?S.default.Align.LEFT:S.default.Align.CENTER})))},t}(u.PureComponent);w.defaultProps={autoplayInterval:8e3,paused:!1},w.displayName="MediaCarousel",t.default=(0,v.default)(w)},6565:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=T(n(9)),l=n(226),u=T(n(3)),s=T(n(41)),c=T(n(17)),f=T(n(164)),d=T(n(6101)),p=T(n(6115)),h=T(n(228)),y=(T(n(518)),n(0)),E=T(n(6189)),_=T(n(6)),S=T(n(5666));function T(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(373);var v=[{id:y.Routes.APPLICATION_STORE,label:_.default.Messages.STORE},{id:y.Routes.APPLICATION_STORE_BROWSE,label:_.default.Messages.APPLICATION_STORE_BROWSE}],A=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=m(this,e.call.apply(e,[this].concat(l))),r.handleClick=function(e){var t=r.props,n=t.location,o=t.analyticsContext.loadId;c.default.track(y.AnalyticEvents.STORE_BREADCRUMB_CLICK,{source:n,load_id:o}),s.default.transitionTo(e.id)},r.renderCustomBreadcrumb=function(e,t){var n;return o("span",{className:(0,i.default)(S.default.breadcrumb,(n={},n[S.default.activeBreadcrumb]=t,n))},void 0,e.label)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.sku,n=e.match,r=n.path,a=n.params,i=a.skuId,l=a.slug,u=v,s=y.Routes.APPLICATION_STORE_BROWSE;if(r!==y.Routes.APPLICATION_STORE_BROWSE&&null==t)return null;if(null!=t){var c=y.Routes.APPLICATION_STORE_LISTING_SKU(i,l);u=[].concat(v,[{id:c,label:t.name}]),s=c}return o(E.default,{renderCustomBreadcrumb:this.renderCustomBreadcrumb,onBreadcrumbClick:this.handleClick,breadcrumbs:u,activeId:s,separatorClassName:S.default.separator})},t}(a.PureComponent);A.displayName="StoreBreadcrumbs",t.default=(0,l.withRouter)((0,p.default)(u.default.connectStores([f.default,d.default],function(e){var t=e.match.params.skuId;return{sku:f.default.get(t),previousFilters:d.default.previousFilters}})((0,h.default)(A)))),e.exports=t.default},6566:function(e,t,n){"use strict";t.__esModule=!0,t.CarouselWithPreview=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.normalizeIndex=h;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),u=f(n(224)),s=f(n(938)),c=f(n(5675));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p={tension:7,friction:5,overshootClamping:!0};function h(e,t){return(e%t+t)%t}var y=t.CarouselWithPreview=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.animatedIndex=new u.default.Value(r.props.currentIndex),r.animatedOpacity=new u.default.Value(1),r.getItemStyle=function(){var e=r.props.itemSize,t=e.width;return{flexBasis:t,marginRight:e.margin,height:e.height,width:t}},r.interpolateValueForItem=function(e){return r.animatedIndex.interpolate({inputRange:[e-1,e,e+1],outputRange:[0,1,0],extrapolate:"clamp"})},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.currentIndex,r=t.items,o=h(n,r.length),a=h(e.currentIndex,r.length);o===a&&r.length===e.items.length||this.updateAnimatedIndex(o,a)},t.prototype.getCarouselTranslate=function(){var e=this.props,t=e.width,n=e.itemSize,r=e.edgeItems,o=(t-n.width)/2;return r*(n.width+n.margin)-o},t.prototype.animateToIndex=function(e,t){var n=this.animatedIndex,r=this.props.items;0===e&&t===r.length-1?n.setValue(-1):0===t&&e===r.length-1&&r.length>2&&n.setValue(r.length),u.default.spring(n,a({},p,{toValue:e})).start()},t.prototype.updateAnimatedIndex=function(e,t){var n=this.animatedIndex,r=this.animatedOpacity;this.props.animate?this.animateToIndex(e,t):u.default.timing(r,{fromValue:1,toValue:0,duration:100}).start(function(){n.setValue(e),u.default.timing(r,{fromValue:0,toValue:1,duration:100}).start()})},t.prototype.renderSingleItem=function(){var e=this.props,t=e.renderItem,n=e.items,r=e.itemSize,a=e.className;return o("div",{className:(0,l.default)(c.default.singleItemWrapper,c.default.viewport,a)},void 0,o("div",{className:c.default.singleItem,style:{width:r.width,height:r.height}},void 0,t(n[0],0)))},t.prototype.renderCarouselItems=function(){var e=this,t=this.animatedIndex,n=this.animatedOpacity,r=this.props,a=r.renderItem,i=r.items,l=r.itemSize,s=r.edgeItems,f=l.margin,d=l.width,p=this.getCarouselTranslate(),h=this.getItemStyle(),y=[].concat(i.slice(-s),i,i.slice(0,s)).map(function(t,n){return o("div",{style:h,className:c.default.item},n,a(t,n-s,e.interpolateValueForItem(n-s)))});return o(u.default.div,{className:c.default.carousel,style:{opacity:n,left:t.interpolate({inputRange:[0,1],outputRange:[-p,-f-d-p]})}},void 0,y)},t.prototype.render=function(){var e=this.props,t=e.items,n=e.className;if(t.length<=0)throw new Error("Carousel has no items");return 1===t.length?this.renderSingleItem():o("div",{className:(0,l.default)(c.default.viewport,n)},void 0,this.renderCarouselItems())},t}(i.Component);y.defaultProps={animate:!0,edgeItems:2},y.displayName="CarouselWithPreview",t.default=(0,s.default)(y)},6567:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=n(77),s=n(224),c=(o=s)&&o.__esModule?o:{default:o},f=n(939);function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p={WebkitFontSmoothing:"subpixel-antialiased",MozFontSmoothing:"subpixel-antialiased",fontSmoothing:"subpixel-antialiased",backfaceVisibility:"hidden"},h={tension:50,friction:7},y=i({},h,{friction:4}),E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=d(this,e.call.apply(e,[this].concat(a))),r.state={width:r.props.width||0,height:r.props.height||0},r.horizontalRotation=new c.default.Value(0),r.verticalRotation=new c.default.Value(0),r.scale=new c.default.Value(1),r.handleMouseEnter=function(){var e=r.props.hoverScale;r.animateTo({scaleValue:e})},r.handleMouseMove=function(e){var t=e.clientX,n=e.clientY,o=e.currentTarget,a=r.state,i=a.width,l=a.height,u=o.getBoundingClientRect(),s=u.top,c=-1*((t-u.left)/i*2-1),f=(n-s)/l*2-1;r.animateTo({horizontalValue:c,verticalValue:f})},r.handleMouseLeave=function(){r.animateTo({horizontalValue:0,verticalValue:0,scaleValue:1})},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){if(0===this.state.width||0===this.state.height){var e=(0,u.findDOMNode)(this);if(e instanceof HTMLElement){var t=e.getBoundingClientRect(),n=t.width,r=t.height;this.setState({width:n,height:r})}}},t.prototype.animateTo=function(e){var t=e.horizontalValue,n=e.verticalValue,r=e.scaleValue,o=this.horizontalRotation,a=this.verticalRotation,l=this.scale;null!=r&&c.default.spring(l,i({},y,{toValue:r})).start(),null!=t&&c.default.spring(o,i({},h,{toValue:t})).start(),null!=n&&c.default.spring(a,i({},h,{toValue:n})).start()},t.prototype.getAnimatedStyle=function(){var e=this.horizontalRotation,t=this.verticalRotation,n=this.scale,r=this.props.interpolateLengthToAngle,o=this.state,a=o.width,l=o.height;return c.default.accelerate(i({},p,{transform:[{rotateX:t.interpolate({inputRange:[0,1],outputRange:["0deg",r(l)+"deg"]})},{rotateY:e.interpolate({inputRange:[0,1],outputRange:["0deg",r(a)+"deg"]})},{scale:n}]}))},t.prototype.render=function(){var e=this.state,t=e.width,n=e.height,r=this.props.children;return f.isMobile||f.isTablet?r:a("div",{style:function(e){return i({transform:"perspective("+2*e+"px)",transformStyle:"preserve-3d"},p)}(Math.max(t,n)),onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},void 0,a(c.default.div,{style:this.getAnimatedStyle()},void 0,r))},t}(l.Component);E.defaultProps={hoverScale:1.015,interpolateLengthToAngle:function(e){return-.0030075188*e+6.8120300752}},E.displayName="HoverCard",t.default=E,e.exports=t.default},6568:function(e,t,n){"use strict";t.__esModule=!0,t.MODAL_CAROUSEL_PREV=t.MODAL_CAROUSEL_NEXT=t.CAROUSEL_PREV=t.CAROUSEL_NEXT=void 0;var r=n(116),o=l(n(937)),a=l(n(945)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){return o.default.hasModalOpen()||a.default.hasLayers()};t.CAROUSEL_NEXT={binds:["right"],global:!0,action:function(){if(!u())return r.ComponentDispatch.dispatch(i.ComponentActions.CAROUSEL_NEXT),!1}},t.CAROUSEL_PREV={binds:["left"],global:!0,action:function(){if(!u())return r.ComponentDispatch.dispatch(i.ComponentActions.CAROUSEL_PREV),!1}},t.MODAL_CAROUSEL_NEXT={binds:["right","down","space"],global:!0,action:function(){return r.ComponentDispatch.dispatch(i.ComponentActions.MODAL_CAROUSEL_NEXT),!1}},t.MODAL_CAROUSEL_PREV={binds:["left","up"],global:!0,action:function(){return r.ComponentDispatch.dispatch(i.ComponentActions.MODAL_CAROUSEL_PREV),!1}}},6741:function(e,t,n){var r={"./af":6330,"./af.js":6330,"./ar":6329,"./ar-dz":6328,"./ar-dz.js":6328,"./ar-kw":6327,"./ar-kw.js":6327,"./ar-ly":6326,"./ar-ly.js":6326,"./ar-ma":6325,"./ar-ma.js":6325,"./ar-sa":6324,"./ar-sa.js":6324,"./ar-tn":6323,"./ar-tn.js":6323,"./ar.js":6329,"./az":6322,"./az.js":6322,"./be":6321,"./be.js":6321,"./bg":6320,"./bg.js":6320,"./bm":6319,"./bm.js":6319,"./bn":6318,"./bn.js":6318,"./bo":6317,"./bo.js":6317,"./br":6316,"./br.js":6316,"./bs":6315,"./bs.js":6315,"./ca":6314,"./ca.js":6314,"./cs":6313,"./cs.js":6313,"./cv":6312,"./cv.js":6312,"./cy":6311,"./cy.js":6311,"./da":6310,"./da.js":6310,"./de":6309,"./de-at":6308,"./de-at.js":6308,"./de-ch":6307,"./de-ch.js":6307,"./de.js":6309,"./dv":6306,"./dv.js":6306,"./el":6305,"./el.js":6305,"./en-au":6304,"./en-au.js":6304,"./en-ca":6303,"./en-ca.js":6303,"./en-gb":6302,"./en-gb.js":6302,"./en-ie":6301,"./en-ie.js":6301,"./en-il":6300,"./en-il.js":6300,"./en-nz":6299,"./en-nz.js":6299,"./eo":6298,"./eo.js":6298,"./es":6297,"./es-do":6296,"./es-do.js":6296,"./es-us":6295,"./es-us.js":6295,"./es.js":6297,"./et":6294,"./et.js":6294,"./eu":6293,"./eu.js":6293,"./fa":6292,"./fa.js":6292,"./fi":6291,"./fi.js":6291,"./fo":6290,"./fo.js":6290,"./fr":6289,"./fr-ca":6288,"./fr-ca.js":6288,"./fr-ch":6287,"./fr-ch.js":6287,"./fr.js":6289,"./fy":6286,"./fy.js":6286,"./gd":6285,"./gd.js":6285,"./gl":6284,"./gl.js":6284,"./gom-latn":6283,"./gom-latn.js":6283,"./gu":6282,"./gu.js":6282,"./he":6281,"./he.js":6281,"./hi":6280,"./hi.js":6280,"./hr":6279,"./hr.js":6279,"./hu":6278,"./hu.js":6278,"./hy-am":6277,"./hy-am.js":6277,"./id":6276,"./id.js":6276,"./is":6275,"./is.js":6275,"./it":6274,"./it.js":6274,"./ja":6273,"./ja.js":6273,"./jv":6272,"./jv.js":6272,"./ka":6271,"./ka.js":6271,"./kk":6270,"./kk.js":6270,"./km":6269,"./km.js":6269,"./kn":6268,"./kn.js":6268,"./ko":6267,"./ko.js":6267,"./ky":6266,"./ky.js":6266,"./lb":6265,"./lb.js":6265,"./lo":6264,"./lo.js":6264,"./lt":6263,"./lt.js":6263,"./lv":6262,"./lv.js":6262,"./me":6261,"./me.js":6261,"./mi":6260,"./mi.js":6260,"./mk":6259,"./mk.js":6259,"./ml":6258,"./ml.js":6258,"./mn":6257,"./mn.js":6257,"./mr":6256,"./mr.js":6256,"./ms":6255,"./ms-my":6254,"./ms-my.js":6254,"./ms.js":6255,"./mt":6253,"./mt.js":6253,"./my":6252,"./my.js":6252,"./nb":6251,"./nb.js":6251,"./ne":6250,"./ne.js":6250,"./nl":6249,"./nl-be":6248,"./nl-be.js":6248,"./nl.js":6249,"./nn":6247,"./nn.js":6247,"./pa-in":6246,"./pa-in.js":6246,"./pl":6245,"./pl.js":6245,"./pt":6244,"./pt-br":6243,"./pt-br.js":6243,"./pt.js":6244,"./ro":6242,"./ro.js":6242,"./ru":6241,"./ru.js":6241,"./sd":6240,"./sd.js":6240,"./se":6239,"./se.js":6239,"./si":6238,"./si.js":6238,"./sk":6237,"./sk.js":6237,"./sl":6236,"./sl.js":6236,"./sq":6235,"./sq.js":6235,"./sr":6234,"./sr-cyrl":6233,"./sr-cyrl.js":6233,"./sr.js":6234,"./ss":6232,"./ss.js":6232,"./sv":6231,"./sv.js":6231,"./sw":6230,"./sw.js":6230,"./ta":6229,"./ta.js":6229,"./te":6228,"./te.js":6228,"./tet":6227,"./tet.js":6227,"./tg":6226,"./tg.js":6226,"./th":6225,"./th.js":6225,"./tl-ph":6224,"./tl-ph.js":6224,"./tlh":6223,"./tlh.js":6223,"./tr":6222,"./tr.js":6222,"./tzl":6221,"./tzl.js":6221,"./tzm":6220,"./tzm-latn":6219,"./tzm-latn.js":6219,"./tzm.js":6220,"./ug-cn":6218,"./ug-cn.js":6218,"./uk":6217,"./uk.js":6217,"./ur":6216,"./ur.js":6216,"./uz":6215,"./uz-latn":6214,"./uz-latn.js":6214,"./uz.js":6215,"./vi":6213,"./vi.js":6213,"./x-pseudo":6212,"./x-pseudo.js":6212,"./yo":6211,"./yo.js":6211,"./zh-cn":6210,"./zh-cn.js":6210,"./zh-hk":6209,"./zh-hk.js":6209,"./zh-tw":6208,"./zh-tw.js":6208};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=6741},6926:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(277),l=c(n(6649)),u=(c(n(89)),c(n(6))),s=c(n(5643));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleDisagree=function(){(0,i.matureDisagree)()},r.handleAgree=function(){(0,i.matureAgree)()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.game.name;return o("div",{className:s.default.matureListing},void 0,o(l.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:u.default.Messages.MATURE_LISTING_TITLE.format({name:e}),description:u.default.Messages.MATURE_LISTING_DESCRIPTION,agreement:u.default.Messages.MATURE_LISTING_ACCEPT,disagreement:u.default.Messages.MATURE_LISTING_DECLINE}))},t}(a.PureComponent);d.displayName="ApplicationStoreListingMature",t.default=d,e.exports=t.default},6927:function(e,t,n){"use strict";t.__esModule=!0,t.TestModeStoreListingButtonEnums=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=E(n(1)),l=y(n(3)),u=y(n(927)),s=y(n(46)),c=y(n(22)),f=E(n(32)),d=y(n(33)),p=y(n(6439)),h=y(n(6));function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TestModeStoreListingButtonEnums={DropdownSizes:p.default.DropdownSizes,Sizes:p.default.Sizes,Colors:p.default.Colors,Looks:p.default.Looks};var S=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=_(this,e.call.apply(e,[this].concat(i))),r.renderContextMenu=function(e){var t=e.className,n=e.style,o=r.props,i=o.storeListings,l=o.onStoreListingSelect,u=o.currentStoreListingId,s=i.map(function(e){return e.id!==u?a(d.default,{label:e.id,action:function(){f.closeContextMenu(),l&&l(e)}},e.id):null});return a("div",{className:t,style:n},void 0,s)},r.handleContextMenu=function(e){e.stopPropagation(),f.openContextMenu(e,r.renderContextMenu)},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.storeListings,n=e.primaryStoreListing,r=(e.skuId,e.onStoreListingSelect,e.currentStoreListingId,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["storeListings","primaryStoreListing","skuId","onStoreListingSelect","currentStoreListingId"])),a=null!=n?1:0;return(a+=t.length)<2?null:i.createElement(p.default,o({onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu},r),h.default.Messages.APPLICATION_TEST_MODE_VIEW_OTHER_LISTINGS)},t}(i.PureComponent);S.displayName="TestModeStoreListingButton",t.default=l.default.connectStores([u.default,s.default,c.default],function(e){var t=e.skuId;return{storeListings:u.default.getUnpublishedForSKU(t),primaryStoreListing:u.default.getForSKU(t)}})(S)},6928:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(81)),l=d(n(42)),u=n(75),s=d(u),c=d(n(71)),f=d(n(5644));function d(e){return e&&e.__esModule?e:{default:e}}var p=Object.freeze({METACRITIC:u.IconNames.METACRITIC});function h(e){var t=e.children;return o(c.default,{size:c.default.Sizes.MEDIUM,weight:c.default.Weights.SEMIBOLD,className:f.default.verdict},void 0,t)}h.displayName="ReviewScoreCardVerdict";var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderIcon=function(){var e=this.props.icon;return null==e?null:o(s.default,{name:e,width:100,height:100,className:f.default.icon})},t.prototype.renderCard=function(){var e=this.props,t=e.score,n=e.scoreColor,r=e.children;return o(l.default,{direction:l.default.Direction.HORIZONTAL,className:f.default.card},void 0,o(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.CENTER,grow:0,shrink:0,className:f.default.score,style:{backgroundColor:n}},void 0,t),o(l.default,{direction:l.default.Direction.VERTICAL,className:f.default.body},void 0,this.renderIcon(),r))},t.prototype.render=function(){var e=this.props.url;return null==e?this.renderCard():o(i.default,{tag:"a",href:e,rel:"noreferrer noopener",target:"_blank",className:f.default.clickableWrapper},void 0,this.renderCard())},t}(a.PureComponent);y.Icons=p,y.Verdict=h,y.displayName="ReviewScoreCard",t.default=y,e.exports=t.default},6929:function(e,t,n){"use strict";var r;t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=h;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var i=f(n(6)),l=f(n(940)),u=f(n(6928)),s=n(6198),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.review,n=e.className,r=(0,s.getRatingTier)(t);return null==r?null:a("div",{className:n},void 0,a(l.default,{},void 0,i.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC),a(u.default,{score:t.criticScore,scoreColor:r.color,icon:u.default.Icons.METACRITIC,url:t.url},void 0,a(u.default.Verdict,{},void 0,r.label),a("span",{},void 0,i.default.Messages.METACRITIC_NUM_CRITIC_RATINGS.format({numRatings:t.criticTotalRatings})),a("span",{},void 0,i.default.Messages.METACRITIC_USER_SCORE.format({score:t.secondaryScore,numRatings:t.secondaryTotalRatings}))))}d.displayName="MetacriticReviewScoreCard";var p=((r={})[c.ReviewAggregators.METACRITIC]=d,r);function h(e){var t=e.review,n=e.className,r=p[t.aggregator];if(null==r)throw new Error("unknown review aggregator "+t.aggregator);return a(r,{review:t,className:n})}h.displayName="ReviewScoreCardWrapper",e.exports=t.default},6930:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=T(n(9)),s=T(n(42)),c=T(n(45)),f=T(n(6)),d=n(393),p=n(11),h=T(p),y=T(n(940)),E=T(n(5645)),_=n(6144),S=n(0);function T(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=((o={})[S.OperatingSystems.WINDOWS]=f.default.Messages.WINDOWS,o[S.OperatingSystems.MACOS]=f.default.Messages.MACOS,o[S.OperatingSystems.LINUX]=f.default.Messages.LINUX,o),I=((a={})[S.OperatingSystems.WINDOWS]=p.PlatformTypes.WINDOWS,a[S.OperatingSystems.MACOS]=p.PlatformTypes.OSX,a[S.OperatingSystems.LINUX]=p.PlatformTypes.LINUX,a),R=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return A(t,e),t.prototype.render=function(){var e,t=this.props,n=t.active,r=t.children,o=t.pageSize,a=t.onClick,l=o===_.PageSizes.LARGE;return i(c.default,{size:l?c.default.Sizes.MIN:c.default.Sizes.LARGE,fullWidth:!l,color:n?E.default.tabSelectedColor:E.default.tabNotSelectedColor,className:(0,u.default)((e={},e[E.default.tabPageLarge]=l,e[E.default.tabPageSmall]=!l,e[E.default.tabSelected]=n,e[E.default.tabNotSelected]=!n,e)),onClick:a},void 0,r)},t}(l.PureComponent);R.displayName="Tab";var O=function(e){function t(n){m(this,t);var r=v(this,e.call(this,n));r.handleSelectOperatingSystem=function(e){r.setState({selectedOperatingSystem:e})};var o=h.default.getPlatform(),a=Object.keys(n.systemRequirements),i=a[0],l=a,u=Array.isArray(l),s=0;for(l=u?l:l[Symbol.iterator]();;){var c;if(u){if(s>=l.length)break;c=l[s++]}else{if((s=l.next()).done)break;c=s.value}var f=c;I[f]===o&&(i=f)}return r.state={selectedOperatingSystem:i},r}return A(t,e),t.prototype.renderTabs=function(){var e=this,t=this.props,n=t.pageSize,r=t.systemRequirements,o=this.state.selectedOperatingSystem,a=Object.keys(r);return 1===a.length?null:i(s.default,{className:E.default.tabs},void 0,i("div",{className:E.default.separator}),a.map(function(t){return i(R,{active:t===o,onClick:function(){return e.handleSelectOperatingSystem(t)},pageSize:n},t,g[t])}))},t.prototype.renderRequirementsSection=function(e,t){if(null==e)return null;var n=function(e){return[{key:f.default.Messages.APPLICATION_STORE_SPECS_OS,value:e.operating_system_version},{key:f.default.Messages.APPLICATION_STORE_SPECS_CPU,value:e.cpu},{key:f.default.Messages.APPLICATION_STORE_SPECS_MEMORY,value:null!=e.ram?f.default.Messages.APPLICATION_STORE_SPECS_MEMORY_VALUE.format({size:(0,d.formatSize)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:f.default.Messages.APPLICATION_STORE_SPECS_VIDEO,value:e.gpu},{key:f.default.Messages.APPLICATION_STORE_SPECS_STORAGE,value:null!=e.disk?(0,d.formatSize)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:f.default.Messages.APPLICATION_STORE_SPECS_SOUND,value:e.sound_card},{key:f.default.Messages.APPLICATION_STORE_SPECS_NETWORK,value:e.network},{key:f.default.Messages.APPLICATION_STORE_SPECS_NOTES,value:e.notes}]}(e).map(function(e,t){var n=null!=e.value?e.value.trim():null;return null==n||0===n.length?null:i("div",{className:E.default.requirement},t,i("span",{className:E.default.requirementKey},void 0,e.key,":"),n)}).filter(function(e){return null!=e});return i("div",{className:E.default.requirements},void 0,i(y.default,{tag:"h4"},void 0,t),n)},t.prototype.renderBody=function(){var e=this.props.systemRequirements[this.state.selectedOperatingSystem],t=e.minimum,n=e.recommended;return i("div",{className:E.default.requirementsContainer},void 0,this.renderRequirementsSection(t,f.default.Messages.APPLICATION_STORE_SPECS_MINIMUM),this.renderRequirementsSection(n,f.default.Messages.APPLICATION_STORE_SPECS_RECOMMENDED))},t.prototype.render=function(){return i("div",{className:this.props.className},void 0,i(y.default,{},void 0,f.default.Messages.APPLICATION_STORE_SECTION_TITLE_SYSTEM_REQUIREMENTS),this.renderTabs(),this.renderBody())},t}(l.PureComponent);O.displayName="SystemRequirements",t.default=O,e.exports=t.default},6931:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(3)),l=m(n(41)),u=m(n(25)),s=n(277),c=m(n(6115)),f=m(n(42)),d=m(n(45)),p=m(n(6063)),h=m(n(75)),y=m(n(940)),E=m(n(383)),_=m(n(6)),S=n(0),T=m(n(5646));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=v(this,e.call.apply(e,[this].concat(a))),r.handleJoinOrView=function(){var e=r.props,t=e.skuId,n=e.guild.id,o=function(){return l.default.transitionTo(S.Routes.GUILD(n))};e.isInGuild?o():(0,s.joinPublishedStoreListingSkuGuild)(t).then(o)},r.handleLogin=function(){l.default.transitionTo(S.Routes.LOGIN_AND_REDIRECT(S.Routes.APPLICATION_STORE_LISTING_SKU(r.props.skuId)))},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderMemberInfo=function(){var e=this.props.guild,t=e.approximateMemberCount,n=e.approximatePresenceCount;return null==t||null==n?null:o(f.default,{className:T.default.memberInfo,align:f.default.Align.CENTER},void 0,o("div",{className:T.default.dotOnline}),_.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n}),o("div",{className:T.default.dotOffline}),_.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:t}))},t.prototype.render=function(){var e=this.props,t=e.guild,n=e.isInGuild,r=e.isAuthenticated,a=e.className,i=new E.default(t),l=_.default.Messages.JOIN_SERVER,u=this.handleJoinOrView,s=d.default.Looks.FILLED,c=d.default.Colors.PRIMARY;return r?n&&(s=d.default.Looks.OUTLINED,c=T.default.buttonColorInGuild,l=o(f.default,{align:f.default.Align.CENTER},void 0,o("div",{},void 0,_.default.Messages.JOINED_SERVER),o(h.default,{name:h.default.Names.CHECKMARK,className:T.default.joinedCheckmark}))):(l=_.default.Messages.LOGIN,u=this.handleLogin),o("div",{className:a},void 0,o(y.default,{},void 0,_.default.Messages.APPLICATION_STORE_SECTION_TITLE_VERIFIED_GUILD),o("div",{className:T.default.content},void 0,o(f.default,{align:f.default.Align.CENTER,className:T.default.info},void 0,o(p.default,{guild:i,active:!0,size:p.default.Sizes.MEDIUM,className:T.default.guildIcon}),o("div",{className:T.default.infoText},void 0,o("div",{className:T.default.name},void 0,t.name),this.renderMemberInfo())),o(d.default,{size:d.default.Sizes.SMALL,color:c,look:s,onClick:u},void 0,l)))},t}(a.PureComponent);A.displayName="VerifiedGuildInvite",t.default=(0,c.default)(i.default.connectStores([u.default],function(e){var t=e.guild;return{isInGuild:null!=u.default.getGuild(t.id)}})(A)),e.exports=t.default},6932:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),y(n(3))),i=y(n(9)),l=y(n(133)),u=y(n(934)),s=y(n(145)),c=n(265),f=y(n(6150)),d=y(n(6)),p=n(0),h=y(n(5648));function y(e){return e&&e.__esModule?e:{default:e}}var E=Object.freeze({STAFF_NOTES:1,METACRITIC_REVIEW:2}),_=function(e){var t=e.user,n=e.className,r=e.animate;return o("div",{className:(0,i.default)(h.default.staffReviewHeader,n)},void 0,o(u.default,{size:c.AvatarSizes.LARGE,user:t,animate:r}),o("div",{className:h.default.headerText},void 0,o("div",{className:h.default.label},void 0,d.default.Messages.APPLICATION_STORE_STAFF_PICK),o("div",{className:h.default.username},void 0,t.username)))};_.displayName="StaffReason";var S=a.default.connectStores([l.default],function(){return{animate:l.default.isFocused()}})(_),T=function(e){var t=e.data,n=e.className;if(t.type===E.STAFF_NOTES){if(null==t.staffNotes)return null;var r=t.staffNotes,a=r.user,i=r.content;return null==a?null:o("div",{className:n},void 0,o(S,{user:a,className:h.default.header}),o("div",{className:h.default.notes},void 0,i))}if(t.type===E.METACRITIC_REVIEW){var l=t.reviewAggregator;if(null==l.reviews)return null;for(var u=l.reviews[0],c=1;c<l.reviews.length;c++){var d=l.reviews[c];null!=d.score&&d.score>(null!=u.score?u.score:0)&&(u=d)}return o("div",{className:n},void 0,o(f.default,{reason:{type:p.StoreRecommendationTypes.METACRITIC_SCORE,reviewAggregator:t.reviewAggregator},className:h.default.header}),o("div",{className:h.default.notes},void 0,u.quote),o("div",{className:h.default.publisher},void 0,null!=u.url&&0!==u.url.length?o(s.default,{href:u.url,className:h.default.publisherAnchor},void 0,u.publisher):u.publisher))}throw new Error("Unknown type")};T.Types=E,t.default=T,e.exports=t.default},6933:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(9)),l=v(n(3)),u=n(188),s=v(n(164)),c=v(n(927)),f=v(n(545)),d=v(n(540)),p=v(n(6151)),h=v(n(13)),y=v(n(6150)),E=v(n(6197)),_=v(n(6932)),S=v(n(6)),T=n(0),m=v(n(5647));function v(e){return e&&e.__esModule?e:{default:e}}var A=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSocialReasons=function(e){return 0===e.length?null:o("div",{className:m.default.section},void 0,o("div",{className:m.default.sectionContent},void 0,e.map(function(e){return o("div",{className:m.default.unit},e.type,o(E.default,{reason:e}))})))},t.prototype.renderNonSocialReasons=function(e){return 0===e.length?null:o("div",{className:m.default.section},void 0,o("div",{className:m.default.sectionContent},void 0,e.map(function(e){return o("div",{className:m.default.unit},e.type,o(y.default,{reason:e}))})))},t.prototype.getReviewToRender=function(){var e=this.props,t=e.storeListing,n=e.nonSocialReasons;if(null!=t.staffNotes)return{type:_.default.Types.STAFF_NOTES,staffNotes:t.staffNotes};var r=n.find(function(e){return e.type===T.StoreRecommendationTypes.METACRITIC_SCORE&&null!=e.reviewAggregator.reviews&&e.reviewAggregator.reviews.length>0});if(null!=r){if(r.type!==T.StoreRecommendationTypes.METACRITIC_SCORE||null==r.reviewAggregator)throw new Error("Unexpected null reviewAggregator");return{type:_.default.Types.METACRITIC_REVIEW,reviewAggregator:r.reviewAggregator}}return null},t.prototype.render=function(){var e=this.props,t=e.socialReasons,n=e.nonSocialReasons,r=e.storeListing,a=e.className;if(0===t.length&&0===n.length&&null==r.staffNotes)return null;var l=n,u=this.getReviewToRender();return null!=u&&u.type===_.default.Types.METACRITIC_REVIEW&&(l=n.filter(function(e){return e.type!==T.StoreRecommendationTypes.METACRITIC_SCORE})),o("div",{className:(0,i.default)(m.default.root,a)},void 0,o("div",{className:m.default.header},void 0,S.default.Messages.APPLICATION_STORE_SECTION_TITLE_RECOMMENDATION),this.renderSocialReasons(t),this.renderNonSocialReasons(l),null!=u?o(_.default,{data:u,className:m.default.review}):null)},t}(a.Component);A.displayName="ApplicationWhyYouMightLikeIt",t.default=l.default.connectStores([s.default,h.default,c.default,f.default,d.default,p.default],function(e){var t=e.sku;return{socialReasons:(0,u.getSocialRecommendationReasons)(t.id,s.default,h.default,f.default,d.default,p.default),nonSocialReasons:(0,u.getNonSocialRecommendationReasons)(t.id,s.default,c.default)}})(A),e.exports=t.default},6934:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(226),l=T(n(3)),u=n(188),s=T(n(22)),c=T(n(927)),f=T(n(164)),d=n(277),p=n(282),h=T(n(45)),y=T(n(228)),E=T(n(6)),_=n(0),S=T(n(5650));function T(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e){var t=e.applicationId,n=(0,u.getPrimarySKUForApplication)(t,s.default,f.default);return null!=n?c.default.getForSKU(n.id):null}var A=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=m(this,e.call.apply(e,[this].concat(a))),r.state={isCollapsed:!0},r.handleCollapsedToggle=function(){r.setState({isCollapsed:!r.state.isCollapsed})},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.relatedSkuIds;if(null==v(t))(0,d.fetchStoreListingForSku)(t.id);else if(null!=n){var r=n,o=Array.isArray(r),a=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(a>=r.length)break;i=r[a++]}else{if((a=r.next()).done)break;i=a.value}var l=i;(0,p.fetchSKU)(t.applicationId,l)}}},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.sku,r=t.relatedSkuIds;if(null!=r&&r!==e.relatedSkuIds){var o=r,a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var u=l;(0,p.fetchSKU)(n.applicationId,u)}}},t.prototype.renderSection=function(e,t,n){var r=this.props,l=r.sku,u=r.analyticsContext,s=this.state.isCollapsed,c=5===t.length?5:4,f=s?t.slice(0,c):t,d=f.map(function(e,t){return o(i.Link,{className:n&&t===f.length-1?S.default.skuLast:S.default.skuNormal,to:{pathname:_.Routes.APPLICATION_STORE_LISTING_SKU(e.id,e.slug),state:{analyticsSource:u.location}}},e.id,o("div",{className:S.default.name},void 0,e.name),o("div",{className:S.default.price},void 0,null!=e.getPrice()?e.getDisplayPrice():null))});return 0===d.length?null:o(a.Fragment,{},void 0,o("div",{className:S.default.title},void 0,function(e,t){if(e===t)switch(e){case _.SKUTypes.GAME:return E.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_SAME;case _.SKUTypes.DLC:return E.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_SAME;case _.SKUTypes.CONSUMABLE:return E.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLES_SAME;case _.SKUTypes.BUNDLE:return E.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLES_SAME}else switch(e){case _.SKUTypes.GAME:return E.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_DIFFERENT;case _.SKUTypes.DLC:return E.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_DIFFERENT;case _.SKUTypes.CONSUMABLE:return E.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLES_DIFFERENT;case _.SKUTypes.BUNDLE:return E.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLES_DIFFERENT}}(e,l.type)),d,c<t.length&&s?o(h.default,{color:h.default.Colors.PRIMARY,size:h.default.Sizes.SMALL,onClick:this.handleCollapsedToggle,className:S.default.collapseButton},void 0,E.default.Messages.APPLICATION_STORE_EXPAND_DOWNLOADABLE_CONTENT):null)},t.prototype.render=function(){var e=this.props.relatedSKUs;if(0===e.length)return null;var t=e.filter(function(e){return e.type===_.SKUTypes.BUNDLE}),n=e.filter(function(e){return e.type===_.SKUTypes.DLC}),r=e.filter(function(e){return e.type===_.SKUTypes.CONSUMABLE});return o("div",{},void 0,this.renderSection(_.SKUTypes.BUNDLE,t,0===n.length&&0===r.length),this.renderSection(_.SKUTypes.DLC,n,0===r.length),this.renderSection(_.SKUTypes.CONSUMABLE,r,!0))},t}(a.PureComponent);A.displayName="RelatedContent",t.default=l.default.connectStores([c.default,f.default],function(e){var t=e.sku,n=v(t);return{relatedSkuIds:null!=n?n.childSkuIds:null,relatedSKUs:null!=n?n.childSkuIds.filter(function(e){return t.id!==e}).map(f.default.get):[]}})((0,y.default)(A)),e.exports=t.default},6935:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(226),l=I(n(9)),u=I(n(3)),s=n(939),c=n(11),f=I(c),d=n(188),p=I(n(371)),h=I(n(28)),y=I(n(164)),E=I(n(537)),_=I(n(35)),S=n(282),T=I(n(380)),m=I(n(81)),v=I(n(6)),A=n(0),g=I(n(5651));function I(e){return e&&e.__esModule?e:{default:e}}var R=Object.freeze({RESTRICTED_IN_REGION:1,REQUIRES_DESKTOP_APP:2,UNAVAILABLE_OPERATING_SYSTEM:3,DLC_REQUIRES_BASE_APPLICATION:4,EARLY_ACCESS:5,UNAVAILABLE_IN_LANGUAGE:6}),O=p.default.getArticleURL(A.HelpdeskArticles.APPLICATION_STORE_OVERVIEW),N=p.default.getArticleURL(A.HelpdeskArticles.APPLICATION_STORE_EARLY_ACCESS),C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.dependentSku;null!=t.dependentSkuId&&null==n&&(0,S.fetchSKU)(t.applicationId,t.dependentSkuId)},t.prototype.getTitle=function(e){switch(e){case R.RESTRICTED_IN_REGION:return v.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_TITLE;case R.REQUIRES_DESKTOP_APP:return v.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE;case R.UNAVAILABLE_OPERATING_SYSTEM:switch(f.default.getPlatform()){case c.PlatformTypes.WINDOWS:return v.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_WINDOWS_TITLE;case c.PlatformTypes.OSX:return v.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_MAC_OS_TITLE;case c.PlatformTypes.LINUX:return v.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_LINUX_TITLE;default:return v.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE}case R.DLC_REQUIRES_BASE_APPLICATION:return v.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_TITLE;case R.EARLY_ACCESS:return v.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_TITLE;case R.UNAVAILABLE_IN_LANGUAGE:return v.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_TITLE}},t.prototype.getDescription=function(e){var t=this;switch(e){case R.RESTRICTED_IN_REGION:return v.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_DESCRIPTION.format({helpArticle:O});case R.REQUIRES_DESKTOP_APP:return v.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_DESCRIPTION.format({downloadHook:function(e,n){return s.isMobile?e:o(m.default,{className:g.default.link,tag:"a",onClick:t.handleDownloadApps},n,e)}});case R.UNAVAILABLE_OPERATING_SYSTEM:return v.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_OS_DESCRIPTION;case R.DLC_REQUIRES_BASE_APPLICATION:var n=this.props.dependentSku;return null==n?null:v.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_DESCRIPTION.format({baseName:n.name,helpArticle:O,baseHook:function(e,t){return o(i.Link,{to:{pathname:A.Routes.APPLICATION_STORE_LISTING_SKU(n.id),state:{analyticsSource:A.AnalyticsLocations.APPLICATION_STORE_WARNING}}},t,e)}});case R.EARLY_ACCESS:return v.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_DESCRIPTION.format({helpArticle:N});case R.UNAVAILABLE_IN_LANGUAGE:return v.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_DESCRIPTION}},t.prototype.handleDownloadApps=function(){_.default.push(T.default,{source:A.AnalyticsLocations.APPLICATION_STORE_WARNING})},t.prototype.getColorClass=function(e){switch(e){case R.RESTRICTED_IN_REGION:return g.default.red;default:return g.default.yellow}},t.prototype.renderWarning=function(e){var t=this.getTitle(e),n=this.getDescription(e);return o("div",{className:(0,l.default)(g.default.warning,this.getColorClass(e))},e,o("div",{className:g.default.title},void 0,t),o("div",{className:g.default.description},void 0,n))},t.prototype.render=function(){var e=this.props,t=e.sku,n=e.dependentSku,r=e.isEntitledToDependentSku,a=e.className,i=[];return t.restricted&&i.push(this.renderWarning(R.RESTRICTED_IN_REGION)),f.default.isWeb()?i.push(this.renderWarning(R.REQUIRES_DESKTOP_APP)):t.supportedOperatingSystems.includes((0,d.nativePlatformTypeToSKUOperatingSystem)(f.default.getPlatform()))||i.push(this.renderWarning(R.UNAVAILABLE_OPERATING_SYSTEM)),null==n||r||i.push(this.renderWarning(R.DLC_REQUIRES_BASE_APPLICATION)),t.accessType===A.SKUAccessTypes.EARLY_ACCESS&&i.push(this.renderWarning(R.EARLY_ACCESS)),0===i.length?null:o("div",{className:a},void 0,i)},t}(a.PureComponent);C.displayName="ApplicationStoreWarning",t.default=u.default.connectStores([h.default,E.default],function(e){var t=e.sku,n=null!=t.dependentSkuId?y.default.get(t.dependentSkuId):null;return{locale:h.default.locale,dependentSku:n,isEntitledToDependentSku:null!=t.dependentSkuId&&!0===E.default.isEntitledToSku(t.dependentSkuId,t.applicationId)}})(C),e.exports=t.default},6936:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=E(n(1)),i=y(n(9)),l=n(226),u=y(n(6)),s=n(997),c=E(n(523)),f=y(n(940)),d=y(n(228)),p=n(0),h=y(n(5652));y(n(89)),y(n(518));function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var _=function(e){var t=e.label,n=e.value;return o("div",{className:h.default.row},void 0,o("label",{className:h.default.label},void 0,t,":"),o("span",{className:h.default.info},void 0,n))};_.displayName="Row";var S=o("span",{},void 0,", "),T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReleaseDate=function(){var e=this.props.sku;return null==e.releaseDate?null:o(_,{label:u.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,value:c.dateFormat(e.releaseDate,"LL")})},t.prototype.renderGenres=function(){var e=this.props,t=e.sku,n=e.analyticsContext.location;if(null==t.genres||0===t.genres.size)return null;var r=[];return t.genres.forEach(function(e){var i=(0,s.getGenreURLSlugFromId)(e),u=null!=i?"?genre="+i:"";r.push(o(a.Fragment,{},e,o(l.Link,{to:{pathname:p.Routes.APPLICATION_STORE_BROWSE,search:u,state:{scrollRestoration:!1,analyticsSource:n}},className:h.default.genre},void 0,(0,s.getGenreText)(e)),r.length<t.genres.size-1?S:null))}),o(_,{label:u.default.Messages.APPLICATION_STORE_DETAILS_GENRES,value:r})},t.prototype.renderDevelopers=function(){var e=this.props.game;if(0===e.developers.length)return null;var t=e.developers.map(function(e){return e.name}).join(", ");return o(_,{label:u.default.Messages.APPLICATION_STORE_DETAILS_DEVELOPER,value:t})},t.prototype.renderPublishers=function(){var e=this.props.game;if(0===e.publishers.length)return null;var t=e.publishers.map(function(e){return e.name}).join(", ");return o(_,{label:u.default.Messages.APPLICATION_STORE_DETAILS_PUBLISHER,value:t})},t.prototype.render=function(){var e=this.props.className;return o("div",{className:(0,i.default)(e,h.default.details)},void 0,o(f.default,{className:h.default.contentHeader},void 0,u.default.Messages.APPLICATION_STORE_SECTION_TITLE_DETAILS),this.renderReleaseDate(),this.renderGenres(),this.renderDevelopers(),this.renderPublishers())},t}(a.Component);T.displayName="ApplicationDetails",t.default=(0,d.default)(T),e.exports=t.default},6937:function(e,t,n){"use strict";t.__esModule=!0,t.ApplicationStorePurchaseUnit=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=C(n(3)),l=n(226),u=C(n(229)),s=n(520),c=C(n(13)),f=C(n(537)),d=C(n(46)),p=C(n(370)),h=n(548),y=C(n(42)),E=C(n(75)),_=C(n(45)),S=C(n(957)),T=C(n(6091)),m=C(n(6936)),v=C(n(6562)),A=n(6337),g=C(n(6935)),I=C(n(6934)),R=C(n(6)),O=n(0),N=C(n(5649));function C(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=t.ApplicationStorePurchaseUnit=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=P(this,e.call.apply(e,[this].concat(i))),r._applicationBuyButtonRef=a.createRef(),r.handleViewLibrary=function(e){var t=r.props.libraryApplication;null!=t&&t.isHidden()&&(e.preventDefault(),p.default.open(O.UserSettingsSections.GAME_LIBRARY))},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isEntitled,n=e.isFetchingEntitlementsForApplication,r=e.sku,o=e.currentUser;null!=t||n||null==o||r.type===O.SKUTypes.GAME||(0,h.fetchUserEntitlementsForApplication)(r.applicationId)},t.prototype.getApplicationBuyButton=function(){return this._applicationBuyButtonRef.current},t.prototype.getActionText=function(){var e=this.props.sku,t=function(e){switch(e.type){case O.SKUTypes.DLC:return{distribution:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_DLC,free:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_DLC};case O.SKUTypes.CONSUMABLE:return{distribution:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_CONSUMABLE,free:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_CONSUMABLE};case O.SKUTypes.BUNDLE:return{distribution:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_BUNDLE,free:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_BUNDLE};case O.SKUTypes.GAME:default:return{distribution:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_APPLICATION,free:R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_APPLICATION}}}(e);return e.requiresPayment?t.distribution:t.free},t.prototype.renderHeader=function(){var e=this.props,t=e.isEntitled,n=e.libraryApplication,r=e.sku,a=e.currentUser;if(!0===t){var i=null!=n&&n.isHidden();return o(l.Link,{className:N.default.entitledHeader,to:{pathname:O.Routes.APPLICATION_LIBRARY,state:{applicationId:null!=n?n.id:null}},onClick:this.handleViewLibrary},void 0,o(E.default,{name:E.default.Names.LIBRARY,className:N.default.entitledHeaderIcon}),o("div",{},void 0,i?R.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:R.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY))}return r.exclusive?o("div",{className:N.default.exclusiveHeader},void 0,o("div",{className:N.default.exclusiveHeaderExclusive},void 0,R.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FIRST_ON),o(E.default,{name:E.default.Names.DISCORD_WORDMARK,className:N.default.exclusiveHeaderIcon})):r.premium?o("div",{className:N.default.premiumHeader},void 0,o(E.default,{name:E.default.Names.NITRO,className:N.default.premiumHeaderIcon}),null!=a&&a.premium?null:o("div",{className:N.default.premiumHeaderPrice},void 0,R.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,s.formatPrice)(O.SubscriptionPlanInfo[O.SubscriptionPlans.PREMIUM_MONTH_TIER_2].price,O.CurrencyCodes.USD)}))):null},t.prototype.renderPrice=function(){var e=this.props,t=e.sku,n=e.isEntitled;return t.restricted?o("div",{className:N.default.price},void 0,R.default.Messages.APPLICATION_STORE_RESTRICTED):t.premium||null!=t.getPrice()?o(T.default,{type:T.default.Types.LISTING,inLibrary:!0===n,sku:t,className:N.default.price}):o("div",{className:N.default.price},void 0,R.default.Messages.APPLICATION_STORE_COMING_SOON)},t.prototype.renderBody=function(){var e=this.props,t=e.sku,n=e.game,r=e.isEntitled,i=t.isGiftable();return o(a.Fragment,{},void 0,o(y.default,{justify:y.default.Justify.BETWEEN},void 0,o("div",{className:N.default.actionText},void 0,this.getActionText()),o(A.OperatingSystemSection,{systems:t.supportedOperatingSystems})),this.renderPrice(),!0===r&&i?null:o(S.default,{setRef:this._applicationBuyButtonRef,skuId:t.id,applicationId:n.id,fullWidth:!0,onStoreListing:!0}),i?o(S.default,{asGift:!0,className:N.default.giftButton,skuId:t.id,applicationId:n.id,fullWidth:!0,onStoreListing:!0,color:!0===r?_.default.Colors.GREEN:_.default.Colors.PRIMARY,hover:_.default.Hovers.DEFAULT}):null,o(v.default,{className:N.default.purchaseError}),o(g.default,{className:N.default.warning,sku:t}))},t.prototype.render=function(){var e=this.props,t=e.game,n=e.storeListing,r=e.sku,a=e.className,i=this.renderHeader();return o("div",{className:a},void 0,i,o("div",{className:N.default.bodySection},void 0,this.renderBody()),o("div",{className:N.default.bodySection},void 0,o(I.default,{storeListing:n,sku:r})),o("div",{className:N.default.bodySection},void 0,o(m.default,{game:t,sku:r})))},t}(a.PureComponent);L.displayName="ApplicationStorePurchaseUnit",t.default=i.default.connectStores([c.default,f.default,d.default],function(e){var t=e.sku,n=e.game,r=c.default.getNullableCurrentUser();return{isUserPremium:u.default.canInstallPremiumApplications(r),isEntitled:f.default.isEntitledToSku(t.id,n.id),isFetchingEntitlementsForApplication:f.default.applicationIdsFetching.has(t.applicationId),libraryApplication:d.default.getLibraryApplication(n.id,n.id),currentUser:r}})(L)},6938:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(6)),l=s(n(940)),u=(s(n(518)),s(n(5653)));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.sku;return null==n.legalNotice?null:o("div",{className:t},void 0,o(l.default,{},void 0,i.default.Messages.APPLICATION_STORE_SECTION_TITLE_COPYRIGHT),o("div",{className:u.default.content},void 0,n.legalNotice))},t}(a.PureComponent);c.displayName="ApplicationLegalInfo",t.default=c,e.exports=t.default},6939:function(e,t,n){"use strict";t.__esModule=!0,t.Categories=void 0;var r,o,a,i,l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),f(n(9))),s=n(0),c=f(n(5655));function f(e){return e&&e.__esModule?e:{default:e}}var d=t.Categories={ESRB:{EVERYONE:"1",EVERYONE_TEN_PLUS:"2",TEEN:"3",MATURE:"4",ADULT:"5",RATING_PENDING:"6"},PEGI:{THREE:"1",SEVEN:"2",TWELVE:"3",SIXTEEN:"4",EIGHTEEN:"5"}},p=((i={})[s.ContentRatingAgencies.ESRB]=((o={})[d.ESRB.EVERYONE]=c.default.esrbEveryone,o[d.ESRB.EVERYONE_TEN_PLUS]=c.default.esrbEveryoneTenPlus,o[d.ESRB.TEEN]=c.default.esrbTeen,o[d.ESRB.MATURE]=c.default.esrbMature,o[d.ESRB.ADULT]=c.default.esrbAdult,o[d.ESRB.RATING_PENDING]=c.default.esrbRatingPending,o),i[s.ContentRatingAgencies.PEGI]=((a={})[d.PEGI.THREE]=c.default.pegiThree,a[d.PEGI.SEVEN]=c.default.pegiSeven,a[d.PEGI.TWELVE]=c.default.pegiTwelve,a[d.PEGI.SIXTEEN]=c.default.pegiSixteen,a[d.PEGI.EIGHTEEN]=c.default.pegiEighteen,a),i),h=function(e){var t=e.agency,n=e.rating,r=e.className,o=p[t][n];return null==o?null:l("div",{className:(0,u.default)(c.default.contentRating,o,r)})};h.displayName="ContentRating",t.default=h},6940:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=p(n(6)),u=p(n(6939)),s=p(n(42)),c=p(n(940)),f=(p(n(518)),n(0)),d=p(n(5654));function p(e){return e&&e.__esModule?e:{default:e}}var h=((o={})[f.ContentRatingAgencies.ESRB]={1:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ALCOHOL_REFERENCE,2:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ANIMATED_BLOOD,3:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD,4:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD_AND_GORE,5:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CARTOON_VIOLENCE,6:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_COMIC_MISCHIEF,7:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CRUDE_HUMOR,8:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_DRUG_REFERENCE,9:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_FANTASY_VIOLENCE,10:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_INTENSE_VIOLENCE,11:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LANGUAGE,12:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LYRICS,13:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MATURE_HUMOR,14:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_NUDITY,15:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_PARTUAL_NUDITY,16:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_REAL_GAMBLING,17:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_CONTENT,18:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_THEMES,19:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_VIOLENCE,20:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SIMULATED_GAMBLING,21:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LANGUAGE,22:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LYRICS,23:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_SEXUAL_CONTENT,24:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SUGGESTIVE_THEMES,25:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_TOBACCO_REFERENCE,26:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_ALCOHOL,27:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_DRUGS,28:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_TOBACCO,29:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENCE,30:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENT_REFERENCES,31:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_IN_GAME_PURCHASES,32:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USERS_INTERACT,33:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SHARES_LOCATION,34:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_UNRESTRICTED_INTERNET},o[f.ContentRatingAgencies.PEGI]={1:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_VIOLENCE,2:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_BAD_LANGUAGE,3:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_FEAR,4:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_GAMBLING,5:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_SEX,6:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DRUGS,7:l.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DISCRIMINATION},o),y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContentRatingImage=function(){var e=this.props.sku,t=e.contentRating,n=e.contentRatingAgency;return null==t||null==n?null:a(u.default,{className:d.default.rating,agency:n,rating:t.rating})},t.prototype.render=function(){var e=this.props,t=e.sku,n=t.contentRating,r=t.contentRatingAgency,o=e.className;if(null==n||null==r)return null;var i=n.descriptors.map(function(e){return h[r][e]}).join(", ");return a("div",{className:o},void 0,a(c.default,{},void 0,l.default.Messages.APPLICATION_STORE_SECTION_TITLE_RATINGS),a(s.default,{className:d.default.content},void 0,this.renderContentRatingImage(),a("div",{className:d.default.info},void 0,i)))},t}(i.PureComponent);y.displayName="ApplicationContentRating",t.default=y,e.exports=t.default},6941:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(3)),l=h(n(391)),u=h(n(42)),s=h(n(117)),c=h(n(6563)),f=h(n(35)),d=h(n(6)),p=h(n(5657));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r.close=function(){f.default.pop()},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.application,n=e.news;return o(s.default,{size:s.default.Sizes.LARGE,className:p.default.modal},void 0,o(s.default.Header,{justify:u.default.Justify.BETWEEN},void 0,o("div",{},void 0,o("div",{className:p.default.headerTitle},void 0,t.name),o("div",{className:p.default.headerSubtitle},void 0,d.default.Messages.APPLICATION_STORE_ALL_NEWS)),o(s.default.CloseButton,{onClick:this.close})),o(s.default.Content,{},void 0,n.map(function(e){return o(c.default,{game:t,news:e,collapsed:!1},e.url)})))},t}(a.PureComponent);E.displayName="ApplicationAllNewsModal",t.default=i.default.connectStores([l.default],function(e){var t=e.application;return{news:l.default.getByGameId(t.id)}})(E),e.exports=t.default},6942:function(e,t,n){"use strict";(function(r){t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(3)),u=_(n(391)),s=_(n(6563)),c=_(n(6941)),f=_(n(45)),d=_(n(940)),p=_(n(6)),h=_(n(121)),y=_(n(35)),E=_(n(5656));function _(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=S(this,e.call.apply(e,[this].concat(a))),r.handleViewAllClick=function(){var e=r.props.application;y.default.push(c.default,{application:e})},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.isFetched,n=e.application;t||r(function(){return h.default.getGameNews([n.id])})},t.prototype.render=function(){var e=this.props,t=e.application,n=e.news,r=e.className,o=n.length>4;return 0===n.length?null:a("div",{className:r},void 0,a(d.default,{},void 0,p.default.Messages.APPLICATION_STORE_SECTION_TITLE_NEWS),n.slice(0,4).map(function(e,n){return a(s.default,{game:t,news:e,collapsed:0!==n},e.url)}),o?a(f.default,{className:E.default.viewAllButton,size:f.default.Sizes.SMALL,color:f.default.Colors.PRIMARY,onClick:this.handleViewAllClick},void 0,p.default.Messages.APPLICATION_STORE_VIEW_ALL_NEWS):null)},t}(i.Component);T.displayName="ApplicationNews",t.default=l.default.connectStores([u.default],function(e){var t=e.application;return{news:u.default.getByGameId(t.id),isFetched:u.default.isFetched(t.id)}})(T),e.exports=t.default}).call(this,n(36).setImmediate)},6943:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(940)),l=d(n(75)),u=d(n(94)),s=n(0),c=d(n(6)),f=d(n(5659));function d(e){return e&&e.__esModule?e:{default:e}}var p=[{feature:s.SKUFeatureTypes.SINGLE_PLAYER,getText:function(){return c.default.Messages.APPLICATION_STORE_SINGLE_PLAYER},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_SINGLE_PLAYER_TOOLTIP},iconName:l.default.Names.PERSON},{feature:s.SKUFeatureTypes.LOCAL_MULTIPLAYER,getText:function(){return c.default.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.ONLINE_MULTIPLAYER,getText:function(){return c.default.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.PVP,getText:function(){return c.default.Messages.APPLICATION_STORE_PVP},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_PVP_TOOLTIP},iconName:l.default.Names.MODERATION},{feature:s.SKUFeatureTypes.LOCAL_COOP,getText:function(){return c.default.Messages.APPLICATION_STORE_LOCAL_COOP},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_LOCAL_COOP_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.ONLINE_COOP,getText:function(){return c.default.Messages.APPLICATION_STORE_ONLINE_COOP},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_ONLINE_COOP_TOOLTIP},iconName:l.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.CROSS_PLATFORM,getText:function(){return c.default.Messages.APPLICATION_STORE_CROSS_PLATFORM},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_CROSS_PLATFORM_TOOLTIP},iconName:l.default.Names.SYNCED},{feature:s.SKUFeatureTypes.RICH_PRESENCE,getText:function(){return c.default.Messages.APPLICATION_STORE_RICH_PRESENCE},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_RICH_PRESENCE_TOOLTIP},iconName:l.default.Names.RICH_ACTIVITY},{feature:s.SKUFeatureTypes.DISCORD_GAME_INVITES,getText:function(){return c.default.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES_TOOLTIP},iconName:l.default.Names.PLUS_CIRCLE_PLAY},{feature:s.SKUFeatureTypes.SPECTATOR_MODE,getText:function(){return c.default.Messages.APPLICATION_STORE_SPECTATOR_MODE},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_SPECTATOR_MODE_TOOLTIP},iconName:l.default.Names.VIDEO_CAMERA},{feature:s.SKUFeatureTypes.CONTROLLER_SUPPORT,getText:function(){return c.default.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT_TOOLTIP},iconName:l.default.Names.GAMEPAD},{feature:s.SKUFeatureTypes.CLOUD_SAVES,getText:function(){return c.default.Messages.APPLICATION_STORE_CLOUD_SAVES},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_CLOUD_SAVES_TOOLTIP},iconName:l.default.Names.CLOUD},{feature:s.SKUFeatureTypes.SECURE_NETWORKING,getText:function(){return c.default.Messages.APPLICATION_STORE_SECURE_NETWORKING},getTooltip:function(){return c.default.Messages.APPLICATION_STORE_SECURE_NETWORKING_TOOLTIP},iconName:l.default.Names.SECURE_NETWORKING}],h=function(e){var t=e.iconName,n=e.text,r=e.tooltip;return o("div",{className:f.default.row},void 0,o(u.default,{text:r},void 0,o(l.default,{name:t,className:f.default.featureIcon})),o("span",{className:f.default.featureText},void 0,n),o(l.default,{name:l.default.Names.CHECKMARK,className:f.default.checkmarkIcon}))};h.displayName="ApplicationFeature";var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.sku,t=p.filter(function(t){var n=t.feature;return e.features.has(n)}).map(function(e){var t=e.feature,n=e.iconName,r=e.getText,a=e.getTooltip;return o(h,{iconName:n,text:r(),tooltip:a()},t)});return 0===t.length?null:o("div",{className:f.default.features},void 0,o(i.default,{},void 0,c.default.Messages.APPLICATION_STORE_SECTION_TITLE_FEATURES),t)},t}(a.PureComponent);y.displayName="ApplicationFeatureFlags",t.default=y,e.exports=t.default},6944:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(9)),u=y(n(200)),s=n(188),c=y(n(940)),f=y(n(1233)),d=y(n(45)),p=y(n(6)),h=y(n(5660));function y(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(373);var _=/^!\[([^\]]*)\]\(asset:\/\/(\d+)\)/,S=a({},f.default.rules,{heading:a({},f.default.rules.heading,{react:function(e,t,n){var r="h"+Math.min(Math.max(2,e.level+1),4);return o(c.default,{tag:r},n.key,t(e.content,n))}}),assetImage:{order:5,match:function(e,t){var n=e.match(_);if(null!=n){var r=n[2],o=t.assets.find(function(e){return e.id===r});return null!=o&&[].concat(n,[o,t.applicationId])}return!1},parse:function(e){return{asset:e[3],alt:e[1],applicationId:e[4]}},react:function(e,t,n){return o("div",{className:h.default.assetWrapper},n.key,o("img",{alt:e.alt,src:(0,s.getAssetURL)(e.applicationId,e.asset,800),className:h.default.asset}))}}}),T=u.default.parserFor(S),m=u.default.ruleOutput(S,"react"),v=u.default.reactFor(m),A=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=E(this,e.call.apply(e,[this].concat(a))),r.state={collapsed:!0,collapsable:!0},r.handleToggleCollapse=function(){r.setState({collapsed:!r.state.collapsed})},r.setContentContainerRef=function(e){r._container=e},E(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){if(null!=this._container){var e=this._container.getBoundingClientRect().height>400;this.setState({collapsable:e})}},t.prototype.render=function(){var e,t=this.props,n=t.applicationId,r=t.description,a=t.blurb,u=t.className,s=t.assets,c=this.state,y=c.collapsed,E=c.collapsable;return o("div",{className:u},void 0,o("div",{className:(0,l.default)((e={},e[h.default.collapsed]=E&&y,e))},void 0,i.createElement("div",{ref:this.setContentContainerRef},o("div",{className:h.default.blurb},void 0,a),o(f.default,{className:h.default.description,parser:T,output:v,state:{assets:s,applicationId:n}},void 0,r))),E?o(d.default,{className:h.default.toggleCollapseButton,onClick:this.handleToggleCollapse,color:d.default.Colors.PRIMARY},void 0,y?p.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_MORE:p.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_LESS):null)},t}(i.PureComponent);A.displayName="ApplicationDescription",t.default=A,e.exports=t.default},6945:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=E(n(9)),u=n(6564),s=n(980),c=E(n(1230)),f=E(n(6341)),d=E(n(81)),p=n(0),h=n(6144),y=E(n(5661));function E(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){var t=e.className,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]);return i.createElement(f.default,a({},n,{className:(0,l.default)(y.default.sizedToParent,t),mediaPlayerClassName:y.default.sizedToParent}))};S.displayName="CarouselVideo";var T={width:1280,height:720},m={width:640,height:360},v=function(e){var t=e.item,n=e.onPlay,r=e.volume,i=e.onVolumeChange,l=e.onMute,c=e.isMuted,f=void 0,d=void 0;if(t.type===p.CarouselMediaTypes.YOUTUBE_VIDEO)f=a({url:(0,p.YOUTUBE_PREVIEW_URL)(t.youtubeVideoId)},T),d=a({url:(0,p.YOUTUBE_EMBED_URL)(t.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},m);else{var E=null!=t.width?t.width:0,_=null!=t.height?t.height:0;f={url:t.thumbnailSrc,width:E,height:_},d={url:t.src,proxyURL:t.src,width:E,height:_}}return o("div",{className:y.default.embedContainer},void 0,o(s.EmbedVideo,{className:y.default.sizedToParent,href:null,thumbnail:f,VideoComponent:S,video:d,maxHeight:u.ItemSizes.SMALL.height,maxWidth:h.PageSizes.SMALL,onPlay:n,playable:!0,volume:r,onVolumeChange:i,autoMute:c,onMute:l,autoPlay:!0}))};v.displayName="Video";var A=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=r=_(this,e.call.apply(e,[this].concat(i))),r.state={hasInteracted:!1,isVideoPlaying:!1,isMuted:!0,volume:1},r.handlePlay=function(e){r.setState({isVideoPlaying:!0,hasInteracted:!e})},r.handleVolumeChange=function(e){r.setState({volume:e,hasInteracted:!0})},r.handleMute=function(e){r.setState({isMuted:e,hasInteracted:!0})},r.handleChangeItem=function(){r.setState({isVideoPlaying:!1})},r.handleIntentionalChange=function(e,t,n,o){r.setState({hasInteracted:!0});var a=r.props.onIntentionalChange;null!=a&&a(e,t,n,o)},r.renderItem=function(e,t){var n=r.state,a=n.isMuted,i=n.volume,l=void 0;switch(e.type){case p.CarouselMediaTypes.YOUTUBE_VIDEO:case p.CarouselMediaTypes.VIDEO:l=o(v,{item:e,onPlay:r.handlePlay,isMuted:a,volume:i,onVolumeChange:r.handleVolumeChange,onMute:r.handleMute});break;case p.CarouselMediaTypes.IMG:l=o("img",{className:y.default.smallCarouselImage,src:e.src,alt:""});break;default:throw new Error("Unexpected MediaType")}return o(d.default,{className:y.default.smallCarouselItem,onClick:function(){return r.handleCurrentItemClick(e,t)}},void 0,l)},_(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleCurrentItemClick=function(e,t){var n=this.props.onCurrentItemClick;null!=n&&n(e,t),this.setState({hasInteracted:!0})},t.prototype.render=function(){var e=this.props,t=e.items,n=e.autoplayInterval,r=e.paused,a=this.state.hasInteracted;return o(c.default,{items:t.slice(0,12),delay:n,paused:r||a,renderItem:this.renderItem,className:y.default.smallCarousel,onIntentionalChange:this.handleIntentionalChange,onChangeItem:this.handleChangeItem})},t}(i.PureComponent);A.defaultProps={paused:!1},A.displayName="SmallMediaCarousel",t.default=A,e.exports=t.default},6946:function(e,t,n){"use strict";var r;t.__esModule=!0,t.MODAL_CAROUSEL_LAYOUT=void 0;var o=n(6568),a=n(0);t.MODAL_CAROUSEL_LAYOUT=((r={})[a.KeybindActions.MODAL_CAROUSEL_NEXT]=o.MODAL_CAROUSEL_NEXT,r[a.KeybindActions.MODAL_CAROUSEL_PREV]=o.MODAL_CAROUSEL_PREV,r)},6947:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(512)),u=_(n(224)),s=_(n(6201)),c=n(6102),f=_(n(6344)),d=n(151),p=_(n(6066)),h=n(0),y=n(6946),E=_(n(5663));function _(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v={friction:10,tension:100};function A(e,t){return(e%t+t)%t}var g=function(e){function t(){var n,r;S(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=T(this,e.call.apply(e,[this].concat(a))),r.state={translate:new u.default.Value(0),opacity:new u.default.Value(1)},T(r,n)}return m(t,e),t.prototype.componentWillEnter=function(e){var t=this.props.directionHistory,n=this.state,r=n.translate,o=n.opacity;r.setValue(t[t.length-1]),o.setValue(0),e(),u.default.parallel([u.default.timing(o,{toValue:1,easing:u.default.Easing.out(u.default.Easing.linear),duration:200}),u.default.spring(r,a({toValue:0},v))]).start()},t.prototype.componentWillLeave=function(e){var t=this.props.directionHistory,n=this.state,r=n.opacity,o=n.translate;u.default.parallel([u.default.timing(r,{toValue:0,easing:u.default.Easing.in(u.default.Easing.linear),duration:200}),u.default.spring(o,a({toValue:-1*t[t.length-1]},v))]).start(e)},t.prototype.getStyle=function(){var e=this.state,t=e.translate,n=e.opacity;return u.default.accelerate({opacity:n,transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0px","300px"]})}]})},t.prototype.render=function(){var e=this.props.item;return o(u.default.img,{src:e.src,alt:"",className:E.default.slide,style:this.getStyle()})},t}(i.Component);g.displayName="ModalCarouselItem";var I=function(e){function t(n){S(this,t);var r=T(this,e.call(this,n));return r.gotoNext=function(){var e=r.state.currentIndex;r.navigateTo(e+1)},r.gotoPrev=function(){var e=r.state.currentIndex;r.navigateTo(e-1)},r.state={currentIndex:n.startWith,directionHistory:[]},r}return m(t,e),t.prototype.componentDidMount=function(){this.preloadNextImages(),p.default.disable(),p.default.enableTemp(y.MODAL_CAROUSEL_LAYOUT)},t.prototype.componentWillUnmount=function(){p.default.disableTemp()},t.prototype.preloadNextImages=function(){var e=this.state.currentIndex,t=this.props.items,n=A(e+1,t.length),r=A(e-1,t.length);this.preloadImage(t[n]),this.preloadImage(t[r])},t.prototype.preloadImage=function(e){(0,d.loadImage)(e.src)},t.prototype.componentDidUpdate=function(e,t){this.state.currentIndex!==t.currentIndex&&this.preloadNextImages()},t.prototype.navigateTo=function(e){var t=this.state,n=t.directionHistory,r=t.currentIndex;n.push(e-r),e=A(e,this.props.items.length),this.setState({currentIndex:e,directionHistory:n})},t.prototype.render=function(){var e=this.props.onClose,t=this.state,n=t.currentIndex,r=t.directionHistory;return o(l.default,{component:"div",className:E.default.wrapper,onClick:e},void 0,o(c.CarouselPrevious,{className:E.default.navPrev,onClick:this.gotoPrev}),o(g,{item:this.props.items[n],directionHistory:r},this.props.items[n].src),o(c.CarouselNext,{className:E.default.navNext,onClick:this.gotoNext}))},t}(i.Component);I.defaultProps={startWith:0},I.displayName="ModalCarousel",t.default=(0,f.default)(function(e,t){var n;return(n={})[h.ComponentActions.MODAL_CAROUSEL_NEXT]=(0,s.default)(t.gotoNext,300),n[h.ComponentActions.MODAL_CAROUSEL_PREV]=(0,s.default)(t.gotoPrev,300),n})(I),e.exports=t.default},6948:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=d(n(937)),i=d(n(35)),l=d(n(6947)),u=d(n(6564)),s=d(n(6945)),c=n(6144),f=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var y=2048;function E(e){return e.split("?")[0]+"?size="+y}var _=function(e){var t=e.index,n=e.items,a=h(e,["index","items"]),i=n[t],u=0,s=[],c=n,d=Array.isArray(c),p=0;for(c=d?c:c[Symbol.iterator]();;){var y;if(d){if(p>=c.length)break;y=c[p++]}else{if((p=c.next()).done)break;y=p.value}var _=y;if(_.type===f.CarouselMediaTypes.IMG){var S=_.width,T=_.height,m=_.src;_===i&&(u=s.length),s.push({src:E(m),width:S,height:T})}}return o.createElement(l.default,r({},a,{items:s,startWith:u}))};_.displayName="ZoomedCarousel";var S=function(e){function t(){var n,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,s=Array(u),c=0;c<u;c++)s[c]=arguments[c];return n=l=p(this,e.call.apply(e,[this].concat(s))),l.handleCurrentItemClick=function(e,t){e.type!==f.CarouselMediaTypes.IMG||a.default.hasModalOpen()||i.default.push(function(e){return o.createElement(_,r({},e,{index:t,items:l.props.items}))})},p(l,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.pageSize,n=h(e,["pageSize"]),a=t===c.PageSizes.SMALL?s.default:u.default;return o.createElement(a,r({},n,{onCurrentItemClick:this.handleCurrentItemClick}))},t}(o.Component);S.displayName="ApplicationStoreListingCarousel",t.default=S,e.exports=t.default},6949:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),n(5664)),l=(o=i)&&o.__esModule?o:{default:o};t.default=function(){return a("div",{className:l.default.divider})},e.exports=t.default},6950:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));var u=Object.freeze({THING:"Thing",PERSON:"Person",PRODUCT:"Product",OFFER:"Offer",AGGREGATE_OFFER:"AggregateOffer",RATING:"Rating",AGGREGATE_RATING:"AggregateRating",ORGANIZATION:"Organization",ITEM_PAGE:"ItemPage",UNIT_PRICE_SPECIFICATION:"UnitPriceSpecification",QUANTITATIVE_VALUE:"QuantitativeValue"});function s(e){return function e(t){return Object.keys(t).forEach(function(n){null==t[n]?delete t[n]:"object"===i(t[n])?t[n]=e(t[n]):t[n]=t[n]}),t}(function(e){var t=void 0;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw new Error("[JSONLD] Invalid object format")}return t}(e))}function c(e,t){return a({"@type":e},s(t))}function f(e){return c(u.THING,e)}var d=f;function p(e){return c(u.PRODUCT,e)}p.Image=function(e){if(null==e)return null;var t=e.filter(function(e){return null!=e&&""!==e});return 0===t.length?null:1===t.length?t[0]:t};var h=Object.freeze({DAMAGED:"http://schema.org/DamagedCondition",NEW:"http://schema.org/NewCondition",REFURBISHED:"http://schema.org/RefurbishedCondition",USED:"http://schema.org/UsedCondition"}),y=Object.freeze({DISCONTINUED:"http://schema.org/Discontinued",IN_STOCK:"http://schema.org/InStock",IN_STORE_ONLY:"http://schema.org/InStoreOnly",LIMITED_AVAILABILITY:"http://schema.org/LimitedAvailability",ONLINE_ONLY:"http://schema.org/OnlineOnly",OUT_OF_STOCK:"http://schema.org/OutOfStock",PREORDER:"http://schema.org/PreOrder",PRESALE:"http://schema.org/PreSale",SOLD_OUT:"http://schema.org/SoldOut"});function E(e){return c(u.OFFER,e)}E.ItemConditions=h,E.ItemAvailability=y;var _=Object.freeze({ANNUAL:"ANN",MONTHLY:"MON"});function S(e){return c(u.QUANTITATIVE_VALUE,e)}S.UnitCodes=_;var T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.debug,e.data),n=JSON.stringify(a({"@context":"http://schema.org"},t));return o("script",{type:"application/ld+json"},void 0,n)},t}(l.Component);T.Thing=f,T.Brand=d,T.Person=function(e){return c(u.PERSON,e)},T.Organization=function(e){return c(u.ORGANIZATION,e)},T.ItemPage=function(e){return c(u.ITEM_PAGE,e)},T.Product=p,T.Offer=E,T.Rating=function(e){return c(u.RATING,e)},T.AggregateRating=function(e){return c(u.AGGREGATE_RATING,e)},T.AggregateOffer=function(e){return c(u.AGGREGATE_OFFER,e)},T.QuantitativeValue=S,T.UnitPriceSpecification=function(e){return c(u.UNIT_PRICE_SPECIFICATION,e)},T.displayName="JSONLD",t.default=T,e.exports=t.default},6951:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_e(n(77)),u=_e(n(2)),s=n(7),c=_e(n(6)),f=_e(n(9)),d=_e(n(522)),p=_e(n(3)),h=n(56),y=n(6153),E=n(520),_=_e(n(41)),S=_e(n(17)),T=n(994),m=_e(n(537)),v=_e(n(22)),A=_e(n(133)),g=_e(n(391)),I=_e(n(164)),R=_e(n(6339)),O=_e(n(195)),N=_e(n(6151)),C=_e(n(540)),P=_e(n(927)),L=_e(n(28)),b=n(548),M=n(277),w=n(6199),D=_e(n(539)),k=_e(n(6115)),U=_e(n(228)),F=_e(n(376)),x=_e(n(45)),j=_e(n(75)),H=_e(n(957)),B=_e(n(42)),G=_e(n(6950)),V=_e(n(6082)),W=_e(n(227)),Y=_e(n(144)),K=_e(n(94)),z=_e(n(6949)),$=_e(n(940)),q=_e(n(6948)),Q=_e(n(6944)),X=_e(n(6943)),J=_e(n(6942)),Z=_e(n(6940)),ee=_e(n(6938)),te=n(6562),ne=_e(te),re=_e(n(6937)),oe=_e(n(6933)),ae=_e(n(6565)),ie=_e(n(6931)),le=_e(n(6930)),ue=_e(n(6929)),se=n(6927),ce=_e(se),fe=(_e(n(89)),_e(n(6926))),de=(_e(n(955)),_e(n(518)),n(188)),pe=n(385),he=n(0),ye=n(6144),Ee=_e(n(5642));function _e(e){return e&&e.__esModule?e:{default:e}}function Se(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Te=8e3,me=1500,ve=50,Ae=o(Y.default,{}),ge=o(ae.default,{}),Ie=o(z.default,{}),Re=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,f=Array(u),d=0;d<u;d++)f[d]=arguments[d];return n=r=Se(this,e.call.apply(e,[this].concat(f))),r.showCopyLinkTextTimeout=new h.Timeout,r._purchaseRef=i.createRef(),r._trackedViewed=!1,r._analyticsSource=null,r._extraAnalyticsProperties=null,r.state={showHeaderPurchaseUnit:!1,showLinkCopied:!1},r.trackCarouselScroll=function(e,t,n){var o=r.props.sku;null!=o&&S.default.track(he.AnalyticEvents.STORE_LISTING_MEDIA_SCROLLED,a({},o.getAnalyticsData(),{card_index:n,card_type:e.type===he.CarouselMediaTypes.IMG?"image":"video"}))},r.copyCurrentUrl=function(){var e=r.props.sku;if(null==e)throw new Error("SKU missing when copying current URL on store listing");(0,pe.copy)((0,T.getStoreListingLink)(e)),r.setState({showLinkCopied:!0},function(){r.showCopyLinkTextTimeout.start(me,function(){r.setState({showLinkCopied:!1})})})},r.renderCopyLink=function(){var e=r.state.showLinkCopied;return o(K.default,{text:e?c.default.Messages.APPLICATION_STORE_LINK_COPIED:null,position:K.default.Positions.LEFT,forceOpen:e},void 0,o(x.default,{look:x.default.Looks.BLANK,size:x.default.Sizes.NONE,onClick:r.copyCurrentUrl,className:Ee.default.link},void 0,o(j.default,{name:j.default.Names.LINK,className:Ee.default.linkIcon})))},r.renderCarousel=function(e,t){if(0===t.carouselItems.length)return null;var n=r.props,a=n.pageSize,i=n.isFocused;return o(F.default,{section:he.AnalyticsSections.HERO},void 0,o(q.default,{pageSize:a,items:t.carouselItems.map(function(n){return r.parseMediaItems(e,n,t.assets)}),autoplayInterval:Te,paused:!i,onChange:r.trackCarouselScroll,onIntentionalChange:r.trackCarouselScroll}))},r.handleScroll=(0,s.debounce)(function(){if(null!=r._purchaseRef.current){var e=l.default.findDOMNode(r._purchaseRef.current.getApplicationBuyButton());if(e instanceof HTMLElement){var t=e.getBoundingClientRect().top,n=t<0||t>window.innerHeight;r.state.showHeaderPurchaseUnit!==n&&r.setState({showHeaderPurchaseUnit:n})}}},ve),r.renderListing=function(){var e=r.props,t=e.application,n=e.storeListing,a=e.sku,i=e.pageSize;return null==t||null==a||null==n||n.isSlimDirectoryVersion()?o(B.default,{align:B.default.Align.CENTER,justify:B.default.Justify.CENTER},void 0,Ae):i===ye.PageSizes.SMALL?r.renderSmall(t,n,a):r.renderLarge(t,n,a)},Se(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isFetchingEntitlements,o=e.shouldFetchStatistics,a=e.hasFetchedActivities,i=e.didFetchEntitlements,l=e.isAuthenticated,u=e.location;if(null!=u.state){var s=u.state,c=s.analyticsSource,f=s.analyticsProperties;this._analyticsSource=c,this._extraAnalyticsProperties=f}else this._analyticsSource=he.DIRECT_ANALYTICS_LOCATION;(null==n||n.isSlimDirectoryVersion())&&this.fetchStoreListing(),null!=t&&(r||i||(0,b.fetchUserEntitlementsForApplication)(t.applicationId),o&&(0,w.fetchStatisticsForApplication)(t.applicationId)),l&&!a&&D.default.getActivities(),this.handleScroll(),this.trackViewed(),this.replaceUrlWithSlug()},t.prototype.componentDidUpdate=function(e){this.props.storeListing!==e.storeListing&&null!=this.props.storeListing&&(0,y.deepLinkRouteIfLandedAndNotAuthed)(he.RPCDeepLinks.STORE_LISTING,{skuId:this.props.skuId,slug:this.props.slug});var t=this.props,n=t.locale,r=t.skuId,o=t.sku,a=t.shouldFetchStatistics;if(n===e.locale&&r===e.skuId||this.fetchStoreListing(),a&&!e.shouldFetchStatistics){if(null==o)throw new Error("Unexpected missing sku");u.default.wait(function(){return(0,w.fetchStatisticsForApplication)(o.applicationId)})}this.props.skuId===e.skuId&&this.props.storeListingId===e.storeListingId||(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()},t.prototype.componentWillUnmount=function(){this.showCopyLinkTextTimeout.stop();var e=this.props.analyticsContext,t=e.loadId,n=e.loadDate;null!=n&&S.default.track(he.AnalyticEvents.STORE_LISTING_EXITED,{load_id:t,duration_ms:Date.now()-n})},t.prototype.replaceUrlWithSlug=function(){var e=this.props,t=e.sku,n=e.slug;null!=t&&n!==t.slug&&_.default.replaceWith({pathname:he.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),search:location.search})},t.prototype.trackViewed=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.hasFetchedNews,o=e.hasNews,i=e.analyticsContext;if(!this._trackedViewed&&null!=t&&null!=n&&null!=n.description&&r){var l=n.carouselItems.reduce(function(e,t){return null!=t.assetId?e.images++:e.videos++,e},{images:0,videos:0});S.default.track(he.AnalyticEvents.STORE_LISTING_VIEWED,a({},this._extraAnalyticsProperties,{load_id:i.loadId,has_description:null!=n.description&&n.description.length>0,has_staff_review:null!=n.staffNotes,carousel_image_count:l.images,carousel_video_count:l.videos,has_news:o,location:i.location.page,source:this._analyticsSource},t.getAnalyticsData(!0))),this._trackedViewed=!0}},t.prototype.fetchStoreListing=function(){var e=this.props,t=e.storeListingId,n=e.skuId;null!=t?(0,M.fetchStoreListingById)(t):null!=n&&(0,M.fetchStoreListingForSku)(n)},t.prototype.renderHeaderToolbar=function(e,t){var n=this,r=this.props,a=r.isInTestMode,i=r.slug,l=r.storeListing,u=r.analyticsContext.location,s=this.state.showHeaderPurchaseUnit;return function(){var r;return o("div",{className:Ee.default.headerBarListing},void 0,o("div",{className:Ee.default.headerSection},void 0,a&&null!=t?o(ce.default,{size:se.TestModeStoreListingButtonEnums.Sizes.MIN,dropdownSize:se.TestModeStoreListingButtonEnums.DropdownSizes.MEDIUM,look:se.TestModeStoreListingButtonEnums.Looks.OUTLINED,color:se.TestModeStoreListingButtonEnums.Colors.YELLOW,skuId:t.id,className:Ee.default.testModeSelectButton,currentStoreListingId:null!=l?l.id:null,onStoreListingSelect:function(e){null!=t&&(0,M.goToApplicationStoreListing)(t.id,{slug:i,analyticsSource:{page:u.page,section:he.AnalyticsSections.NAVIGATION,object:null},storeListingId:e.id})}}):null),o("div",{className:Ee.default.headerSection},void 0,o("div",{className:(0,f.default)(Ee.default.headerPurchase,(r={},r[Ee.default.active]=s,r))},void 0,null!=t?t.getDisplayPrice():null,null!=e&&null!=t?o(H.default,{wrapperClassName:Ee.default.headerActionButton,applicationId:e.id,skuId:t.id,color:x.default.Colors.GREEN,size:x.default.Sizes.SMALL,tooltipPosition:K.default.Positions.BOTTOM,onStoreListing:!0}):null,o(ne.default,{messageStyle:te.MessageStyles.SHORT,className:Ee.default.purchaseError}))),n.renderCopyLink())}},t.prototype.renderHeader=function(e,t){var n=this.props.isAuthenticated;return o(V.default,{title:ge,isAuthenticated:n,renderToolbar:this.renderHeaderToolbar(e,t)})},t.prototype.parseMediaItems=function(e,t,n){var r=t.assetId,o=t.youtubeVideoId;if(null!=r){var a=n.find(function(e){return e.id===r});if(null!=a){var i=a.width,l=a.height;if(null==i||null==l)throw new Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return a.mimeType.startsWith("video/")?{type:he.CarouselMediaTypes.VIDEO,thumbnailSrc:(0,de.getAssetURL)(e.id,a,1024,"webp"),src:(0,de.getAssetURL)(e.id,a),height:l,width:i}:{type:he.CarouselMediaTypes.IMG,src:(0,de.getAssetURL)(e.id,a,1024),height:l,width:i}}}if(null!=o)return{type:he.CarouselMediaTypes.YOUTUBE_VIDEO,youtubeVideoId:o};throw new Error("Store carousel item must have one of assetId or youtubeVideoId")},t.prototype.renderHeaderAssets=function(e,t,n){var r=this.props.theme,a=t.headerBackground,i=r===he.ThemeTypes.LIGHT?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==a||null==i?o("div",{className:Ee.default.noHeaderSpacer}):o("div",{className:Ee.default.headerAssets},void 0,o("div",{className:Ee.default.headerBackground,style:{backgroundImage:"url("+(0,de.getAssetURL)(e.id,a,1024,"png")+")"}}),o("img",{className:Ee.default.headerLogo,src:(0,de.getAssetURL)(e.id,i,1024,"png"),alt:n.name}))},t.prototype.renderPurchaseSection=function(e,t,n){return o(F.default,{section:he.AnalyticsSections.STORE_LISTING_BUY_GAME},void 0,o(re.default,{storeListing:e,game:t,sku:n,className:Ee.default.purchaseUnit,setRef:this._purchaseRef}))},t.prototype.renderWhyYouMightLikeThis=function(e,t){return o(oe.default,{sku:e,storeListing:t,className:Ee.default.whyYouMightLikeIt})},t.prototype.renderVerifiedGuildInvite=function(e,t){return null==e.guild?null:o(ie.default,{skuId:t.id,guild:e.guild,className:Ee.default.guildInvite})},t.prototype.renderFeatures=function(e){return o(X.default,{sku:e})},t.prototype.renderSystemRequirements=function(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:o(le.default,{className:Ee.default.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})},t.prototype.renderDescription=function(e,t){if(null==t.description)throw new Error("Rendering ApplicationStoreListing without description");return o(i.Fragment,{},void 0,o($.default,{tag:"h1"},void 0,c.default.Messages.APPLICATION_STORE_ABOUT_THIS_GAME),Ie,o(Q.default,{applicationId:e.id,blurb:t.summary,description:t.description,className:Ee.default.description,assets:t.assets}))},t.prototype.renderNews=function(e){return o(J.default,{application:e,className:Ee.default.news})},t.prototype.renderReviews=function(e){return null==e.reviews?null:e.reviews.map(function(e){return o(ue.default,{review:e,className:Ee.default.reviewAggregator},e.aggregator)})},t.prototype.renderApplicationContentRating=function(e){return o(Z.default,{sku:e,className:Ee.default.contentRating})},t.prototype.renderApplicationLegalInfo=function(e){return o(ee.default,{sku:e,className:Ee.default.legalInfo})},t.prototype.renderJsonLD=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.application;if(null==t||null==n||null==r)return null;var a=[],i=r.getSplashURL(1024);null!=i&&a.push(i),null!=n.headerLogoLightTheme&&a.unshift((0,de.getAssetURL)(r.id,n.headerLogoLightTheme,1024,"jpg"));var l=G.default.Product({name:t.name,description:t.summary||n.tagline,image:G.default.Product.Image(a),sku:t.id});if(null!=t.reviews&&t.reviews.length>0){var u=t.reviews[0];l.aggregateRating=G.default.AggregateRating({bestRating:100,worstRating:0,ratingValue:u.criticScore,ratingCount:u.criticTotalRatings})}var s=t.getPrice();if(null!=s){var c=s.amount,f=s.currency;l.offers=G.default.Offer({priceCurrency:f.toUpperCase(),price:(0,E.formatPrice)(c,f,{style:"decimal"})})}var d=G.default.ItemPage({mainEntity:l});return o(G.default,{data:d})},t.prototype.renderSmall=function(e,t,n){return o("div",{className:(0,f.default)(Ee.default.listing,Ee.default.listingSmall)},void 0,this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),this.renderPurchaseSection(t,e,n),this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n),this.renderNews(e),this.renderReviews(n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n))},t.prototype.renderLarge=function(e,t,n){return o("div",{className:Ee.default.listing},void 0,this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),o("div",{className:Ee.default.listingLarge},void 0,o("div",{className:Ee.default.body},void 0,o("div",{className:Ee.default.leftColumn},void 0,this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t),this.renderVerifiedGuildInvite(t,n),this.renderNews(e),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)),o("div",{className:Ee.default.rightColumn},void 0,this.renderPurchaseSection(t,e,n),this.renderReviews(n),this.renderFeatures(n)))))},t.prototype.render=function(){var e=this.props,t=e.application,n=e.sku,r=e.storeListing,a=e.matureAgree,l=e.isAuthenticated;if(null==t||null==n||null==r||r.isSlimDirectoryVersion())return o(i.Fragment,{},void 0,this.renderHeader(t,n),o(B.default,{align:B.default.Align.CENTER,justify:B.default.Justify.CENTER},void 0,o(Y.default,{className:Ee.default.spinner})));if(!a&&n.showAgeGate){var u=l?null:o("div",{className:Ee.default.gatedListing},void 0,this.renderListing());return o(i.Fragment,{},void 0,o(d.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,n),o(fe.default,{game:t}),u)}return l?o("div",{className:Ee.default.listingWrapper},void 0,o(d.default,{title:t.name}),this.renderJsonLD(),o(F.default,{section:he.AnalyticsSections.NAVIGATION},void 0,this.renderHeader(t,n)),o(W.default,{onScroll:this.handleScroll,outerClassName:Ee.default.scroller,track:!0,momentum:!0,keyboardScroll:!0,gutterStyle:W.default.GutterStyles.STORE},void 0,o(F.default,{section:he.AnalyticsSections.BODY},void 0,this.renderListing()))):o("div",{},void 0,o(d.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,n),this.renderListing())},t}(i.PureComponent);Re.displayName="ApplicationStoreListing",t.default=(0,k.default)(p.default.connectStores([v.default,I.default,P.default,m.default,R.default,N.default,C.default,g.default,O.default,A.default],function(e){var t=e.match.params,n=t.skuId,r=t.slug,o=e.storeListingId,a=e.isAuthenticated,i=I.default.get(n),l=null!=i?i.applicationId:null,u=void 0;if(null!=o?u=P.default.get(o):null!=i&&(u=P.default.getForSKU(i.id)),null!=i&&null==u&&O.default.inTestModeForApplication(i.applicationId)){var s=P.default.getUnpublishedForSKU(i.id);u=null!=s?s[0]:null}return{skuId:n,application:null!=l?v.default.getGame(l):null,isFetchingEntitlements:null!=l&&m.default.applicationIdsFetching.has(l),didFetchEntitlements:null!=l&&m.default.applicationIdsFetched.has(l),shouldFetchStatistics:a&&null!=l&&N.default.shouldFetchStatisticsForApplication(l),hasFetchedActivities:C.default.hasFetchedActivities,sku:i,slug:r,isFocused:A.default.isFocused(),storeListing:u,isInTestMode:null!=l&&O.default.inTestModeForApplication(l),matureAgree:R.default.didMatureAgree,hasFetchedNews:null!=l&&g.default.isFetched(l),hasNews:null!=l&&g.default.getByGameId(l).length>0,theme:L.default.theme}})((0,U.default)(Re))),e.exports=t.default},6952:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=j(n(522)),l=j(n(3)),u=j(n(2)),s=j(n(150)),c=n(997),f=n(552),d=j(n(17)),p=n(6153),h=j(n(41)),y=j(n(524)),E=j(n(376)),_=j(n(6200)),S=j(n(164)),T=j(n(6101)),m=n(6125),v=j(n(46)),A=j(n(28)),g=n(6152),I=j(n(189)),R=n(962),O=j(n(6115)),N=j(n(228)),C=j(n(6392)),P=j(n(227)),L=j(n(144)),b=j(n(42)),M=j(n(932)),w=j(n(1024)),D=j(n(6565)),k=j(n(6082)),U=(j(n(6078)),n(0)),F=j(n(6)),x=j(n(5665));function j(e){return e&&e.__esModule?e:{default:e}}function H(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var B=Object.freeze({ALL_PRICE_TYPES:new Set([U.StoreApplicationFilterProperty.PREMIUM,U.StoreApplicationFilterProperty.DISTRIBUTION,U.StoreApplicationFilterProperty.COMING_SOON,U.StoreApplicationFilterProperty.EARLY_ACCESS]),PREMIUM_PRICE_TYPE:new Set([U.StoreApplicationFilterProperty.PREMIUM]),DISTRIBUTION_PRICE_TYPE:new Set([U.StoreApplicationFilterProperty.DISTRIBUTION]),EARLY_ACCESS_PRICE_TYPE:new Set([U.StoreApplicationFilterProperty.EARLY_ACCESS]),SALE_PRICE_TYPE:new Set([U.StoreApplicationFilterProperty.SALE])}),G=function(e){var t=e.label,n=e.options,r=e.value,a=e.onChange,i=e.onOpen,l=e.onClose;return o("div",{className:x.default.filterBrowsing},void 0,o("label",{},void 0,t),o(w.default,{className:x.default.filterBrowsingSelectValue,popoutClassName:x.default.filterBrowsingSelectPopout,look:w.default.Looks.MINIMAL,options:n,value:r,onChange:a,onOpen:i,onClose:l}))};G.displayName="FilterItem";var V=(0,f.cachedFunction)(function(e){for(var t=new Set,n=0;n<e.length;n++){var r=S.default.get(e[n]);null!=r&&null!=r.genres&&r.genres.size>0&&Array.from(r.genres).forEach(function(e){return t.add(e)})}var o=Array.from(t).map(function(e){return{label:(0,c.getGenreText)(e),value:e}}).sort(function(e,t){return"string"!=typeof e.label||"string"!=typeof t.label?0:e.label.localeCompare(t.label)});return o.unshift({label:F.default.Messages.APPLICATION_STORE_FILTER_ALL_GENRES,value:U.StoreApplicationGenresFilter.ALL}),o}),W=o(D.default,{}),Y=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=H(this,e.call.apply(e,[this].concat(i))),r.scrollerRef=a.createRef(),r._popoutCount=0,r.getFiltersQueryObject=function(e){var t=r.props.filters,n=e&&null!=e.q?e.q:t.q,o=e&&null!=e.type?e.type:t.type,a=e&&null!=e.sort?e.sort:t.sort,i=e&&null!=e.genre?e.genre:t.genre;return{q:n,type:o,sort:a,genre:(0,c.getGenreURLSlugFromId)(i)}},r.filterByApplicationType=function(e){var t=e.value;r.updateUrlWithFilters({type:t},{persistForBackButton:!0})},r.filterByGenre=function(e){var t=e.value;r.updateUrlWithFilters({genre:t},{persistForBackButton:!0})},r.sortByApplicationOrder=function(e){var t=e.value;r.updateUrlWithFilters({sort:t},{persistForBackButton:!0})},r.filterByTitle=function(e){r.updateUrlWithFilters({q:e})},r.handlePopoutOpen=function(){r._popoutCount+=1},r.handlePopoutClose=function(){r._popoutCount=Math.max(0,r._popoutCount-1)},r.handleScroll=function(){r._popoutCount>0&&I.default.closeAll()},r.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=r.props.scrollTo)r.props.scrollTo(e,t);else{var n=r.scrollerRef.current;null!=n&&n.scrollTo(e,t)}},r.getScrollTop=function(){return null!=r.props.getScrollTop?r.props.getScrollTop():null!=r.scrollerRef.current?r.scrollerRef.current.getScrollData().scrollTop:0},r.handleToggleHideLibraryApplications=function(e,t){(0,m.setHideLibraryGames)(t)},r.handleFilterTitleChange=function(e){r.filterByTitle(e)},r.reset=function(){r.filterByTitle("")},H(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.updateUrlWithFilters=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).persistForBackButton,n=y.default.formatPathWithQuery(U.Routes.APPLICATION_STORE_BROWSE,this.getFiltersQueryObject(e));t?h.default.transitionTo(n):h.default.replaceWith(n)},t.prototype.getFilteredApplicationTypes=function(){switch(this.props.filters.type){case U.StoreApplicationCategorySelector.ALL:return B.ALL_PRICE_TYPES;case U.StoreApplicationCategorySelector.PREMIUM:return B.PREMIUM_PRICE_TYPE;case U.StoreApplicationCategorySelector.DISTRIBUTION:return B.DISTRIBUTION_PRICE_TYPE;case U.StoreApplicationCategorySelector.EARLY_ACCESS:return B.EARLY_ACCESS_PRICE_TYPE;case U.StoreApplicationCategorySelector.SALE:return B.SALE_PRICE_TYPE}},t.prototype.renderListings=function(){var e=this.props,t=e.directoryLayout,n=e.isLibraryApplicationsHidden,r=e.filters,i=r.sort,l=r.genre,u=r.q,s=r.type,c=e.onSKUViewed;if(null==t)return this.renderLoading();var f={titleQuery:null!=u&&u.length>=3?u:null,hideApplicationsInUserLibrary:n,applicationTypes:this.getFilteredApplicationTypes(),genre:l};return a.createElement(P.default,{ref:this.scrollerRef,track:!0,onScroll:this.handleScroll,gutterStyle:P.default.GutterStyles.STORE,momentum:!0,keyboardScroll:!0},o(E.default,{section:U.AnalyticsSections.HERO},void 0,this.renderFilters()),o(E.default,{section:U.AnalyticsSections.BODY},void 0,o("div",{className:x.default.browse},void 0,o(_.default,{className:x.default.applications,directoryLayout:t,viewConfig:f,sort:i,analyticsApplicationTypeFilter:s,onSKUViewed:c}))))},t.prototype.componentDidMount=function(){var e=this.props,t=e.filters,n=e.location.search,r=this.getFiltersQueryObject({});y.default.formatSearch(r)!==n&&h.default.replaceWith(y.default.formatPathWithQuery(U.Routes.APPLICATION_STORE_BROWSE,r)),(0,p.deepLinkRouteIfLandedAndNotAuthed)(U.RPCDeepLinks.STORE_BROWSE,t);var o=this.props,a=o.lastDirectoryScrollTop,i=o.directoryLayoutId,l=o.shouldFetchDirectoryLayout;null!=a&&this.scrollTo(a),l&&u.default.wait(function(){(0,m.loadDirectory)(i)});var s=this.props,c=s.location,f=s.analyticsContext.loadId;d.default.track(U.AnalyticEvents.STORE_DIRECTORY_BROWSE_VIEWED,{source:null!=c.state?c.state.analyticsSource:U.DIRECT_ANALYTICS_LOCATION,load_id:f})},t.prototype.componentWillUnmount=function(){var e=this;u.default.wait(function(){(0,g.handleDirectoryUnmount)(e.getScrollTop(),U.DirectoryLocations.BROWSE),(0,m.saveFilters)(e.getFiltersQueryObject()),(0,R.muteStoreDirectory)()})},t.prototype.renderLoading=function(){return o(b.default,{align:b.default.Align.CENTER,justify:b.default.Justify.CENTER},void 0,o(L.default,{className:x.default.spinner}))},t.prototype.renderFilterByType=function(){var e=this.props.filters.type,t=[{label:F.default.Messages.APPLICATION_STORE_FILTER_TYPE_ALL,value:U.StoreApplicationCategorySelector.ALL},{label:F.default.Messages.APPLICATION_STORE_FILTER_TYPE_PREMIUM,value:U.StoreApplicationCategorySelector.PREMIUM},{label:F.default.Messages.APPLICATION_STORE_FILTER_TYPE_DISTRIBUTION,value:U.StoreApplicationCategorySelector.DISTRIBUTION},{label:F.default.Messages.APPLICATION_STORE_FILTER_TYPE_EARLY_ACCESS,value:U.StoreApplicationCategorySelector.EARLY_ACCESS},{label:F.default.Messages.APPLICATION_STORE_FILTER_TYPE_ON_SALE,value:U.StoreApplicationCategorySelector.SALE}];return o(G,{label:F.default.Messages.APPLICATION_STORE_BROWSE_BY_TYPE_LABEL,options:t,value:e,onChange:this.filterByApplicationType,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},t.prototype.renderFilterByGenre=function(){var e=this.props,t=e.directoryLayout,n=e.filters.genre;if(null==t)return null;var r=V(t.allSkuIds);return o(G,{label:F.default.Messages.APPLICATION_STORE_BROWSE_BY_GENRE_LABEL,options:r,value:n,onChange:this.filterByGenre,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},t.prototype.renderFilterByTitle=function(){var e=this.props.filters.q;return o(C.default,{searchTerm:e,className:x.default.filterByTitle,inputClassName:x.default.filterByTitleInput,label:F.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,placeholder:F.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,onChange:this.handleFilterTitleChange,onClear:this.reset,autoFocus:null!=e&&e.length>0})},t.prototype.renderSortBy=function(){var e=this.props.filters.sort;return o(G,{label:F.default.Messages.APPLICATION_STORE_SORT_BY,options:[{label:F.default.Messages.APPLICATION_STORE_BROWSE_SORT_NEW_RELEASES,value:U.StoreApplicationSort.NEW_RELEASES},{label:F.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_ALPHABETICAL,value:U.StoreApplicationSort.ALPHABETICAL},{label:F.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_REVERSE_ALPHABETICAL,value:U.StoreApplicationSort.REVERSE_ALPHABETICAL}],value:e,onChange:this.sortByApplicationOrder,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},t.prototype.renderFilters=function(){var e=this.props,t=e.isLibraryApplicationsHidden,n=e.libraryApplicationsSize,r=e.isAuthenticated,a=e.theme;return o("div",{className:x.default.filterBackground},void 0,o("header",{className:x.default.filters},void 0,o("div",{className:x.default.filterBrowsingHeaderWrapper},void 0,this.renderFilterByTitle()),o("div",{className:x.default.sortFilterBar},void 0,o("div",{className:x.default.filterAndSort},void 0,this.renderFilterByType(),this.renderFilterByGenre(),this.renderSortBy()),r?o(M.default,{className:x.default.hideGames,value:t,onChange:this.handleToggleHideLibraryApplications,type:a===U.ThemeTypes.DARK?M.default.Types.INVERTED:M.default.Types.DEFAULT,reverse:!0},void 0,t?F.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY_HIDDEN.format({gamesHidden:n}):F.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY):null)))},t.prototype.render=function(){var e=this.props,t=e.isAuthenticated,n=e.location,r=s.default.parse(n.search.slice(1)),a=null!=r.genre?(0,c.getGenreIdFromURLSlug)(r.genre):null,l=null!=a&&-1!==a?(0,c.getGenreText)(a):null,u=null!=l?F.default.Messages.APPLICATION_STORE_GENRE_TITLE.format({genre:l}):"Discord";return o("div",{className:x.default.browseWrapper},void 0,o(i.default,{title:u}),o(k.default,{title:W,isAuthenticated:t}),this.props.isFetchingDirectoryLayout?this.renderLoading():this.renderListings())},t}(a.PureComponent);function K(e,t,n){return new Set(Object.values(t)).has(e)?e:n}Y.displayName="ApplicationStoreBrowse";var z=(0,O.default)((0,N.default)(Y));t.default=l.default.connectStores([T.default,v.default,A.default],function(e){var t=e.location,n=null==t.state||!1!==t.state.scrollRestoration,r=T.default.lastBrowseDirectoryView,o=t.search.slice(1),a=0!==o.length?s.default.parse(o):T.default.previousFilters,i=a[U.STORE_DIRECTORY_LAYOUT_ID_QUERY_OVERRIDE]||U.STORE_DIRECTORY_LAYOUT_ID,l=null!=a.genre?(0,c.getGenreIdFromURLSlug)(a.genre):null;return{directoryLayoutId:i,directoryLayout:T.default.getDirectoryLayout(i),shouldFetchDirectoryLayout:T.default.shouldFetch(),isFetchingDirectoryLayout:T.default.isFetching,lastDirectoryScrollTop:null!=r&&n&&r.scrollTop,isLibraryApplicationsHidden:T.default.isLibraryApplicationsHidden,filters:{q:a.q,type:K(a.type,U.StoreApplicationCategorySelector,U.StoreApplicationCategorySelector.ALL),sort:K(a.sort,U.StoreApplicationSort,U.StoreApplicationSort.NEW_RELEASES),genre:K(l,U.StoreApplicationGenresFilter,U.StoreApplicationGenresFilter.ALL)},libraryApplicationsSize:Object.keys(v.default.getAllLibraryApplications()).length,theme:A.default.theme}})(z),e.exports=t.default},6953:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(3)),l=n(994),u=n(188),s=p(n(164)),c=p(n(927)),f=n(0),d=p(n(5669));function p(e){return e&&e.__esModule?e:{default:e}}n(373);var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getBackgroundStyle=function(){var e=this.props,t=e.backgroundOverride,n=e.applicationId,r=e.storeListing,o=void 0;return{backgroundImage:null!=(o=null!=t?(0,u.getAssetURL)(n||f.CustomDiscordApplicationId,t,1280):null!=r&&null!=r.heroBackground?(0,u.getAssetURL)(n,r.heroBackground,1280,"jpg"):(0,l.getApplicationBackground)(n))?"url("+o+")":null}},t.prototype.render=function(){return o("div",{className:d.default.itemBackground,style:this.getBackgroundStyle()})},t}(a.PureComponent);h.displayName="HeroCarouselBackground",t.default=i.default.connectStores([s.default,c.default],function(e){var t=e.skuId,n=null!=t?s.default.get(t):null;return{applicationId:null!=n?n.applicationId:null,storeListing:null!=n?c.default.getForSKU(n.id):null}})(h),e.exports=t.default},6954:function(e,t,n){"use strict";t.__esModule=!0,t.HeroCarouselPaginationItem=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(224)),l=d(n(9)),u=d(n(5670)),s=d(n(81)),c=d(n(6567)),f=d(n(6953));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(373);var E=300,_=i.default.Easing.bezier(.17,.67,.16,.99),S=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=h(this,e.call.apply(e,[this].concat(a))),r._animatedItemContainer=new i.default.Value(1),r._animatedMedia=new i.default.Value(1),r.state={playing:!1,videoError:!1},r.componentWillEnter=function(e){r._animatedMedia.setValue(0),r._animatedItemContainer.setValue(0),i.default.parallel([i.default.timing(r._animatedMedia,{toValue:1,duration:400}),i.default.timing(r._animatedItemContainer,{toValue:1,delay:150,duration:350})]).start(e)},r.componentWillLeave=function(e){i.default.parallel([i.default.timing(r._animatedMedia,{toValue:0,delay:25,duration:E}),i.default.timing(r._animatedItemContainer,{toValue:0,duration:E})]).start(e)},h(r,n)}return y(t,e),t.prototype.getBackgroundStyle=function(){return i.default.accelerate({transform:[{translateY:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})},{scale:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:[.98,1]})}]})},t.prototype.getDescriptionStyle=function(){return i.default.accelerate({transform:[{translateY:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})}]})},t.prototype.getMediaStyle=function(){return i.default.accelerate({transform:[{scale:this._animatedMedia.interpolate({inputRange:[0,1],outputRange:[.8,1],easing:_})}],opacity:this._animatedMedia.interpolate({inputRange:[0,.4,1],outputRange:[0,0,1],easing:_})})},t.prototype.getContainerStyle=function(){return i.default.accelerate({opacity:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:[0,1],easing:i.default.Easing.out(i.default.Easing.ease)})})},t.prototype.renderMedia=function(){var e=this.props.media;return o(i.default.div,{style:this.getMediaStyle(),className:u.default.itemMedia},void 0,o(c.default,{},void 0,e))},t.prototype.render=function(){var e=this.props,t=e.description,n=e.skuId,r=e.backgroundOverride;return o(i.default.div,{className:u.default.carouselItem,style:this.getContainerStyle()},void 0,o(i.default.div,{className:u.default.itemBackground,style:this.getBackgroundStyle()},void 0,o(f.default,{skuId:n,backgroundOverride:r})),o(i.default.div,{className:u.default.itemDescriptionContainer,style:this.getDescriptionStyle()},void 0,t),o("div",{className:u.default.itemMediaContainer},void 0,this.renderMedia()))},t}(a.PureComponent);S.displayName="HeroCarouselItem",(t.HeroCarouselPaginationItem=function(e){function t(){return p(this,t),h(this,e.apply(this,arguments))}return y(t,e),t.prototype.render=function(){var e,t=this.props,n=t.pagination,r=t.selected,a=t.onClick;return o(s.default,{onClick:a,className:(0,l.default)(u.default.paginationItemContainer,(e={},e[u.default.paginationSelected]=r,e))},void 0,n,r?o("div",{className:u.default.overlappingBorder}):null)},t}(a.PureComponent)).displayName="HeroCarouselPaginationItem",t.default=S},6955:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),f(n(3))),i=f(n(164)),l=f(n(927)),u=n(188),s=n(0),c=f(n(5671));function f(e){return e&&e.__esModule?e:{default:e}}n(373);var d=function(e){var t=e.sku,n=e.storeListing,r=e.customTitle,a=e.customPaginationImage,i=null!=r?r:null!=t?t.name:null,l=null!=t?t.applicationId:s.CustomDiscordApplicationId,f=null!=a?a:null!=n?n.thumbnail:null;return o("img",{className:c.default.paginationItem,src:null!=f?(0,u.getAssetURL)(l,f,80):null,alt:i})};d.displayName="HeroCarouselPagination",t.default=a.default.connectStores([l.default,i.default],function(e){var t=e.skuId,n=null!=t?i.default.get(t):null;return{sku:n,storeListing:null!=n?l.default.getForSKU(n.id):null}})(d),e.exports=t.default},6956:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(3)),u=m(n(17)),s=n(188),c=n(994),f=n(116),d=m(n(551)),p=m(n(81)),h=m(n(6500)),y=m(n(927)),E=m(n(164)),_=n(0),S=m(n(6)),T=m(n(5672));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(6078),n(373);var A=400,g=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,f=Array(l),p=0;p<l;p++)f[p]=arguments[p];return n=r=v(this,e.call.apply(e,[this].concat(f))),r._trailerRef=i.createRef(),r._previewRef=i.createRef(),r.state={trailerPlaying:!1,trailerVideoError:!1,showTrailer:!1},r.handleTilePlaying=function(e){!e.muted&&r.state.trailerPlaying&&r.setState({trailerPlaying:!1})},r.handleUpdatePlayPreview=function(e){var t=r._previewRef.current;null!=t&&(e?t.play():t.pause())},r.handleUpdatePlayTrailer=function(e){var t=r._trailerRef.current;null!=t&&t.setPlay(e)},r.handleTrailerError=function(){r.setState({trailerVideoError:!0})},r.handlePlay=function(){r.setState({trailerPlaying:!0});var e=r.props,t=e.sku,n=e.analyticsContext;null!=t&&u.default.track(_.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,a({},t.getAnalyticsData(),{is_hero:!0,watch_trailer:!0,load_id:n.loadId,location:n.location}))},r.handlePause=function(){r.setState({trailerPlaying:!1})},r.getThumbnailAsset=function(){var e=r.props,t=e.heroCarouselItem.thumbnail,n=e.storeListing;return null!=t?t:null!=n&&null!=n.thumbnail?n.thumbnail:null},r.getPreviewVideoAsset=function(){var e=r.props,t=e.heroCarouselItem.previewVideo,n=e.storeListing;return null!=t?t:null!=n&&null!=n.previewVideo?n.previewVideo:null},r.getFullVideoUrl=function(e){var t=r.props,n=t.heroCarouselItem.fullVideo,o=t.storeListing;return null!=n?(0,s.getAssetURL)(e,n):null!=o&&null!=o.heroVideo?(0,s.getAssetURL)(e,o.heroVideo):(0,c.getApplicationTrailer)(e)},r.renderTrailer=function(e){var t=r.props.onEnd,n=r.getFullVideoUrl(e),o=r.getThumbnailAsset(),a=r.getPreviewVideoAsset();return i.createElement(h.default,{width:"100%",height:"100%",ref:r._trailerRef,className:T.default.itemTrailer,poster:o?(0,s.getAssetURL)(e,o,A):null,onError:r.handleTrailerError,src:r.state.trailerVideoError&&null!=a?(0,s.getAssetURL)(e,a):n,type:h.default.Types.VIDEO,onPlay:r.handlePlay,onPause:r.handlePause,onEnd:t})},r.renderPreview=function(e){var t=r.props,n=t.onEnd,a=t.forcePaused,l=r.getPreviewVideoAsset();return null==l?r.renderThumbnail(e):o("div",{className:T.default.itemPreviewContainer},void 0,o("div",{className:T.default.playContainer},void 0,o(d.default,{className:T.default.playPill,onPlay:r.showTrailer,playText:r.state.trailerVideoError?null:S.default.Messages.PLAY_FULL_TRAILER})),i.createElement("video",{ref:r._previewRef,className:T.default.itemPreview,muted:!0,autoPlay:!a,playsInline:!0,onEnded:n},o("source",{src:(0,s.getAssetURL)(e,l),type:"video/mp4"})))},r.renderThumbnail=function(e){var t=r.getThumbnailAsset();return null==t?null:o("div",{className:T.default.itemPreviewContainer},void 0,o("div",{className:T.default.itemPreview,style:{backgroundImage:"url("+(0,s.getAssetURL)(e,t,A)+")"}}))},r.showTrailer=function(e){e.preventDefault(),e.stopPropagation(),r.state.showTrailer||r.setState({showTrailer:!0,trailerPlaying:!0})},v(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){return t.showTrailer&&e.forcePaused&&t.trailerPlaying?{trailerPlaying:!1}:null},t.prototype.componentWillUnmount=function(){f.ComponentDispatch.unsubscribe(_.ComponentActions.STORE_VIDEO_PLAY,this.handleTilePlaying)},t.prototype.componentDidMount=function(){f.ComponentDispatch.subscribe(_.ComponentActions.STORE_VIDEO_PLAY,this.handleTilePlaying)},t.prototype.componentDidUpdate=function(e){var t=this.props.forcePaused;this.state.showTrailer&&this.handleUpdatePlayTrailer(this.state.trailerPlaying),this.props.forcePaused!==e.forcePaused&&this.handleUpdatePlayPreview(!t)},t.prototype.render=function(){var e=this.state.showTrailer,t=this.props,n=t.sku,r=null==t.heroCarouselItem.skuId?_.CustomDiscordApplicationId:null!=n?n.applicationId:null;return null==r?null:o(p.default,{className:T.default.applicationMedia,onClick:this.showTrailer},void 0,e?this.renderTrailer(r):null!=this.getPreviewVideoAsset()?this.renderPreview(r):this.renderThumbnail(r))},t}(i.Component);g.displayName="HeroCarouselMedia",t.default=l.default.connectStores([y.default,E.default],function(e){var t=e.heroCarouselItem.skuId,n=null!=t?E.default.get(t):null;return{sku:n,storeListing:null!=n?y.default.getForSKU(n.id):null}})(g),e.exports=t.default},6957:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=A(n(5)),s=A(n(3)),c=n(226),f=n(122),d=A(n(17)),p=A(n(164)),h=A(n(927)),y=A(n(6091)),E=A(n(957)),_=A(n(45)),S=n(0),T=A(n(6)),m=A(n(5673)),v=n(188);function A(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(6078),n(373);var I=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=r=g(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){var t,n,o,a=r.props,i=a.heroCarouselItem.url,l=a.scrollToPremium,u=a.analyticsContext;null!=i&&i===""+S.Routes.APPLICATION_STORE+S.PREMIUM_ROUTE_HASH&&(l(),n=(t=u).location,o=t.loadId,d.default.track(S.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,{is_hero:!0,premium_learn_more:!0,load_id:o,location:n}),e.preventDefault())},r.trackLinkClicked=function(){var e=r.props,t=e.sku,n=e.analyticsContext;null!=t&&d.default.track(S.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,a({},t.getAnalyticsData(),{is_hero:!0,load_id:n.loadId,location:r.analyticsLocation}))},r.getLocation=function(){var e=r.props,t=e.sku,n=e.heroCarouselItem.url,o=e.analyticsContext;if(null!=n){var a=(0,f.parse)(n);return{pathname:a.pathname,hash:a.hash,search:a.search,state:{analyticsSource:o.location}}}return null!=t?(0,v.getStoreListingLocation)(t.id,{slug:t.slug,analyticsSource:r.analyticsLocation}):(console.error("Missing url or store listing location"),S.Routes.APPLICATION_STORE)},r.handleContextMenu=function(e){var t=r.props,n=t.sku,o=t.onContextMenu;null!=n&&null!=o&&o(e,n.applicationId)},g(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getHeader=function(e){return null==e?null:e.exclusive?T.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD:e.premium?T.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_FEATURED_PREMIUM_GAME:null!=e.releaseDate&&e.releaseDate.isAfter((0,u.default)().subtract(2,"weeks"))?T.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_NEW_RELEASE:T.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_FEATURED_GAME},t.prototype.render=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.heroCarouselItem,a=r.description,i=r.title,l=r.header,u=r.buttonLabel,s=this.getLocation();return o("div",{className:m.default.itemDescription},void 0,o("h2",{className:m.default.header},void 0,null!=l?l:this.getHeader(t)),o(c.Link,{to:s,onClick:this.trackLinkClicked,onContextMenu:this.handleContextMenu},void 0,o("h1",{className:m.default.title},void 0,i||(null!=t?t.name:null))),o("div",{className:m.default.tagline},void 0,a||(null!=n?n.tagline:"")),o("div",{className:null!=t&&t.isOnSale?m.default.actionsContainerSale:m.default.actionsContainerNormal},void 0,null!=t&&t.requiresPayment?o(y.default,{type:y.default.Types.DIRECTORY_HERO,sku:t,inLibrary:!1,className:m.default.price}):null!=t?o("div",{className:m.default.buyButtonWrapper},void 0,o(E.default,{skuId:t.id,applicationId:t.applicationId,size:_.default.Sizes.SMALL,onStoreListing:!0})):null,o(_.default.Link,{to:s,onClick:this.trackLinkClicked,look:_.default.Looks.OUTLINED,color:_.default.Colors.WHITE,className:null!=t&&t.isOnSale?m.default.learnMoreButtonSale:m.default.learnMoreButton},void 0,u||T.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_LEARN_MORE)))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return a({},e,{object:S.AnalyticsObjects.CAROUSEL})}}]),t}(l.PureComponent);I.displayName="HeroCarouselApplicationDescription",t.default=s.default.connectStores([h.default,p.default],function(e){var t=e.heroCarouselItem.skuId,n=null!=t?p.default.get(t):null;return{sku:n,storeListing:null!=n?h.default.getForSKU(n.id):null}})(I),e.exports=t.default},6958:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=C(n(1)),l=N(n(9)),u=N(n(512)),s=n(56),c=n(538),f=n(116),d=N(n(17)),p=N(n(22)),h=N(n(164)),y=C(n(32)),E=n(6102),_=N(E),S=N(n(949)),T=N(n(6957)),m=N(n(6956)),v=N(n(6955)),A=N(n(228)),g=n(6954),I=N(g),R=n(0),O=N(n(5668));function N(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(373),n(6078);var L=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return n=r=P(this,e.call.apply(e,[this].concat(u))),r.state={visibleIndex:0,isVisible:!0},r._nextTimeout=new s.Timeout,r.trackViewedItem=function(){var e=r.state.visibleIndex,t=r.props,n=t.items,o=t.analyticsContext,i=o.loadId,l=o.location,u=n[e];if(null!=u){var s={card_index:e,load_id:i,location:l};if(null==u.skuId)d.default.track(R.AnalyticEvents.STORE_DIRECTORY_HERO_VIEWED,a({},s));else{var c=h.default.get(u.skuId);if(null==c)return;var f=p.default.getGame(c.applicationId);if(null==f)return;d.default.track(R.AnalyticEvents.STORE_DIRECTORY_HERO_VIEWED,a({},s,{card_type:"application",application_id:f.id,sku_id:u.skuId}))}}},r.prevItem=function(){var e=r.state.visibleIndex,t=r.props.items;0===e?r.setState({visibleIndex:t.length-1}):r.setState({visibleIndex:e-1})},r.nextItem=function(){var e=r.props.items,t=r.state.visibleIndex;r.setState({visibleIndex:(t+1)%e.length})},r.handleSetItem=function(e){r.setState({visibleIndex:e})},r.handleVisibilityChange=function(e){r.setState({isVisible:e})},r.handleApplicationContextMenu=function(e,t){y.openContextMenu(e,function(e){return i.createElement(S.default,a({},e,{type:R.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:t}))})},r.renderHero=function(e,t){var n=r.props,a=n.analyticsContext,i=n.isWindowFocused,l=n.scrollToPremium;return o(I.default,{backgroundOverride:e.background,media:o(m.default,{heroCarouselItem:e,forcePaused:!r.state.isVisible||!i,analyticsContext:a,onEnd:r.nextItem}),description:o(T.default,{heroCarouselItem:e,analyticsContext:a,onContextMenu:r.handleApplicationContextMenu,scrollToPremium:l}),skuId:e.skuId},t)},r.renderPaginationItem=function(e,t){var n=r.state.visibleIndex===t;return o(g.HeroCarouselPaginationItem,{selected:n,pagination:o(v.default,{skuId:e.skuId,customTitle:e.title,customPaginationImage:e.paginationImage})},t)},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.trackViewedItem(),this.maybeScheduleNextItem(),f.ComponentDispatch.subscribe(R.ComponentActions.CAROUSEL_PREV,this.prevItem),f.ComponentDispatch.subscribe(R.ComponentActions.CAROUSEL_NEXT,this.nextItem)},t.prototype.componentDidUpdate=function(e,t){this.state.visibleIndex!==t.visibleIndex&&(this.trackViewedItem(),this.maybeScheduleNextItem())},t.prototype.componentWillUnmount=function(){this._nextTimeout.stop(),f.ComponentDispatch.unsubscribe(R.ComponentActions.CAROUSEL_PREV,this.prevItem),f.ComponentDispatch.unsubscribe(R.ComponentActions.CAROUSEL_NEXT,this.nextItem)},t.prototype.maybeScheduleNextItem=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e4,t=this.state.visibleIndex,n=this.props.items[t];null!=n&&null==n.skuId&&null==n.previewVideo?this._nextTimeout.start(e,this.nextItem):this._nextTimeout.stop()},t.prototype.renderPagination=function(){var e=this.props.items,t=this.state.visibleIndex;return o("div",{className:O.default.paginationContainer},void 0,o("div",{className:O.default.pagination},void 0,o(E.CarouselPrevious,{className:O.default.prevArrow,onClick:this.prevItem}),o(_.default,{renderItem:this.renderPaginationItem,items:e,selectedIndex:t,onSetItem:this.handleSetItem}),o(E.CarouselNext,{className:O.default.nextArrow,onClick:this.nextItem})))},t.prototype.render=function(){var e=this.props,t=e.className,n=e.items,r=this.state.visibleIndex;return o(c.VisibilitySensor,{onChange:this.handleVisibilityChange},void 0,o("div",{className:(0,l.default)(O.default.heroCarousel,t)},void 0,o(u.default,{className:O.default.carouselContainer},void 0,this.renderHero(n[r],r)),this.renderPagination()))},t}(i.PureComponent);L.displayName="HeroCarousel",t.default=(0,A.default)(L),e.exports=t.default},6959:function(e,t,n){"use strict";t.__esModule=!0,t.PremiumApplicationsCarousel=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=b(n(1)),u=L(n(9)),s=n(56),c=L(n(3)),f=n(538),d=n(226),p=n(188),h=L(n(17)),y=L(n(22)),E=L(n(164)),_=L(n(927)),S=b(n(32)),T=L(n(45)),m=L(n(6567)),v=n(6102),A=L(n(42)),g=L(n(6566)),I=L(n(949)),R=L(n(370)),O=L(n(228)),N=L(n(6)),C=n(0),P=L(n(5674));function L(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=200,U={width:280,margin:10},F=function(e){function t(){var n,r;M(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return n=r=w(this,e.call.apply(e,[this].concat(u))),r.state={currentIndex:0},r.resizeTimer=new s.Timeout,r._carousel=l.createRef(),r.handleItemContextMenu=function(e,t){var n=r.props.skuMap[t];S.openContextMenu(e,function(e){return l.createElement(I.default,a({},e,{type:C.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:n.applicationId}))})},r.renderItem=function(e){var t=r.props,n=t.onApplicationClick,a=t.skuMap,i=t.storeListingMap,l=a[e],u=i[e];return o(d.Link,{to:{pathname:C.Routes.APPLICATION_STORE_LISTING_SKU(l.id,l.slug),state:{analyticsSource:r.analyticsLocation}},className:P.default.premiumItem,onClick:function(){return null!=n&&n(e)},onContextMenu:function(t){return r.handleItemContextMenu(t,e)}},void 0,null!=u.thumbnail?o(m.default,{},void 0,o("img",{className:P.default.carouselItemImage,src:(0,p.getAssetURL)(l.applicationId,u.thumbnail,k),alt:l.name})):null)},w(r,n)}return D(t,e),t.prototype.componentDidMount=function(){var e=this;this.resizeTimer.start(500,function(){null!=e._carousel.current&&e._carousel.current.triggerResize()})},t.prototype.componentWillUnmount=function(){this.resizeTimer.stop()},t.prototype.render=function(){var e=this,t=this.props,n=t.hasFetchedAllStoreListings,r=t.skuIds,a=this.state.currentIndex;return n?o("div",{className:P.default.carouselButtonsContainer},void 0,l.createElement(g.default,{className:P.default.carousel,items:r,itemSize:U,renderItem:this.renderItem,currentIndex:a,animate:!0,edgeItems:3,ref:this._carousel}),o(v.CarouselPrevious,{onClick:function(){return e.setState({currentIndex:e.state.currentIndex-1})},className:P.default.arrow}),o(v.CarouselNext,{onClick:function(){return e.setState({currentIndex:e.state.currentIndex+1})},className:P.default.arrow})):null},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return a({},e,{object:C.AnalyticsObjects.CAROUSEL})}}]),t}(l.Component);F.displayName="PremiumApplicationsCarouselUnconnected";var x=t.PremiumApplicationsCarousel=c.default.connectStores([y.default,E.default,_.default],function(e){var t=!0,n={},r={},o=e.skuIds,a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var u=l,s=E.default.get(u);if(null==s){t=!1;break}var c=_.default.getForSKU(s.id);if(null==c){t=!1;break}n[u]=s,r[u]=c}return{hasFetchedAllStoreListings:t,skuMap:n,storeListingMap:r}})((0,O.default)(F));var j=function(e){function t(){var n,r;M(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=w(this,e.call.apply(e,[this].concat(a))),r.state={hasSeen:!1},r.handleVisibilityChange=function(e){e&&!r.state.hasSeen&&r.setState({hasSeen:e})},r.handleGoToPremium=function(){var e=r.props,t=e.isAuthenticated,n=e.analyticsContext;t?(!function(e){h.default.track(C.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:e.location})}(n),R.default.open(C.UserSettingsSections.PREMIUM)):window.location=C.WebRoutes.NITRO},w(r,n)}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.skuIds,r=this.state.hasSeen,a=(0,u.default)(P.default.premium,t);return o(f.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!r},void 0,o("div",{className:a},void 0,o("h2",{className:P.default.premiumHeader},void 0,N.default.Messages.APPLICATION_STORE_PREMIUM_NOTICE_HEADER),o("h3",{className:P.default.premiumSubheader},void 0,(0,p.getPremiumDescription)()),r?o(x,{skuIds:n}):o("div",{className:P.default.carouselPlaceholder}),o(A.default,{className:P.default.buttonContainer,justify:A.default.Justify.CENTER,wrap:A.default.Wrap.WRAP},void 0,o(T.default,{look:T.default.Looks.INVERTED,hover:T.default.Hovers.GREY,className:P.default.learnMoreButton,onClick:this.handleGoToPremium},void 0,N.default.Messages.APPLICATION_STORE_PREMIUM_NOTICE_LEARN_MORE))))},t}(l.PureComponent);j.displayName="PremiumApplicationsIntro",t.default=(0,O.default)(j)},6960:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=G(n(9)),u=G(n(77)),s=n(226),c=G(n(522)),f=G(n(150)),d=G(n(3)),p=G(n(2)),h=n(6153),y=G(n(17)),E=G(n(41)),_=G(n(524)),S=n(6152),T=n(962),m=n(6125),v=G(n(45)),A=G(n(6115)),g=G(n(228)),I=G(n(376)),R=G(n(227)),O=G(n(144)),N=G(n(952)),C=G(n(42)),P=G(n(75)),L=G(n(81)),b=G(n(6082)),M=G(n(6200)),w=G(n(6959)),D=G(n(6446)),k=G(n(6101)),U=G(n(28)),F=G(n(133)),x=G(n(6958)),j=n(0),H=G(n(6)),B=G(n(5667));function G(e){return e&&e.__esModule?e:{default:e}}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var K=100,z=function(e){function t(){return V(this,t),W(this,e.apply(this,arguments))}return Y(t,e),t.prototype.getTo=function(){var e=this.props,t=e.filterType,n=e.analyticsContext,r=void 0;return null!=t&&(r=_.default.formatSearch({type:t})),{pathname:j.Routes.APPLICATION_STORE_BROWSE,search:r,state:{scrollRestoration:!1,analyticsState:a({},n.location,{object:j.AnalyticsObjects.BUTTON_BROWSE})}}},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.children;return o("div",{className:B.default.viewAllGamesButton},void 0,o(v.default.Link,{to:this.getTo(),innerClassName:B.default.viewAllGamesButtonInner,look:v.default.Looks.OUTLINED,color:t===j.ThemeTypes.DARK?v.default.Colors.WHITE:v.default.Colors.BLACK},void 0,o("div",{},void 0,n),o(P.default,{name:P.default.Names.CARET,className:B.default.viewAllIcon,direction:N.default.Directions.RIGHT})))},t}(i.Component);z.displayName="ViewAllGamesButton";var $=function(e){var t=e.message,n=e.urlParams,r=void 0===n?{}:n,i=e.analyticsContext;return o(s.Link,{className:B.default.viewAllGames,to:{pathname:j.Routes.APPLICATION_STORE_BROWSE,search:_.default.formatSearch(r),state:{scrollRestoration:!1,analyticsState:a({},i.location,{object:j.AnalyticsObjects.BUTTON_BROWSE})}}},void 0,o("span",{},void 0,t),o(P.default,{name:P.default.Names.CARET,className:B.default.viewAllIcon,direction:N.default.Directions.RIGHT}))};$.displayName="ViewLink";var q=o(D.default,{}),Q=o(c.default,{title:"Discord"}),X=function(e){function t(){var n,r;V(this,t);for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return n=r=W(this,e.call.apply(e,[this].concat(s))),r.scrollerRef=i.createRef(),r.premiumRef=i.createRef(),r.state={sort:j.StoreApplicationSort.FEATURED},r.scrollTo=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=r.props.scrollTo)r.props.scrollTo(e,t);else{var n=r.scrollerRef.current;null!=n&&n.scrollTo(e,t)}},r.getScrollTop=function(){return null!=r.props.getScrollTop?r.props.getScrollTop():null!=r.scrollerRef.current?r.scrollerRef.current.getScrollData().scrollTop:0},r.scrollToPremium=function(){var e=r.props.location,t=r.premiumRef.current;if(null!=t){var n=u.default.findDOMNode(t);n instanceof HTMLElement&&r.scrollTo(n.offsetTop-K,!0)}E.default.replaceWith(e.pathname+e.search)},r.renderSortTab=function(e,t){var n;return o(L.default,{onClick:function(){r.setState({sort:e})},className:(0,l.default)(B.default.distributionApplicationsSort,(n={},n[B.default.selectedSort]=e===r.state.sort,n))},void 0,t)},r.renderToolbar=function(){return q},W(r,n)}return Y(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.location,n=e.lastDirectoryScrollTop,r=e.directoryLayoutId,o=e.shouldFetchDirectoryLayout,a=e.directoryLayout;(0,h.deepLinkRouteIfLandedAndNotAuthed)(j.RPCDeepLinks.STORE_HOME),t.hash===j.PREMIUM_ROUTE_HASH&&null!=a?this.scrollToPremium():null!=n&&this.scrollTo(n),o&&p.default.wait(function(){return(0,m.loadDirectory)(r)})},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=n.directoryLayout,o=n.location,a=n.analyticsContext,i=this.state.sort;o.hash===j.PREMIUM_ROUTE_HASH&&null!=r&&this.scrollToPremium(),i!==t.sort&&y.default.track(j.AnalyticEvents.STORE_DIRECTORY_FILTER_UPDATED,{load_id:a.loadId,sort:i})},t.prototype.componentWillUnmount=function(){var e=this;p.default.wait(function(){(0,S.handleDirectoryUnmount)(e.getScrollTop(),j.DirectoryLocations.HOME),(0,T.muteStoreDirectory)()})},t.prototype.getFeaturedTileDisplayType=function(e,t){return t?j.StoreDirectoryTileTypes.REGULAR:e%6==2||e%6==3?j.StoreDirectoryTileTypes.MEDIA:j.StoreDirectoryTileTypes.REGULAR},t.prototype.getFeaturedPremiumTileDisplayType=function(e,t){return t?j.StoreDirectoryTileTypes.REGULAR:e%6==0||e%6==5?j.StoreDirectoryTileTypes.MEDIA:j.StoreDirectoryTileTypes.REGULAR},t.prototype.renderFeaturedListings=function(e){var t=this.props,n=t.onSKUViewed,r=t.analyticsContext;return o(i.Fragment,{},void 0,o(I.default,{section:j.AnalyticsSections.TABS},void 0,o("div",{className:B.default.distributionApplicationsActions},void 0,o("div",{className:B.default.distributionSorts},void 0,this.renderSortTab(j.StoreApplicationSort.FEATURED,H.default.Messages.APPLICATION_STORE_HOME_SORT_FEATURED),o(L.default,{onClick:this.scrollToPremium,className:B.default.announcingNitro},void 0,H.default.Messages.APPLICATION_STORE_HOME_NITRO_GAMES)),o("div",{className:B.default.viewAllDistributionWrapper},void 0,o($,{message:H.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,analyticsContext:r})))),o(I.default,{section:j.AnalyticsSections.BODY},void 0,o(M.default,{className:B.default.distributionApplications,directoryLayout:e,maxTiles:12,sort:this.state.sort,onSKUViewed:n,analyticsApplicationTypeFilter:j.StoreApplicationCategorySelector.DISTRIBUTION,getTileDisplayType:this.getFeaturedTileDisplayType})))},t.prototype.renderFeaturedPremiumListings=function(e){var t=this.props,n=t.onSKUViewed,r=t.analyticsContext;return o(I.default,{section:j.AnalyticsSections.BODY},void 0,o("div",{className:B.default.premiumApplicationsHeader},void 0,o("h3",{className:B.default.gridHeader},void 0,H.default.Messages.APPLICATION_STORE_HOME_PREMIUM_TITLES),o($,{message:H.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_PREMIUM_APPLICATIONS,urlParams:{type:j.StoreApplicationCategorySelector.PREMIUM},analyticsContext:r})),o(M.default,{analyticsIndexOffset:12,className:B.default.premiumApplications,directoryLayout:e,sort:j.StoreApplicationSort.PREMIUM,analyticsApplicationTypeFilter:j.StoreApplicationCategorySelector.PREMIUM,onSKUViewed:n,getTileDisplayType:this.getFeaturedPremiumTileDisplayType}))},t.prototype.renderContent=function(){var e=this.props,t=e.directoryLayout,n=e.theme,r=e.isWindowFocused,a=e.isAuthenticated,l=e.analyticsContext;return null==t?this.renderLoading():o(I.default,{section:j.AnalyticsSections.BODY},void 0,o("div",{className:B.default.home},void 0,o(I.default,{section:j.AnalyticsSections.HERO},void 0,o(x.default,{className:B.default.heroCarousel,items:t.heroItems,scrollToPremium:this.scrollToPremium,isWindowFocused:r})),this.renderFeaturedListings(t),o(z,{theme:n,analyticsContext:l},void 0,H.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS),null!=t.premiumCarouselSkuIds&&t.premiumCarouselSkuIds.length>0?i.createElement(w.default,{isAuthenticated:a,ref:this.premiumRef,skuIds:t.premiumCarouselSkuIds}):null,this.renderFeaturedPremiumListings(t),o(z,{filterType:j.StoreApplicationCategorySelector.PREMIUM,theme:n,analyticsContext:l},void 0,H.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_PREMIUM_APPLICATIONS)),o("footer",{className:B.default.footer},void 0,o("h1",{className:B.default.footerMain},void 0,H.default.Messages.APPLICATION_STORE_HOME_FOOTER_MAIN),o("h2",{className:B.default.footerSub},void 0,H.default.Messages.APPLICATION_STORE_HOME_FOOTER_SUB)))},t.prototype.renderLoading=function(){return o(C.default,{align:C.default.Align.CENTER,justify:C.default.Justify.CENTER},void 0,o(O.default,{className:B.default.spinner}))},t.prototype.render=function(){var e=this.props.isAuthenticated,t=e?i.createElement(R.default,{ref:this.scrollerRef,track:!0,gutterStyle:R.default.GutterStyles.STORE,momentum:!0,keyboardScroll:!0},this.renderContent()):this.renderContent(),n=e?B.default.homeWrapperNormal:B.default.marketingWrapper;return o("div",{className:n},void 0,Q,o(I.default,{section:j.AnalyticsSections.NAVIGATION},void 0,o(b.default,{title:H.default.Messages.STORE,renderToolbar:this.renderToolbar,isAuthenticated:e,className:B.default.headerBar})),this.props.isFetchingDirectoryLayout?this.renderLoading():t)},t}(i.PureComponent);X.displayName="ApplicationStoreHome",t.default=d.default.connectStores([k.default,U.default,F.default],function(e){var t=e.location,n=k.default.lastHomeDirectoryView,r=f.default.parse(t.search.slice(1))[j.STORE_DIRECTORY_LAYOUT_ID_QUERY_OVERRIDE]||j.STORE_DIRECTORY_LAYOUT_ID;return{directoryLayoutId:r,directoryLayout:k.default.getDirectoryLayout(r),shouldFetchDirectoryLayout:k.default.shouldFetch(),isFetchingDirectoryLayout:k.default.isFetching,lastDirectoryScrollTop:null!=n&&n.scrollTop,theme:U.default.theme,isWindowFocused:F.default.isFocused()}})((0,A.default)((0,g.default)(X))),e.exports=t.default},6961:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var u=Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(226),u=h(n(150)),s=h(n(228)),c=h(n(17)),f=h(n(6960)),d=h(n(6952)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,e.call.apply(e,[this].concat(a))),r._applicationIdsViewed=new Set,r._skuIdsViewed=new Set,r.handleSKUViewed=function(e){r._applicationIdsViewed.add(e.applicationId),r._skuIdsViewed.add(e.id)},y(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.location,n=e.analyticsContext,r=null!=t.search?u.default.parse(t.search.slice(1)):null;c.default.track(p.AnalyticEvents.STORE_DIRECTORY_VIEWED,{load_id:n.loadId,source:null!=t.state?t.state.analyticsSource:p.DIRECT_ANALYTICS_LOCATION,location:n.location.page,utm_campaign_current:null!=r?r.utm_campaign_current:null})},t.prototype.componentWillUnmount=function(){var e=this.props.analyticsContext,t=e.loadId,n=e.loadDate;if(null==n)throw new Error("loadDate was null during unmount");c.default.track(p.AnalyticEvents.STORE_DIRECTORY_EXITED,{load_id:t,duration_ms:Date.now()-n,application_ids_viewed:Array.from(this._applicationIdsViewed),sku_ids_viewed:Array.from(this._skuIdsViewed)})},t.prototype.render=function(){var e=this,t=this.props,n=t.scrollTo,r=t.getScrollTop;return a(l.Switch,{},void 0,a(l.Route,{path:p.Routes.APPLICATION_STORE,exact:!0,render:function(t){return i.createElement(f.default,o({},t,{scrollTo:n,getScrollTop:r,onSKUViewed:e.handleSKUViewed}))}}),a(l.Route,{path:p.Routes.APPLICATION_STORE_BROWSE,render:function(t){return i.createElement(d.default,o({},t,{scrollTo:n,getScrollTop:r,onSKUViewed:e.handleSKUViewed}))}}))},t}(i.Component);E.displayName="ApplicationStoreDirectory",t.default=(0,s.default)(E),e.exports=t.default},6962:function(e,t,n){"use strict";var r;t.__esModule=!0,t.APPLICATION_STORE_LAYOUT=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(6187),i=n(6568),l=n(0);t.APPLICATION_STORE_LAYOUT=o({},a.DEFAULT_LAYOUT,((r={})[l.KeybindActions.CAROUSEL_NEXT]=i.CAROUSEL_NEXT,r[l.KeybindActions.CAROUSEL_PREV]=i.CAROUSEL_PREV,r))}}]);
//# sourceMappingURL=3728db62095a2b90e358.js.map