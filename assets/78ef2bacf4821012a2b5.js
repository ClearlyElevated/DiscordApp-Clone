(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{6018:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=P(n(1)),i=n(226),l=R(n(3)),s=R(n(8060)),u=R(n(8059)),d=R(n(7156)),f=R(n(937)),c=R(n(388)),p=R(n(941)),h=R(n(14)),y=R(n(63)),m=R(n(46)),v=R(n(134)),E=R(n(930)),_=R(n(370)),g=R(n(1032)),S=R(n(289)),T=R(n(6111)),C=n(531),N=P(n(172)),b=R(n(11)),O=P(n(96)),I=P(n(168)),A=n(6387),M=n(0);function R(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function U(e){var t=e.match.params.id;return g.default.call(function(){return S.default.open(t)}),a(i.Redirect,{to:p.default.defaultRoute})}function k(e){var t=e.match,n=/-/g,o=t.params.section&&t.params.section.toUpperCase().replace(n,"_"),r=t.params.subsection&&t.params.subsection.toUpperCase().replace(n,"_");return!M.UserSettingsSections.hasOwnProperty(o)||r&&!M.UserSettingsSections.hasOwnProperty(r)||g.default.call(function(){return _.default.open(M.UserSettingsSections[o],r)}),a(i.Redirect,{to:p.default.defaultRoute})}function F(){return g.default.call(function(){return T.default.open(M.CreateGuildModalScreens.CreateGuild,"External link")}),a(i.Redirect,{to:p.default.defaultRoute})}function x(e){var t=e.match.params,n=t.guildId,o=t.channelId,r=t.type;return g.default.call(function(){return(0,C.open)()}),a(i.Redirect,{to:parseInt(r)===M.ChannelTypes.GUILD_VOICE?M.Routes.CHANNEL(n):M.Routes.CHANNEL(n,o)})}n(1042),n(409),n(974),n(7050),n(1242),n(1240),n(7049),n(6585),n(6614),n(231),n(7048),n(960),n(7047),n(7046),n(7044),n(7041),n(202),n(927),n(164),n(542),n(6450),l.default.initialize(),b.default.embedded&&(b.default.on("USER_SETTINGS_OPEN",function(){return _.default.open(M.UserSettingsSections.ACCOUNT)}),b.default.on("LAUNCH_APPLICATION",function(e,t){var n=O.getLibraryApplicationForApplicationId(t,m.default,v.default);I.playApplication(t,n,{analyticsParams:{location:{page:M.AnalyticsPages.DIRECT,object:M.AnalyticsObjects.WEB_URL}}})})),U.displayName="userProfileRedirector",k.displayName="userSettingsRedirector",F.displayName="createGuildModalRedirector",x.displayName="welcomeRedirector";var G=(0,A.makeAuthenticated)(u.default);f.default.registerModals(d.default);var j=l.default.connectStores([c.default,p.default,h.default],function(){return{isConnected:c.default.isConnected(),defaultRoute:p.default.defaultRoute,token:h.default.getToken()}})(function(e){function t(){return L(this,t),w(this,e.apply(this,arguments))}return D(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this.props,t=e.isConnected,n=e.token;t||null==n||E.default.startSession()},t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute;return null==e.token?a(i.Redirect,{to:M.Routes.LOGIN}):t?a(i.Redirect,{to:n}):null},t}(r.Component));function B(e){var t=e.match.params,n=t.gameId,o=t.action;return y.default.whenInitialized(function(){m.default.whenInitialized(function(){switch(o){case"launch":var e=m.default.getFirstLibraryApplication(n);if(null==e)return;I.playApplication(e.id,e,{analyticsParams:{location:{page:M.AnalyticsPages.DIRECT,object:M.AnalyticsObjects.WEB_URL}}});break;case"uninstall":var t=m.default.getFirstLibraryApplication(n);N.uninstallBranchPrompt(t.id,t.branchId,M.AnalyticsLocations.URI_SCHEME)}})}),a(i.Redirect,{to:M.Routes.APPLICATION_LIBRARY})}B.displayName="gameLibraryActionRedirector";var H=a(i.Redirect,{exact:!0,from:"/channels",to:"/"}),V=a(i.Redirect,{to:"/"}),Y=a(s.default,{}),W=function(e){function t(){return L(this,t),w(this,e.apply(this,arguments))}return D(t,e),t.prototype.render=function(){return a(r.Fragment,{},void 0,a(i.Switch,{},void 0,H,a(i.Route,{path:M.Routes.APP,component:j}),a(i.Route,{path:M.Routes.USERS(":id"),render:U}),a(i.Route,{path:M.Routes.SETTINGS(":section"),render:k}),a(i.Route,{path:M.Routes.SETTINGS(":section",":subsection"),render:k}),a(i.Route,{path:M.Routes.WELCOME(":guildId",":channelId",":type"),render:x}),a(i.Route,{path:M.Routes.MESSAGE(":guildId",":channelId",":messageId"),render:G}),a(i.Route,{path:M.Routes.CHANNEL(":guildId",":channelId?"),render:G}),a(i.Route,{path:M.Routes.ACTIVITY,render:G}),a(i.Route,{path:M.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action"),render:B}),a(i.Route,{path:M.Routes.APPLICATION_LIBRARY,render:G}),a(i.Route,{path:M.Routes.GUILD_CREATE,render:F}),a(i.Route,{path:M.Routes.APPLICATION_STORE,render:G}),a(i.Route,{path:M.Routes.GUILD_DISCOVERY,render:G}),V),Y)},t}(r.PureComponent);W.displayName="ViewsWithMainInterface",t.default=W,e.exports=t.default},6059:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!=t&&u.default.register(e,t);var p=e.getExperimentId();return(0,o.default)({displayName:"ExperimentContainer",mixins:[a.default.LazyStoreListenerMixin(e,i.default,l.default,s.default,f.default)],getDefaultProps:function(){return{renderFunctions:t}},getInitialState:function(){return this.getStateFromStores()},shouldComponentUpdate:function(e,t){return!(0,r.default)(this.props,e)||t.guildId!==this.state.guildId||t.channelId!==this.state.channelId||!d.default.experimentDescriptorEquals(t.experimentDescriptor,this.state.experimentDescriptor)},getStateFromStores:function(){var t=this.props.guildId||l.default.getGuildId(),n=this.props.channelId||i.default.getChannelId(t),o=null,a=f.default.getOverrideExperimentDescriptor(p);return o=a||e.getExperimentDescriptor(t,n),{guildId:t,channelId:n,experimentDescriptor:o}},getRenderFunction:function(){var e=this.state.experimentDescriptor,t=this.props.renderFunctions;if(null==e)return t[c.ExperimentTypes.NONE]||h;var n=e.type,o=e.bucket,a=t[n];return null==a?t[c.ExperimentTypes.NONE]||h:null!=a[o]?a[o]:t[c.ExperimentTypes.NONE]||h},handleExperimentTriggered:function(){var e=this.state.experimentDescriptor;if(null!=e&&!e.override){if(null!=n&&!1===n(e,this.props))return;u.default.trigger(e)}},componentDidMount:function(){this.handleExperimentTriggered()},componentDidUpdate:function(e,t){var n=this.state.experimentDescriptor;d.default.experimentDescriptorEquals(n,t.experimentDescriptor)||this.handleExperimentTriggered()},render:function(){var e=this.getRenderFunction(),t=this.state.experimentDescriptor,n=this.props,o=(n.renderFunctions,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(n,["renderFunctions"]));return e(o,t)}})};var o=p(n(54)),a=p(n(3)),r=p(n(276)),i=p(n(65)),l=p(n(187)),s=p(n(14)),u=p(n(6054)),d=p(n(6086)),f=p(n(165)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return null};e.exports=t.default},6062:function(e,t,n){"use strict";t.__esModule=!0;var o=v(n(7)),a=v(n(3)),r=v(n(24)),i=v(n(6486)),l=v(n(2)),s=n(0),u=v(n(65)),d=v(n(187)),f=v(n(25)),c=v(n(18)),p=v(n(61)),h=v(n(6485)),y=n(6068),m=n(6484);function v(e){return e&&e.__esModule?e:{default:e}}var E=.05,_={},g=!1;function S(e){return null==_[e]&&(_[e]={searchId:e,searchType:T(e),isIndexing:!1,isHistoricalIndexing:!1,isSearching:!1,analyticsId:null,editorState:null,offset:null,query:null,hasError:!1,searchFetcher:null,searchResults:null,totalResults:null,documentsIndexed:null,resultsBlocked:0,showBlockedResults:!1,showNoResultsAlt:!1}),_[e]}function T(e){return f.default.getGuild(e)?s.SearchTypes.GUILD:c.default.getChannel(e)?s.SearchTypes.CHANNEL:null}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e)return n;var o=_[e];return null==o?n:t(o)}var N="SearchStore",b=!1,O={},I=null;function A(e){var t=e.searchId,n=_[t];if(null==n)return!1;null!=n.searchFetcher&&n.searchFetcher.cancel(),delete _[t]}function M(){var e=d.default.getGuildId(),t=u.default.getChannelId(e),n=e||t;if(n===I)return!1;n&&!_[n]&&S(n),I=n}function R(){(0,y.refreshSearchTokens)()}var P=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,d.default,f.default,c.default);var e,t=r.default.get(N);t&&t.history&&(e=t.history,Object.keys(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=e[t].filter(function(e){return"string"==typeof e&&e.trim()})),Array.isArray(e[t])&&e[t].length||delete e[t]}),O=e),b=!!r.default.get("tokenized")||!1},t.prototype.isOpen=function(){return g},t.prototype.getCurrentSearchId=function(){return I},t.prototype.isActive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return null!=e&&(this.isIndexing(e)||this.isSearching(e)||this.hasResults(e))},t.prototype.isTokenized=function(){return b},t.prototype.getSearchType=function(e){return C(e||I,function(e){return e.searchType})},t.prototype.getResults=function(e){return C(e,function(e){return e.searchResults})},t.prototype.hasResults=function(e){return null!=C(e,function(e){return e.searchResults})},t.prototype.isIndexing=function(e){return C(e,function(e){return e.isIndexing})||!1},t.prototype.isHistoricalIndexing=function(e){return C(e,function(e){return e.isHistoricalIndexing})||!1},t.prototype.isSearching=function(e){return C(e,function(e){return e.isSearching})||!1},t.prototype.getAnalyticsId=function(e){return C(e,function(e){return e.analyticsId})},t.prototype.getResultsBlocked=function(e){return C(e,function(e){return e.resultsBlocked})},t.prototype.getDocumentsIndexedCount=function(e){return C(e,function(e){return e.documentsIndexed})},t.prototype.getSearchFetcher=function(e){return C(e,function(e){return e.searchFetcher})},t.prototype.getTotalResults=function(e){return C(e,function(e){return e.totalResults})||0},t.prototype.getEditorState=function(e){return C(e,function(e){return e.editorState})},t.prototype.getHistory=function(e){return O[e]},t.prototype.getOffset=function(e){return C(e,function(e){return e.offset})||0},t.prototype.getQuery=function(e){return C(e,function(e){return e.query})},t.prototype.hasError=function(e){return C(e,function(e){return e.hasError})||!1},t.prototype.shouldShowBlockedResults=function(e){return C(e,function(e){return e.showBlockedResults},!1)||!1},t.prototype.shouldShowNoResultsAlt=function(e){return C(e,function(e){return e.showNoResultsAlt},!1)||!1},t.prototype.getResultsState=function(e){return{isSearching:this.isSearching(e),isIndexing:this.isIndexing(e),isHistoricalIndexing:this.isHistoricalIndexing(e),documentsIndexed:this.getDocumentsIndexedCount(e),offset:this.getOffset(e),results:this.getResults(e),totalResults:this.getTotalResults(e),hasError:this.hasError(e),resultsBlocked:this.getResultsBlocked(e),showBlockedResults:this.shouldShowBlockedResults(e),showNoResultsAlt:this.shouldShowNoResultsAlt(e)}},t}(a.default.Store);t.default=new P(l.default,{SEARCH_START:function(e){var t=e.queryString,n=e.searchId,a=e.query,u=S(n);u.searchFetcher&&(u.searchFetcher.cancel(),u.searchFetcher=null);var d=new i.default(n,u.searchType,a);u.searchFetcher=d,u.isSearching=!0,u.searchResults=null,u.analyticsId=null,u.query=o.default.omit(a,"type"),u.offset=a.offset?a.offset:0,u.showBlockedResults=!1,function(e,t){if("string"==typeof t){var n=O[e]=O[e]||[];t=t.trim();var o=n.indexOf(t);-1!==o?(n.splice(o,1),n.unshift(t)):n[0]&&t.startsWith(n[0])?n[0]=t:o<0&&n.unshift(t),n.length>5&&n.splice(5,n.length),r.default.set(N,{history:O})}}(n,t),d.fetch(function(e){l.default.dispatch({type:s.ActionTypes.SEARCH_FINISH,searchId:n,analyticsId:e.body.analytics_id,totalResults:e.body.total_results,messages:e.body.messages,hasError:!1,doingHistoricalIndex:e.body.doing_deep_historical_index,documentsIndexed:e.body.documents_indexed})},function(){l.default.dispatch({type:s.ActionTypes.SEARCH_INDEXING,searchId:n})},function(){l.default.dispatch({type:s.ActionTypes.SEARCH_FINISH,searchId:n,messages:[],totalResults:0,analyticsId:null,hasError:!0,doingHistoricalIndex:!1,documentsIndexed:0})})},SEARCH_INDEXING:function(e){var t=S(e.searchId);t.isIndexing=!0,t.isHistoricalIndexing=!0,t.isSearching=!1},SEARCH_FINISH:function(e){var t=S(e.searchId);t.isSearching=!1,t.isIndexing=!1,t.isHistoricalIndexing=e.doingHistoricalIndex,t.searchFetcher=null,t.totalResults=e.totalResults,t.hasError=e.hasError,t.analyticsId=e.analyticsId,t.documentsIndexed=e.documentsIndexed,t.showNoResultsAlt=Math.random()<E;var n=t.query;if(n){var a=(0,m.createASTHighlighter)(n.content||""),r=0;t.searchResults=(0,o.default)(e.messages).map(function(e){return e.map(function(e){return h.default.create(e,a)})}).map(function(e){return e.filter(function(e){var t=p.default.isBlocked(e.message.author.id);return t&&e.hit&&r++,!t||e.hit})}).value(),t.resultsBlocked=r}else t.hasError=!0},SEARCH_EDITOR_STATE_CLEAR:A,SEARCH_ENSURE_SEARCH_STATE:function(e){var t=e.searchId;t&&S(t)},SEARCH_EDITOR_STATE_CHANGE:function(e){var t=e.searchId,n=e.editorState;S(t).editorState=n},SEARCH_SET_SHOW_BLOCKED_RESULTS:function(e){var t=e.searchId,n=e.showBlocked;S(t).showBlockedResults=n},CHANNEL_SELECT:function(e){return M()},GUILD_SELECT:function(e){return M()},CHANNEL_TOGGLE_SECTION:function(e){return null!=I&&A({searchId:I})},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null==t?(r.default.remove(N),O={}):(delete O[t],r.default.set(N,{history:O}))},LOGOUT:function(e){return r.default.remove(N),void(O={})},CONNECTION_OPEN:function(e){Object.keys(_).forEach(function(e){null!=_[e]&&(_[e].searchType=T(e))})},SEARCH_MODAL_OPEN:function(e){g=!0},SEARCH_MODAL_CLOSE:function(e){g=!1},USER_SETTINGS_UPDATE:function(e){return R()},I18N_LOAD_SUCCESS:function(e){return R()}}),e.exports=t.default},6067:function(e,t,n){"use strict";t.__esModule=!0,t.ComponentTypes=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.getRandomDateShortcut=function(){return r.default.sample(D())},t.refreshSearchTokens=function(){Object.assign(H,(t=[s.default.Messages.SEARCH_ANSWER_HAS_LINK,s.default.Messages.SEARCH_ANSWER_HAS_EMBED,s.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT,s.default.Messages.SEARCH_ANSWER_HAS_VIDEO,s.default.Messages.SEARCH_ANSWER_HAS_IMAGE,s.default.Messages.SEARCH_ANSWER_HAS_SOUND],(e={})[E.SearchTokenTypes.FILTER_FROM]={regex:M(s.default.Messages.SEARCH_FILTER_FROM),componentType:B.FILTER,key:A(s.default.Messages.SEARCH_FILTER_FROM),validator:G,getAutocompletions:F},e[E.SearchTokenTypes.ANSWER_USERNAME_FROM]={follows:[E.SearchTokenTypes.FILTER_FROM],regex:j,validator:R,mutable:!0,componentType:B.ANSWER,queryKey:"author_id"},e[E.SearchTokenTypes.FILTER_MENTIONS]={regex:M(s.default.Messages.SEARCH_FILTER_MENTIONS),componentType:B.FILTER,key:A(s.default.Messages.SEARCH_FILTER_MENTIONS),validator:G,getAutocompletions:F},e[E.SearchTokenTypes.ANSWER_USERNAME_MENTIONS]={follows:[E.SearchTokenTypes.FILTER_MENTIONS],regex:j,validator:R,mutable:!0,componentType:B.ANSWER,queryKey:"mentions"},e[E.SearchTokenTypes.FILTER_HAS]={regex:M(s.default.Messages.SEARCH_FILTER_HAS),componentType:B.FILTER,key:A(s.default.Messages.SEARCH_FILTER_HAS),getAutocompletions:function(e,n,o){return k(e,o,t)}},e[E.SearchTokenTypes.ANSWER_HAS]={regex:new RegExp("(?:\\s*-?("+t.map(function(e){return v.default.escape(e)}).join("|")+"))","i"),follows:[E.SearchTokenTypes.FILTER_HAS],validator:w,componentType:B.ANSWER,queryKey:"has"},e[E.SearchTokenTypes.FILTER_FILE_TYPE]={regex:M(s.default.Messages.SEARCH_FILTER_FILE_TYPE),key:A(s.default.Messages.SEARCH_FILTER_FILE_TYPE),componentType:B.FILTER},e[E.SearchTokenTypes.ANSWER_FILE_TYPE]={regex:/(?:\s*([^\s]+))/,follows:[E.SearchTokenTypes.FILTER_FILE_TYPE],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_extensions"},e[E.SearchTokenTypes.FILTER_FILE_NAME]={regex:M(s.default.Messages.SEARCH_FILTER_FILE_NAME),key:A(s.default.Messages.SEARCH_FILTER_FILE_NAME),componentType:B.FILTER},e[E.SearchTokenTypes.ANSWER_FILE_NAME]={regex:/(?:\s*([^\s]+)(?=\s))/,follows:[E.SearchTokenTypes.FILTER_FILE_NAME],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_filename"},e[E.SearchTokenTypes.FILTER_BEFORE]={regex:M(s.default.Messages.SEARCH_FILTER_BEFORE),componentType:B.FILTER,key:A(s.default.Messages.SEARCH_FILTER_BEFORE),getAutocompletions:function(e,t,n){return U(e,n,E.SearchTokenTypes.FILTER_BEFORE)}},e[E.SearchTokenTypes.FILTER_ON]={regex:M("("+s.default.Messages.SEARCH_FILTER_ON+"|"+s.default.Messages.SEARCH_FILTER_DURING+")"),componentType:B.FILTER,key:A(s.default.Messages.SEARCH_FILTER_DURING),getAutocompletions:function(e,t,n){return U(e,n,E.SearchTokenTypes.FILTER_ON)}},e[E.SearchTokenTypes.FILTER_AFTER]={regex:M(s.default.Messages.SEARCH_FILTER_AFTER),componentType:B.FILTER,key:A(s.default.Messages.SEARCH_FILTER_AFTER),getAutocompletions:function(e,t,n){return U(e,n,E.SearchTokenTypes.FILTER_AFTER)}},e[E.SearchTokenTypes.ANSWER_BEFORE]={regex:I,follows:[E.SearchTokenTypes.FILTER_BEFORE],componentType:B.ANSWER,mutable:!0,validator:function(e){return P(e,"before")}},e[E.SearchTokenTypes.ANSWER_ON]={regex:I,follows:[E.SearchTokenTypes.FILTER_ON],componentType:B.ANSWER,mutable:!0,validator:function(e){return P(e,"on")}},e[E.SearchTokenTypes.ANSWER_AFTER]={regex:I,follows:[E.SearchTokenTypes.FILTER_AFTER],componentType:B.ANSWER,mutable:!0,validator:function(e){return P(e,"after")}},e[E.SearchTokenTypes.FILTER_IN]={regex:M(s.default.Messages.SEARCH_FILTER_IN),componentType:B.FILTER,key:A(s.default.Messages.SEARCH_FILTER_IN),validator:x,getAutocompletions:function(e,t,n){"#"===e[0]&&(e=e.substring(1));var o=m.default.queryChannels(e,t,1/0).map(function(e){var t=e.channel;return t});if(!e.trim()){var a=c.default.getChannelId(t),i=o.find(function(e){return e.id===a});i&&(o.splice(o.indexOf(i),1),o.unshift(i))}var l=y.default.getTextChannelNameDisambiguations(t);return(0,r.default)(o).take(n).map(function(e){return{text:""+l[e.id].name,channel:e}}).value()}},e[E.SearchTokenTypes.ANSWER_IN]={regex:/(?:\s*#?([^ ]+))/i,mutable:!0,follows:[E.SearchTokenTypes.FILTER_IN],componentType:B.ANSWER,validator:L,queryKey:"channel_id"},e));var e,t},t.getFilterAutocompletions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(H).length;return(0,r.default)(Object.keys(H)).filter(function(e){return E.IS_SEARCH_FILTER_TOKEN.test(e)}).filter(function(e){return H[e].key}).map(function(e){return{token:e,text:H[e].key}}).filter(function(t){var n=t.text;return(0,a.default)(e.toLowerCase(),n)}).take(t).value()};var a=_(n(959)),r=_(n(7)),i=_(n(5)),l=_(n(147)),s=_(n(6)),u=_(n(13)),d=_(n(6062)),f=_(n(187)),c=_(n(65)),p=_(n(132)),h=_(n(61)),y=_(n(119)),m=_(n(6085)),v=_(n(196)),E=n(0);function _(e){return e&&e.__esModule?e:{default:e}}function g(){return new Set(i.default.months().map(function(e){return e.toLowerCase()}))}function S(){return new Set(i.default.weekdays().map(function(e){return e.toLowerCase()}))}function T(){var e=(new Date).getFullYear();return new Set(r.default.range(2015,e+1).map(function(e){return e.toString()}))}function C(e,t){return[e,e.clone().add(1,t)]}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return C((0,i.default)().startOf(e).add(t,e),e)}function b(e,t,n){return C((0,i.default)(e,t).local(),n)}function O(){var e;return(e={})[s.default.Messages.SEARCH_SHORTCUT_TODAY]=function(){return N("day")},e[s.default.Messages.SEARCH_SHORTCUT_YESTERDAY]=function(){return N("day",-1)},e[s.default.Messages.SEARCH_SHORTCUT_WEEK]=function(){return N("week")},e[s.default.Messages.SEARCH_SHORTCUT_MONTH]=function(){return N("month")},e[s.default.Messages.SEARCH_SHORTCUT_YEAR]=function(){return N("year")},e}var I=new RegExp("(?:\\s*(([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})|([0-9]{4})-([0-9]{1,2})|\\d{4}|([a-z]+)))","i");function A(e){return e+":"}function M(e){return new RegExp(A(e),"i")}function R(e){var t=void 0;return!!(t=e.getMatch(1)===E.ME?u.default.getCurrentUser():u.default.findByTag(e.getMatch(2),e.getMatch(3)))&&(e.setData("user",t),!0)}function P(e,t){var n=e.getFullMatch().trim().toLowerCase(),o=O()[n],a=void 0,r=void 0;if(null!=o){var i=o();a=i[0],r=i[1]}else if(g().has(n)){var l=b(n,"MMMM","month");a=l[0],r=l[1]}else if(S().has(n)){var s=b(n,"dddd","day");a=s[0],r=s[1]}else if(T().has(n)){var u=b(n,"YYYY","year");a=u[0],r=u[1]}else{var d=b(n,E.SEARCH_DATE_FORMAT,"day");a=d[0],r=d[1]}return!(!a.isValid()||!r.isValid())&&("before"===t?(r=a,a=null):"after"===t&&(a=r,r=null),e.setData("start",a),e.setData("end",r),!0)}function L(e){var t=e.getMatch(1),n=f.default.getGuildId(),o=y.default.getChannels(n)[E.ChannelTypes.GUILD_TEXT],a=y.default.getTextChannelNameDisambiguations(n),i=r.default.chain(o).map(function(e){return e.channel}).find(function(e){return t===a[e.id].name}).value();return!!i&&(e.setData("channel",i),!0)}function w(e){var t,n=(t={},t[s.default.Messages.SEARCH_ANSWER_HAS_LINK]="link",t[s.default.Messages.SEARCH_ANSWER_HAS_EMBED]="embed",t[s.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT]="file",t[s.default.Messages.SEARCH_ANSWER_HAS_VIDEO]="video",t[s.default.Messages.SEARCH_ANSWER_HAS_IMAGE]="image",t[s.default.Messages.SEARCH_ANSWER_HAS_SOUND]="sound",t)[e.getMatch(1)];return!!n&&(e.setData("has",n),!0)}function D(){return[].concat(Array.from(g()),Array.from(S()),Array.from(T()),Object.keys(O()))}function U(e,t,n){return k(e,t,D()).map(function(e){return o({},e,{group:n,key:n+"-"+e.text})})}function k(e,t,n){return(0,r.default)(n).filter(function(t){return(0,a.default)(e.toLocaleLowerCase(),t.toLowerCase())}).take(t).map(function(e){return{text:e}}).value()}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=d.default.getSearchType(t);e=e.split("#")[0];var r=void 0;switch(a){case E.SearchTypes.GUILD:r=m.default.queryGuildUsers;break;case E.SearchTypes.CHANNEL:r=m.default.queryChannelUsers;break;default:return[]}return r(t,e,n,o).filter(function(e){var t=e.user;return!h.default.isBlocked(t.id)}).map(function(e){var t=e.user;return{text:t.tag,user:t}})}function x(){return d.default.getSearchType()===E.SearchTypes.GUILD}function G(){return!p.default.hidePersonalInformation}var j=/^(?:\s*(@me|([^@#:]+)#([0-9]{4})))/i,B=t.ComponentTypes=(0,l.default)({FILTER:null,ANSWER:null});var H={};t.default=H},6068:function(e,t,n){"use strict";t.__esModule=!0,t.ShowDatePicker=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.getSearchOptionAnswer=function(e){switch(e){case d.SearchTokenTypes.FILTER_FROM:return f.default.Messages.SEARCH_ANSWER_FROM;case d.SearchTokenTypes.FILTER_MENTIONS:return f.default.Messages.SEARCH_ANSWER_MENTIONS;case d.SearchTokenTypes.FILTER_HAS:return f.default.Messages.SEARCH_ANSWER_HAS;case d.SearchTokenTypes.FILTER_BEFORE:case d.SearchTokenTypes.FILTER_ON:case d.SearchTokenTypes.FILTER_AFTER:return f.default.Messages.SEARCH_ANSWER_DATE;case d.SearchTokenTypes.FILTER_IN:return f.default.Messages.SEARCH_ANSWER_IN;case d.SearchTokenTypes.FILTER_FILE_TYPE:return f.default.Messages.SEARCH_ANSWER_FILE_TYPE;case d.SearchTokenTypes.FILTER_FILE_NAME:return f.default.Messages.SEARCH_ANSWER_FILE_NAME}},t.getSearchQueryFromTokens=function(e){var t={};e.forEach(function(e){var n=e.type;if(!d.IS_SEARCH_FILTER_TOKEN.test(n)){switch(n){case d.SearchTokenTypes.ANSWER_BEFORE:case d.SearchTokenTypes.ANSWER_ON:case d.SearchTokenTypes.ANSWER_AFTER:var o=e.getData("start"),a=e.getData("end");return o&&(t.min_id=u.default.fromTimestamp(o)),void(a&&(t.max_id=u.default.fromTimestamp(a)))}var r=function(e){var t=s.default[e],n=t?t.queryKey:null;n||(n="content");return n}(n);null==t[r]&&(t[r]=new Set);var i=t[r];switch(n){case d.SearchTokenTypes.ANSWER_USERNAME_FROM:case d.SearchTokenTypes.ANSWER_USERNAME_MENTIONS:i.add(e.getData("user").id);break;case d.SearchTokenTypes.ANSWER_FILE_TYPE:case d.SearchTokenTypes.ANSWER_FILE_NAME:i.add(e.getMatch(1));break;case d.SearchTokenTypes.ANSWER_IN:i.add(e.getData("channel").id);break;case d.SearchTokenTypes.ANSWER_HAS:i.add(e.getData("has"));break;default:i.add(e.getFullMatch().trim())}}});for(var n=Object.entries(t),o=Array.isArray(n),a=0,n=o?n:n[Symbol.iterator]();;){var r;if(o){if(a>=n.length)break;r=n[a++]}else{if((a=n.next()).done)break;r=a.value}var i=r,l=i[0],f=i[1];f instanceof Set&&(t[l]=Array.from(f))}t.content&&(t.content=t.content.join(" ").trim(),t.content||delete t.content);return t},t.getNonTokenQuery=function(e){return e.map(function(e){return e.type===i.default.NON_TOKEN_TYPE?e.getFullMatch():""}).join(" ").trim()},t.getSelectionScope=function(e,t,n){var o=void 0,a=void 0,r=e.find(function(r,i){return t>=r.start&&t<=r.end&&n>=r.start&&n<=r.end?(e[i+1]&&(a=e[i+1]),!0):(o=r,!1)});if(!r)return null;return{previousToken:o,currentToken:r,nextToken:a,focusOffset:t,anchorOffset:n}},t.getAutocompleteMode=function(e,t){var n=e=e||{},o=n.currentToken,a=n.nextToken,r=n.previousToken;if(0===t.length)return{type:d.SearchPopoutModes.EMPTY,filter:null,token:null};if(!o)return{type:d.SearchPopoutModes.FILTER_ALL,filter:null,token:null};if(d.IS_SEARCH_FILTER_TOKEN.test(o.type)){if(!a||a.type===i.default.NON_TOKEN_TYPE)return{type:d.SearchPopoutModes.FILTER,filter:o.type,token:a};if(a&&!d.IS_SEARCH_ANSWER_TOKEN.test(a.type))return{type:d.SearchPopoutModes.FILTER,filter:o.type,token:null}}if(o.type===i.default.NON_TOKEN_TYPE&&r&&d.IS_SEARCH_FILTER_TOKEN.test(r.type))return{type:d.SearchPopoutModes.FILTER,filter:r.type,token:o};var l=void 0;o.type===i.default.NON_TOKEN_TYPE&&(l=o);return{type:d.SearchPopoutModes.FILTER_ALL,filter:null,token:l}},t.getFlattenedStringArray=function(e,t){var n=[];return(0,r.default)(e).forEach(function(e){if(e&&e.results.length){var o=e.group;n=n.concat(e.results.map(function(e){var n=e.text;if(t===d.SearchPopoutModes.FILTER_ALL){o=e.group||o;var a=s.default[o];a&&a.key&&(n=a.key+" "+n)}return n}))}}),n.filter(function(e){return e})},t.getTotalResults=function(e){return e.reduce(function(e,t){return t?t.results.length+e:e},0)},t.getQueryFromTokens=function(e){if(!e)return"";return e.map(function(e){return e.getFullMatch()}).join("")},t.tokenizeQuery=function(e){return h.tokenize(e)},t.clearTokenCache=function(){return h.clearCache()},t.showDatePicker=function(e){return p[e]},t.filterHasAnswer=function(e,t){var n=d.IS_SEARCH_FILTER_TOKEN.test(e.type);if(!t&&n||t&&n&&!d.IS_SEARCH_ANSWER_TOKEN.test(t.type))return!1;return!0},t.refreshSearchTokens=function(){(0,l.refreshSearchTokens)(),h.reset(),(0,r.default)(s.default).forOwn(function(e,t){return h.addRule(a({type:t},e))})};var r=c(n(7)),i=c(n(6081)),l=n(6067),s=c(l),u=c(n(149)),d=n(0),f=c(n(6));function c(e){return e&&e.__esModule?e:{default:e}}var p=t.ShowDatePicker=((o={})[d.SearchTokenTypes.FILTER_BEFORE]=!0,o[d.SearchTokenTypes.FILTER_AFTER]=!0,o[d.SearchTokenTypes.FILTER_ON]=!0,o);var h=new i.default},6078:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(59),r=(o=a)&&o.__esModule?o:{default:o},i=n(188);n(373),n(197);var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){return new t({id:e.id,heroItems:e.hero_items.map(function(e){return{skuId:e.sku_id,url:e.url,title:e.title,header:e.header,description:e.description,buttonLabel:e.button_label,thumbnail:null!=e.thumbnail?(0,i.transformStoreAssetFromServer)(e.thumbnail):null,previewVideo:null!=e.preview_video?(0,i.transformStoreAssetFromServer)(e.preview_video):null,fullVideo:null!=e.full_video?(0,i.transformStoreAssetFromServer)(e.full_video):null,paginationImage:null!=e.pagination_image?(0,i.transformStoreAssetFromServer)(e.pagination_image):null,background:null!=e.background?(0,i.transformStoreAssetFromServer)(e.background):null}}).filter(Boolean),premiumCarouselSkuIds:e.premium_carousel_skus,featuredSkuIds:e.featured_skus,premiumSkuIds:e.featured_premium_skus,allSkuIds:e.all_skus})},t.prototype.initialize=function(e){this.id=e.id,this.heroItems=e.heroItems,this.premiumCarouselSkuIds=e.premiumCarouselSkuIds,this.featuredSkuIds=e.featuredSkuIds,this.premiumSkuIds=e.premiumSkuIds,this.allSkuIds=e.allSkuIds},t}(r.default);t.default=l,e.exports=t.default},6081:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=/.+/g,i=t.NON_TOKEN_TYPE="NON_TOKEN";function l(e,t,n){if(!t)return null;for(var o=0;o<t.length;o++){var a=t[o],r=s(e.match(a.regex),n),i=void 0;if(r){var l=a.cache;if(l&&(i=l.get(r[0]))&&((i=new d(i)).start=r.index),!i){if(i=new d(r,a.type),a.validator&&!a.validator(i))continue;l&&!l.has(r[0])&&l.set(r[0],i)}return i}}return null}function s(e,t){if(!e)return null;var n=[].concat(e);return n.index=t,n}var u=t.QueryTokenizer=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments[1];a(this,e),this.reset(n,o),n.forEach(function(e){return t.addRule(e)})}return e.prototype.reset=function(e){this._rules=[],this._followers={},this._nonTokenType=e||i},e.prototype.addRule=function(e){var t=this,n=e.type,o=e.follows,a=e.validator,r=e.regex;"^"!==r.source.charAt(0)&&(r=new RegExp("^"+r.source,r.flags));var i=void 0;a&&(i=new Map),o?o.forEach(function(e){t._followers[e]||(t._followers[e]=[]),t._followers[e].push({regex:r,type:n,validator:a,cache:i})}):this._rules.push({regex:r,type:n,validator:a,cache:i})},e.prototype.tokenize=function(e){for(var t=e,n="",o=0,a=void 0,i=[];t.length;){var l=this._getMatch(t,a,o+n.length);l?(n&&i.push(new d(s(n.match(r),o),this._nonTokenType)),a=l,i.push(l),o+=a.length+n.length,t=t.substring(a.length),n=""):(n+=t[0],t=t.substring(1))}return n&&i.push(new d(s(n.match(r),o),this._nonTokenType)),i},e.prototype.clearCache=function(){for(var e in this._rules.forEach(function(e){return e.cache&&e.cache.clear()}),this._followers){this._followers[e].forEach(function(e){return e.cache&&e.cache.clear()})}},e.prototype._getMatch=function(e,t,n){var o=t?t.type:null,a=void 0;return t&&t.end===n&&(a=l(e,this._followers[o],n)),a||(a=l(e,this._rules,n)),a},e}(),d=t.Token=function(){function e(t,n){a(this,e),t instanceof e?(this.match=[].concat(t.match),this.start=t.start,this.type=t.type,t._data&&(this._data=t._data)):(this.match=[].concat(t),this.start=t.index||0,this.type=n)}return e.prototype.valueOf=function(){return this.match[0]},e.prototype.getFullMatch=function(){return this.match[0]},e.prototype.getMatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.match[e]},e.prototype.setData=function(e,t){this._data||(this._data=new Map),this._data.set(e,t)},e.prototype.getData=function(e){if(this._data)return this._data.get(e)},o(e,[{key:"end",get:function(){return this.start+this.length}},{key:"length",get:function(){return this.match[0].length}}]),e}();u.NON_TOKEN_TYPE=i,u.Token=d,t.default=u},6082:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderBarIcon=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));n(226);var l=R(n(9)),s=R(n(3)),u=n(939),d=n(371),f=R(n(18)),c=R(n(65)),p=R(n(6509)),h=R(n(35)),y=R(n(189)),m=n(6508),v=R(n(380)),E=R(n(6506)),_=R(n(6487)),g=R(n(145)),S=R(n(42)),T=R(n(75)),C=R(n(45)),N=R(n(94)),b=R(n(225)),O=R(n(6089)),I=R(n(6)),A=n(0),M=R(n(5613));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D="RECENT_MENTIONS_POPOUT",U=t.HeaderBarIcon=function(e){function t(){return P(this,t),L(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.tooltip,o=e.onClick,l=e.foreground,s=e.noMargin,u=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["name","tooltip","onClick","foreground","noMargin"]),d=r(O.default.Icon,{name:t,onClick:o,foreground:l,noMargin:s});return null!=n?i.createElement(N.default,a({text:n,position:N.default.Positions.BOTTOM},u),d):d},t}(i.PureComponent);U.displayName="HeaderBarIcon";var k=s.default.connectStores([p.default],function(){return{state:p.default.getState()}})(function(e){function t(){var n,o;P(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=L(this,e.call.apply(e,[this].concat(r))),o.state={clicked:!1},o.handleInstallDownload=function(){o.state.clicked||(o.setState({clicked:!0}),(0,m.quitAndInstall)())},L(o,n)}return w(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.state!==this.props.state&&this.setState({clicked:!1})},t.prototype.render=function(){var e=void 0,t=void 0,n=void 0,o=void 0;switch(this.props.state){case A.ActionTypes.UPDATE_NOT_AVAILABLE:case A.ActionTypes.UPDATE_ERROR:break;case A.ActionTypes.CHECKING_FOR_UPDATES:e=T.default.Names.UPDATE_AVAILABLE,n=I.default.Messages.CHECKING_FOR_UPDATES;break;case A.ActionTypes.UPDATE_AVAILABLE:e=T.default.Names.DOWNLOADING,n=I.default.Messages.UPDATE_AVAILABLE;break;case A.ActionTypes.UPDATE_MANUALLY:e=T.default.Names.DOWNLOADING,n=I.default.Messages.UPDATE_MANUALLY,o=this.handleDownloadApps;break;case A.ActionTypes.UPDATE_DOWNLOADED:e=T.default.Names.UPDATE,t=M.default.updateIconForeground,n=I.default.Messages.UPDATE_DOWNLOADED,o=this.handleInstallDownload}return null==e||null==n?null:r(U,{tooltip:n,onClick:o,name:e,foreground:t})},t.prototype.handleDownloadApps=function(){h.default.push(v.default,{source:"Links"})},t}(i.PureComponent)),F=r(O.default.Divider,{}),x=r(k,{}),G=function(e){function t(){var n,o;P(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return n=o=L(this,e.call.apply(e,[this].concat(l))),o.renderRecentMentionsPopout=function(e){return i.createElement(E.default,a({},e,{onJump:o.handleMentionsJump,channel:f.default.getChannel(c.default.getChannelId()),popoutName:D}))},L(o,n)}return w(t,e),t.prototype.renderTitle=function(){var e=this.props.title;return null==e?null:r(O.default.Title,{className:M.default.title},void 0,e)},t.prototype.renderSearch=function(){var e=this.props,t=e.guildId;return null!=e.channelId?r(_.default,{className:M.default.search},t):null},t.prototype.renderBackButton=function(){var e=this.props,t=e.isAuthenticated,n=e.backLocation,o=e.backText;if(null==n)return null;var a=r(C.default.Link,{look:C.default.Looks.BLANK,size:C.default.Sizes.NONE,to:n,className:M.default.back},void 0,r(T.default,{name:T.default.Names.ARROW_LEFT})),i=t?N.default.Positions.BOTTOM:N.default.Positions.RIGHT;return u.isMobile?a:r(N.default,{text:o,position:i},void 0,a)},t.prototype.renderStandardToolbar=function(e){return u.isMobile?null:r(i.Fragment,{},void 0,e?F:null,x,r(b.default,{animationType:b.default.Animations.NONE,uniqueId:D,position:b.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderRecentMentionsPopout,subscribeTo:A.ComponentActions.TOGGLE_MENTIONS,closeOnScroll:!1},void 0,r(U,{name:T.default.Names.MENTION,tooltip:I.default.Messages.MENTIONS})),r(g.default,{href:d.SUPPORT_LOCATION,target:"_blank"},void 0,r(U,{name:T.default.Names.QUESTION_MARK,tooltip:I.default.Messages.HELP})))},t.prototype.renderLoggedOut=function(){var e=this.props,t=e.children,n=e.className;return r(O.default,{className:(0,l.default)(M.default.headerBarLoggedOut,n)},void 0,r("div",{className:M.default.headerBarLoggedOutInner},void 0,this.renderBackButton(),this.renderTitle(),null!=t?r(S.default.Child,{},void 0,t):null))},t.prototype.renderLoggedIn=function(){var e=this.props,t=e.children,n=e.renderToolbar,o=e.className,a=null!=n?n():null,l=null!=a&&i.Children.count(a)>0;return r(O.default,{className:o},void 0,this.renderBackButton(),this.renderTitle(),null!=t?r(S.default.Child,{},void 0,t):null,r(S.default,{grow:0,shrink:0,align:S.default.Align.CENTER,className:M.default.toolbar},void 0,a,l?this.renderSearch():null,this.renderStandardToolbar(l)))},t.prototype.render=function(){return this.props.isAuthenticated?this.renderLoggedIn():this.renderLoggedOut()},t.prototype.handleMentionsJump=function(e){e.shiftKey||y.default.close(D)},t}(i.PureComponent);G.defaultProps={isAuthenticated:!0,backText:I.default.Messages.BACK},G.displayName="HeaderBarContainer",t.default=G},6086:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(6173)),a=n(0),r=l(n(6054)),i=l(n(165));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e,n=Array.isArray(t),o=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(o>=t.length)break;a=t[o++]}else{if((o=t.next()).done)break;a=o.value}var r=a,l=i.default.getEligibleExperiment(r);if(null!=l)return l}return null}t.default={getFirstEligibleUserExperiment:s,isInExperimentBucket:function(e,t){return i.default.getExperimentBucket(e)===t},experimentDescriptorEquals:function(e,t){if(null==e&&null==t)return!0;if(e===t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(null!=e&&null!=t){if(e.type!==t.type)return!1;if(e.bucket!==t.bucket)return!1;if(e.revision!==t.revision)return!1;if(e.name!==t.name)return!1;if(e.type===a.ExperimentTypes.USER&&t.type===a.ExperimentTypes.USER)return(0,o.default)(e.context,t.context)}return!0},triggerFirstEligibleUserExperiment:function(e){var t=s(e);if(t)return r.default.trigger(t),t},getExperimentBucketName:function(e){return e===a.ExperimentBuckets.CONTROL?"Control":e===a.ExperimentBuckets.NOT_ELIGIBLE?"Not Eligible":"Treatment "+e}},e.exports=t.default},6089:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=h(n(9)),s=n(106),u=h(n(42)),d=h(n(81)),f=h(n(75)),c=h(n(71)),p=h(n(5614));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,o=y(e,["className","children"]);return i.createElement(c.default,r({className:(0,l.default)(p.default.title,t),weight:c.default.Weights.SEMIBOLD},o),n)},t}(i.PureComponent);_.displayName="HeaderBarTitle";var g=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return E(t,e),t.prototype.getMode=function(){var e=this.props,t=e.disabled,n=e.active;return t?"Disabled":n?"Active":"Inactive"},t.prototype.render=function(){var e,t=this.props,n=t.className,o=t.noMargin,u=t.foreground,c=(t.active,t.disabled),h=t.showBadge,m=t.onClick,v=y(t,["className","noMargin","foreground","active","disabled","showBadge","onClick"]),E=i.createElement(f.default,r({foreground:null!=u?u:p.default.iconForeground},v,{className:(0,l.default)((0,s.getClass)(p.default,"icon",this.getMode()),n)}));return h?a(d.default,{tag:"span",onClick:c?null:m,className:p.default.iconBadgeWrapper},void 0,E,a("span",{className:p.default.iconBadge})):c?E:a(d.default,{tag:"span",onClick:m,className:(0,l.default)((e={},e[p.default.iconMargin]=!o,e))},void 0,E)},t}(i.PureComponent);g.displayName="HeaderBarIcon";var S=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return E(t,e),t.prototype.render=function(){return a("div",{className:(0,l.default)(p.default.divider,this.props.className)})},t}(i.PureComponent);S.displayName="HeaderBarDivider";var T=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return a(u.default,{align:u.default.Align.CENTER,className:(0,l.default)(p.default.headerBarDrag,p.default.headerBar,t),shrink:0,grow:0},void 0,n)},t}(i.PureComponent);T.Icon=g,T.Title=_,T.Divider=S,T.displayName="HeaderBar",t.default=T,e.exports=t.default},6101:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=c(n(3)),r=c(n(24)),i=c(n(2)),l=c(n(22)),s=c(n(164)),u=c(n(927)),d=(c(n(6078)),n(0)),f=c(n(28));function c(e){return e&&e.__esModule?e:{default:e}}n(373);var p="storeDirectoryVersion",h=2,y={},m=void 0,v=!1,E=!1,_=void 0,g={},S=void 0,T=void 0,C=void 0,N=0;function b(e){var t=e.directoryLayout;y[t.id]=t,v=!1,m=Date.now(),N=h,r.default.set(p,N)}function O(){y={},m=null}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,u.default,l.default,f.default),C=f.default.locale,N=r.default.get(p)||0},t.prototype.getDirectoryLayout=function(e){return y[e]},t.prototype.shouldFetch=function(){return!v&&(null==m||Date.now()-m>18e5)},o(t,[{key:"isFetching",get:function(){return v}},{key:"lastHomeDirectoryView",get:function(){return S}},{key:"lastBrowseDirectoryView",get:function(){return T}},{key:"isLibraryApplicationsHidden",get:function(){return E}},{key:"searchTerm",get:function(){return _}},{key:"previousFilters",get:function(){return g}},{key:"hasSeenDirectory",get:function(){return N===h}}]),t}(a.default.Store);t.default=new I(i.default,{APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START:function(e){v=!0},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS:b,APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS:b,APPLICATION_STORE_DIRECTORY_UNMOUNT:function(e){var t=e.scrollTop;switch(e.directoryLocation){case d.DirectoryLocations.HOME:S={scrollTop:t};break;case d.DirectoryLocations.BROWSE:T={scrollTop:t}}},APPLICATION_STORE_SET_HIDE_LIBRARY:function(e){var t=e.hidden;E=t},APPLICATION_STORE_SET_SEARCH_QUERY:function(e){var t=e.query;_=t},APPLICATION_STORE_SAVE_FILTERS:function(e){var t=e.filters;g=t},USER_SETTINGS_UPDATE:function(e){var t=e.locale?e.locale:f.default.locale;if(C===t)return!1;C=t,O()},APPLICATION_STORE_CLEAR_DATA:function(e){return O()},APPLICATION_STORE_RESET_NAVIGATION:function(e){return S=null,void(T=null)}}),e.exports=t.default},6102:function(e,t,n){"use strict";t.__esModule=!0,t.CarouselNext=t.CarouselPrevious=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(1019)),s=c(n(45)),u=n(227),d=c(u),f=c(n(5612));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={CENTER:f.default.alignCenter,LEFT:f.default.alignLeft},v=function(e){function t(){var n,o;p(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(r))),o._paginationItemRefs=[],o.handleSetScrollerRef=function(e){o._scrollerRef=e},o.handleSelectedIndexChange=function(e){var t=o._scrollerRef;if(null!=t){var n=o._paginationItemRefs[e];null!=n&&t.scrollIntoView(n,!0,o.props.scrollToPadding)}},o.handlePageClick=function(e){(0,o.props.onSetItem)(e)},h(o,n)}return y(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.selectedIndex;e.selectedIndex!==t&&this.handleSelectedIndexChange(t)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderItem,o=t.items,a=t.vertical,l=t.paginationContainerClass,s=t.align,c=t.gutterStyle,p=a?d.default:u.HorizontalScroller,h=a?f.default.verticalPaginationItemContainer:f.default.horizontalPaginationItemContainer;return r.createElement(p,{track:!0,gutterStyle:c,className:(0,i.default)(h,l,s),ref:this.handleSetScrollerRef},o.map(function(t,o){return r.cloneElement(n(t,o),{onClick:function(){return e.handlePageClick(o)},key:o,ref:function(t){e._paginationItemRefs[o]=t}})}))},t}(r.PureComponent);v.Align=m,v.Gutter=d.default.GutterStyles,v.defaultProps={scrollToPadding:{top:0,left:0,bottom:0,right:0},align:m.CENTER},v.displayName="CarouselPaginationStrip",(t.CarouselPrevious=function(e){function t(){var n,o;p(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(r))),o.handlePrevClick=function(e){e.stopPropagation(),e.preventDefault();var t=o.props.onClick;t&&t(e)},h(o,n)}return y(t,e),t.prototype.render=function(){var e=this.props.className;return a(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,className:(0,i.default)(f.default.prevButtonContainer,e),onClick:this.handlePrevClick},void 0,a(l.default,{className:f.default.arrow,direction:l.default.Directions.LEFT}))},t}(r.PureComponent)).displayName="CarouselPrevious",(t.CarouselNext=function(e){function t(){var n,o;p(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(r))),o.handleNextClick=function(e){e.stopPropagation(),e.preventDefault();var t=o.props.onClick;t&&t(e)},h(o,n)}return y(t,e),t.prototype.render=function(){var e=this.props.className;return a(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,className:(0,i.default)(f.default.nextButtonContainer,e),onClick:this.handleNextClick},void 0,a(l.default,{className:f.default.arrow,direction:l.default.Directions.RIGHT}))},t}(r.PureComponent)).displayName="CarouselNext",t.default=v},6119:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=y(n(3)),r=y(n(2)),i=n(0),l=y(n(18)),s=y(n(120)),u=y(n(383)),d=y(n(275)),f=y(n(6369)),c=y(n(12)),p=y(n(5)),h=y(n(7));function y(e){return e&&e.__esModule?e:{default:e}}var m=i.FormStates.CLOSED,v=void 0,E=void 0,_=void 0,g=void 0,S={},T={},C=void 0,N=!1,b=!1,O=["name","topic","bitrate","userLimit","nsfw","rateLimitPerUser"];function I(e){var t=l.default.getChannel(e.channelId);if(null==t)return M();m=i.FormStates.OPEN,null!=(_=E=t)&&(_=_.set("nsfw",_.isNSFW())),g=l.default.getChannel(_.parent_id),C=_.getGuildId(),S={},A({section:v||i.ChannelSettingsSections.OVERVIEW})}function A(e){v=e.section,null!=_&&v===i.ChannelSettingsSections.INSTANT_INVITES&&(N=!0,c.default.get(i.Endpoints.INSTANT_INVITES(_.id)).then(function(e){N=!1,r.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})},function(){return N=!1}))}function M(){b=!1,m=i.FormStates.CLOSED,v=null,_=E=null,g=null,T={}}var R=h.default.debounce(function(){if(null==_||null==E)return!1;var e=_.toJS(),t=E.toJS();O.every(function(n){return e[n]===t[n]})&&_!==E&&(_=E,L.emitChange())},500);function P(e){return new f.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new s.default(e.inviter):null,channel:new d.default(e.channel),guild:null!=e.guild?new u.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,p.default)(e.created_at)})}var L=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.hasChanges=function(){return _!==E},t.prototype.isOpen=function(){return b},t.prototype.getSection=function(){return v},t.prototype.getInvites=function(){return{invites:T,loading:N}},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getChannel=function(){return _},t.prototype.getFormState=function(){return m},t.prototype.getCategory=function(){return g},t.prototype.getProps=function(){return{submitting:m===i.FormStates.SUBMITTING,errors:S,channel:_,section:v,invites:T,selectedOverwriteId:C,hasChanges:this.hasChanges()}},t}(a.default.Store))(r.default,{CHANNEL_SETTINGS_INIT:I,CHANNEL_SETTINGS_OPEN:function(e){b=!0,I(e)},CHANNEL_SETTINGS_SUBMIT:function(e){m=i.FormStates.SUBMITTING},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(e){I(e)},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){m=i.FormStates.OPEN,S=e.errors||{}},CHANNEL_SETTINGS_CLOSE:function(e){return M()},CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){var t=e.overwriteId;C=t},CHANNEL_SETTINGS_UPDATE:function(e){var t=e.name,n=e.topic,o=e.bitrate,a=e.userLimit,r=e.nsfw,i=e.rateLimitPerUser;if(null==_)return!1;null!=t&&(_=_.set("name",t)),null!=n&&(_=_.set("topic",n)),null!=o&&(_=_.set("bitrate",o)),null!=a&&(_=_.set("userLimit",a)),null!=r&&(_=_.set("nsfw",r)),null!=i&&(_=_.set("rateLimitPerUser",i)),R()},CHANNEL_SETTINGS_SET_SECTION:A,CHANNEL_SETTINGS_LOADED_INVITES:function(e){T={},e.invites.forEach(function(e){T[e.code]=P(e)})},CHANNEL_UPDATE:function(e){if(!function(e){if(null==E||E.id!==e)return!1;if(E===_){var t=l.default.getChannel(e);if(null==t)return!1;_=E=t,g=l.default.getChannel(_.parent_id)}else{var n=l.default.getChannel(e);if(null==n)return!1;E=n,null!=_&&(_=_.set("permissionOverwrites",E.permissionOverwrites),g=l.default.getChannel(_.parent_id))}return!0}(e.channel.id)||null==_)return!1;null!=C&&null==_.permissionOverwrites[C]&&(C=_.getGuildId())},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=_&&_.id===t&&void(m=i.FormStates.CLOSED)},INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(T=o({},T))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;T=o({},T,((t={})[e.invite.code]=P(e.invite),t))}});t.default=L,e.exports=t.default},6125:function(e,t,n){"use strict";t.__esModule=!0,t.loadDirectory=t.loadLayout=void 0;var o,a;t.loadLayout=(o=f(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START}),e.next=3,r.default.get(u.Endpoints.STORE_DIRECTORY_LAYOUT(t));case 3:return n=e.sent,o=s.default.createFromServer(n.body),i.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS,directoryLayout:o}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)}),t.loadDirectory=(a=f(regeneratorRuntime.mark(function e(t){var n,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.httpGetWithCountryCodeQuery)(u.Endpoints.STORE_DIRECTORY(t));case 2:n=e.sent,o=n.body,a=n.body.store_listings,i.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS,directoryLayout:s.default.createFromServer(o),storeListings:a});case 6:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)});t.setHideLibraryGames=function(e){i.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_SET_HIDE_LIBRARY,hidden:e})},t.updateSearchTerm=function(e){i.default.wait(function(){return i.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_SET_SEARCH_QUERY,query:e})})},t.saveFilters=function(e){console.log("SAVE FILTERS"),console.log(e),i.default.wait(function(){return i.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_SAVE_FILTERS,filters:e})})},t.clearStoreData=function(){i.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_CLEAR_DATA})};var r=d(n(12)),i=d(n(2)),l=n(188),s=d(n(6078)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}n(373)},6128:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.search=d,t.searchByMode=function(e,t){var n=r.default.getQuery(e);return d(e,o({},n,{offset:0,sort_by:t}))},t.searchNextPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.SEARCH_PAGE_SIZE;return f(e,t)},t.searchPreviousPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.SEARCH_PAGE_SIZE;return f(e,-t)},t.clearHistory=function(e){a.default.dispatch({type:s.ActionTypes.SEARCH_CLEAR_HISTORY,searchId:e})},t.ensureSearchState=function(e){a.default.dispatch({type:s.ActionTypes.SEARCH_ENSURE_SEARCH_STATE,searchId:e})},t.setSearchState=function(e,t){null!=e&&a.default.dirtyDispatch({type:s.ActionTypes.SEARCH_EDITOR_STATE_CHANGE,searchId:e,editorState:t})},t.clearSearchState=function(e){i.default.trackWithMetadata(s.AnalyticEvents.SEARCH_CLOSED,{search_id:r.default.getAnalyticsId(e)}),a.default.wait(function(){return a.default.dispatch({type:s.ActionTypes.SEARCH_EDITOR_STATE_CLEAR,searchId:e})})},t.updateAutocompleteQuery=function(e,t,n){null!=e&&a.default.dirtyDispatch({type:s.ActionTypes.SEARCH_AUTOCOMPLETE_QUERY_UPDATE,searchId:e,tokens:t,cursorScope:n})},t.setShowBlockedResults=function(e,t){a.default.dispatch({type:s.ActionTypes.SEARCH_SET_SHOW_BLOCKED_RESULTS,searchId:e,showBlocked:t})};var a=u(n(2)),r=u(n(6062)),i=u(n(190)),l=u(n(6107)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){l.default.didAgree(e)&&(t.include_nsfw=!0);var o=Object.keys(t);i.default.trackWithMetadata(s.AnalyticEvents.SEARCH_STARTED,{search_type:r.default.getSearchType(),prev_search_id:r.default.getAnalyticsId(e),num_modifiers:o.length,modifiers:o.reduce(function(e,n){var o=t[n];return e[n]=Array.isArray(o)?o.length:1,e},{})}),a.default.dispatch({type:s.ActionTypes.SEARCH_START,query:t,searchId:e,queryString:n})}function f(e,t){var n=r.default.getOffset(e),a=r.default.getQuery(e),i=n+t,l=r.default.getTotalResults(e);if(!(i<0||i>l))return d(e,o({},a,{offset:i}))}},6129:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),a=s(n(24)),r=s(n(2)),i=n(0),l=s(n(6062));function s(e){return e&&e.__esModule?e:{default:e}}var u="ChannelSectionStore",d=null,f=null;function c(){var e=void 0;if(l.default.isActive()&&(e=i.ChannelSections.SEARCH),f===e)return!1;f=e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){d=a.default.get(u)||i.ChannelSections.MEMBERS},t.prototype.getSection=function(){return f||d},t}(o.default.Store);t.default=new p(r.default,{CHANNEL_TOGGLE_SECTION:function(e){var t=e.section;d===t?null==f&&(d=i.ChannelSections.NONE):d=t,f=null,a.default.set(u,d)},SEARCH_START:function(e){return c()},SEARCH_INDEXING:function(e){return c()},SEARCH_FINISH:function(e){return c()},SEARCH_EDITOR_STATE_CLEAR:function(e){return c()},SEARCH_EDITOR_STATE_CHANGE:function(e){return c()},CHANNEL_SELECT:function(e){return c()},GUILD_SELECT:function(e){return c()}}),e.exports=t.default},6147:function(e,t,n){"use strict";t.__esModule=!0,t.Pages=void 0;var o,a,r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=E(n(3)),s=E(n(2)),u=E(n(147)),d=E(n(165)),f=E(n(13)),c=E(n(25)),p=E(n(6054)),h=E(n(11)),y=E(n(17)),m=E(n(24)),v=n(0);function E(e){return e&&e.__esModule?e:{default:e}}var _="homepageNUFComplete",g="homepageNUFPage",S="NUX_WEB_WELCOME",T=h.default.isWeb(),C=t.Pages=(0,u.default)({INITIAL:null,CLAIM:null,JOIN:null,CREATE:null,DOWNLOAD:null,DISABLED:null}),N=((o={})[C.CLAIM]=function(){var e=f.default.getCurrentUser();return null!=e&&(T&&!e.isClaimed())},o[C.JOIN]=function(){return T&&!(Object.keys(c.default.getGuilds()).length>0)},o[C.CREATE]=function(){return T&&!(Object.keys(c.default.getGuilds()).length>0)},o[C.DOWNLOAD]=function(){return T},o),b=[[C.CLAIM,!0],[C.JOIN,!0],[C.CREATE,!0],[C.DOWNLOAD,!1]],O=[[C.JOIN,!0],[C.CREATE,!0],[C.CLAIM,!0],[C.DOWNLOAD,!1]],I=!1,A=null,M=null,R=m.default.get(_)||!1,P=null;function L(){return!0}function w(e){return null!=e&&null!=M&&null!=M[e]?M[e][0]:C.INITIAL}function D(e,t,n){T&&y.default.track(v.AnalyticEvents.NUO_TRANSITION_KEY,{flow_type:S,from_step:e,to_step:t,skip:n,seconds_on_from_step:null!=P?(Date.now()-P)/1e3:0})}function U(){if(I=!0,!R){M=function(){var e=F.getExperimentDescriptor();if(null==e||e.bucket===v.ExperimentBuckets.CONTROL)return null;var t=(e.bucket===v.ExperimentBuckets.TREATMENT_1?b:O).filter(function(e){var t=e[0];return null!=N[t]&&N[t]()});return t.length>0?t:null}();var e=F.getExperimentDescriptor();if(null!=e&&T&&p.default.trigger(e),null==M)return void k(!0);var t=m.default.get(g,null);null!=t&&M.forEach(function(e,n){e[0]===t&&(A=n)}),null==A&&(A=0),P=Date.now(),D(C.INITIAL,w(A),!1)}}function k(e){var t=F.getExperimentDescriptor();null!=t&&t.bucket!==v.ExperimentBuckets.CONTROL&&(R=!0,m.default.remove(g),m.default.set(_,!0),D(w(A),C.DISABLED,e))}var F=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(f.default,c.default),this.syncWith([d.default],L)},t.prototype.getExperimentId=function(){return v.Experiments.HOMEPAGE_NUF},t.prototype.getMetaData=function(){return{title:"Homepage NUF",description:["CONTROL: Off","TREATMENT_1: Claim frontloaded","TREATMENT_2: Join/Create frontloaded"]}},t.prototype.getExperimentDescriptor=function(){return d.default.getOverrideExperimentDescriptor(this.getExperimentId())||d.default.getEligibleExperiment(this.getExperimentId())},t.prototype.isInExperiment=function(){return null!=this.getExperimentDescriptor()},t.prototype.isOpen=function(){var e=this.getExperimentDescriptor();return!R&&I&&null!=e&&e.bucket!==v.ExperimentBuckets.CONTROL},t.prototype.isTreatment1=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===v.ExperimentBuckets.TREATMENT_1},t.prototype.getProps=function(){return{progress:this.progress,pages:this.pages,page:this.page}},i(t,[{key:"page",get:function(){return A}},{key:"pages",get:function(){return M}},{key:"progress",get:function(){var e=this.page;return null==e||null==M?1:Math.min((e+1)/M.length,1)}}]),t}(l.default.Store))(s.default,{CONNECTION_OPEN:function(e){return U()},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},LOGOUT:function(e){return A=null,M=null,void(I=!1)},HOMEPAGE_NUF_NEXT:function(e){var t=e.isSkip,n=e.autoAdvance;if(null==M)return!1;var o=A;null==M[A+=n?2:1]?k(t):(m.default.set(g,M[A][0]),D(w(o),w(A),t)),P=Date.now()},HOMEPAGE_NUF_DISMISS:function(e){k(e.isSkip)}});p.default.register(F,((r={})[v.ExperimentTypes.NONE]=function(){return null},r[v.ExperimentTypes.USER]=((a={})[v.ExperimentBuckets.CONTROL]=function(){return null},a[v.ExperimentBuckets.TREATMENT_1]=function(){return null},a[v.ExperimentBuckets.TREATMENT_2]=function(){return null},a),r)),t.default=F},6148:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(6)),a=s(n(2)),r=s(n(269)),i=s(n(233)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(null!=e)switch(e.type){case l.ScreenshareChromeExtensionResponseTypes.SCREENSHARE_START_SUCCESS:return function(e){r.default.setDesktopSource(e.streamId)}(e)}else window.chrome.app.isInstalled||i.default.show({title:o.default.Messages.SCREENSHARE_EXTENSION_TITLE,body:o.default.Messages.SCREENSHARE_EXTENSION_BODY,confirmText:o.default.Messages.YES_TEXT,cancelText:o.default.Messages.NO_TEXT,onConfirm:window.chrome.webstore.install})}t.default={open:function(e){null!=window.chrome?window.chrome.runtime.sendMessage(l.SCREENSHARE_CHROME_EXTENSION_ID,{command:l.ScreenshareChromeExtensionCommands.SCREENSHARE},u):a.default.dispatch({type:l.ActionTypes.SCREENSHARE_MODAL_OPEN,channel:e})},close:function(){a.default.dispatch({type:l.ActionTypes.SCREENSHARE_MODAL_CLOSE})},selectSourceType:function(e){a.default.dispatch({type:l.ActionTypes.SCREENSHARE_MODAL_SELECT_SOURCE_TYPE,sourceType:e})}},e.exports=t.default},6150:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=n(523),s=n(6198),u=h(n(145)),d=h(n(75)),f=h(n(6)),c=n(0),p=h(n(5610));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t=e.iconName,n=e.className;return a("div",{className:(0,i.default)(p.default.iconCircle,n)},void 0,a(d.default,{name:t,className:p.default.icon}))};y.displayName="IconCircle";var m=function(e){var t=e.circle,n=e.smallHeader,o=e.text,r=e.className;return a("div",{className:(0,i.default)(p.default.recommendationReason,r)},void 0,t,a("div",{className:p.default.description},void 0,null!=n?a("div",{className:p.default.smallHeader},void 0,n):null,a("div",{className:p.default.text},void 0,o)))};m.displayName="Unit";var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReviewAggregator=function(e){var t=this.props.className,n=(0,s.getRatingTier)(e);return null==n?null:a(m,{circle:null!=e.url?a(u.default,{href:e.url,useDefaultUnderlineStyles:!1,className:(0,i.default)(p.default.reviewCircle,p.default.circleAnchor),style:{backgroundColor:n.color}},void 0,e.criticScore):a("div",{className:p.default.reviewCircle,style:{backgroundColor:n.color}},void 0,e.criticScore),smallHeader:f.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC,text:n.label,className:t})},t.prototype.render=function(){var e=this.props,t=e.reason,n=e.className;return t.type===c.StoreRecommendationTypes.RECENT_RELEASE_DATE?a(m,{className:n,circle:a(y,{iconName:d.default.Names.CALENDAR}),smallHeader:f.default.Messages.APPLICATION_STORE_NEW_RELEASE,text:(0,l.dateFormat)(t.releaseDate,"LL")}):t.type===c.StoreRecommendationTypes.RELEASE_DATE?a(m,{className:n,circle:a(y,{iconName:d.default.Names.CALENDAR}),smallHeader:f.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,text:(0,l.dateFormat)(t.releaseDate,"LL")}):t.type===c.StoreRecommendationTypes.EARLY_ACCESS?null!=t.releaseDate?a(m,{className:n,circle:a(y,{iconName:d.default.Names.EARLY_ACCESS,className:p.default.earlyAccess}),smallHeader:f.default.Messages.APPLICATION_STORE_EARLY_ACCESS,text:(0,l.dateFormat)(t.releaseDate,"LL")}):a(m,{className:n,circle:a(y,{iconName:d.default.Names.EARLY_ACCESS,className:p.default.earlyAccess}),text:f.default.Messages.APPLICATION_STORE_EARLY_ACCESS}):t.type===c.StoreRecommendationTypes.METACRITIC_SCORE?this.renderReviewAggregator(t.reviewAggregator):t.type===c.StoreRecommendationTypes.FLAVOR_TEXT?a(m,{circle:a(y,{iconName:d.default.Names.CHECKMARK}),text:t.flavorText,className:n}):t.type===c.StoreRecommendationTypes.HAS_FREE_PREMIUM_CONTENT?a(m,{className:n,circle:a(y,{iconName:d.default.Names.NITRO_WHEEL,className:p.default.premiumCircle}),text:f.default.Messages.APPLICATION_STORE_FREE_PREMIUM_CONTENT}):null},t}(r.Component);v.displayName="StoreRecommendationReason",t.default=v,e.exports=t.default},6151:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(3)),a=r(n(2));n(0);function r(e){return e&&e.__esModule?e:{default:e}}var i=void 0,l=void 0,s=void 0;function u(){l={},i={},s=new Set}u();var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStatisticsForApplication=function(e){return i[e]},t.prototype.shouldFetchStatisticsForApplication=function(e){var t=l[e];return!s.has(e)&&(null==t||Date.now()-t>36e5)},t}(o.default.Store);t.default=new d(a.default,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){var t=e.applicationId;s.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){var t=e.applicationId;s.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){var t=e.statistics,n=e.applicationId;l[n]=Date.now(),s.delete(n),i[n]=t},LOGOUT:function(e){return u()}}),e.exports=t.default},6152:function(e,t,n){"use strict";t.__esModule=!0,t.updateLocation=function(e){r.default.wait(function(){return r.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_LOCATION_CHANGE,location:e})})},t.handleDirectoryUnmount=function(e,t){r.default.dispatch({type:i.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMOUNT,scrollTop:e,directoryLocation:t})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6153:function(e,t,n){"use strict";t.__esModule=!0,t.deepLinkRouteIfLandedAndNotAuthed=t.deepLinkRouteIfLanded=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=u(n(14)),r=u(n(1003)),i=u(n(11)),l=u(n(389)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=t.deepLinkRouteIfLanded=i.default.embedded?s.NOOP:function(e,t){i.default.isDesktop&&!r.default.hasNavigated&&l.default.requestOnce(s.RPCCommands.DEEP_LINK,{type:e,params:t})};t.deepLinkRouteIfLandedAndNotAuthed=i.default.embedded?s.NOOP:function(e,t){if(!a.default.isAuthenticated())return d(e,o({},t||{},{fingerprint:a.default.getFingerprint()}))}},6154:function(e,t,n){"use strict";t.__esModule=!0,t.getDefaultKeyBinding=void 0,t.createEntity=y,t.getCollapsedSelection=function(e,t,n){var o=t.getCurrentContent().getFirstBlock();n=(n=(n=n||t.getSelection()).set("focusKey",o.getKey())).set("anchorKey",o.getKey());var a=Math.min(n.getStartOffset(),n.getEndOffset())+e.length;return n=(n=n.set("anchorOffset",a)).set("focusOffset",a)},t.updateContent=m,t.deleteContent=function(e,t){switch(e){case"delete":return(0,s.default)(t);case"delete-word":return(0,i.default)(t);case"backspace":return(0,l.default)(t);case"backspace-word":return(0,r.default)(t);case"backspace-to-start-of-line":return(0,a.default)(t);default:return t}},t.miscCommand=function(e,t){switch(e){case"transpose-characters":return(0,u.default)(t);case"move-selection-to-start-of-block":return(0,d.default)(t);case"move-selection-to-end-of-block":return(0,f.default)(t);default:return t}},t.adaptSelection=function(e,t){var n=(e=(e=e.set("focusKey",t.getKey())).set("anchorKey",t.getKey())).getEndOffset();return e=(e=e.set("anchorOffset",n)).set("focusOffset",n)},t.getFirstTextBlock=v,t.applyTokensAsEntities=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.getCurrentContent(),a=o.getFirstBlock(),r=a.getText(),i=[];return a.findEntityRanges(function(e){return null!==e.getEntity()},function(e,t){var n=o.getEntity(a.getEntityAt(e)).getType(),l=r.substring(e,t);i.push({processed:!1,type:n,start:e,end:t,text:l})}),e.forEach(function(e){var o=!1;if(i.forEach(function(n){var a=e.type,r=e.start,i=e.end,l=e.getFullMatch();n.processed||(n.type===a&&n.start===r&&n.text===l?(n.processed=!0,o=!0):(r>=n.start&&r<n.end||i>n.start&&i<=n.end)&&(n.processed=!0,t=y(null,n.start,n.end,t)))}),!o){var a=n[e.type];t=y([e.type,a&&a.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,t)}}),i.forEach(function(e){e.processed||(t=y(null,e.start,e.end,t))}),t},t.getSelectionScope=function(e,t){var n=t.getSelection(),o=n.focusOffset,a=n.anchorOffset,r=void 0,i=void 0,l=e.find(function(t,n){return o>=t.start&&o<=t.end&&a>=t.start&&a<=t.end?(e[n+1]&&(i=e[n+1]),!0):(r=t,!1)});if(!l)return null;return{previousToken:r,currentToken:l,nextToken:i}},t.createEmptyEditorState=function(e){return o.EditorState.createEmpty(new o.CompositeDecorator(e))},t.clearContent=function(e){return o.EditorState.push(e,o.ContentState.createFromText(""))},t.replaceAllContent=function(e,t){var n=v(t);return m(e,t,0,n.length)},t.appendSpace=function(e){var t=v(e);return m(" ",e,t.length)},t.setCollapsedSelection=E,t.setCollapsedEndSelection=function(e){return E(e.getCurrentContent().getFirstBlock().getText().length,e)},t.setCollapsedStartSelection=function(e){return E(0,e)},t.setToStartSelection=function(e){var t=e.getSelection();return t=(t=t.set("focusOffset",0)).set("isBackward",!0),o.EditorState.forceSelection(e,t)},t.setToEndSelection=function(e){var t=v(e),n=e.getSelection();return n=(n=n.set("focusOffset",t.length)).set("isBackward",!1),o.EditorState.forceSelection(e,n)},t.truncateContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=v(e);if(n.length>t){var a=e.getSelection();e=m("",e,t,n.length),a.getAnchorOffset()>t&&(a=a.set("anchorOffset",t)),a.getFocusOffset()>t&&(a=a.set("focusOffset",t)),e=o.EditorState.forceSelection(e,a)}return e},t.scrollCursorIntoView=function(e){var t=window.getSelection();if(!t||"Caret"!==t.type||!e)return;var n=t.getRangeAt(0);if(!function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(n.commonAncestorContainer,e))return;var o=n.getClientRects()[0],a=e.getClientRects()[0];if(!o||!a)return;var r=o.left-a.left+e.scrollLeft;r<e.scrollLeft?e.scrollLeft=r-10:r>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=r-e.offsetWidth+3)},t.isEmpty=function(e){return 0===v(e).length};var o=n(6206),a=h(n(6467)),r=h(n(6465)),i=h(n(6464)),l=h(n(6461)),s=h(n(6460)),u=h(n(6459)),d=h(n(6462)),f=h(n(6463)),c=h(n(6157)),p=h(n(6202));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){var r,i=a.getCurrentContent(),l=null;null!=e&&(l=(i=(r=i).createEntity.apply(r,e)).getLastCreatedEntityKey());var s=i.getFirstBlock(),u=new o.SelectionState({anchorKey:s.getKey(),anchorOffset:t,focusKey:s.getKey(),focusOffset:n});return i=o.Modifier.applyEntity(i,u,l),o.EditorState.set(a,{currentContent:i})}function m(e,t,n,a){var r=void 0,i=t.getCurrentContent(),l=i.getFirstBlock(),s=l.getText();"number"==typeof n?(n>s.length&&(n=s.length),a>s.length&&(a=s.length),r=new o.SelectionState({anchorKey:l.getKey(),anchorOffset:n,focusKey:l.getKey(),focusOffset:a||n})):r=t.getSelection();var u=t.getCurrentInlineStyle(),d=(0,c.default)(i,r),f=void 0;return r.isCollapsed()?(i=o.Modifier.insertText(i,r,e,u,d),f="insert-characters"):(i=o.Modifier.replaceText(i,r,e,u,d),f="replace-characters"),o.EditorState.push(t,i,f)}function v(e){return e.getCurrentContent().getFirstBlock().getText()}function E(e,t){var n=t.getSelection();return n=(n=n.set("focusOffset",e)).set("anchorOffset",e),o.EditorState.forceSelection(t,n)}t.getDefaultKeyBinding=p.default},6161:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(6)),s=c(n(81)),u=c(n(6160)),d=c(n(5619)),f=c(n(5572));function c(e){return e&&e.__esModule?e:{default:e}}function p(e){e.stopPropagation(),e.preventDefault()}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderQuery=function(e){var t,n=this.props,o=n.query,r=n.focusedIndex,c=n.onSelectQuery,p=n.onHighlightQuery,h=n.hideQuery;return e||h?null:a(s.default,{className:(0,i.default)(d.default.queryContainer,(t={},t[d.default.focused]=-1===r,t)),onMouseEnter:p,onClick:c},void 0,a("div",{className:d.default.queryText},void 0,l.default.Messages.SEARCH_FOR_VALUE.format({value:o})),a("div",{className:d.default.queryShortcut},void 0,a(u.default,{shortcut:"return",className:(0,i.default)(f.default.dim,f.default.keybindShortcutSearchPopout)})))},t.prototype.renderResults=function(e){var t=this.props,n=t.numResults,o=t.renderNoResults,a=t.renderInitialState,r=t.renderResult,i=t.renderCustomResults;if(e)return a();if(0===n)return o();if(null!=r)return Array.from({length:n}).map(function(e,t){return r(t)});if(null!=i)return i();throw new Error("SearchResultsPopout.renderResults: Flow should never allow this...")},t.prototype.render=function(){var e=this.props,t=e.query,n=e.width,o=""===t.trim();return a("div",{className:d.default.container,style:{width:n},onMouseDown:p},void 0,this.renderQuery(o),this.renderResults(o))},t}(r.PureComponent);h.defaultProps={renderInitialState:function(){return null},hideQuery:!1,width:320},h.displayName="SearchResultsPopout",t.default=h,e.exports=t.default},6174:function(e,t,n){"use strict";t.__esModule=!0,t.fetchActivityStatistics=void 0;t.fetchActivityStatistics=(o=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=l.default.lastFetched)&&Date.now()-t<d)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,r.default.get({url:s.Endpoints.USER_ACTIVITY_STATISTICS});case 6:n=e.sent,i.default.dispatch({type:s.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,this,[[3,10]])}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})},function(){return a.apply(this,arguments)});var o,a,r=u(n(12)),i=u(n(2)),l=u(n(394)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=216e5},6175:function(e,t,n){"use strict";t.__esModule=!0,t.setHomeLink=function(e){r.default.dirtyDispatch({type:i.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6176:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),a=n(0),r=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}var l=a.STATUS_PAGE_ENDPOINT+"/api/v2/scheduled-maintenances",s=a.STATUS_PAGE_ENDPOINT+"/api/v2/incidents/unresolved.json";t.default={checkIncidents:function(){Promise.all([r.default.get(l+"/active.json"),r.default.get(s)]).then(function(e){var t=e[0],n=e[1],r=t.body.scheduled_maintenances[0],i=n.body.incidents[0];o.default.dispatch({type:a.ActionTypes.STATUS_PAGE_INCIDENT,incident:i||r})})},checkScheduledMaintenances:function(){r.default.get(l+"/upcoming.json").then(function(e){var t=e.body.scheduled_maintenances[0];o.default.dispatch({type:a.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE,maintenance:t})})},ackScheduledMaintenance:function(){o.default.dispatch({type:a.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK})}},e.exports=t.default},6184:function(e,t,n){"use strict";t.__esModule=!0,t.AnimatedPage=t.PageWrapper=t.Text=t.Title=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(224)),u=f(n(42)),d=f(n(5590));function f(e){return e&&e.__esModule?e:{default:e}}(t.Title=function(e){var t=e.children,n=e.className;return r("h1",{className:(0,l.default)(n,d.default.title)},void 0,t)}).displayName="Title",(t.Text=function(e){var t=e.children,n=e.className;return r("div",{className:(0,l.default)(n,d.default.text)},void 0,t)}).displayName="Text",(t.PageWrapper=function(e){var t=e.illustration,n=e.children,o=e.style,a=e.illustrationStyle;return r(s.default.div,{className:d.default.modalContent,style:o},void 0,r(u.default,{align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,className:d.default.illustrationWrapper,grow:0,shrink:0},void 0,r(s.default.div,{style:a},void 0,r("img",{alt:"",src:t}))),r(u.default,{align:u.default.Align.START},void 0,r("div",{className:d.default.padded},void 0,n)))}).displayName="PageWrapper";var c={friction:15,tension:200};t.AnimatedPage=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.translateX=new s.default.Value(0),o.translateX.setValue(0),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){(0,this.props.setRef)(this)},t.prototype.componentWillEnter=function(e){var t=this.translateX;t.setValue(1),setTimeout(function(){s.default.spring(t,a({toValue:0},c)).start(e)},220)},t.prototype.componentWillLeave=function(e){var t=this.translateX;s.default.spring(t,{toValue:.14,friction:10,tension:100}).start(),setTimeout(function(){s.default.spring(t,a({toValue:-1},c)).start(e)},220)},t.prototype.submit=function(){return new Promise(function(e){return e()})},t.prototype.getAnimatedStyle=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t=this.translateX;return s.default.accelerate({transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0%",e]})}]})},t}(i.Component)},6185:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),a=u(n(2)),r=n(78),i=u(n(55)),l=n(56),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=s.RTCDebugSections.TRANSPORT,f=void 0,c=new l.Interval;function p(){i.default.getMediaEngine().eachConnection(function(e){e.getStats().then(function(e){a.default.dispatch({type:s.ActionTypes.RTC_DEBUG_MODAL_UPDATE,stats:e})})},r.DEFAULT_CONTEXT)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSection=function(){return d},t.prototype.getStats=function(){return f},t}(o.default.Store);t.default=new h(a.default,{RTC_DEBUG_MODAL_OPEN:function(e){d=e.section||s.RTCDebugSections.TRANSPORT,f=null,p(),c.start(1e3,p)},RTC_DEBUG_MODAL_CLOSE:function(e){return c.stop(),void(f=null)},RTC_DEBUG_MODAL_SET_SECTION:function(e){d=e.section},RTC_DEBUG_MODAL_UPDATE:function(e){f=e.stats}}),e.exports=t.default},6193:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(2)),a=s(n(6)),r=s(n(12)),i=n(0),l=s(n(408));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return o.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE}),r.default.post({url:e,body:{password:t}}).then(function(e){return o.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e},function(e){throw o.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e})}t.default={enable:function(e){var t=e.code,n=e.secret;return r.default.post({url:i.Endpoints.MFA_TOTP_ENABLE,body:{code:t,secret:n}}).then(function(e){return o.default.dispatch({type:i.ActionTypes.MFA_ENABLE_SUCCESS,token:e.body.token,codes:e.body.backup_codes})})},disable:function(){(0,l.default)({title:a.default.Messages.TWO_FA_DISABLE,actionText:a.default.Messages.TWO_FA_REMOVE},function(e){return r.default.post({url:i.Endpoints.MFA_TOTP_DISABLE,body:e})},!0).then(function(e){var t=e.body.token;return o.default.dispatch({type:i.ActionTypes.MFA_DISABLE_SUCCESS,token:t})})},enableSMS:function(e){return u(i.Endpoints.MFA_SMS_ENABLE,e)},disableSMS:function(e){return u(i.Endpoints.MFA_SMS_DISABLE,e)},viewBackupCodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.default.post({url:i.Endpoints.MFA_CODES,body:{password:e,regenerate:t}}).then(function(e){return o.default.dispatch({type:i.ActionTypes.MFA_VIEW_BACKUP_CODES,codes:e.body.backup_codes})})},clearBackupCodes:function(){o.default.dirtyDispatch({type:i.ActionTypes.MFA_CLEAR_BACKUP_CODES})}},e.exports=t.default},6194:function(e,t,n){"use strict";t.__esModule=!0,t.showNotice=function(e,t){r.default.dirtyDispatch({type:i.ActionTypes.CHANNEL_NOTICE_SHOW,noticeType:e,guild:t})},t.hideNotice=function(e){r.default.dirtyDispatch({type:i.ActionTypes.CHANNEL_NOTICE_HIDE,noticeType:e})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6197:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=E(n(9)),u=E(n(6)),d=E(n(958)),f=E(n(94)),c=E(n(265)),p=E(n(954)),h=E(n(225)),y=E(n(521)),m=n(0),v=E(n(5609));function E(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(188);var g=((a={})[m.StoreRecommendationTypes.NOW_PLAYING]={single:function(e,t){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_OTHER.format({count:e})}},a[m.StoreRecommendationTypes.RECENTLY_PLAYED]={single:function(e,t){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_OTHER.format({count:e})}},a[m.StoreRecommendationTypes.EVER_PLAYED]={single:function(e,t){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return u.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_OTHER.format({count:e})}},a),S=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,u=Array(a),d=0;d<a;d++)u[d]=arguments[d];return n=o=_(this,e.call.apply(e,[this].concat(u))),o.renderUserPopout=function(e,t){return l.createElement(y.default,i({},t,{user:e}))},o.renderUserTooltip=function(e,t,n){return r("div",{className:v.default.tooltip},void 0,r("div",{},void 0,e.tag),r(p.default,{className:v.default.tooltipTimestamp,start:t,end:n,location:p.default.Locations.ACTIVITY_FEED}))},o.renderPlayer=function(e,t,n,a){var i,l=e;if(null==l)return null;var u=o.props.reason.userInfo.find(function(e){return e.user===l});return null==u?null:r(h.default,{render:function(e){return o.renderUserPopout(l,e)},position:h.default.Positions.RIGHT,closeOnScroll:!1},l.id,r(f.default,{text:o.renderUserTooltip(l,u.startTime,u.endTime)},void 0,r(c.default,{className:(0,s.default)(v.default.playerAvatar,(i={},i[v.default.avatarMasked]=!a,i)),src:l.getAvatarURL(),size:c.default.Sizes.SMALL})))},o.renderPlayerOverflow=function(e,t,n){return r("div",{className:v.default.playerOverflow},n,e)},_(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDescription=function(e,t){var n=this,o=g[e];return 1===t.length?o.single(t[0].user,function(e){return n.renderActivityDiscordTag(e)}):2===t.length?o.double(t[0].user,t[1].user,function(e){return n.renderActivityDiscordTag(e)}):o.other(t.length)},t.prototype.renderActivityDiscordTag=function(e){var t=this;return r(h.default,{render:function(n){return t.renderUserPopout(e,n)},position:h.default.Positions.RIGHT,closeOnScroll:!1},e.id,r("span",{className:v.default.username},void 0,e.username))},t.prototype.render=function(){var e=this.props,t=e.reason,n=e.className,o=t.type,a=t.userInfo;return 0===a.length?null:r("div",{className:n},void 0,r(d.default,{className:v.default.players,users:a.map(function(e){return e.user}),renderUser:this.renderPlayer,max:8,renderMoreUsers:this.renderPlayerOverflow}),r("div",{className:v.default.description},void 0,this.renderDescription(o,a)))},t}(l.PureComponent);S.displayName="ApplicationRecommendationActivity",t.default=S,e.exports=t.default},6198:function(e,t,n){"use strict";var o;t.__esModule=!0,t.getRatingTier=function(e){var t=d[e.aggregator];if(null==t)return null;if(e.aggregator===l.ReviewAggregators.METACRITIC&&e.criticTotalRatings<s)return null;return t.find(function(t){return t.minimumScore<=e.criticScore})};var a,r=n(6),i=(a=r)&&a.__esModule?a:{default:a},l=n(0);var s=4;function u(e,t,n){return{minimumScore:e,color:t,get label(){return n()}}}var d=((o={})[l.ReviewAggregators.METACRITIC]=[u(90,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_UNIVERSAL_ACCLAIM}),u(75,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_FAVORABLE}),u(50,"#fc3",function(){return i.default.Messages.METACRITIC_VERDICT_MIXED_OR_AVERAGE}),u(20,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_UNFAVORABLE}),u(0,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_OVERWHELMING_DISLIKE})],o)},6199:function(e,t,n){"use strict";t.__esModule=!0,t.fetchStatisticsForApplication=void 0;t.fetchStatisticsForApplication=(o=regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.default.dispatch({type:s.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_START,applicationId:t}),e.prev=1,e.next=4,r.default.get(s.Endpoints.APPLICATION_ACTIVITY_STATISTICS(t));case 4:return n=e.sent,o=n.body,l.default.dispatch({type:s.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:o,applicationId:t}),e.abrupt("return",o);case 10:throw e.prev=10,e.t0=e.catch(1),l.default.dispatch({type:s.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL,applicationId:t}),new i.default(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,10]])}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})},function(e){return a.apply(this,arguments)});var o,a,r=u(n(12)),i=u(n(239)),l=u(n(2)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}},6200:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=N(n(1)),l=C(n(3)),s=C(n(9)),u=C(n(1041)),d=n(273),f=C(n(5)),c=C(n(164)),p=C(n(133)),h=C(n(46)),y=N(n(32)),m=C(n(6449)),v=C(n(949)),E=C(n(42)),_=n(0),g=C(n(5606)),S=C(n(5605)),T=C(n(6));function C(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=(0,d.cssValueToNumber)(S.default.mediaQueryMobileHeader),I=(0,f.default)(new Date(0)),A=function(e){var t=c.default.get(e);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},M=function(e,t){var n=A(e),o=A(t);return n.name.localeCompare(o.name,"en",{sensitivity:"base"})},R=function(e,t){return M(t,e)},P=function(e,t){return(0,u.default)(t).compare((0,u.default)(e))},L=function(e,t){var n=A(e),o=A(t),a=n.releaseDate,r=o.releaseDate,i=Date.now();return(null==a||a.isAfter(i))&&(a=I),(null==r||r.isAfter(i))&&(r=I),a.isAfter(r)?-1:a.isBefore(r)?1:M(e,t)},w=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=b(this,e.call.apply(e,[this].concat(r))),o.analyticsPropsForTile=function(e){var t=o.props,n=t.sort,a=t.viewConfig,r=t.analyticsIndexOffset,i=t.analyticsApplicationTypeFilter;return{listIndex:e+r,listSort:n,listSearched:null!=a&&Boolean(a.titleQuery),listFilterDistributionType:i}},o.getSortedSkuIds=function(){var e=o.props,t=e.directoryLayout;switch(e.sort){case _.StoreApplicationSort.FEATURED:return t.featuredSkuIds;case _.StoreApplicationSort.NEW_RELEASES:return t.allSkuIds.sort(L);case _.StoreApplicationSort.PREMIUM:return t.premiumSkuIds;case _.StoreApplicationSort.ALPHABETICAL:return t.allSkuIds.sort(M);case _.StoreApplicationSort.REVERSE_ALPHABETICAL:return t.allSkuIds.sort(R);case _.StoreApplicationSort.ID:return t.allSkuIds.sort(P);default:return t.allSkuIds}},o.getTileDisplayType=function(e){var t=o.props,n=t.getTileDisplayType,a=t.isSmallResolution;return null!=n?n(e,a):_.StoreDirectoryTileTypes.REGULAR},b(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getApplicationFilterProperties=function(e){var t=new Set;return e.accessType===_.SKUAccessTypes.EARLY_ACCESS&&t.add(_.StoreApplicationFilterProperty.EARLY_ACCESS),e.isOnSale&&t.add(_.StoreApplicationFilterProperty.SALE),e.premium?t.add(_.StoreApplicationFilterProperty.PREMIUM):null!=e.getPrice()?t.add(_.StoreApplicationFilterProperty.DISTRIBUTION):t.add(_.StoreApplicationFilterProperty.COMING_SOON),t},t.prototype.getFilteredSkuIds=function(e,t){var n=this,o=e.titleQuery,a=e.hideApplicationsInUserLibrary,r=e.applicationTypes,i=e.genre,l=t;return null!=i&&i!==_.StoreApplicationGenresFilter.ALL&&(l=l.filter(function(e){var t=A(e);return null!=t.genres&&t.genres.has(i)})),null!=r&&(l=l.filter(function(e){var t=A(e);return null!=t&&Array.from(r).filter(function(e){return n.getApplicationFilterProperties(t).has(e)}).length>0})),null!=o&&(l=l.filter(function(e){var t=A(e);return null!=t&&t.name.toLowerCase().includes(o.toLowerCase())})),a&&(l=l.filter(function(e){var t=A(e);return!h.default.hasApplication(t.applicationId,t.applicationId,!0)})),l},t.prototype.handleTileContextMenu=function(e,t){y.openContextMenu(e,function(e){return i.createElement(v.default,r({},e,{type:_.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:t}))})},t.prototype.renderEmptyState=function(){var e=this.props.className;return a("div",{className:e},void 0,a("div",{className:g.default.emptyWumpus}),a("h1",{className:g.default.noMatches},void 0,T.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),a("div",{className:g.default.noMatchesDescription},void 0,T.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_SUBHEADER))},t.prototype.render=function(){var e=this,t=this.props,n=t.directoryLayout,o=t.sort,l=t.className,u=t.viewConfig,d=t.maxTiles,f=t.onSKUViewed,c=null!=o?this.getSortedSkuIds():n.allSkuIds,p=null!=u?this.getFilteredSkuIds(u,c):c;return 0===p.length&&null!=u?this.renderEmptyState():(null!=d&&(p=p.slice(0,d)),a("div",{className:l},void 0,a(E.default,{wrap:E.default.Wrap.WRAP},void 0,p.map(function(t,n){var o,a=e.analyticsPropsForTile(n),l=e.getTileDisplayType(n);return i.createElement(m.default,r({key:t,skuId:t},a,{type:l,className:(0,s.default)(g.default.tile,(o={},o[g.default.tileRegular]=l===_.StoreDirectoryTileTypes.REGULAR,o[g.default.tileMedia]=l===_.StoreDirectoryTileTypes.MEDIA,o)),onSKUViewed:f,onContextMenu:e.handleTileContextMenu}))}))))},t}(i.Component);w.defaultProps={analyticsIndexOffset:0},w.displayName="ApplicationDirectoryTileLayout",t.default=l.default.connectStores([p.default],function(){return{isSmallResolution:p.default.windowSize().width<O}})(w),e.exports=t.default},6332:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=h(n(3)),r=h(n(2)),i=n(0),l=n(78),s=h(n(28)),u=h(n(379)),d=h(n(95)),f=h(n(65)),c=h(n(187)),p=h(n(55));function h(e){return e&&e.__esModule?e:{default:e}}var y=i.ThemeTypes.DARK,m=null;function v(){y=s.default.theme}function E(){m=f.default.getChannelId(c.default.getGuildId())}function _(e){return e.channelId===m}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,u.default,c.default,f.default,d.default),this.syncWith([s.default],v),this.syncWith([c.default,f.default,u.default],E)},o(t,[{key:"theme",get:function(){if(null!=m){var e=c.default.getGuildId(),t=d.default.isInChannel(e,m)&&(null!=e||d.default.hasVideo(e,m))&&p.default.supports(l.Features.VIDEO)?u.default.getLayout(m):null;return t===i.ChannelLayouts.NORMAL||t===i.ChannelLayouts.NO_CHAT?i.ThemeTypes.DARK:y}return y}}]),t}(a.default.Store);t.default=new g(r.default,{VOICE_STATE_UPDATE:_,CHANNEL_RTC_UPDATE_LAYOUT:_}),e.exports=t.default},6333:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(3)),a=i(n(2)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,s=[r.DispatchErrorCodes.REDISTRIBUTABLE_INSTALL_FAILED,r.DispatchErrorCodes.POST_INSTALL_FAILED,r.DispatchErrorCodes.POST_INSTALL_CANCELLED],u=[r.DispatchErrorCodes.APPLICATION_NOT_FOUND,r.DispatchErrorCodes.APPLICATION_LOAD_FAILED,r.DispatchErrorCodes.INTERRUPTED,r.DispatchErrorCodes.DESERIALIZATION_FAILED];var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getLastError=function(){return l},t}(o.default.Store);t.default=new d(a.default,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){null!=l&&s.includes(l.code)&&(l=null)},DISPATCH_APPLICATION_ERROR:function(e){var t=e.error;l=u.includes(t.code)?null:t}}),e.exports=t.default},6334:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=V(n(3)),i=V(n(82)),l=V(n(24)),s=V(n(2)),u=n(0),d=V(n(11)),f=V(n(229)),c=V(n(13)),p=V(n(231)),h=V(n(14)),y=V(n(6333)),m=V(n(1035)),v=V(n(55)),E=V(n(542)),_=V(n(295)),g=V(n(6370)),S=V(n(25)),T=V(n(62)),C=V(n(132)),N=V(n(550)),b=V(n(970)),O=V(n(165)),I=V(n(388)),A=V(n(187)),M=V(n(6108)),R=V(n(6491)),P=V(n(95)),L=V(n(237)),w=V(n(57)),D=V(n(6490)),U=V(n(22)),k=V(n(164)),F=V(n(195)),x=V(n(527)),G=V(n(1036)),j=n(543),B=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(278)),H=n(78);function V(e){return e&&e.__esModule?e:{default:e}}var Y=((o={})[u.NoticeTypes.DOWNLOAD_NAG]="hideNag",o[u.NoticeTypes.CONNECT_SPOTIFY]="hideConnectSpotify",o[u.NoticeTypes.PREMIUM_PROMO]="hidePremiumPromo",o[u.NoticeTypes.MFA_SMS_BACKUP]="hideMFASMSNotice",o[u.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED]="hidePremiumGrandfatheredStarted",o[u.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING]="hidePremiumGrandfatheredEnding",o[u.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED]="hidePremiumGrandfatheredEnded",o),W=new Set([u.NoticeTypes.NO_INPUT_DETECTED,u.NoticeTypes.STREAMER_MODE,u.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,u.NoticeTypes.SPOTIFY_AUTO_PAUSED,u.NoticeTypes.DISPATCH_ERROR,u.NoticeTypes.DISPATCH_ERROR,u.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS]),z={},K=Object.freeze({id:null,message:null,buttonText:null,callback:null,metadata:null}),$=null;function q(e){if(null!=e){var t=Y[e];null!=t&&l.default.set(t,!0),W.has(e)&&(z[e]=!0),e===u.NoticeTypes.PREMIUM_PROMO&&(0,j.setFlag)(u.UserFlags.PREMIUM_PROMO_DISMISSED,!0)}}function X(e){if(null==e)return!1;var t=Y[e];return t?l.default.get(t):!!W.has(e)&&z[e]}function Q(){if(!I.default.isConnected())return!1;$=null;var e=c.default.getCurrentUser(),t=x.default.getPremiumSubscription(),n=null!=t?t.plan:null,o=P.default.getCurrentVoiceChannelId(null,h.default.getId()),r=null!=o&&P.default.hasVideo(null,o),l=void 0,s=y.default.getLastError(),S=m.default.getLastProgress(),T=R.default.getCurrentSurvey();if(null!=N.default.getRequest())$=a({},K,{type:u.NoticeTypes.ACTIVITY_JOIN_REQUEST});else if(p.default.isDisabled())$=a({},K,{type:u.NoticeTypes.VOICE_DISABLED});else if(!1===v.default.getInputDetected())$=a({},K,{type:u.NoticeTypes.NO_INPUT_DETECTED});else if(p.default.isConnected()&&v.default.isHardwareMute()){var O=v.default.getInputDeviceId(),A=E.default.getVendor(O),M=E.default.getModel(O);null!=A&&null!=M&&($=a({},K,{type:u.NoticeTypes.HARDWARE_MUTE,metadata:{vendor:A,model:M}}))}else if(null!=s)$=a({},K,{type:u.NoticeTypes.DISPATCH_ERROR,metadata:{error:s}});else if(null!=S)$=a({},K,{type:u.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS,metadata:S});else if(L.default.wasAutoPaused())$=a({},K,{type:u.NoticeTypes.SPOTIFY_AUTO_PAUSED});else if(!X(u.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED)&&null!=n&&f.default.isGrandfathered(n)&&f.default.isNearGrandfatheredStartPeriod())$=a({},K,{type:u.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED,metadata:{plan:n}});else if(!X(u.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED)&&null!=n&&f.default.isGrandfathered(n)&&f.default.getDaysToGrandfatheredEnd(n)>=-14&&f.default.getDaysToGrandfatheredEnd(n)<=0)$=a({},K,{type:u.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED});else if(!X(u.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING)&&null!=n&&f.default.isGrandfathered(n)&&f.default.getDaysToGrandfatheredEnd(n)>0&&f.default.getDaysToGrandfatheredEnd(n)<=f.default.GRANDFATHERED_DAYS_APPROACHING)$=a({},K,{type:u.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING,metadata:{plan:n}});else if(null!=e&&null==e.email)$=a({},K,{type:u.NoticeTypes.UNCLAIMED_ACCOUNT});else if(!d.default.embedded||G.default.supported()&&!_.default.isCorruptInstallation())if(!r||v.default.supports(H.Features.VIDEO)||X(u.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER))if(b.default.getDisplayType()===u.DetectedPlatformAccountsDisplayTypes.NOTICE)$=a({},K,{type:u.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS,metadata:b.default.getDetectedAccounts()});else if(C.default.enabled)$=a({},K,{type:u.NoticeTypes.STREAMER_MODE});else if(d.default.embedded||X(u.NoticeTypes.DOWNLOAD_NAG))if(l=g.default.getScheduledMaintenance())$=a({},K,{type:u.NoticeTypes.SCHEDULED_MAINTENANCE,metadata:{id:l.id,start:new Date(l.scheduled_for),end:new Date(l.scheduled_until)}});else if(null!=T)$=a({},K,{type:u.NoticeTypes.SURVEY,metadata:T});else if(null==e||e.verified)if(L.default.hasConnectedAccount()||!w.default.isObservedAppRunning(i.default.get(u.PlatformTypes.SPOTIFY).name)||X(u.NoticeTypes.CONNECT_SPOTIFY))if(null==e||f.default.isPremium(e)||e.hasFlag(u.UserFlags.PREMIUM_PROMO_DISMISSED)||!D.default.isEligible()||X(u.NoticeTypes.PREMIUM_PROMO))if(null==e||!e.mfaEnabled||e.hasFlag(u.UserFlags.MFA_SMS)||e.hasFlag(u.UserFlags.STAFF)||e.hasFlag(u.UserFlags.PARTNER)||X(u.NoticeTypes.MFA_SMS_BACKUP)){if(null!=F.default.testModeApplicationId){var j=F.default.testModeApplicationId,B=U.default.getGame(j),V=null!=B?B.name:j;$=a({},K,{type:u.NoticeTypes.APPLICATION_TEST_MODE,metadata:{applicationName:V,applicationId:j,skus:k.default.getForApplication(j)}})}}else $=a({},K,{type:u.NoticeTypes.MFA_SMS_BACKUP});else $=a({},K,{type:u.NoticeTypes.PREMIUM_PROMO});else $=a({},K,{type:u.NoticeTypes.CONNECT_SPOTIFY});else $=a({},K,{type:u.NoticeTypes.UNVERIFIED_ACCOUNT});else $=a({},K,{type:u.NoticeTypes.DOWNLOAD_NAG});else $=a({},K,{type:u.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER});else $=a({},K,{type:u.NoticeTypes.CORRUPT_INSTALLATION});null!=$&&X($.type)&&($=null)}function J(){return C.default.enabled||delete z[u.NoticeTypes.STREAMER_MODE],Q()}var Z=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([R.default,N.default,D.default],Q),this.waitFor(c.default,g.default,S.default,T.default,p.default,v.default,C.default,O.default,A.default,M.default,N.default,b.default,L.default,w.default,D.default,y.default,m.default,F.default,x.default,_.default)},t.prototype.hasNotice=function(){return null!=$&&null!=$.type},t.prototype.getNotice=function(){return null==M.default.getAction()?$:null},t}(r.default.Store);t.default=new Z(s.default,{CONNECTION_OPEN:function(e){return function(){if(!I.default.isConnected())return!1;var e=c.default.getCurrentUser();f.default.isPremium(e)&&f.default.shouldCheckGrandfatheredPlan()&&s.default.wait(function(){return B.fetchSubscriptions()}),Q()}()},CURRENT_USER_UPDATE:function(e){return Q()},AUDIO_ENABLE:function(e){return Q()},VOICE_CHANNEL_CLEAR:function(e){return Q()},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){return Q()},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return Q()},GUILD_CREATE:function(e){return Q()},GUILD_DELETE:function(e){return Q()},AUDIO_INPUT_DETECTED:function(e){return Q()},AUDIO_SET_DISPLAY_SILENCE_WARNING:function(e){return Q()},CERTIFIED_DEVICES_SET:function(e){return Q()},AUDIO_SET_INPUT_DEVICE:function(e){return Q()},AUDIO_SET_OUTPUT_DEVICE:function(e){return Q()},MEDIA_ENGINE_DEVICES:function(e){return Q()},RTC_CONNECTION_STATE:function(e){return Q()},RPC_APP_AUTHENTICATED:function(e){return Q()},RPC_APP_DISCONNECTED:function(e){return Q()},PLATFORM_ACCOUNTS_DETECTED:function(e){return Q()},PLATFORM_ACCOUNTS_IGNORE:function(e){return Q()},USER_CONNECTIONS_UPDATE:function(e){return Q()},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){return Q()},WINDOW_FOCUS:function(e){return Q()},INSTANT_INVITE_CREATE:function(e){return Q()},INSTANT_INVITE_REVOKE_SUCCESS:function(e){return Q()},SPOTIFY_PLAYER_PAUSE:function(e){return Q()},RUNNING_GAMES_CHANGE:function(e){return Q()},EXPERIMENTS_FETCH_SUCCESS:function(e){return Q()},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return Q()},DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:function(e){return Q()},DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:function(e){return Q()},DEVELOPER_TEST_MODE_RESET:function(e){return Q()},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return Q()},DISPATCH_APPLICATION_INSTALL:function(e){return Q()},VOICE_STATE_UPDATE:function(e){return e.userId===h.default.getId()&&Q()},STREAMER_MODE_UPDATE:function(e){return J()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return J()},DISPATCH_APPLICATION_ERROR:function(e){return delete z[u.NoticeTypes.DISPATCH_ERROR],Q()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){return delete z[u.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS],Q()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(e){return Q()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(e){return Q()},NOTICE_SHOW:function(e){$=e.notice},NOTICE_DISMISS:function(e){return null!=$&&(null==e.id||e.id===$.id)&&(q($.type),Q())},NOTICE_DISABLE:function(e){return q(e.noticeType),Q()},LOGOUT:function(e){return z={},void($=null)}}),e.exports=t.default},6345:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=j(n(60)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=j(n(54)),s=j(n(9)),u=j(n(7)),d=j(n(66)),f=j(n(227)),c=j(n(3)),p=j(n(234)),h=j(n(274)),y=j(n(146)),m=j(n(41)),v=j(n(233)),E=j(n(144)),_=j(n(6131)),g=j(n(225)),S=j(n(45)),T=j(n(989)),C=j(n(81)),N=j(n(6)),b=j(n(133)),O=j(n(28)),I=j(n(6334)),A=j(n(17)),M=n(116),R=j(n(275)),P=j(n(384)),L=j(n(65)),w=j(n(6107)),D=j(n(271)),U=j(n(18)),k=j(n(25)),F=n(0),x=j(n(5623)),G=j(n(5575));function j(e){return e&&e.__esModule?e:{default:e}}var B=function(e){var t=e.title,n=e.children,o=e.className;return a("div",{className:(0,s.default)(x.default.header,G.default.header,o)},void 0,a("div",{className:(0,s.default)(x.default.title,G.default.title)},void 0,t),n)};B.displayName="Header";var H=function(e){var t=e.msg,n=e.image;return a("div",{className:x.default.emptyPlaceholder},void 0,a("div",{className:x.default.image,style:{backgroundImage:"url("+n+")"}}),a("div",{className:x.default.body},void 0,t))};H.displayName="EmptyStateCenter";var V=function(e){var t=e.msg,n=e.image;return a("div",{className:(0,s.default)(x.default.emptyPlaceholder,x.default.bottom)},void 0,a("div",{className:x.default.body},void 0,t),a("div",{className:x.default.image,style:{backgroundImage:"url("+n+")"}}))};V.displayName="EmptyStateBottom";var Y=a(E.default,{}),W=a(E.default,{}),z=(0,l.default)({displayName:"MessagesPopout",mixins:[c.default.StoreListenerMixin(O.default,b.default,I.default,h.default),p.default,d.default],statics:{EmptyStateCenter:H,EmptyStateBottom:V,Header:B},propTypes:{onFetch:r.default.func.isRequired,channel:r.default.instanceOf(R.default),messages:r.default.arrayOf(r.default.instanceOf(P.default)),loading:r.default.bool.isRequired,analyticsName:r.default.string.isRequired,renderEmptyState:r.default.func.isRequired,renderHeader:r.default.func.isRequired,hasMore:r.default.bool,onCloseMessage:r.default.func,onJump:r.default.func,loadMore:r.default.func,showChannels:r.default.bool,showGuildNames:r.default.bool,canCloseAllMessages:r.default.bool},getDefaultProps:function(){return{showChannels:!1,showGuildNames:!1,renderMentioned:!0,canCloseAllMessages:!1}},scrollPageUp:function(){var e=this.scroller;e&&e.scrollPageUp(!0)},scrollPageDown:function(){var e=this.scroller;e&&e.scrollPageDown(!0)},UNSAFE_componentWillMount:function(){A.default.track(F.AnalyticEvents.OPEN_POPOUT,{type:this.props.analyticsName}),this.props.onFetch(this.props.channel)},componentDidMount:function(){M.ComponentDispatch.subscribe(F.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),M.ComponentDispatch.subscribe(F.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},componentWillUnmount:function(){M.ComponentDispatch.unsubscribe(F.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),M.ComponentDispatch.unsubscribe(F.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},getStateFromStores:function(){var e=I.default.hasNotice(),t=O.default.inlineAttachmentMedia,n=O.default.inlineEmbedMedia,o=O.default.renderEmbeds,a=O.default.developerMode,r=O.default.messageDisplayCompact,i=this.props.channel?h.default.getMessages(this.props.channel.id):null,l=!!i&&(i.loadingMore&&!i.get(i.jumpTargetId));return{inlineAttachmentMedia:t,inlineEmbedMedia:n,renderEmbeds:o,developerMode:a,messageDisplayCompact:r,isNoticeOpen:e,size:b.default.windowSize(),jumping:l}},renderControlButtons:function(e){var t,n=this,o=e.channel,r=e.messages[0],i=this.state.jumping,l=null;this.props.onCloseMessage&&(this.props.canCloseAllMessages||o.isPrivate()||this.can(F.Permissions.MANAGE_MESSAGES,o))&&(l=a(S.default,{look:S.default.Looks.BLANK,size:S.default.Sizes.NONE,onClick:this.props.onCloseMessage.bind(null,r)},void 0,a("div",{className:x.default.closeButton})));var u=a(C.default,{className:x.default.jumpButton,onClick:function(e){return n.jumpTo(r,e)}},void 0,a("div",{className:(0,s.default)(x.default.text,{hidden:i})},void 0,N.default.Messages.JUMP),a(E.default,{type:E.default.Type.PULSING_ELLIPSIS,className:(0,s.default)(x.default.loading,(t={},t[x.default.visible]=i,t))}));return a("div",{className:x.default.actionButtons},void 0,u,l)},jumpTo:function(e,t){var n=e.id,o=e.blocked,a=e.author,r=e.channel_id;if(o)v.default.show({title:N.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:N.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:a.username}),confirmText:N.default.Messages.OKAY});else if(!this.state.jumping){var i=U.default.getChannel(r);i&&(y.default.trackJump(r,n,this.props.analyticsName),m.default.transitionTo(F.Routes.MESSAGE(i.getGuildId(),r,n))),this.props.onJump&&this.props.onJump(t)}},handleScroll:function(){var e=this.scroller;if(e){var t=e.getScrollData();t.scrollHeight===t.scrollTop+t.offsetHeight&&this.props.hasMore&&!this.props.loading&&this.props.loadMore()}},selectChannel:function(e,t){e!==L.default.getChannelId()&&D.default.transitionToInviteChannelSync(e),this.props.onJump&&this.props.onJump(t)},setScrollerRef:function(e){this.scroller=e},render:function(){var e=this,t=null,n=!0,o=this.props,r=o.messages,l=o.loading,d=o.channel,c=o.className;if(r)if(0===r.length)t=this.props.renderEmptyState(O.default.theme);else{n=!1,t=[];var p=this.props.showChannels?null:d,h=this.state,y=h.renderEmbeds,m=h.inlineEmbedMedia,v=h.inlineAttachmentMedia;u.default.each(r,function(n){if(e.props.showChannels&&(null==p||p.id!==n.channel_id)){p=U.default.getChannel(n.channel_id);var o=k.default.getGuild(p.getGuildId());t.push(a("div",{className:x.default.channelSeparator},""+n.id+p.id,a(C.default,{tag:"span",className:x.default.channelName,onClick:e.selectChannel.bind(null,p.id)},void 0,p?p.toString(!0):"???"),e.props.showGuildNames&&a("span",{className:x.default.guildName},void 0,o?o.toString():"")))}var r=p.isNSFW()?w.default.didAgree(p.getGuildId()):null;if(null!=n){var i=a("div",{className:x.default.messageGroupWrapper},n.id,a("div",{className:x.default.messageGroupWrapperOffsetCorrection},void 0,a(_.default,{cozyClassName:x.default.messageGroupCozy,messages:[n],channel:p,inlineAttachmentMedia:v&&null!=r?r:v,inlineEmbedMedia:m&&null!=r?r:m,renderEmbeds:y&&null!=r?r:y,renderEmbedsSmall:!0,compact:!1,developerMode:e.state.developerMode,hasDivider:!1,popoutPosition:g.default.Positions.LEFT,groupOption:e.renderControlButtons,onClickAnywhere:function(t){return e.jumpTo(n,t)},messageOption:!1,canEdit:!1,renderMentioned:e.props.renderMentioned,disableInteractionLabel:N.default.Messages.JUMP,accessoriesClassName:x.default.accessories})));t.push(i)}})}else t=a("div",{className:(0,s.default)(x.default.emptyPlaceholder,x.default.loadingPlaceholder)},void 0,Y);var E=null;t.length>0&&this.props.loadMore&&(E=l?a("div",{className:x.default.loadingMore},"loading-more-after",W):this.props.hasMore?a("div",{className:x.default.hasMore},"has-more-after",a("button",{type:"button",onClick:this.props.loadMore,className:x.default.hasMoreButton},void 0,N.default.Messages.LOAD_MORE_MESSAGES)):a("div",{className:x.default.scrollingFooterWrap},void 0,this.props.renderEmptyState(O.default.theme)));var S=this.props.getProTip&&this.props.getProTip(),b=n&&S?a("div",{className:(0,s.default)(G.default.footer,x.default.footer)},void 0,a(T.default,{style:{width:"100%",paddingTop:10}},void 0,S)):null,I={maxHeight:this.state.size.height-43-25};this.state.isNoticeOpen&&(I.maxHeight-=40);var A=this.props.loadMore&&this.props.hasMore;return a("div",{className:(0,s.default)(x.default.messagesPopoutWrap,G.default.themedPopout,c),style:I},void 0,this.props.renderHeader(),i.createElement(f.default,{className:x.default.messagesPopout,ref:this.setScrollerRef,onScroll:A?this.handleScroll:void 0,backgroundColor:O.default.theme===F.ThemeTypes.LIGHT?F.Colors.WHITE:F.Colors.PRIMARY_DARK_630},t,E),b)}});t.default=z,e.exports=t.default},6346:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.MasonryNodeInsertedEmitter=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(77)),l=p(n(7)),s=p(n(43)),u=p(n(42)),d=p(n(938)),f=n(6510),c=p(n(5967));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(){h(this,t);var n=y(this,e.call(this));return n.node=document.createElement("div"),n}return m(t,e),t.prototype.getNode=function(){return this.node},t.prototype.componentWillUnmount=function(){(0,f.removeNode)(this.node)},t.prototype.render=function(){return i.default.createPortal(this.props.children,this.node)},t}(r.Component);v.displayName="MasonryItem";var E=t.MasonryNodeInsertedEmitter=new s.default;E.setMaxListeners(0);var _=function(t){function n(){var e,o;h(this,n);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return e=o=y(this,t.call.apply(t,[this].concat(r))),o._didMount=!1,o._columnNodes={},o._itemNodes={},o._columns=[],o._itemHeightsForRender={},o.debouncedUpdateColumns=l.default.debounce(function(){o.updateColumns(o.props)}),o.setColumnRef=function(e,t){null!=t&&(o._columnNodes[e]=t)},o.setMeasurementSectionRef=function(e){null!=e&&(o._measurementNode=e)},y(o,e)}return m(n,t),n.prototype.componentDidMount=function(){this._didMount=!0,this.updateColumns(this.props)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;if(e.width!==this.props.width||this.getNumColumns(e)!==this.getNumColumns(this.props))this._itemHeightsForRender={};else{var n=e.items.map(e.getItemId),o=this.props.items.map(e.getItemId);l.default.isEqual(n,o)||(l.default.difference(o,n).forEach(function(e){delete t._itemHeightsForRender[e]}),this.debouncedUpdateColumns())}},n.prototype.componentWillUnmount=function(){this.debouncedUpdateColumns.cancel()},n.prototype.getNumColumns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.width,n=e.desiredItemWidth,o=e.maxColumns,a=Math.max(Math.floor(t/n),1);return Math.min(a,o)},n.prototype.getItemWidth=function(e){var t=e.maxItemWidth,n=e.width,o=e.gutterWidth,a=this.getNumColumns(e),r=o*(a-1);return Math.floor(Math.min(n/a,t))-Math.ceil(r/a)},n.prototype.updateColumns=function(e){for(var t=this,n=e.items,o=e.getItemId,a=e.onColumnChange,r=this.getNumColumns(e),i=l.default.times(r,function(){return[]}),s=l.default.times(r,function(e){return{index:e,height:0}}),u=0;u<n.length;u++){var d=o(n[u]);if(null!=this._itemHeightsForRender[d]){var f=l.default.minBy(s,function(e){return e.height}).index;s[f].height+=this._itemHeightsForRender[d],i[f].push(d)}}this._columns=i,i.forEach(function(e,n){e.forEach(function(e){null!=t._itemNodes[e]&&t._columnNodes[n].appendChild(t._itemNodes[e])})}),null!=a&&a()},n.prototype.setMeasurementRef=function(t,n){if(null!=n){var o=n.getNode();this._itemNodes[t]=o,null==o.parentNode&&(this._measurementNode.appendChild(o),e(function(){return E.emit("change",{node:o})})),this._itemHeightsForRender[t]=o.offsetHeight,this._didMount&&this.debouncedUpdateColumns()}},n.prototype.render=function(){var e=this,t=this.props,n=t.gutterWidth,o=t.items,i=t.getItemId,l=t.renderItem,s=t.renderHeader,d=t.className,f=t.renderEmpty,p=this.getNumColumns(this.props),h=this.getItemWidth(this.props),y=n-n/p;return a("div",{className:d},void 0,a(u.default,{direction:u.default.Direction.VERTICAL},void 0,null!=s?s():null,null!=f&&0===o.length?f():null,a(u.default,{justify:u.default.Justify.CENTER},void 0,0!==o.length?Array(p).fill().map(function(t,o){return r.createElement("div",{className:c.default.column,style:{width:"calc("+100/p+"% - "+y+"px)",marginLeft:0!==o?n:0},key:o,ref:e.setColumnRef.bind(e,o)})}):null)),r.createElement("div",{className:c.default.measureWrapper,style:{width:h},ref:this.setMeasurementSectionRef}),o.map(function(t,n){var o=i(t);return r.createElement(v,{id:o,ref:null==e._itemHeightsForRender[o]?e.setMeasurementRef.bind(e,o):null,key:o},l(t,h,n))}))},n}(r.PureComponent);_.defaultProps={maxColumns:1/0,maxItemWidth:1/0},_.displayName="MasonryLayout";var g=(0,d.default)(_);t.default=function(e){return r.createElement(g,e)}}).call(this,n(36).setImmediate)},6370:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(3)),a=l(n(2)),r=(n(0),l(n(24))),i=l(n(6176));function l(e){return e&&e.__esModule?e:{default:e}}var s="MaintenanceStore",u=null,d=null,f=null;var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){f=r.default.get(s)},t.prototype.getIncident=function(){return u},t.prototype.getScheduledMaintenance=function(){return null!=d&&d.id!==f?d:null},t}(o.default.Store);t.default=new c(a.default,{CONNECTION_OPEN:function(e){return u=null,void i.default.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){u=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){d=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return function(){if(null==d)return!1;f=d.id,r.default.set(s,f)}()}}),e.exports=t.default},6384:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},6385:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},6386:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},6387:function(e,t,n){"use strict";t.__esModule=!0,t.getArtForPath=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.makeAuthenticated=function(e,t){var n=a(t,{});return function(o){if(!l.default.isAuthenticated()){if(null!=t)return n;var u=location.pathname+location.search;return a(i.Redirect,{to:(0,s.getLoginPath)(u,!1)})}return r.createElement(e,o)}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(226),l=f(n(14)),s=n(976),u=f(n(6386)),d=f(n(6385));function f(e){return e&&e.__esModule?e:{default:e}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(6384);var t=(new Date).getHours();return t>=6&&t<20?u.default:d.default}},6390:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={clearVADWarning:function(){r.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_VAD_WARNING})},clearSuppressWarning:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_SUPPRESS_WARNING,forever:e})},clearPTTAdminWarning:function(){r.default.dispatch({type:i.ActionTypes.PERMISSION_CLEAR_PTT_ADMIN_WARNING})}},e.exports=t.default},6391:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.renderTwoColumns=f,t.renderStreams=function(e,t){return e.map(function(e){var n=r.default.map(e,function(e,n){return"type"===n?null:a(s.Item,{section:t,label:n,value:e},n)}).filter(function(e){return null!=e});return a(i.default,{className:u.default.marginBottom40,title:e.type},e.type,f(n))})};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=d(n(7)),i=d(n(928)),l=d(n(42)),s=n(6617),u=d(n(510));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=[],n=0;for(e.length%2!=0&&e.push(a(l.default,{basis:"50%",grow:0},n++));e.length>0;)t.push(a(l.default,{basis:"50%",grow:0},n++,e.splice(0,2)));return t}},6392:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=f(n(925)),s=f(n(81)),u=f(n(75)),d=f(n(5593));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=c(this,e.call.apply(e,[this].concat(i))),o._textInputRef=r.createRef(),o.handleClear=function(){var e=o._textInputRef.current,t=o.props.onClear;null!=e&&e.focus(),null!=t&&t()},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.label,o=e.placeholder,r=e.searchTerm,f=e.inputClassName,c=e.className,p=e.onChange,h=e.autoComplete,y=null!=r&&r.length>0;return a("div",{className:(0,i.default)(d.default.searchBox,c)},void 0,a(l.default,{inputRef:this._textInputRef,name:"search",maxLength:100,className:d.default.searchBoxInputWrapper,inputClassName:(0,i.default)(d.default.searchBoxInput,f),onChange:p,value:y?r:"",placeholder:o,autoFocus:t,"aria-label":n,autoComplete:h?"on":"off"}),y?a(s.default,{onClick:this.handleClear,className:d.default.clear},void 0,a(u.default,{name:u.default.Names.CLEAR,className:d.default.clearIcon})):a(u.default,{className:d.default.searchIcon,name:u.default.Names.SEARCH}))},t}(r.Component);p.defaultProps={autoComplete:!1},p.displayName="SearchBox",t.default=p,e.exports=t.default},6393:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(6)),l=v(n(191)),s=v(n(33)),u=v(n(1009)),d=n(32),f=v(n(6148)),c=v(n(269)),p=v(n(55)),h=v(n(13)),y=v(n(11)),m=v(n(229));function v(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=E(this,e.call.apply(e,[this].concat(r))),o.handleChangeWindows=function(){var e=o.props.channel;f.default.open(e),(0,d.closeContextMenu)()},o.handleStop=function(){c.default.setDesktopSource(null),(0,d.closeContextMenu)()},o.handleVolumeChange=function(e){c.default.setSoundshareVolume(e)},o.handleStreamGame=function(){var e=o.props.game;if(null!=e){var t=y.default.getDesktopSourceFromPid(e.pid),n=h.default.getCurrentUser();c.default.setDesktopSource(t,720,m.default.canUseHigherFramerate(n)?60:30,!0),(0,d.closeContextMenu)()}else o.handleChangeWindows()},E(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,o=e.game,r=void 0;if(null!=o&&(r=a(s.default,{label:i.default.Messages.SCREENSHARE_STREAM_GAME.format({gameName:o.name}),action:this.handleStreamGame})),!p.default.isScreenSharing())return a("div",{className:t,style:n},void 0,a(l.default,{},void 0,r,a(s.default,{label:i.default.Messages.SCREENSHARE_SHARE_SCREEN_OR_WINDOW,action:this.handleChangeWindows})));var d=void 0;return p.default.isSoundSharing()&&(d=a(l.default,{},void 0,a(u.default,{label:i.default.Messages.FORM_LABEL_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:function(e){return e.toFixed(0)+"%"},defaultValue:p.default.getSoundshareVolume()}))),a("div",{className:t,style:n},void 0,d,a(l.default,{},void 0,r,a(s.default,{label:i.default.Messages.SCREENSHARE_CHANGE_WINDOWS,action:this.handleChangeWindows}),a(s.default,{label:i.default.Messages.SCREENSHARE_STOP,action:this.handleStop,danger:!0})))},t}(r.PureComponent);_.displayName="ScreenshareContextMenu",t.default=_,e.exports=t.default},6394:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=l(n(35)),i=l(n(7278));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleDismiss=o.handleDismiss.bind(o),o.handleConfirm=o.handleConfirm.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a.createElement(i.default,o({},this.props,{onConfirm:this.handleConfirm,onDismiss:this.handleDismiss}))},t.prototype.close=function(){r.default.pop()},t.prototype.handleConfirm=function(){var e=this.props.onConfirm;this.close(),e&&e()},t.prototype.handleDismiss=function(){var e=this.props.onDismiss;this.close(),e&&e()},t}(a.PureComponent);s.displayName="VideoDevicesWarningModal",t.default=s,e.exports=t.default},6395:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(42)),l=d(n(265)),s=d(n(5800)),u=d(n(5569));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.avatarSize,n=e.user,o=e.style,r=n.getAvatarURL();return null==r?null:a(i.default,{style:o,className:s.default.background,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER},void 0,a("div",{className:s.default.backgroundBlur,style:{backgroundImage:"url('"+r+"')"}}),a("div",{className:s.default.backgroundBlurOverlay}),a(l.default,{className:u.default.elevationHigh,size:t,src:r}))},t}(r.PureComponent);f.AvatarSizes=l.default.Sizes,f.displayName="VideoBackground",t.default=f,e.exports=t.default},6396:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(144)),s=d(n(5801)),u=n(106);function d(e){return e&&e.__esModule?e:{default:e}}var f={CONTAIN:"contain",COVER:"cover"},c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleReady=function(){o.state.loading&&o.setState({loading:!1})},o.state={loading:null==n.streamId},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSpinner=function(){return this.state.loading?a("div",{className:s.default.spinner},void 0,a(l.default,{type:l.default.Type.SPINNING_CIRCLE})):null},t.prototype.render=function(){var e,t=this.props,n=t.streamId,o=t.videoComponent,r=t.className,l=t.fit,d=t.mirror;return a("div",{className:s.default.wrapper},void 0,a(o,{className:(0,i.default)(s.default.video,(0,u.getClass)(s.default,"video",l),(e={},e[s.default.mirror]=d,e),r),streamId:n,onReady:this.handleReady}),this.renderSpinner())},t}(r.PureComponent);c.Fit=f,c.defaultProps={fit:f.CONTAIN,mirror:!1},c.displayName="VideoStream",t.default=c,e.exports=t.default},6399:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={showChangeLog:function(){r.default.dispatch({type:i.ActionTypes.CHANGE_LOG_OPEN})},hideChangeLog:function(){r.default.dispatch({type:i.ActionTypes.CHANGE_LOG_CLOSE})}},e.exports=t.default},6400:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(9)),s=n(7336),u=n(273),d=m(n(42)),f=m(n(71)),c=m(n(6121)),p=n(936),h=(m(p),m(n(6))),y=m(n(5827));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return a(f.default,{className:(0,l.default)(y.default.description,n)},void 0,t instanceof p.CreditCardSourceRecord?h.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,u.upperCaseFirstChar)(t.brand),last_4:t.last4}):h.default.Messages.PAYMENT_SOURCE_PAYPAL)},t.prototype.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,o="";return t instanceof p.CreditCardSourceRecord?o=h.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,s.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof p.PaypalSourceRecord&&(o=t.email),o},t.prototype.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,o=e.showSubtext,r=e.isPremium;return a(d.default,{},void 0,a(c.default,{type:this.typeString}),a(d.default,{direction:d.default.Direction.VERTICAL,className:y.default.descriptionWrapper},void 0,a(d.default,{align:d.default.Align.CENTER},void 0,this.renderDescription(),t?a("div",{className:y.default.defaultIndicator},void 0,h.default.Messages.DEFAULT):null,r?a("div",{className:y.default.premiumIndicator},void 0,h.default.Messages.PREMIUM):null,n.invalid?a("div",{className:y.default.invalidIndicator},void 0,h.default.Messages.PAYMENT_SOURCE_INVALID):null),o?a("div",{className:y.default.subText},void 0,this.renderSubText()):null))},r(t,[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof p.PaypalSourceRecord?c.default.Types.PAYPAL:e instanceof p.CreditCardSourceRecord?c.default.getType(e.brand):c.default.Types.UNKNOWN}}]),t}(i.PureComponent);v.defaultProps={isPremium:!1,isDefault:!1,showSubtext:!1},v.displayName="PaymentDescription",t.default=v,e.exports=t.default},6405:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=d(n(59)),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(152)),i=d(n(936)),l=d(n(973)),s=d(n(518)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){var n=null!=e.payment_source?i.default.createFromServer(e.payment_source):null,o=null!=e.sku?s.default.createFromServer(e.sku):null,a=null!=e.subscription?l.default.createFromServer(e.subscription):null;return new t({id:e.id,createdAt:e.created_at,currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:n,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:a,skuId:e.sku_id,skuPrice:e.sku_price,sku:o})},t.prototype.initialize=function(e){this.id=e.id,this.amount=e.amount,this.amountRefunded=e.amountRefunded,this.createdAt=e.createdAt,this.currency=e.currency,this.description=e.description,this.paymentSource=e.paymentSource,this.status=e.status,this.tax=e.tax,this.taxInclusive=e.taxInclusive,this.subscription=e.subscription,this.skuId=e.skuId,this.skuPrice=e.skuPrice,this.sku=e.sku,this.flags=e.flags},o(t,[{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&(null==this.subscription.plan||u.PREMIUM_PLANS.has(this.subscription.plan))}},{key:"isGift",get:function(){return r.hasFlag(this.flags,u.PaymentFlags.GIFT)}},{key:"isPremiumGift",get:function(){return this.isGift&&Object.values(u.PremiumSubscriptionSKUs).includes(this.skuId)}}]),t}(a.default);t.default=f,e.exports=t.default},6433:function(e,t,n){var o={"./bg.png":6432,"./cs.png":6431,"./da.png":6430,"./de.png":6429,"./el.png":6428,"./en-GB.png":6427,"./en-US.png":6426,"./es-ES.png":6425,"./fi.png":6424,"./fr.png":6423,"./hr.png":6422,"./hu.png":6421,"./it.png":6420,"./ja.png":6419,"./ko.png":6418,"./lt.png":6417,"./nl.png":6416,"./no.png":6415,"./pl.png":6414,"./pt-BR.png":6413,"./ro.png":6412,"./ru.png":6411,"./sv-SE.png":6410,"./tr.png":6409,"./uk.png":6408,"./zh-CN.png":6407,"./zh-TW.png":6406};function a(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=6433},6434:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(3)),s=m(n(13)),u=m(n(381)),d=m(n(166)),f=m(n(45)),c=m(n(71)),p=m(n(6)),h=m(n(35)),y=m(n(930));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return n=o=v(this,e.call.apply(e,[this].concat(s))),o.state={isSendingVerificationEmail:!1},o.handleResendVerification=function(){var e=o.props,t=e.currentUser,n=e.onClick;n&&n(),o.setState({isSendingVerificationEmail:!0},function(){y.default.verifyResend().then(function(){return h.default.push(function(e){return i.createElement(d.default,a({header:p.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:p.default.Messages.OKAY,red:!1},e),r(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,p.default.Messages.VERIFICATION_EMAIL_BODY.format({email:t.email})))})}).catch(function(e){var t=e.body,n=p.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email),h.default.push(function(e){return i.createElement(u.default,a({title:p.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))})}).then(function(){return o.setState({isSendingVerificationEmail:!1})})})},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.look,o=e.size;return r(f.default,{look:n,size:o,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,p.default.Messages.RESEND_VERIFICATION_EMAIL)},t}(i.Component);E.defaultProps={size:f.default.Sizes.MEDIUM,color:f.default.Colors.BRAND},E.displayName="ResendEmailVerificationButton",t.default=l.default.connectStores([s.default],function(){return{currentUser:s.default.getCurrentUser()}})(E),e.exports=t.default},6435:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(7)),r=s(n(3)),i=s(n(2)),l=s(n(395));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=!1,d=[];var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getBackupCodes=function(){return d},o(t,[{key:"togglingSMS",get:function(){return u}}]),t}(r.default.Store);t.default=new f(i.default,{MFA_ENABLE_SUCCESS:function(e){var t=e.token,n=e.codes;l.default.setToken(t),d=n},MFA_DISABLE_SUCCESS:function(e){var t=e.token;l.default.setToken(t)},MFA_SMS_TOGGLE:function(e){u=!0},MFA_SMS_TOGGLE_COMPLETE:function(e){u=!1},MFA_CLEAR_BACKUP_CODES:function(e){d=[]},MFA_VIEW_BACKUP_CODES:function(e){var t=e.codes;d=a.default.sortBy(t,"code")}}),e.exports=t.default},6437:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(6)),l=y(n(117)),s=y(n(76)),u=y(n(268)),d=y(n(71)),f=y(n(925)),c=y(n(45)),p=y(n(513)),h=y(n(5872));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleSubmit=o.handleSubmit.bind(o),o.handleCancel=o.handleCancel.bind(o),o.handlePasswordChange=o.handlePasswordChange.bind(o),o.state={value:"",error:null,isLoading:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.actionText,o=e.children,y=this.state,m=y.error,v=y.isLoading,E=y.value,_=r.Children.count(o)?a(p.default,{type:p.default.Types.WARNING,className:h.default.card},void 0,a(d.default,{color:d.default.Colors.WHITE,size:d.default.Sizes.MEDIUM},void 0,o)):null;return a(l.default,{tag:"form",onSubmit:this.handleSubmit},void 0,a(l.default.Header,{},void 0,a(s.default,{tag:s.default.Tags.H4},void 0,t)),a(l.default.Content,{},void 0,_,a(u.default,{title:i.default.Messages.FORM_LABEL_PASSWORD,className:h.default.spacing},void 0,a(f.default,{type:"password",autoComplete:"off",autoFocus:!0,value:E,onChange:this.handlePasswordChange}),m?a(d.default,{size:d.default.Sizes.SMALL,color:d.default.Colors.RED,className:h.default.error},void 0," ",m," "):null)),a(l.default.Footer,{},void 0,a(c.default,{type:"submit",disabled:v},void 0,n||i.default.Messages.CONFIRM),a(c.default,{onClick:this.handleCancel,look:c.default.Looks.LINK,color:c.default.Colors.PRIMARY},void 0,i.default.Messages.CANCEL)))},t.prototype.handleSubmit=function(e){var t=this;e.preventDefault();var n=this.state.value,o=this.props,a=o.handleSubmit,r=o.onClose;this.setState({isLoading:!0}),a(n).then(function(){return r()},function(e){null!=e.body&&(e.body.password?t.setState({error:e.body.password,isLoading:!1}):e.body.message&&t.setState({error:e.body.message,isLoading:!1}))})},t.prototype.handleCancel=function(){(0,this.props.onClose)()},t.prototype.handlePasswordChange=function(e){this.setState({value:e})},t}(r.PureComponent);m.key=function(){return"password-confirm-modal"},m.displayName="PasswordConfirm",t.default=m,e.exports=t.default},6439:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=p(n(147)),s=p(n(45)),u=p(n(42)),d=p(n(81)),f=p(n(75)),c=p(n(5602));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,l.default)({SMALL:null,MEDIUM:null,LARGE:null}),y=((a={})[h.SMALL]=c.default.dropdownSmall,a[h.MEDIUM]=c.default.dropdownMedium,a[h.LARGE]=c.default.dropdownLarge,a),m=function(e){var t=e.onDropdownClick,n=e.children,o=e.contentClassName,a=e.dropdownSize,l=void 0===a?h.MEDIUM:a,p=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["onDropdownClick","children","contentClassName","dropdownSize"]);return i.createElement(s.default,p,r(u.default,{align:u.default.Align.CENTER},void 0,r(u.default.Child,{className:o},void 0,n),null!=t?r(d.default,{className:y[l],onClick:function(e){e.stopPropagation(),null!=t&&t(e)}},void 0,r("div",{className:c.default.arrowSeparator}),r(f.default,{name:f.default.Names.ARROW_DROP_DOWN,className:c.default.dropdownArrow})):null))};m.displayName="DropdownButton",m.DropdownSizes=h,m.Sizes=s.default.Sizes,m.Colors=s.default.Colors,m.Looks=s.default.Looks,t.default=m,e.exports=t.default},6445:function(e,t,n){"use strict";t.__esModule=!0,t.ApplicationResultsEmpty=t.ApplicationResult=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(6))),i=c(n(9)),l=c(n(75)),s=c(n(81)),u=c(n(6091)),d=n(188),f=c(n(5604));function c(e){return e&&e.__esModule?e:{default:e}}(t.ApplicationResult=function(e){var t,n=e.focused,o=e.sku,r=e.onSelect,l=e.onHighlight,c=e.storeListing,p=e.inLibrary,h=null;if(null!=c){var y=c.thumbnail;h=null!=y?(0,d.getAssetURL)(o.applicationId,y,128):null}return a(s.default,{className:(0,i.default)(f.default.result,(t={},t[f.default.focused]=n,t)),onMouseEnter:l,onClick:r},void 0,a("div",{className:f.default.resultAssetContainer},void 0,null!=h?a("img",{className:f.default.resultAsset,src:h,alt:""}):a("div",{className:f.default.resultAssetEmpty})),a("div",{className:f.default.resultContent},void 0,a("div",{className:f.default.resultName},void 0,o.name),a(u.default,{type:u.default.Types.DIRECTORY_SEARCH,sku:o,inLibrary:p,className:f.default.price,iconClass:f.default.iconClass})))}).displayName="ApplicationResult",(t.ApplicationResultsEmpty=function(e){var t=e.onViewAllGamesClick;return a("div",{className:f.default.empty},void 0,a("div",{className:f.default.emptyTitle},void 0,r.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),a("div",{className:f.default.emptyNote},void 0,r.default.Messages.APPLICATION_STORE_SEARCH_EMPTY_SUBHEADER),a(s.default,{tag:"a",onClick:t,className:f.default.allGamesContainer},void 0,r.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,a(l.default,{name:l.default.Names.RIGHT_CARET,className:f.default.caret})))}).displayName="ApplicationResultsEmpty"},6446:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=A(n(3)),u=A(n(9)),d=A(n(6085)),f=A(n(41)),c=A(n(524)),p=n(6125),h=A(n(189)),y=A(n(927)),m=A(n(46)),v=A(n(925)),E=A(n(225)),_=A(n(75)),g=A(n(81)),S=n(6445),T=A(n(6161)),C=n(116),N=A(n(228)),b=A(n(6)),O=n(0),I=A(n(5603));function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=370,P=4;function L(e,t){(0,p.updateSearchTerm)(e),f.default.transitionTo(O.Routes.APPLICATION_STORE_BROWSE,{search:c.default.formatSearch({q:e}),state:t})}function w(e){return i(S.ApplicationResultsEmpty,{onViewAllGamesClick:function(){return L("",e)}})}w.displayName="renderNoResults";var D=s.default.connectStores([y.default],function(e){var t=e.sku;return{storeListing:y.default.getForSKU(t.id),inLibrary:m.default.hasApplication(t.applicationId,t.applicationId,!0)}})(S.ApplicationResult),U=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=o=M(this,e.call.apply(e,[this].concat(r))),o.popoutRef=l.createRef(),o.state={query:"",focused:!1,focusedIndex:-1,results:[]},o.inputRef=null,o.setInputRef=function(e){o.inputRef=e},o.focusInput=function(){var e=o.inputRef;null!=e&&e.focus()},o.reset=function(){o.setState({query:"",results:[]})},o.handleInputChange=function(e){var t=o.state,n=t.query,a=t.results,r=e.trim();""===r?a=[]:r!==n.trim()&&(a=d.default.querySKUs(r,P,!0)),o.setState({query:e,results:a})},o.handleSelect=function(e){var t,n,a=o.state,r=a.query,i=a.results[e];null==i?L(r,o.transitionState):(t=i.sku,n=o.transitionState,f.default.transitionTo(O.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),{state:n}))},o.handleHighlight=function(e){o.setState({focusedIndex:e})},o.handleFocus=function(){o.setState({focused:!0})},o.handleBlur=function(){o.setState({focused:!1})},o.handleKeyDown=function(e){var t=e.ctrlKey,n=e.altKey,a=e.metaKey,r=e.which,i=o,l=i.inputRef,s=i.state,u=s.query,d=s.focusedIndex,f=s.results;if(!(t||n||a))switch(e.stopPropagation(),r){case O.KeyboardKeys.ESCAPE:""!==u?o.reset():null!=l&&l.blur();break;case O.KeyboardKeys.ENTER:o.handleSelect(d),e.preventDefault();break;case O.KeyboardKeys.ARROW_UP:d=Math.max(d-1,-1),o.handleHighlight(d),e.preventDefault();break;case O.KeyboardKeys.ARROW_DOWN:d=Math.min(d+1,f.length-1),o.handleHighlight(d),e.preventDefault()}},o.renderPopoutResult=function(e){var t=o.state,n=t.results,a=t.focusedIndex,r=n[e];return null!=r?i(D,{sku:r.sku,focused:e===a,onSelect:function(){return o.handleSelect(e)},onHighlight:function(){return o.handleHighlight(e)}},r.sku.id):null},o.renderPopout=function(){var e=o.state,t=e.results,n=e.query,a=e.focusedIndex;return""!==n.trim()?i(T.default,{numResults:t.length,query:n,width:R,renderResult:o.renderPopoutResult,renderNoResults:function(){return w(o.transitionState)},focusedIndex:a,onSelectQuery:function(){return o.handleSelect(-1)},onHighlightQuery:function(){return o.handleHighlight(-1)}}):null},M(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){C.ComponentDispatch.subscribe(O.ComponentActions.FOCUS_SEARCH,this.focusInput)},t.prototype.componentDidUpdate=function(e,t){var n=this.popoutRef.current,o=this.state,a=o.focused,r=o.query,i=o.focusedIndex;r=r.trim(),a&&!t.focused?null!=n&&n.open():!a&&t.focused&&h.default.close("game-store-search"),r===t.query.trim()&&i===t.focusedIndex||h.default.rerender("game-store-search")},t.prototype.componentWillUnmount=function(){C.ComponentDispatch.unsubscribe(O.ComponentActions.FOCUS_SEARCH,this.focusInput),this.reset()},t.prototype.render=function(){var e,t,n=this.props.className,o=this.state.query;return l.createElement(E.default,{ref:this.popoutRef,offsetX:-156,uniqueId:"game-store-search",position:E.default.Positions.BOTTOM_LEFT,toggleClose:!1,render:this.renderPopout,animationType:E.default.Animations.NONE},i("div",{className:(0,u.default)(I.default.browseSearch,n)},void 0,i(v.default,{inputClassName:I.default.browseSearchInput,className:I.default.inputWrapper,inputRef:this.setInputRef,size:v.default.Sizes.MINI,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,name:"search",maxLength:100,value:o,placeholder:b.default.Messages.APPLICATION_STORE_BROWSE_SEARCH_PLACEHOLDER,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}),i(_.default,{className:(0,u.default)(I.default.icon,(e={},e[I.default.iconVisible]=""===o,e)),name:_.default.Names.SEARCH}),i(g.default,{onMouseDown:function(e){e.preventDefault()},onClick:this.reset},void 0,i(_.default,{className:(0,u.default)(I.default.icon,I.default.clearIcon,(t={},t[I.default.iconVisible]=""!==o,t)),name:_.default.Names.CLEAR}))))},r(t,[{key:"transitionState",get:function(){var e=this.props.analyticsContext;return{analyticsSource:a({},e.location,{object:O.AnalyticsObjects.SEARCH})}}}]),t}(l.PureComponent);U.displayName="ApplicationStoreBrowseSearch",t.default=(0,N.default)(U),e.exports=t.default},6447:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=A(n(5)),l=A(n(3)),s=A(n(9)),u=A(n(224)),d=A(n(512)),f=n(188),c=n(273),p=(A(n(518)),A(n(6151))),h=A(n(927)),y=A(n(545)),m=A(n(164)),v=A(n(13)),E=A(n(14)),_=n(6199),g=A(n(539)),S=n(277),T=A(n(6150)),C=n(225),N=A(n(6197)),b=A(n(540)),O=n(0),I=A(n(5608));function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=(0,c.cssValueToNumber)(I.default.popoutWidth),w=function(e){function t(){var n,o;M(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=R(this,e.call.apply(e,[this].concat(r))),o._animated=new u.default.Value(0),o.componentWillEnter=function(e){u.default.timing(o._animated,{toValue:1,duration:200}).start(e)},R(o,n)}return P(t,e),t.prototype.getPopoutOutputRange=function(){switch(this.props.popoutPosition){case C.Positions.LEFT:case C.Positions.TOP:return["8px","0px"];case C.Positions.BOTTOM:default:return["-8px","0px"]}},t.prototype.getPopoutStyle=function(){var e=this.props.popoutPosition,t=e===C.Positions.RIGHT||e===C.Positions.LEFT?[{translateX:this._animated.interpolate({inputRange:[0,1],outputRange:this.getPopoutOutputRange()})},{translateY:"-50%"}]:[{translateY:this._animated.interpolate({inputRange:[0,1],outputRange:this.getPopoutOutputRange()})},{translateX:"-50%"}];return u.default.accelerate({transform:t,opacity:this._animated.interpolate({inputRange:[0,1],outputRange:[0,1],easing:u.default.Easing.in(u.default.Easing.ease)})})},t.prototype.renderSocial=function(){var e=this.props.socialReason;return null==e?null:a(N.default,{className:I.default.popoutSocialInfo,reason:e})},t.prototype.renderNonSocial=function(){var e=this.props.nonSocialReasons;return 0===e.length?null:e.map(function(e,t){return a(T.default,{reason:e,className:I.default.reason},t)})},t.prototype.renderReleaseDate=function(){var e=this.props.dateReason;return null==e?null:a(T.default,{reason:e,className:I.default.reason})},t.prototype.render=function(){var e,t=this.props.className,n=this.renderSocial();return a(u.default.div,{style:this.getPopoutStyle(),className:(0,s.default)(I.default.popout,(e={},e[I.default.popoutWithoutSocial]=null==n,e),t)},void 0,n,this.renderNonSocial(),this.renderReleaseDate())},t}(r.Component);w.displayName="ApplicationDirectoryTilePopout";var D=function(e){function t(){var n,o;M(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=R(this,e.call.apply(e,[this].concat(r))),o.state={popoutPosition:null},R(o,n)}return P(t,e),t.getDerivedStateFromProps=function(e,t){if(e.showPopout&&null==t.popoutPosition&&null!=e.tileRef.current){var n=e.tileRef.current.getBoundingClientRect(),o=window.innerWidth,a=C.Positions.RIGHT;return n.right+L>o&&(a=n.left-L-310>0?C.Positions.LEFT:window.innerHeight-n.bottom>n.top?C.Positions.BOTTOM:C.Positions.TOP),{popoutPosition:a}}return e.showPopout||null==t.popoutPosition?null:{popoutPosition:null}},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.shouldFetchStatistics,o=t.applicationId,a=t.showPopout,r=t.hasFetchedActivities,i=t.sku,l=t.hasFetchedStoreListing,s=t.isAuthenticated;a&&!e.showPopout&&(s&&(n&&(0,_.fetchStatisticsForApplication)(o),r||g.default.getActivities()),null==i||l||(0,S.fetchStoreListingForSku)(i.id))},t.prototype.render=function(){var e,t=this.props,n=t.className,o=t.socialReason,i=t.nonSocialReasons,l=t.dateReason,u=t.hasFetchedActivities,f=t.hasFetchedStatistics,c=t.hasFetchedStoreListing,p=t.isAuthenticated,h=this.state.popoutPosition,y=c&&(!p||u&&f);return a(d.default,{component:r.Fragment},void 0,null!=h&&y?a(w,{socialReason:o,nonSocialReasons:i,dateReason:l,popoutPosition:h,className:(0,s.default)((e={},e[I.default.popoutWrapperRight]=h===C.Positions.RIGHT,e[I.default.popoutWrapperLeft]=h===C.Positions.LEFT,e[I.default.popoutWrapperTop]=h===C.Positions.TOP,e[I.default.popoutWrapperBottom]=h===C.Positions.BOTTOM,e),n)}):null)},t}(r.Component);D.displayName="ApplicationDirectoryTilePopoutWrapper",t.default=l.default.connectStores([m.default,p.default,y.default,b.default,v.default,h.default,E.default],function(e){var t=e.sku,n=t.applicationId,o=h.default.getForSKU(t.id);return{applicationId:n,hasFetchedActivities:b.default.hasFetchedActivities,shouldFetchStatistics:p.default.shouldFetchStatisticsForApplication(n),hasFetchedStatistics:null!=p.default.getStatisticsForApplication(n),hasFetchedStoreListing:null!=o&&!o.isSlimDirectoryVersion(),socialReason:function(e){var t=(0,f.getNowPlayingReason)(e,v.default,y.default),n=(0,f.getRecentlyPlayedReason)(e,v.default,b.default),o=null!=t?t.userInfo.length:0,a=null!=n?n.userInfo.length:0,r=(0,f.getEverPlayedReason)(e,v.default,p.default),i=null!=r?r.userInfo.length:0;return o>0&&(o>1||a<4)?t:a>0&&(a>1||i<4)?n:r}(n),nonSocialReasons:function(e){var t=(0,f.getNonSocialRecommendationReasons)(e.id,m.default,h.default).filter(function(e){return e.type!==O.StoreRecommendationTypes.RECENT_RELEASE_DATE&&e.type!==O.StoreRecommendationTypes.EARLY_ACCESS}).slice(0,2);if(t.length<2&&null!=e.reviews&&null==t.find(function(e){return e.type===O.StoreRecommendationTypes.METACRITIC_SCORE})){var n=e.reviews.find(function(e){return e.aggregator===O.ReviewAggregators.METACRITIC});null!=n&&t.push({type:O.StoreRecommendationTypes.METACRITIC_SCORE,reviewAggregator:n})}return t}(t),dateReason:function(e){var t=e.releaseDate;return null==t?null:{type:e.accessType===O.SKUAccessTypes.EARLY_ACCESS?O.StoreRecommendationTypes.EARLY_ACCESS:(0,i.default)().diff(t,"months")<f.RECENTLY_RELEASED_MONTHS_THRESHOLD?O.StoreRecommendationTypes.RECENT_RELEASE_DATE:O.StoreRecommendationTypes.RELEASE_DATE,releaseDate:t}}(t),isAuthenticated:E.default.isAuthenticated()}})(D),e.exports=t.default},6448:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(9))),i=n(188),l=m(n(6497)),s=m(n(6496)),u=m(n(6495)),d=m(n(45)),f=m(n(6091)),c=m(n(957)),p=n(6337),h=(m(n(518)),m(n(955)),n(0)),y=m(n(5611));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t,n,o,m=e.sku,v=e.storeListing,E=e.playing,_=e.stationaryExtendedPlay,g=e.muted,S=e.inLibrary,T=e.showMediaPlaceholder,C=e.onToggleMute,N=e.isMouseOver,b=e.className,O=(e.showBuyInline||!m.requiresPayment)&&!S,I=O&&N;return a("div",{className:(0,r.default)(y.default.tileMedia,b)},void 0,a(l.default,{className:y.default.splashContainer,video:null!=v.previewVideo?(0,i.getAssetURL)(m.applicationId,v.previewVideo):null,image:null!=v.thumbnail?(0,i.getAssetURL)(m.applicationId,v.thumbnail,600):null,title:m.name,playing:E,muted:g,placeholder:T,onToggleMute:C}),a("div",{className:y.default.mediaFade}),a("div",{className:(0,r.default)(y.default.description,(t={},t[y.default.descriptionExtendedPlay]=_,t))},void 0,a("h2",{className:y.default.gameTitle},void 0,m.name),a("div",{className:y.default.tagline},void 0,v.tagline),a("div",{className:y.default.priceOSSection},void 0,a(f.default,{type:f.default.Types.DIRECTORY_TILE,sku:m,inLibrary:S,className:I?y.default.tilePriceWithVisibleBuyButton:y.default.tilePrice}),a(p.OperatingSystemSection,{systems:[h.OperatingSystems.WINDOWS],className:y.default.platform,iconClassName:y.default.osIcon}),O?a(c.default,{skuId:m.id,applicationId:m.applicationId,size:d.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:I?y.default.tileBuyButtonVisible:y.default.tileBuyButton}):null)),m.exclusive?a(s.default,{className:(0,r.default)(y.default.exclusiveMedia,(n={},n[y.default.exclusivePlaying]=E,n))}):m.isTheGameAwardsWinner?a(u.default,{className:(0,r.default)(y.default.exclusiveMedia,(o={},o[y.default.exclusivePlaying]=E,o))}):null)};v.displayName="ApplicationTileFullMedia",t.default=v,e.exports=t.default},6449:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i,l,s=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.analyticsLocationForTile=G,t.analyticsListProperties=j;var d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),f=w(n(9)),c=n(226),p=w(n(3)),h=n(56),y=n(538),m=n(116),v=n(188),E=w(n(17)),_=w(n(228)),g=w(n(164)),S=w(n(6339)),T=w(n(22)),C=w(n(927)),N=w(n(46)),b=n(962),O=w(n(6498)),I=w(n(6448)),A=w(n(6447)),M=w(n(946)),R=w(n(6059)),P=n(0),L=w(n(5607));w(n(518)),w(n(955));function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(373);var U=200,k=1e3,F=Object.freeze(((a={})[P.StoreApplicationCategorySelector.PREMIUM]="premium",a[P.StoreApplicationCategorySelector.ALL]="all",a[P.StoreApplicationCategorySelector.DISTRIBUTION]="distribution",a[P.StoreApplicationCategorySelector.EARLY_ACCESS]="early access",a[P.StoreApplicationCategorySelector.SALE]="sale",a)),x=Object.freeze(((r={})[P.StoreApplicationSort.REVERSE_ALPHABETICAL]="z-a",r[P.StoreApplicationSort.ALPHABETICAL]="a-z",r[P.StoreApplicationSort.NEW_RELEASES]="Newest",r[P.StoreApplicationSort.ID]="id",r[P.StoreApplicationSort.FEATURED]=null,r[P.StoreApplicationSort.PREMIUM]=null,r));function G(e,t){return u({},e,{object:P.AnalyticsObjects.CARD,objectType:t===P.StoreDirectoryTileTypes.REGULAR?P.AnalyticsObjectTypes.SMALL:P.AnalyticsObjectTypes.LARGE})}function j(e){var t=e.listIndex,n=e.listSort,o=e.listFilterDistributionType,a=e.listSearched;return{list_index:t,list_sort:x[n],list_filter_distribution_type:F[o],list_searched:a}}var B=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=D(this,e.call.apply(e,[this].concat(r))),o._tileRef=d.createRef(),o.mouseoverTimeout=new h.Timeout,o.extendedPlayTimeout=new h.Timeout,o.isUnmounted=!1,o.state={playing:!1,stationaryExtendedPlay:!1,hasSeen:!1,isMouseOver:!1,showBuyInline:!1},o.handleSetTilePlaying=function(e){var t=e.skuId,n=o.props.sku;o.setState({playing:null!=n&&n.id===t})},o.handleMouseEnter=function(){var e=o.state,t=e.isMouseOver,n=e.playing;t||o.setState({isMouseOver:!0}),n||o.mouseoverTimeout.start(U,function(){if(!o.isUnmounted){var e=o.props,t=e.analyticsContext,n=t.loadId,a=t.location,r=e.sku,i=e.type,l=e.muted,s=null!=r?r.id:null;m.ComponentDispatch.dispatch(P.ComponentActions.STORE_VIDEO_PLAY,{skuId:s,muted:l}),o.setState({playing:!0}),null!=r&&E.default.track(P.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,u({},r.getAnalyticsData(),j(o.props),{watch_trailer:!0,load_id:n,location:G(a,i)}))}})},o.handleMouseLeave=function(){var e=o.state,t=e.isMouseOver,n=e.playing;if(o.mouseoverTimeout.stop(),o.extendedPlayTimeout.stop(),!o.isUnmounted){var a=null;t&&(a={isMouseOver:!1}),n&&(a=u({},a,{stationaryExtendedPlay:!1,playing:!1})),null!=a&&o.setState(a)}},o.handleMouseMove=function(){o.state.stationaryExtendedPlay&&o.setState({stationaryExtendedPlay:!1}),o.extendedPlayTimeout.start(U+k,function(){o.isUnmounted||o.setState({stationaryExtendedPlay:!0})})},o.handleToggleMute=function(){var e=o.props,t=e.sku,n=e.type,a=e.analyticsContext,r=a.loadId,i=a.location;null!=t&&E.default.track(P.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,u({},t.getAnalyticsData(),j(o.props),{audio_enabled:o.props.muted,load_id:r,location:G(i,n)})),o.props.muted?(null!=t&&m.ComponentDispatch.dispatch(P.ComponentActions.STORE_VIDEO_PLAY,{skuId:t.id,muted:!1}),(0,b.unmuteStoreDirectory)()):(0,b.muteStoreDirectory)()},o.handleVisibilityChange=function(e){if(!o.state.hasSeen&&e){o.setState({hasSeen:e});var t=o.props,n=t.onSKUViewed,a=t.sku;null!=n&&null!=a&&n(a)}},o.handleContextMenu=function(e){var t=o.props,n=t.onContextMenu,a=t.sku;null!=a&&null!=n&&n(e,a.applicationId)},D(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.isUnmounted=!0,this.mouseoverTimeout.stop(),this.extendedPlayTimeout.stop(),m.ComponentDispatch.unsubscribe(P.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},t.prototype.componentDidUpdate=function(e,t){var n=this.state.playing;!t.playing&&n&&m.ComponentDispatch.subscribe(P.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying),!n&&t.playing&&m.ComponentDispatch.unsubscribe(P.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},t.prototype.getStoreListingLocation=function(){var e=this.props,t=e.sku,n=e.type,o=e.analyticsContext.location;if(null==t)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,v.getStoreListingLocation)(t.id,{slug:t.slug,analyticsSource:G(o,n),analyticsProperties:j(this.props)})},t.prototype.renderTile=function(){var e=this.props,t=e.type,n=e.sku,o=e.skuId,a=e.storeListing,r=e.muted,i=e.inLibrary,l=e.showBuyInline,s=this.state,u=s.hasSeen,f=s.playing,c=s.stationaryExtendedPlay,p=s.isMouseOver;if(null==n)throw new Error("Should not be rendering ApplicationDirectoryTile without SKU: "+o);if(null==a)throw new Error("Should not be rendering ApplicationDirectoryTile without StoreListing");var h={onToggleMute:this.handleToggleMute,className:L.default.tile,sku:n,storeListing:a,playing:f,stationaryExtendedPlay:c,muted:r,inLibrary:i,showMediaPlaceholder:!u,isMouseOver:p,showBuyInline:l};switch(t){case P.StoreDirectoryTileTypes.MEDIA:return d.createElement(I.default,h);case P.StoreDirectoryTileTypes.REGULAR:default:return d.createElement(O.default,h)}},t.prototype.renderTilePopout=function(){var e=this.props.sku;return null==e?null:s(A.default,{tileRef:this._tileRef,className:L.default.popoutWrapper,sku:e,showPopout:this.state.playing})},t.prototype.render=function(){return s(y.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!this.state.hasSeen},void 0,d.createElement("div",{className:(0,f.default)(L.default.tilePopoutContainer,this.props.className),ref:this._tileRef,onContextMenu:this.handleContextMenu},s(c.Link,{to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,className:L.default.tileWrapper},void 0,this.renderTile()),this.renderTilePopout()))},t}(d.PureComponent);B.defaultProps={type:P.StoreDirectoryTileTypes.REGULAR},B.displayName="ApplicationDirectoryTile";var H=p.default.connectStores([g.default,S.default,N.default,T.default,C.default],function(e){var t=e.skuId,n=g.default.get(t);return{sku:n,inLibrary:null!=n&&N.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?C.default.getForSKU(n.id):null,muted:S.default.isDirectoryMuted}})((0,_.default)(B));t.default=(0,R.default)((0,M.default)(P.Experiments.STORE_DIRECTORY_BUY_INLINE,"Store Directory Buy Inline"),((l={})[P.ExperimentTypes.NONE]=function(e){return d.createElement(H,e)},l[P.ExperimentTypes.USER]=((i={})[P.ExperimentBuckets.CONTROL]=function(e){return d.createElement(H,e)},i[P.ExperimentBuckets.TREATMENT_1]=function(e){return d.createElement(H,u({},e,{showBuyInline:!0}))},i),l))},6450:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(3)),a=r(n(2));n(0);function r(e){return e&&e.__esModule?e:{default:e}}var i={};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){var t=e;null!=t&&Object.keys(t).forEach(function(e){"number"==typeof t[e]&&(i[e]=t[e])})},t.prototype.getState=function(){return i},t.prototype.hasViewed=function(e){return null!=i[e]},t}(o.default.PersistedStore);l.persistKey="ViewHistoryStore",t.default=new l(a.default,{VIEW_HISTORY_MARK_VIEW:function(e){var t=e.key;i[t]=Date.now()}}),e.exports=t.default},6451:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=b(n(3)),d=b(n(2)),f=b(n(229)),c=b(n(41)),p=b(n(13)),h=b(n(6450)),y=b(n(6707)),m=n(6706),v=b(n(6082)),E=b(n(6072)),_=b(n(6079)),g=b(n(6059)),S=b(n(228)),T=b(n(6)),C=n(0),N=b(n(5900));function b(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=O(this,e.call.apply(e,[this].concat(r))),o.handleItemSelect=function(e){var t=o.props,n=t.analyticsContext;e!==t.currentRoute&&c.default.transitionTo(e,{state:{analyticsSource:l({},n.location,{section:C.AnalyticsSections.TABS,object:C.AnalyticsObjects.NAVIGATION_LINK})}})},O(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.shouldShowPremiumBadge&&d.default.wait(function(){return(0,m.markView)(C.ViewHistoryKeys.APPLICATION_LIBRARY_BADGE)})},t.prototype.render=function(){var e=this.props,t=e.shouldShowPremiumTab,n=e.shouldShowPremiumBadge,o=e.hasSeenPremiumApplicationsTab,a=e.renderToolbar,r=e.currentRoute;return i(v.default,{className:N.default.libraryHeader,renderToolbar:a},void 0,i(E.default,{type:E.default.Types.TOP_PILL,selectedItem:r,onItemSelect:this.handleItemSelect},void 0,i(E.default.Item,{id:C.Routes.APPLICATION_LIBRARY},void 0,T.default.Messages.APPLICATION_LIBRARY_MY_GAMES),t?i(E.default.Item,{id:C.Routes.APPLICATION_LIBRARY_PREMIUM},void 0,T.default.Messages.APPLICATION_LIBRARY_PREMIUM_GAMES,n&&!o?i(_.default,{text:T.default.Messages.NEW,className:N.default.tabItemBadge}):null):null,i(E.default.Item,{id:C.Routes.APPLICATION_LIBRARY_INVENTORY},void 0,T.default.Messages.APPLICATION_LIBRARY_INVENTORY)))},t}(s.PureComponent);I.displayName="ApplicationLibraryHeader";var A=u.default.connectStores([y.default,p.default,h.default],function(e){var t=e.shouldShowBadgeForEveryone,n=e.shouldShowBadgeIfUserNotPremium,o=p.default.getCurrentUser();return{shouldShowPremiumBadge:t||n&&f.default.canInstallPremiumApplications(o),hasSeenPremiumApplicationsTab:h.default.hasViewed(C.ViewHistoryKeys.APPLICATION_LIBRARY_PREMIUM)}})((0,S.default)(I));t.default=(0,g.default)(y.default,((a={})[C.ExperimentTypes.NONE]=function(e){return s.createElement(A,e)},a[C.ExperimentTypes.USER]=((o={})[C.ExperimentBuckets.CONTROL]=function(e){return s.createElement(A,e)},o[C.ExperimentBuckets.TREATMENT_1]=function(e){return s.createElement(A,l({},e,{shouldShowPremiumTab:!0}))},o[C.ExperimentBuckets.TREATMENT_2]=function(e){return s.createElement(A,l({},e,{shouldShowPremiumTab:!0,shouldShowBadgeIfUserNotPremium:!0}))},o[C.ExperimentBuckets.TREATMENT_3]=function(e){return s.createElement(A,l({},e,{shouldShowPremiumTab:!0,shouldShowBadgeForEveryone:!0}))},o),a)),e.exports=t.default},6453:function(e,t,n){e.exports=n.p+"3bd0d83cb24ccf918b757ab5c18dc564.svg"},6454:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),u(n(9))),i=u(n(75)),l=u(n(81)),s=u(n(5915));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.className,n=e.imgSrc,o=e.header,u=e.body,d=e.onClose,f=e.renderButtons;return a("article",{className:(0,r.default)(s.default.wrapper,t)},void 0,a("img",{className:s.default.image,alt:"",src:n}),a("header",{className:s.default.header},void 0,o),a("p",{className:s.default.body},void 0,u),null!=f?a("div",{className:s.default.buttons},void 0,f()):null,null!=d?a(l.default,{className:s.default.close,onClick:d},void 0,a(i.default,{name:i.default.Names.CLOSE,width:18,height:18})):null)};d.displayName="BaseCard",t.default=d,e.exports=t.default},6457:function(e,t,n){"use strict";t.__esModule=!0,t.Answer=t.Filter=void 0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),n(5617)),l=(a=i)&&a.__esModule?a:{default:a};function s(e,t){var n=e.children;return r("span",{className:t},void 0,n)}s.displayName="renderToken";t.Filter=function(e){return s(e,l.default.searchFilter)},t.Answer=function(e){return s(e,l.default.searchAnswer)}},6458:function(e,t,n){"use strict";var o;t.__esModule=!0,t.Components=void 0,t.matchColonGroup=p,t.generateDecorators=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).forEach(function(n){var o=e[n];t.push({strategy:function(e,t,o){return p(o,e,t,n)},component:c[o.componentType]})}),t},t.cleanQueryTokens=function(e,t){var n=!1,o=[];if(e.forEach(function(t,a){var r=e[a];o.push(t.getFullMatch()),f.IS_SEARCH_ANSWER_TOKEN.test(t.type)&&(r&&r.type!==u.default.NON_TOKEN_TYPE||!r)&&(n=!0,o.push(" "))}),!n)return t;return(0,r.replaceAllContent)(o.join(""),t)},t.getSelectionScope=function(e,t){var n=t.getSelection(),o=n.focusOffset,a=n.anchorOffset;return(0,l.getSelectionScope)(e,o,a)};var a,r=n(6154),i=n(6067),l=n(6068),s=n(6081),u=(a=s)&&a.__esModule?a:{default:a},d=n(6457),f=n(0);var c=t.Components=((o={})[i.ComponentTypes.FILTER]=d.Filter,o[i.ComponentTypes.ANSWER]=d.Answer,o);function p(e,t,n,o){t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&e.getEntity(n).getType()===o},n)}},6481:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(6742)),l=u(n(5));n(5621);var s=u(n(5620));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.minDate,n=e.maxDate,o=e.onSelect,r=e.locale,l=e.value;return a("div",{className:s.default.calendarPicker},void 0,a(i.default,{fixedHeight:!0,inline:!0,selected:l,locale:r,onSelect:o,maxDate:n,minDate:t}))},t}(r.PureComponent);d.defaultProps={value:(0,l.default)().local()},d.displayName="CalendarPicker",t.default=d,e.exports=t.default},6482:function(e,t,n){"use strict";t.__esModule=!0;var o=v(n(3)),a=v(n(2)),r=n(6068),i=n(6067),l=v(i),s=v(n(62)),u=v(n(6062)),d=v(n(132)),f=v(n(933)),c=v(n(13)),p=v(n(6085)),h=v(n(6166)),y=v(n(6331)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var E={},_={},g=10,S=3;function T(e,t,n,o,a,r){var i=_[e];return null==i&&(i={results:[],context:y.default.getSearchContext(function(e,t){var n=t.results,o=_[e],a=E[e];if(null==o||null==a)return;var r=a.mode,i=r.type,l=r.filter;if(i===m.SearchPopoutModes.EMPTY||i===m.SearchPopoutModes.FILTER&&l!==m.SearchTokenTypes.FILTER_FROM&&l!==m.SearchTokenTypes.FILTER_MENTIONS)return;var s=S;a.mode.type===m.SearchPopoutModes.FILTER&&(s=g);o.results=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;(e=e.reduce(function(e,t){var n=c.default.getUser(t.id);return null==n?e:(e.push({text:n.tag,user:n}),e)},[])).length>t&&(e.length=t);return e}(n,s);var u=a.query,d=a.mode,f=a.tokens,p=a.cursorScope,h=a.autocompletes;h=O(e,d),E[e]=T(e,u,d,f,p,h),R.emitChange()}.bind(null,e))},_[e]=i),{query:t||"",mode:n||{type:m.SearchPopoutModes.EMPTY,filter:null,token:null},tokens:o||[],cursorScope:a||null,autocompletes:r||[]}}function C(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;if(!e)return null;var a=void 0;if(e===m.SearchTokenTypes.FILTER_FROM||e===m.SearchTokenTypes.FILTER_MENTIONS){var r=_[n];null==r?a=null:(null!=t&&0!==t.getFullMatch().trim().length||(r.results=p.default.getRecentlyTalked(n,g).map(function(e){var t=e.user;return{user:t,text:t.tag}})),a=r.results)}else{var i=l.default[e]&&l.default[e].getAutocompletions,s=(null!=t?t.getFullMatch():"").trim();a=i?i(s,n,o):[]}return a&&a.length?{group:e,results:a}:null}function N(e){var t,n=(e?e.getFullMatch():"").trim(),o=((t={})[m.SearchTokenTypes.FILTER_FROM]=!d.default.hidePersonalInformation,t[m.SearchTokenTypes.FILTER_MENTIONS]=!d.default.hidePersonalInformation,t[m.SearchTokenTypes.FILTER_HAS]=!0,t[m.SearchTokenTypes.FILTER_BEFORE]=!0,t[m.SearchTokenTypes.FILTER_AFTER]=!0,t[m.SearchTokenTypes.FILTER_ON]=!0,t[m.SearchTokenTypes.FILTER_IN]=u.default.getSearchType()===m.SearchTypes.GUILD,t),a=(0,i.getFilterAutocompletions)(n).filter(function(e){return o[e.token]});return{group:m.SearchAutocompleteGroups.SEARCH_OPTIONS,results:a}}function b(e,t){var n=[];return(e?e.getFullMatch():"").trim()&&(function(e){var t=u.default.getSearchType(e),n=[m.SearchTokenTypes.FILTER_HAS];return d.default.hidePersonalInformation||(n.push(m.SearchTokenTypes.FILTER_FROM),n.push(m.SearchTokenTypes.FILTER_MENTIONS)),t===m.SearchTypes.GUILD&&n.push(m.SearchTokenTypes.FILTER_IN),n}(t).forEach(function(o){if(o){var a=C(o,e,t,S);a&&n.push(a)}}),n.push(function(e,t){var n=(e?e.getFullMatch():"").trim();if(n){var o=l.default[m.SearchTokenTypes.FILTER_BEFORE].getAutocompletions(n,t,1),a=o[0],r=l.default[m.SearchTokenTypes.FILTER_ON].getAutocompletions(n,t,1),i=r[0],s=l.default[m.SearchTokenTypes.FILTER_AFTER].getAutocompletions(n,t,1),u=s[0];if(!a)return null;var d=[a,i,u];return{group:m.SearchAutocompleteGroups.DATES,results:d}}}(e,t))),(0,r.getTotalResults)(n)<5&&n.push(N(e)),n}function O(e,t){var n=[];return t.type===m.SearchPopoutModes.FILTER?n.push(C(t.filter,t.token,e,g)):t.type===m.SearchPopoutModes.FILTER_ALL?n=b(t.token,e):t.type===m.SearchPopoutModes.EMPTY&&(n.push(N(t.token)),n.push(function(e){if(d.default.hidePersonalInformation)return null;var t=u.default.getHistory(e);return t?{group:m.SearchAutocompleteGroups.HISTORY,results:t.map(function(e){return{text:e}})}:null}(e))),n}function I(){(0,r.clearTokenCache)()}function A(e){var t=E[e];if(t){var n=t.query,o=t.mode,a=t.tokens,r=t.cursorScope,i=t.autocompletes;E[e]=T(e,n,o,a,r,i.map(function(e){return e&&e.group===m.SearchAutocompleteGroups.HISTORY?null:e}))}}function M(){if(f.default.isOpen(m.SEARCH_POPOUT_ID)){var e=u.default.getCurrentSearchId();if(e&&E[e]){var t=E[e],n=t.query,o=t.mode,a=t.tokens,r=t.cursorScope;E[e]=T(e,n,o,a,r,O(e,o))}}}var R=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,d.default,f.default)},t.prototype.getState=function(e){return E[e]||T(e)},t}(o.default.Store))(a.default,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t=e.searchId,n=e.tokens,o=e.cursorScope;if(!f.default.isOpen(m.SEARCH_POPOUT_ID))return!1;var a=(0,r.getQueryFromTokens)(n),i=(0,r.getAutocompleteMode)(o,n),l=E[t]||{},s=_[t],u=!0,d=void 0;if(a!==l.query||l.mode&&l.mode.filter!==i.filter){if(i.type===m.SearchPopoutModes.EMPTY||i.type===m.SearchPopoutModes.FILTER&&i.filter!==m.SearchTokenTypes.FILTER_FROM&&i.filter!==m.SearchTokenTypes.FILTER_MENTIONS)null!=s&&(s.context.clearQuery(),s.results=[]),d=O(t,i);else if(null!=s){var c=i.token;null!=c&&c.getFullMatch().trim().length>0?(h.default.requestMembers(t,c.getFullMatch(),g),s.context.setQuery(c.getFullMatch().trim(),{guild:t}),d=l.autocompletes,u=!1):(s.context.clearQuery(),d=O(t,i))}}else d=l.autocompletes,u=!1;return E[t]=T(t,a,i,n,o,d),u},SEARCH_EDITOR_STATE_CLEAR:function(e){var t=e.searchId,n=_[t];null!=n&&(n.context.destroy(),n.results=[],delete _[t]),delete E[t]},CHANNEL_CREATE:function(e){return I()},CHANNEL_DELETE:function(e){return I()},STREAMER_MODE_UPDATE:function(e){return M()},POPOUT_OPEN:function(e){return M()},SEARCH_MODAL_OPEN:function(e){return M()},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null!=t?A(t):Object.keys(E).forEach(A)},LOGOUT:function(e){Object.keys(E).forEach(A)}});t.default=R,e.exports=t.default},6483:function(e,t,n){"use strict";var o;t.__esModule=!0,t.GroupData=void 0;var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=x(n(1)),s=F(n(54)),u=F(n(3)),d=F(n(66)),f=F(n(18)),c=F(n(187)),p=F(n(65)),h=F(n(62)),y=F(n(28)),m=n(6128),v=n(6094),E=F(n(75)),_=F(n(81)),g=F(n(9)),S=F(n(5)),T=n(116),C=F(n(6482)),N=F(n(6481)),b=F(n(6161)),O=F(n(94)),I=F(n(145)),A=n(6067),M=F(A),R=F(n(7)),P=x(n(6068)),L=F(n(371)),w=F(n(6)),D=n(6081),U=n(0),k=F(n(5618));function F(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var G=/^\s*$/,j=(0,S.default)("2015-05-15").local();var B=function(e,t,n){var o=n.user,a=n.text;if(!o)return i("strong",{},void 0,a);var r=h.default.getNick(e,o.id)||o.username,l=o.avatarURL||o.getAvatarURL();return[i("img",{alt:"",className:k.default.displayAvatar,src:l},"avatar-"+t+"-"+o.id),i("span",{className:k.default.displayedNick},"display-nick-"+t+"-"+o.id,r),i("span",{className:k.default.displayUsername},"display-username-"+t+"-"+o.id,a)]},H=function(e,t,n){var o=n.channel,a=f.default.getChannel(o.parent_id),r=(0,v.getIconNameForChannel)(o);return i("div",{className:k.default.resultChannel},void 0,null!=r?i(E.default,{name:r,className:k.default.searchResultChannelIcon,background:k.default.searchResultChannelIconBackground}):null,i("strong",{},void 0,o.toString()),null!=a?i("span",{className:k.default.searchResultChannelCategory},void 0,a.toString()):null)};H.displayName="renderChannel";var V=function(e){var t,n=e.searchId,o=e.result,a=e.group,r=e.selected,l=e.className,s=e.onSelect,u=e.onFocus,d=e.showFilter,f=e.renderResult,c=void 0;d&&(c=i("span",{className:k.default.filter},void 0,M.default[a].key||"addme:"));var p=void 0;return p=f?f(n,a,o):i("strong",{},void 0,o.text),i(_.default,{className:(0,g.default)(k.default.option,l,(t={},t[k.default.selected]=r,t)),onClick:s,onMouseOver:u,onFocus:u},void 0,c,p,i(E.default,{name:E.default.Names.PLUS_ALT,className:k.default.plusIcon}))};V.displayName="ResultComponent";var Y=function(e){return l.createElement(V,r({},e,{className:k.default.user,renderResult:B}))};Y.displayName="UserResultComponent";var W=function(e){return l.createElement(V,r({},e,{renderResult:H}))};W.displayName="ChannelResultComponent";var z=t.GroupData=((o={})[U.SearchTokenTypes.FILTER_FROM]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_FROM},component:Y},o[U.SearchTokenTypes.FILTER_MENTIONS]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_MENTIONS},component:Y},o[U.SearchTokenTypes.FILTER_HAS]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_HAS}},o[U.SearchTokenTypes.FILTER_FILE_TYPE]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_FILE_TYPE}},o[U.SearchTokenTypes.FILTER_IN]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_CHANNELS},component:W},o[U.SearchAutocompleteGroups.DATES]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_DATES}},o[U.SearchAutocompleteGroups.HISTORY]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_HISTORY},groupTip:function(e){var t=e.searchId;return i(O.default,{text:w.default.Messages.SEARCH_CLEAR_HISTORY,position:O.default.Positions.LEFT},void 0,i(_.default,{onClick:function(){return(0,m.clearHistory)(t)},className:k.default.searchClearHistory,title:w.default.Messages.SEARCH_CLEAR_HISTORY},void 0,i(E.default,{name:E.default.Names.CLEAR_HISTORY})))},component:(0,s.default)({displayName:"component",mixins:[u.default.LazyStoreListenerMixin(f.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{tokens:P.tokenizeQuery(this.props.result.text).map(function(e,t,n){return P.filterHasAnswer(e,n[t+1])?e:new D.Token(e.getFullMatch(),D.NON_TOKEN_TYPE)})}},render:function(){var e,t=this.props,n=t.selected,o=t.onSelect,a=t.onFocus,r=this.state.tokens.map(function(e,t){var n,o=e.getFullMatch();if(G.test(o))return null;var a=U.IS_SEARCH_FILTER_TOKEN.test(e.type),r=U.IS_SEARCH_ANSWER_TOKEN.test(e.type),l=!a&&!r;return i("span",{className:(0,g.default)((n={},n[k.default.filter]=a,n[k.default.answer]=r,n[k.default.nonText]=l,n))},t,o)});return i(_.default,{className:(0,g.default)(k.default.option,k.default.history,(e={},e[k.default.selected]=n,e)),onClick:o,onMouseOver:a,onFocus:a},void 0,r,i(E.default,{name:E.default.Names.PLUS_ALT,className:k.default.plusIcon}))}})},o[U.SearchAutocompleteGroups.SEARCH_OPTIONS]={titleText:function(){return w.default.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS},groupTip:function(){return i(O.default,{text:w.default.Messages.LEARN_MORE,position:O.default.Positions.LEFT},void 0,i("div",{className:k.default.searchLearnMore},void 0,i(I.default,{href:L.default.getArticleURL(U.HelpdeskArticles.USING_SEARCH),title:w.default.Messages.LEARN_MORE},void 0,i(E.default,{name:E.default.Names.LEARN_MORE}))))},component:function(e){var t,n,o=e.result,a=e.selected,r=e.onSelect,l=e.onFocus,s=P.getSearchOptionAnswer(o.token);return i(_.default,{className:(0,g.default)(k.default.option,k.default.searchOption,(t={},t[k.default.selected]=a,t)),onClick:r,onMouseOver:l,onFocus:l},void 0,i("span",{className:k.default.filter},void 0,o.text),i("span",{className:(0,g.default)((n={},n[k.default.answer]=s,n))},void 0,s),i(E.default,{name:E.default.Names.PLUS_ALT,className:k.default.plusIcon}))}},o),K=(0,s.default)({displayName:"SearchPopout",mixins:[d.default,u.default.LazyStoreListenerMixin(c.default,p.default,C.default,y.default)],getInitialState:function(){return r({dateHint:(0,A.getRandomDateShortcut)()},this.getStateFromStores())},getStateFromStores:function(){var e=c.default.getGuildId(),t=p.default.getChannelId(),n=e||t;if(null==n)throw new Error("SearchPopout.getStateFromStores - invalid searchId");var o=C.default.getState(n),a=this.state?this.state.selectedIndex:-1,i=P.getTotalResults(o.autocompletes);return r({locale:y.default.locale,searchId:n,selectedIndex:a,totalResults:i},o)},componentDidUpdate:function(e,t){var n=this.state,o=n.mode,a=n.totalResults;o.filter&&!t.mode.filter&&a?this.setState({selectedIndex:0}):o.type===U.SearchPopoutModes.FILTER_ALL&&t.mode.type!==o.type?this.setState({selectedIndex:-1}):this.keepCurrentOptionSelected(t)},handleDateChange:function(e){this.setSearchQuery(e.format(U.SEARCH_DATE_FORMAT)+" ",!0)},keepCurrentOptionSelected:function(e){var t=this.state,n=t.mode,o=t.selectedIndex,a=t.autocompletes,r=t.totalResults;if(this.state.mode.type!==e.mode.type)this.setState({selectedIndex:-1});else if(e.selectedIndex>=0&&(e.selectedIndex===o||e.autocompletes.length!==a.length)){var i=P.getFlattenedStringArray(e.autocompletes,e.mode.type)[e.selectedIndex-1],l=P.getFlattenedStringArray(a,n.type).indexOf(i);-1!==l?this.setState({selectedIndex:l}):e.selectedIndex>=r&&this.setState({selectedIndex:r-1})}},focusNextOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;P.showDatePicker(n&&n.filter)||(t+=1,this.focusOption(t))},focusPreviousOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;P.showDatePicker(n.filter)||(t-=1,this.focusOption(t))},focusOption:function(e){var t=this.state.autocompletes,n=this.shouldShowSearchQuery();e<-1||!n&&e<0?e=P.getTotalResults(t)-1:n&&e>=P.getTotalResults(t)?e=-1:!n&&e>=P.getTotalResults(t)&&(e=0),this.setState({selectedIndex:e})},selectOption:function(e){if(null==e&&(e=this.state.selectedIndex),e<0)return!1;var t=this.state,n=t.autocompletes,o=t.mode;if(!P.showDatePicker(o.filter)){var a=P.getFlattenedStringArray(n,o.type);if(e>=a.length)return!1;var r=a[e],i=function(e){var t=!0;return e=e.trim(),(0,R.default)(M.default).forOwn(function(n){n.key&&e===n.key&&(t=!1)}),t}(r);return this.setSearchQuery(r,i),!0}},setSearchQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,o=n.mode,a=n.cursorScope,r=0;o.token?r=o.token.start:a&&a.currentToken&&(r=a.currentToken.end);var i=o.token?o.token.end:r;T.ComponentDispatch.dispatch(U.ComponentActions.SET_SEARCH_QUERY,{query:e,anchor:r,focus:i,performSearch:t}),this.setState({selectedIndex:-1})},shouldShowSearchQuery:function(){var e=this.state.mode;return e.type!==U.SearchPopoutModes.FILTER&&e.type!==U.SearchPopoutModes.EMPTY&&!P.showDatePicker(e.filter)},renderDatePicker:function(){return i("div",{className:k.default.datePicker},void 0,i(N.default,{locale:this.state.locale,onSelect:this.handleDateChange,maxDate:(0,S.default)().local(),minDate:j}),i("div",{className:k.default.datePickerHint},void 0,i("span",{className:k.default.hint},void 0,w.default.Messages.SEARCH_DATE_PICKER_HINT," "),i(_.default,{tag:"span",className:k.default.hintValue,onClick:this.handleHintClick},void 0,this.state.dateHint)))},handleHintClick:function(){this.setSearchQuery(this.state.dateHint,!0)},performSearch:function(){T.ComponentDispatch.dispatch(U.ComponentActions.PERFORM_SEARCH)},renderAutocompletes:function(){var e=this,t=this.state,n=t.autocompletes,o=t.selectedIndex,a=t.mode,r=t.searchId;if(P.showDatePicker(a.filter))return this.renderDatePicker();var l=-1;return n.map(function(t){if(!t||!t.results.length)return null;var n=z[t.group]||{},s=void 0;n.titleText&&(s=i("div",{className:k.default.header},void 0,n.titleText()));var u=n.groupTip||null;u&&(u=i(u,{searchId:r}));var d=n.component||V,f=a.type===U.SearchPopoutModes.FILTER_ALL||!1;return i("div",{className:k.default.resultsGroup},t.group,s,u,t.results.map(function(n){return n&&t?(l+=1,i(d,{searchId:r,group:n.group||t.group,result:n,showFilter:f,selected:o===l,onSelect:e.selectOption.bind(null,l),onFocus:e.focusOption.bind(null,l)},t.group+"-"+n.text+"-"+(n.key||""))):null}))})},render:function(){var e=this,t=this.state,n=t.query,o=t.selectedIndex,a=t.totalResults;return i(b.default,{numResults:a,query:n,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:o,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:function(){return e.focusOption(-1)},onSelectQuery:this.performSearch,renderNoResults:function(){return null}})}});t.default=K},6484:function(e,t,n){"use strict";t.__esModule=!0,t.analyze=f,t.shouldHighlight=c,t.highlightAST=p,t.createASTHighlighter=function(e){var t=new Set(f(e));return function(e){return p(e,t)}};var o=r(n(6744)),a=r(n(7));function r(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function l(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function s(e){return e.toLowerCase()}function u(e){return i.has(e)}function d(e){return 0===e.length}function f(e){return(0,a.default)(e.split(/\W+/)).map(l).reject(d).map(s).reject(u).map(o.default).value()}function c(e,t){return!d(e=s(l(e)))&&!u(e)&&t.has((0,o.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach(function(e){return p(e,t)});else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],o="";e.content.split(/(\W+)/g).forEach(function(e){c(e,t)?(o.length>0&&n.push({type:"text",content:o}),n.push({type:"highlight",content:e}),o=""):o+=e}),n.length>0&&(o.length>0&&n.push({type:"text",content:o}),"text"===e.type?e.content=n:e.content=[{type:"text",content:n}])}else null!=e.content&&p(e.content,t);return e}},6485:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(59)),a=r(n(384));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.create=function(e,n){var o=e.hit,r=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["hit"]),i=a.default.create(r,function(e){return o?n(e):e});return new t({hit:o,message:i})},t.prototype.initialize=function(e){this.message=e.message,this.hit=e.hit||!1},t}(o.default);t.default=i,e.exports=t.default},6486:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(12)),a=i(n(150)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isCanceled=!1,this.searchId=t,this.searchType=n,this.query=o}return e.prototype.fetch=function(e,t,n){var i=this;if(!this.isCanceled){var l=this.searchType===r.SearchTypes.GUILD?r.Endpoints.SEARCH_GUILD:r.Endpoints.SEARCH_CHANNEL;this.searchId&&o.default.get({url:l(this.searchId),query:a.default.stringify(this.query)}).then(function(o){i.isCanceled||(200===o.status?e(o):202===o.status&&(i.query.attempts=(i.query.attempts||0)+1,i.retryDelay=o.body.retry_after||5e3,i.retryLater(e,t,n),t(o)))}).catch(function(e){console.error(e),n(e)})}},e.prototype.cancel=function(){this.isCanceled=!0,null!=this.indexingPollId&&clearTimeout(this.indexingPollId)},e.prototype.retryLater=function(e,t,n){null!=this.indexingPollId&&clearTimeout(this.indexingPollId),this.indexingPollId=setTimeout(this.fetch.bind(this,e,t,n),this.retryDelay)},e}();t.default=l,e.exports=t.default},6487:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=k(n(1)),i=U(n(9)),l=U(n(3)),s=U(n(6)),u=U(n(6129)),d=U(n(119)),f=U(n(187)),c=U(n(235)),p=U(n(65)),h=U(n(6062)),y=U(n(933)),m=U(n(18)),v=U(n(6332)),E=U(n(225)),_=U(n(81)),g=n(6092),S=U(n(6483)),T=n(6206),C=k(n(6128)),N=U(n(189)),b=n(0),O=k(n(6154)),I=k(n(6068)),A=k(n(6458)),M=n(116),R=U(n(190)),P=U(n(6081)),L=U(n(6067)),w=U(n(6201));n(5616);var D=U(n(5615));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var F=512,x=(0,w.default)(C.search,500),G=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={focused:!1},o.handleSetSearchQuery=function(e){var t=e.query,n=e.anchor,a=e.focus,r=e.performSearch,i=e.replace,l=o.props.editorState,s=O.getFirstTextBlock(l);" "!==t.charAt(t.length-1)&&(t+=" "),n&&" "!==s.charAt(n-1)&&" "!==t.charAt(0)&&(t=" "+t),i?(l=O.replaceAllContent(t,l),n=0):l=O.updateContent(t,l,n,a),l=O.truncateContent(l,F),l=o.tokenize(l);var u=n+t.length;l=O.setCollapsedSelection(u,l),o.setEditorState(l),r&&o.search(O.getFirstTextBlock(l))},o.renderPopout=function(){return r.createElement(S.default,{ref:o.setSearchPopoutRef})},o.search=function(e){var t=o.props,n=t.searchId,a=t.isSearching;if(!e){var r=o.props.editorState;e=O.getFirstTextBlock(r)}if(n&&!a){for(var i=I.tokenizeQuery(e),l=I.getSearchQueryFromTokens(i),s=0;s<i.length;s++)I.filterHasAnswer(i[s],i[s+1])||(e=e.substring(0,i[s].start)+e.substring(i[s].end));if(!i.length||0===Object.keys(l).length)return!1;x(n,l,e),o.onBlur()}return!0},o.handleClearSearch=function(e){e.preventDefault(),e.stopPropagation(),o.clearSearch()},o.handleFocusSearch=function(e){if(e.prefillCurrentChannel&&O.isEmpty(o.props.editorState)){var t=p.default.getChannelId(),n=m.default.getChannel(t);if(null==n||n.isPrivate())o.focusEditor();else{var a=d.default.getTextChannelNameDisambiguations(n.getGuildId())[n.id],r=null!=a?a.name:n.name;o.handleSetSearchQuery({query:L.default[b.SearchTokenTypes.FILTER_IN].key+"#"+r+" ",replace:!0})}}else o.focusEditor()},o.focusEditor=function(){o._editorRef&&o._editorRef.focus()},o.blurEditor=function(){o._editorRef&&o._editorRef.blur()},o.setEditorRef=function(e){o._editorRef=e},o.setPopoutRef=function(e){o._popoutRef=e},o.setSearchPopoutRef=function(e){o._searchPopoutRef=e},o.onFocus=function(){var e=o.props.searchType;R.default.trackWithMetadata(b.AnalyticEvents.SEARCH_OPENED,{search_type:e}),o.setState({focused:!0})},o.onBlur=function(){o.setState({focused:!1},function(){N.default.close(b.SEARCH_POPOUT_ID),O.isEmpty(o.props.editorState)&&o.clearSearch()})},o.onDownArrow=function(e){return e.preventDefault(),o._searchPopoutRef&&o._searchPopoutRef.focusNextOption(),!0},o.onUpArrow=function(e){return e.preventDefault(),o._searchPopoutRef&&o._searchPopoutRef.focusPreviousOption(),!0},o.onTab=function(e){if(!b.EnableAccessibility)return e.preventDefault(),o._searchPopoutRef&&o._searchPopoutRef.selectOption(),!0},o.handleReturn=function(e){e.preventDefault();var t=!1;return o._searchPopoutRef&&(t=o._searchPopoutRef.selectOption()),t||o.search(),!0},o.onEscape=function(e){return e.preventDefault(),e.stopPropagation(),o.blurEditor(),!0},o.handleBeforeInput=function(e){var t=o.props.editorState,n=o.state.focused;return O.getFirstTextBlock(t).length>=F||(t=O.updateContent(e,t),t=O.truncateContent(t,F),t=o.tokenize(t),o.setEditorState(t),n||o.setState({focused:!0}),!0)},o.handleKeyCommand=function(e){var t=o.props.editorState,n=o.state.focused;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":return t=O.deleteContent(e,t),t=o.tokenize(t),o.setEditorState(t),n||o.setState({focused:!0}),!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":return t=O.miscCommand(e,t),t=o.tokenize(t),o.setEditorState(t),!0;case"split-block":case"underline":case"bold":case"italic":return!0}},o.handlePastedText=function(e){var t=o.props.editorState,n=o.state.focused;return e=null!=e?e.replace(/\n/g,""):"",t=O.updateContent(e,t),t=O.truncateContent(t,F),t=o.tokenize(t),n||o.setState({focused:!0}),o.setEditorState(t),!0},o.setEditorState=function(e){var t=o.props.searchId;C.setSearchState(t,e)},o.handleKeyBind=function(e){var t=e.key,n=e.metaKey,a=e.shiftKey,r=o.props.editorState;return e.stopPropagation(),"Home"===t||"ArrowLeft"===t&&n?(e.preventDefault(),r=a?O.setToStartSelection(r):O.setCollapsedStartSelection(r),o.setEditorState(r),!0):"End"===t||"ArrowRight"===t&&n?(e.preventDefault(),r=a?O.setToEndSelection(r):O.setCollapsedEndSelection(r),o.setEditorState(r),!0):O.getDefaultKeyBinding(e)},I.clearTokenCache(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){M.ComponentDispatch.subscribe(b.ComponentActions.PERFORM_SEARCH,this.search),M.ComponentDispatch.subscribe(b.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),M.ComponentDispatch.subscribe(b.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editorState,o=t.searchId;if(this.state.focused&&this.ensurePopoutIsOpen(),n!==e.editorState){var a=I.tokenizeQuery(O.getFirstTextBlock(n)),r=A.getSelectionScope(a,n);C.updateAutocompleteQuery(o,a,r),this._editorRef&&O.scrollCursorIntoView(this._editorRef.refs.editor)}},t.prototype.componentWillUnmount=function(){M.ComponentDispatch.unsubscribe(b.ComponentActions.PERFORM_SEARCH,this.search),M.ComponentDispatch.unsubscribe(b.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),M.ComponentDispatch.unsubscribe(b.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.tokenize=function(e){var t=I.tokenizeQuery(O.getFirstTextBlock(e)).filter(function(e){return e.type!==P.default.NON_TOKEN_TYPE});return O.applyTokensAsEntities(t,e,L.default)},t.prototype.clearSearch=function(){var e=this.props.searchId;e&&C.clearSearchState(e)},t.prototype.ensurePopoutIsOpen=function(){this._popoutRef&&!y.default.isOpen(b.SEARCH_POPOUT_ID)&&this._popoutRef.open()},t.prototype.handlePastedFiles=function(){return!0},t.prototype.handleDroppedFiles=function(){return!0},t.prototype.handleDrop=function(){return!0},t.prototype.renderInput=function(){var e=this.props.editorState;return r.createElement(T.Editor,{ref:this.setEditorRef,onDownArrow:this.onDownArrow,onUpArrow:this.onUpArrow,onTab:this.onTab,onEscape:this.onEscape,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:s.default.Messages.SEARCH,editorState:e,onChange:this.setEditorState})},t.prototype.render=function(){var e,t,n=this.props,o=n.searchId,l=n.editorState,s=n.hasResults,u=n.theme,d=n.className,f=n.isLurking,c=this.state.focused,p=!!O.getFirstTextBlock(l).length;return!o||f?null:r.createElement(E.default,{offsetX:-12,ref:this.setPopoutRef,uniqueId:b.SEARCH_POPOUT_ID,render:this.renderPopout,position:E.default.Positions.BOTTOM,toggleClose:!1,animationType:E.default.Animations.NONE,preventInvert:!0},a("div",{className:(0,i.default)(d,{"theme-dark":u===b.ThemeTypes.DARK})},void 0,a(_.default,{className:(0,i.default)(D.default.search,(e={},e[D.default.open]=p,e[D.default.focused]=c,e)),onClick:this.focusEditor},void 0,a("div",{className:(0,i.default)(D.default.searchBar,(t={},t[D.default.searchBarLight]=u===b.ThemeTypes.LIGHT,t))},o,this.renderInput(),a(g.SearchBarIcon,{handleClear:this.handleClearSearch,hasContent:p||s,className:D.default.icon})))))},t}(r.PureComponent);G.displayName="Search",t.default=l.default.connectStores([h.default,u.default,v.default,f.default,c.default],function(){var e=h.default.getCurrentSearchId(),t=h.default.getSearchType(),n=!!e&&h.default.isSearching(e),o=e&&h.default.getEditorState(e)||O.createEmptyEditorState(A.generateDecorators(L.default)),a=f.default.getGuildId();return{searchId:e,searchType:t,isSearching:n,editorState:o,hasResults:h.default.hasResults(e),theme:v.default.theme,isLurking:null!=a&&c.default.isLurking(a)}})(G),e.exports=t.default},6488:function(e,t,n){e.exports=n.p+"308e587f3a68412f137f7317206e92c2.svg"},6489:function(e,t,n){e.exports=n.p+"9b0d90147f7fab54f00dd193fe7f85cd.svg"},6490:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),a=s(n(2)),r=s(n(149)),i=s(n(14)),l=s(n(61));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=10,d=15552e6,f=!1;var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,i.default)},t.prototype.isEligible=function(){return f},t}(o.default.Store);t.default=new c(a.default,{CONNECTION_OPEN:function(e){return f!==(f=l.default.getFriendIDs().length>=u&&r.default.extractTimestamp(i.default.getId())<Date.now()-d)}}),e.exports=t.default},6491:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),a=d(n(2)),r=d(n(24)),i=d(n(165)),l=d(n(6054)),s=d(n(13)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f="surveys",c={},p=[{id:u.Experiments.SURVEY_NITRO,url:function(){var e=s.default.getCurrentUser();return"https://www.surveymonkey.com/r/8MZCZGJ?user_id="+(null!=e?e.id:"")},noticeContent:"Help improve Nitro! Take a short survey and let us know your thoughts.",noticeButton:"Take Survey",title:"Nitro Survey",description:"Ask users their thoughts on nitro n stuff",validateDescriptor:function(){var e=s.default.getNullableCurrentUser();return null!=e&&e.premiumType===u.PremiumTypes.TIER_2}}];function h(){Object.keys(c).length>0?r.default.set(f,c):r.default.remove(f)}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([i.default],function(){return!0});var e=r.default.get(f)||{},t=new Set(p.map(function(e){return e.id}));p.forEach(function(n){var o=n.id;e[o]&&t.has(o)&&(c[o]=!0)}),h(),a.default.wait(function(){return l.default.registerSurveys(p)})},t.prototype.getCurrentSurvey=function(){return p.find(function(e){var t=e.id,n=e.validateDescriptor;if(c[t])return!1;var o=i.default.getEligibleExperiment(t);return null!=o&&(null==n||n(o,e))})},t}(o.default.Store);t.default=new y(a.default,{SURVEY_HIDE:function(e){var t=e.id;c[t]=!0,h()},LOGOUT:function(e){return c={},void r.default.remove(f)}}),e.exports=t.default},6504:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),a=n(0),r=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}t.default={setGuildFilter:function(e){var t=e.guildFilter,n=e.roleFilter,r=e.everyoneFilter;o.default.dispatch({type:a.ActionTypes.SET_RECENT_MENTIONS_FILTER,guildFilter:t,roleFilter:n,everyoneFilter:r})},truncateMentions:function(e){o.default.dirtyDispatch({type:a.ActionTypes.TRUNCATE_MENTIONS,size:e})},fetchRecentMentions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.MAX_MENTIONS_PER_FETCH,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];o.default.dirtyDispatch({type:a.ActionTypes.LOAD_RECENT_MENTIONS,guildId:n}),r.default.get({url:a.Endpoints.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:i,everyone:l},retries:2}).then(function(t){var n=t.body;o.default.dispatch({type:a.ActionTypes.LOAD_RECENT_MENTIONS_SUCCESS,messages:n,isAfter:null!=e,hasMoreAfter:n.length>=a.MAX_MENTIONS_PER_FETCH})},function(){o.default.dispatch({type:a.ActionTypes.LOAD_RECENT_MENTIONS_FAILURE})})},deleteRecentMention:function(e){r.default.delete({url:a.Endpoints.MENTIONS_MESSAGE_ID(e),retries:2}),o.default.dispatch({type:a.ActionTypes.RECENT_MENTION_DELETE,id:e})}},e.exports=t.default},6505:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=E(n(7)),i=E(n(3)),l=E(n(2)),s=n(0),u=E(n(384)),d=E(n(18)),f=E(n(274)),c=E(n(14)),p=E(n(13)),h=E(n(187)),y=E(n(28)),m=E(n(61)),v=E(n(24));function E(e){return e&&e.__esModule?e:{default:e}}var _="recentMentionFilterSettings",g=[],S={},T=!1,C=!0,N=v.default.get(_,{guildFilter:s.RecentMentionsFilters.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),b=!1,O=!1;function I(e){if(e instanceof u.default)return e;var t=f.default.getMessage(e.channel_id,e.id);return null!=t?t:u.default.create(e)}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.type!==s.MessageTypes.DEFAULT)return null;t||(t=e.channel_id);var n=d.default.getChannel(t);if(!n||n&&n.type===s.ChannelTypes.DM)return null;if(N.guildFilter===s.RecentMentionsFilters.THIS_SERVER&&n.getGuildId()!==h.default.getGuildId())return null;var o=e.author.id,a=c.default.getId();return m.default.isBlocked(o)||o===a?null:(e=I(e)).isMentioned(a,!N.everyoneFilter,!N.roleFilter)?e:null}function M(e){null!=S[e]&&(delete S[e],g=r.default.filter(g,function(t){return t.id!==e}))}function R(e){M(e.id)}function P(e){var t=a({},N);N=r.default.defaults(r.default.pick(e,["guildFilter","roleFilter","everyoneFilter"]),N),v.default.set(_,N);var n=function(e,n){return t[e]!==N[e]&&N[e]===n},o=n("guildFilter",s.RecentMentionsFilters.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);S={};var i=[];o&&g.forEach(function(e){var t=A(e);t&&(i.push(t),S[t.id]=!0)}),0===(g=i).length&&(b=!1)}function L(){r.default.forEach(g,function(e){e.timestamp.locale(y.default.locale)})}function w(){g=g.filter(function(e){return!m.default.isBlocked(e.author.id)})}var D=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default,d.default,f.default)},t.prototype.isOpen=function(){return O},t.prototype.getMentions=function(){return b||g.length?g:null},o(t,[{key:"hasLoadedEver",get:function(){return b}},{key:"loading",get:function(){return T}},{key:"hasMore",get:function(){return C}},{key:"guildFilter",get:function(){return N.guildFilter}},{key:"everyoneFilter",get:function(){return N.everyoneFilter}},{key:"roleFilter",get:function(){return N.roleFilter}}]),t}(i.default.Store);t.default=new D(l.default,{LOAD_RECENT_MENTIONS:function(e){var t=e.guildId;T=!0,null==t&&N.guildFilter===s.RecentMentionsFilters.THIS_SERVER&&P({guildFilter:s.RecentMentionsFilters.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){var t=e.hasMoreAfter,n=e.messages,o=e.isAfter,a=r.default.map(n,I);o?g=g.concat(a):(g=a,S={}),r.default.forEach(a,function(e){S[e.id]=!0}),T=!1,C=t,b=!0},LOAD_RECENT_MENTIONS_FAILURE:function(e){T=!1},SET_RECENT_MENTIONS_FILTER:P,TRUNCATE_MENTIONS:function(e){for(var t=e.size,n=t;n<g.length;++n)delete S[g[n].id];g=g.slice(0,t),C=!0},GUILD_SELECT:function(e){N.guildFilter===s.RecentMentionsFilters.THIS_SERVER&&(b=!1)},CONNECTION_OPEN:function(e){return g=[],S={},void(b=!1)},GUILD_DELETE:function(e){var t=e.guild;g=r.default.filter(g,function(e){var n=d.default.getChannel(e.channel_id);return!(!n||n.getGuildId()===t.id)||(delete S[e.id],!1)})},MESSAGE_CREATE:function(e){var t=e.channelId,n=A(e.message,t);if(!n)return!1;(g=g.slice()).unshift(n),S[n.id]=!0},MESSAGE_UPDATE:function(e){var t=e.message.id;if(null!=S[t]){var n=r.default.findIndex(g,function(e){return e.id===t}),o=(g=g.slice())[n];g[n]=o.updateMessage(e.message)}},MESSAGE_DELETE:R,RECENT_MENTION_DELETE:R,MESSAGE_DELETE_BULK:function(e){var t=e.ids;r.default.forEach(t,M)},USER_SETTINGS_UPDATE:function(e){return L()},I18N_LOAD_SUCCESS:function(e){return L()},CHANNEL_DELETE:function(e){var t=e.channel;g=r.default.filter(g,function(e){return e.channel_id!==t.id||(delete S[e.id],!1)})},RELATIONSHIP_ADD:function(e){return w()},RELATIONSHIP_REMOVE:function(e){return w()},MENTION_MODAL_OPEN:function(e){O=!0},MENTION_MODAL_CLOSE:function(e){O=!1}}),e.exports=t.default},6506:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=O(n(60)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=O(n(54)),u=O(n(9)),d=O(n(66)),f=O(n(3)),c=O(n(6505)),p=O(n(6504)),h=O(n(6)),y=O(n(6345)),m=n(0),v=n(6072),E=O(v),_=O(n(191)),g=O(n(193)),S=O(n(225)),T=O(n(275)),C=O(n(28)),N=O(n(198)),b=O(n(5622));function O(e){return e&&e.__esModule?e:{default:e}}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.guildFilter,o=t.roleFilter,a=t.everyoneFilter,r=t.messageId,i=void 0===r?null:r;n=void 0===n?c.default.guildFilter:n,o=void 0===o?c.default.roleFilter:o,a=void 0===a?c.default.everyoneFilter:a;var l=null;e&&(l=n===m.RecentMentionsFilters.ALL_SERVERS?null:e.getGuildId()),p.default.fetchRecentMentions(i,m.MAX_MENTIONS_PER_FETCH,l,o,a)}var A=(0,s.default)({displayName:"FilterPopout",propTypes:{channel:i.default.instanceOf(T.default)},mixins:[f.default.StoreListenerMixin(c.default),d.default],getStateFromStores:function(){return{everyoneFilter:c.default.everyoneFilter,roleFilter:c.default.roleFilter}},toggleRoleFilter:function(){var e=!this.state.roleFilter;p.default.setGuildFilter({roleFilter:e}),I(this.props.channel,{roleFilter:e})},toggleEveryoneFilter:function(){var e=!this.state.everyoneFilter;p.default.setGuildFilter({everyoneFilter:e}),I(this.props.channel,{everyoneFilter:e})},render:function(){return l.createElement("div",this.props,r("div",{className:(0,u.default)(N.default.contextMenu,"theme-"+C.default.theme,b.default.recentMentionsFilterPopout)},void 0,r(_.default,{},void 0,r(g.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:this.toggleEveryoneFilter,active:this.state.everyoneFilter},"Everyone"),r(g.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_ROLES,action:this.toggleRoleFilter,active:this.state.roleFilter},"Roles"))))}}),M=(0,s.default)({displayName:"RecentMentions",mixins:[f.default.StoreListenerMixin(c.default,C.default),d.default],setGuildFilter:function(e){p.default.setGuildFilter({guildFilter:e}),I(this.props.channel,{guildFilter:e})},getStateFromStores:function(){return{theme:C.default.theme,messages:c.default.getMentions(),hasMore:c.default.hasMore,loading:c.default.loading,guildFilter:c.default.guildFilter,roleFilter:c.default.roleFilter,everyoneFilter:c.default.everyoneFilter}},loadMore:function(){var e=this.state.messages,t=e&&e.length>0?e[e.length-1].id:null;I(this.props.channel,{messageId:t})},renderEmptyState:function(e){var t=h.default.Messages.NO_RECENT_MENTIONS,o=e===m.ThemeTypes.LIGHT?n(6489):n(6488);return r(y.default.EmptyStateBottom,{msg:t,image:o})},getProTip:function(){return h.default.Messages.RECENT_MENTIONS_PRO_TIP},renderDisplayPopout:function(e){return l.createElement(A,a({},e,{channel:this.props.channel}))},fetchOnMount:function(e){c.default.hasLoadedEver||I(e)},componentWillUnmount:function(){this.state.messages&&this.state.messages.length>m.MAX_MENTIONS_PER_FETCH&&p.default.truncateMentions(m.MAX_MENTIONS_PER_FETCH)},onCloseMessage:function(e){p.default.deleteRecentMention(e.id)},render:function(){var e=this.state,t=e.messages,n=e.loading,o=e.hasMore;return r(y.default,{className:b.default.recentMentionsPopout,onFetch:this.fetchOnMount,onJump:this.props.onJump,onCloseMessage:this.onCloseMessage,channel:this.props.channel,messages:t,loading:n,hasMore:o,analyticsName:"Recent Mentions",loadMore:this.loadMore,showGuildNames:this.state.guildFilter===m.RecentMentionsFilters.ALL_SERVERS,showChannels:!0,getProTip:this.getProTip,canCloseAllMessages:!0,renderMentioned:!1,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})},renderHeader:function(){var e=this.state.theme,t=h.default.Messages.RECENT_MENTIONS_FILTER_EXPLAIN_EVERYTHING;this.state.everyoneFilter||this.state.roleFilter?this.state.everyoneFilter?this.state.roleFilter||(t=h.default.Messages.RECENT_MENTIONS_EVERYONE_AND_DIRECT):t=h.default.Messages.RECENT_MENTIONS_ROLES_AND_DIRECT:t=h.default.Messages.RECENT_MENTIONS_DIRECT_ONLY;var n=null,o=this.state.guildFilter,a=e===m.ThemeTypes.LIGHT?m.Colors.PRIMARY_DARK:m.Colors.WHITE;return this.props.channel&&!this.props.channel.isPrivate()?n=r(v.Item,{id:m.RecentMentionsFilters.THIS_SERVER,className:b.default.tabBarItem,color:a},void 0,h.default.Messages.THIS_SERVER):o=m.RecentMentionsFilters.ALL_SERVERS,r(y.default.Header,{title:h.default.Messages.RECENT_MENTIONS,className:b.default.header},void 0,r("div",{className:b.default.headerTabBarWrapper},void 0,r(E.default,{selectedItem:o,onItemSelect:this.setGuildFilter,type:v.Types.TOP,className:b.default.tabBar},void 0,r(v.Item,{id:m.RecentMentionsFilters.ALL_SERVERS,className:b.default.tabBarItem,color:a},void 0,h.default.Messages.ALL_SERVERS),n),r(S.default,{render:this.renderDisplayPopout,position:S.default.Positions.BOTTOM_LEFT,preventInvert:!0,dependsOn:this.props.popoutName,zIndexBoost:100,shadow:!1,offsetY:-25},void 0,r("div",{className:b.default.mentionFilter},void 0,r("div",{className:b.default.label},void 0,h.default.Messages.RECENT_MENTIONS_FILTER_LABEL),r("div",{className:b.default.value},void 0,t)))))}});t.default=M,e.exports=t.default},6507:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(11)),a=l(n(12)),r=n(0),i=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var s=36e5,u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateAvailable=!1,this.hasNativeUpdate=!1,this._callbacks=[],this.checkForUpdates=function(){return!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&t.updateAvailable||(o.default.embedded?o.default.send("CHECK_FOR_UPDATES"):t._handleNativeUpdateNotAvailable()),new Promise(function(e){t.updateAvailable?e(!0):t._callbacks.push(e)})},this._handleCheckingForUpdates=function(){i.default.dispatch({type:r.ActionTypes.CHECKING_FOR_UPDATES})},this._handleNativeUpdateNotAvailable=function(){t._handleCheckingForUpdates(),a.default.get({url:location.protocol+"//"+location.host+"/assets/version."+window.GLOBAL_ENV.RELEASE_CHANNEL+".json",query:{_:Date.now()/1e3/60/5|0}}).then(function(e){null!=e.body&&"98a420a7f60bef60d0892f5ced0f2045889a5694"!==e.body.hash&&e.body.required?t._handleUpdateDownloaded(!1):t._handleUpdateNotAvailable()},function(){return t._handleUpdateError()})},this._handleUpdateNotAvailable=function(){i.default.dispatch({type:r.ActionTypes.UPDATE_NOT_AVAILABLE}),t._emitCallbacks()},this._handleUpdateAvailable=function(e){t.updateAvailable=!0,t.hasNativeUpdate=e,i.default.dispatch({type:r.ActionTypes.UPDATE_AVAILABLE})},this._handleUpdateManually=function(){t.updateAvailable=!0,t.hasNativeUpdate=!0,i.default.dispatch({type:r.ActionTypes.UPDATE_MANUALLY})},this._handleUpdateError=function(e){t.updateAvailable=!1,i.default.dispatch({type:r.ActionTypes.UPDATE_ERROR,message:e})},this._handleUpdateDownloaded=function(e,n,o,a,l){t._handleUpdateAvailable(e),i.default.dispatch({type:r.ActionTypes.UPDATE_DOWNLOADED,releaseNotes:n,releaseName:o,releaseDate:a,updateURL:l}),t._emitCallbacks()},o.default.embedded&&(o.default.on(r.ActionTypes.CHECKING_FOR_UPDATES,this._handleCheckingForUpdates),o.default.on(r.ActionTypes.UPDATE_NOT_AVAILABLE,this._handleNativeUpdateNotAvailable),o.default.on(r.ActionTypes.UPDATE_AVAILABLE,function(){return t._handleUpdateAvailable(!0)}),o.default.on(r.ActionTypes.UPDATE_ERROR,this._handleUpdateError),o.default.on(r.ActionTypes.UPDATE_DOWNLOADED,function(){return t._handleUpdateDownloaded(!0)}),o.default.on(r.ActionTypes.UPDATE_MANUALLY,this._handleUpdateManually)),this._checkInterval=setInterval(this.checkForUpdates,n)}return e.prototype.destroy=function(){clearInterval(this._checkInterval)},e.prototype.quitAndInstall=function(){this.updateAvailable&&(this.hasNativeUpdate?o.default.send("QUIT_AND_INSTALL"):location.reload(!0))},e.prototype._emitCallbacks=function(){var e=this;this._callbacks.forEach(function(t){return t(e.updateAvailable)}),this._callbacks=[]},e}();t.default=u,e.exports=t.default},6508:function(e,t,n){"use strict";t.__esModule=!0,t.checkForUpdates=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.checkForUpdates(e)},t.quitAndInstall=function(){r.quitAndInstall()};var o,a=n(6507);var r=new((o=a)&&o.__esModule?o:{default:o}).default},6509:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(3)),a=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var i=n(0).ActionTypes.UPDATE_NOT_AVAILABLE;function l(e){i=e.type}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return i},t}(o.default.Store);t.default=new s(a.default,{CHECKING_FOR_UPDATES:l,UPDATE_NOT_AVAILABLE:l,UPDATE_AVAILABLE:l,UPDATE_MANUALLY:l,UPDATE_ERROR:l,UPDATE_DOWNLOADED:l}),e.exports=t.default},6544:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(42)),s=y(n(265)),u=y(n(227)),d=y(n(528)),f=n(32),c=y(n(929)),p=n(0),h=y(n(6014));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleContextMenu=function(e,t){(0,f.openContextMenu)(e,function(e){return i.createElement(c.default,r({},e,{type:p.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.prototype.renderUser=function(e){var t=this;return null==e?null:a(l.default,{className:h.default.user,align:l.default.Align.CENTER,onContextMenu:function(n){null!=e&&t.handleContextMenu(n,e)}},e.id,a(s.default,{src:e.getAvatarURL(),size:s.default.Sizes.XSMALL}),a(d.default,{user:e,className:h.default.tag,usernameClass:h.default.username,discriminatorClass:h.default.discriminator}))},t.prototype.render=function(){var e=this,t=this.props,n=t.party,o=t.header,r=n.map(function(t){return e.renderUser(t)});return a("div",{className:h.default.userList},void 0,a("div",{className:h.default.header},void 0,o),a(u.default,{className:h.default.content,fade:!0,theme:u.default.Themes.GHOST_HAIRLINE},void 0,r))},t}(i.PureComponent);m.displayName="UserListPopout",t.default=m,e.exports=t.default},6545:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(9)),l=u(n(42)),s=u(n(5583));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.children,n=e.className,o=e.splashArtURL;return a(l.default,{className:(0,i.default)(s.default.header,n),align:l.default.Align.CENTER},void 0,a("div",{className:s.default.splashArt,style:null!=o?{backgroundImage:"url("+o+")"}:null}),t)};d.displayName="ActivityFeedCardHeader";var f=function(e){var t=e.children,n=e.className;return a("div",{className:(0,i.default)(s.default.body,n)},void 0,t)};f.displayName="ActivityFeedCardBody";var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.onMouseEnter,r=e.onMouseLeave;return a("div",{className:(0,i.default)(s.default.card,n),onMouseEnter:o,onMouseLeave:r},void 0,t)},t}(r.PureComponent);c.Header=d,c.Body=f,c.displayName="ActivityFeedCard",t.default=c,e.exports=t.default},6546:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=m(n(1)),l=y(n(9)),s=m(n(541)),u=y(n(228)),d=y(n(225)),f=y(n(1026)),c=(n(0),n(581)),p=y(n(580)),h=y(n(579));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=o=v(this,e.call.apply(e,[this].concat(l))),o.handleGamePopoutOpen=function(){var e=o.props,t=e.game,n=e.source,a=e.onOpen,r=e.analyticsContext;null!=t&&(s.trackGamePopoutOpened(t,n,r.location),a&&a())},o.renderGamePopout=function(e){var t=o.props,n=t.game,a=t.source,l=t.analyticsContext;return i.createElement(f.default,r({},e,{game:n,source:a,analyticsContext:l}))},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.onClose,o=e.interactiveClassName,r=e.game;return null==r||r.id===c.SPOTIFY_APPLICATION_ID||r instanceof p.default||r instanceof h.default?t:a(d.default,{render:this.renderGamePopout,position:d.default.Positions.BOTTOM_LEFT,onOpen:this.handleGamePopoutOpen,onClose:n,closeOnScroll:!1,preventCloseFromModal:!0,preventCloseOnUnmount:!0},void 0,i.cloneElement(t,{className:(0,l.default)(t.props.className,o)}))},t}(i.PureComponent);E.displayName="GamePopoutOpener",t.default=(0,u.default)(E),e.exports=t.default},6547:function(e,t,n){"use strict";t.__esModule=!0,t.fetchPromotions=void 0;var o,a;t.fetchPromotions=(o=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.dispatch({type:u.ActionTypes.PROMOTIONS_FETCH_START}),e.prev=1,e.next=4,(0,l.httpGetWithCountryCodeQuery)(u.Endpoints.PROMOTIONS);case 4:t=e.sent,i.default.dispatch({type:u.ActionTypes.PROMOTIONS_FETCH_SUCCESS,promotions:t.body}),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),n=new s.default(e.t0),i.default.dispatch({type:u.ActionTypes.PROMOTIONS_FETCH_FAIL,error:n}),n;case 13:case"end":return e.stop()}},e,this,[[1,8]])}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})},function(){return a.apply(this,arguments)});t.ackPromotion=function(e,t){return r.default.put({url:u.Endpoints.PROMOTION_ACK,body:{ack_key:e,ack_type:t}})};var r=d(n(12)),i=d(n(2)),l=n(188),s=d(n(239)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}},6594:function(e,t,n){"use strict";t.__esModule=!0,t.nextStep=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.default.dispatch({type:i.ActionTypes.HOMEPAGE_NUF_NEXT,isSkip:e,autoAdvance:t})},t.dismiss=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r.default.dispatch({type:i.ActionTypes.HOMEPAGE_NUF_DISMISS,isSkip:e})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6597:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(9)),l=u(n(42)),s=u(n(5730));function u(e){return e&&e.__esModule?e:{default:e}}var d={WRAP:"wrap",STACK:"stack"},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderChildren=function(){var e=this.props,t=e.children,n=e.layout,o=e.columns,r=void 0;switch(n){case d.STACK:r="100%";break;case d.WRAP:r=1/o*100+"%"}return t.map(function(e,t){return a(l.default.Child,{className:s.default.tile,basis:r,grow:0},t,e)})},t.prototype.render=function(){var e=this.props.className;return a(l.default,{className:(0,i.default)(e,s.default.grid),wrap:l.default.Wrap.WRAP},void 0,this.renderChildren())},t}(r.PureComponent);f.defaultProps={children:[],layout:d.WRAP,columns:4},f.displayName="Grid",f.Layout=d,t.default=f,e.exports=t.default},6610:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(2)),a=n(0),r=l(n(12)),i=n(944);function l(e){return e&&e.__esModule?e:{default:e}}t.default={setStep:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_SET_STEP,step:e})},updateTemporaryGuild:function(e){o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_GUILD_UPDATE,guild:e})},createGuild:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED}),r.default.post({url:a.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_GUILD_CREATED})},function(e){return o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,errors:e.body})})},createGuildPromise:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return r.default.post({url:a.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_GUILD_CREATED})},function(e){throw e.body})},claimAccount:function(e){return o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUBMITTED}),t=e,(0,i.saveAccountRequest)(t).then(function(){o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUCCESS})},function(e){return o.default.dispatch({type:a.ActionTypes.NEW_USER_FLOW_ACCOUNT_FAILURE,errors:e.body}),Promise.reject(e)});var t}},e.exports=t.default},6611:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=h(n(3)),r=h(n(24)),i=h(n(2)),l=h(n(287)),s=h(n(6095)),u=h(n(6108)),d=h(n(11)),f=h(n(17)),c=h(n(6147)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=0,m=2,v="newUserModalStep",E="nuo_transition",_="NUX_WEB_WELCOME",g=0,S=y,T=!1,C={},N=void 0,b={name:"",icon:null,region:null};function O(e){if(A.isOpen()){var t=Date.now();g||(g=t);var n,a,r=(a=e,0===(n=S)&&0===a?{from_step:"INITIAL",to_step:"WELCOME",skip:!1}:0===n&&1===a?{from_step:"WELCOME",to_step:"CREATE_GUILD",skip:!1}:0===n&&-1===a?{from_step:"WELCOME",to_step:"DISABLED",skip:!0}:1===n&&-1===a?{from_step:"CREATE_GUILD",to_step:"DISABLED",skip:!0}:1===n&&2===a?{from_step:"CREATE_GUILD",to_step:"CREATE_GUILD_SUCCESS"}:void 0);null!=r&&(f.default.track(E,o({},r,{flow_type:_,seconds_on_from_step:(t-g)/1e3})),S=e)}}function I(e){var t=e.step;O(t),S=t,r.default.set(v,t)}var A=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){S=r.default.get(v)||S,this.waitFor(l.default,s.default,u.default,c.default)},t.prototype.getNewUserModalStep=function(){return S},t.prototype.isOpen=function(){if(null!=u.default.getAction())return!1;var e=c.default.getExperimentDescriptor();return(!e||e.bucket===p.ExperimentBuckets.CONTROL)&&((0!==S||!(l.default.totalGuilds>0||d.default.embedded))&&(T&&S>=0&&S<m))},t.prototype.getProps=function(){return{step:S,errors:C,guildSubmitting:N===p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED,guild:b}},t}(a.default.Store))(i.default,{NEW_USER_FLOW_SET_STEP:I,NEW_USER_FLOW_GUILD_UPDATE:function(e){b=o({},b,e.guild)},NEW_USER_FLOW_GUILD_CREATED:function(e){return N=p.ActionTypes.NEW_USER_FLOW_GUILD_CREATED,void I({step:m})},NEW_USER_FLOW_GUILD_FAILURE:function(e){N=p.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,C=e.errors},NEW_USER_FLOW_GUILD_SUBMITTED:function(e){N=p.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED},CONNECTION_OPEN:function(e){return T=!0,void O(0)},CONNECTION_CLOSED:function(e){T=!1},LOAD_REGIONS:function(e){null==e.guildId&&(b=o({},b,{region:b.region||s.default.getOptimalRegionId()}))},REGISTER:function(e){return g=0,void(S=y)},LOGOUT:function(e){return r.default.remove(v),void(T=!1)},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=A,e.exports=t.default},6612:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(6865),s=n(1228),u=(a=s)&&a.__esModule?a:{default:a};var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.machine={},o.transition=function(e,t){var n=o.state.currentState;if(null==n.nextEvents||n.nextEvents.includes(e)){var a=o.machine.transition(n,e);o.invokeActions(a),"final"!==o.machine.states[a.value].type&&o.setState({currentState:a,direction:null!=t?t.direction:o.state.direction})}},o.getDirection=function(){return o.state.direction},o.initializeStateMachine(n.stateChart),o.state={currentState:o.machine.initialState,direction:1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initializeStateMachine=function(e){this.machine=(0,l.Machine)(e)},t.prototype.componentDidMount=function(){this.invokeActions(this.state.currentState)},t.prototype.componentDidUpdate=function(e){this.props.stateChart!==e.stateChart&&(this.initializeStateMachine(this.props.stateChart),this.machine.initialState.value!==this.state.currentState.value&&this.setState({currentState:this.machine.initialState,direction:1}))},t.prototype.invokeActions=function(e){var t=e.value,n=e.actions,o=this.props.slideActions;null!=o&&0!==n.length&&n.forEach(function(e){return"function"==typeof o[e]&&o[e](t)})},t.prototype.renderCurrentSlide=function(){var e=this.props,t=e.slideStates,n=e.extState;return(0,t[this.state.currentState.value])(this.transition,n)},t.prototype.render=function(){var e=this.props.className,t=this.state.currentState;return r(u.default,{className:e,step:t.value,getDirection:this.getDirection},void 0,this.renderCurrentSlide())},t}(i.PureComponent);d.displayName="SlideManager",t.default=d,e.exports=t.default},6613:function(e,t,n){var o={"./2017-11-16.mp4":7152,"./discriminator.mp4":7151,"./g250k-cl.mp4":7150,"./header.mp4":7149,"./league-rp-cl.mp4":7148,"./store.jpg":7147};function a(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=6613},6614:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=h(n(3)),i=h(n(24)),l=h(n(2)),s=n(0),u=h(n(13)),d=h(n(28)),f=h(n(165)),c=h(n(6086)),p=h(n(567));function h(e){return e&&e.__esModule?e:{default:e}}var y="lastChangeLog",m="shouldShowChangeLog",v="en-us",E={},_={},g=void 0,S=!1,T=void 0,C=!1;function N(e){return e.locale||v}if(n(7155).replace(/\r\n/g,"\n").split("---changelog---\n").slice(1).forEach(function(e){var t=!1,n={},o=e.split("\n").filter(function(e){if("---"===e)return t=!0,!1;if(!t){var o=e.split(": "),a=o.shift(),r=o.join(": ");n[a]=JSON.parse(r)}return t}).join("\n");if(null==n.date||null==n.revision)throw new Error("ChangeLogStore: A changelog does not contain a date or revision property");var r=a({},n,{date:n.date,revision:n.revision,locale:null!=n.locale?n.locale.toLowerCase():v,body:o});if(null!=n.experiment_names&&n.experiment_names.length>0)n.experiment_names.forEach(function(e){var t=_[e]||(_[e]={}),n=r.experiment_bucket||(r.experiment_bucket=s.ExperimentBuckets.CONTROL),o=t[String(n)]||(t[String(n)]={}),a=N(r);if(null!=o[a])throw new Error("ChangeLogStore: Locale ("+a+") already defined for "+e);o[a]=r});else{var i=N(r);if(null!=E[i])throw new Error("ChangeLogStore: Locale ("+i+") already defined for default changelogs");E[i]=r}}),null==E[v])throw new Error("ChangeLogStore: No default changeLog");function b(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null!=_?Object.keys(_):[],n=d.default.locale.toLowerCase(),o=null;if(!e&&t.length>0){var a=c.default.getFirstEligibleUserExperiment(t);if(null!=a){var r=a.name;if(null==r||null==_[r])throw new Error("ChangeLogStore: This changelog experiment has not been registered");var i=String(a.bucket);null!=_[a.name][i]&&(o=_[a.name][i][n]||_[a.name][i][v])}}return null==o&&(o=E[n]||E[v]),o}function O(){var e=function(e){if(!e)return null;var t=e.date,n=e.revision,o=e.experiment_names;return p.default.v3(JSON.stringify({date:t,revision:n,experiment_names:o}))}(g=b());T!==e&&u.default.getCurrentUser().isClaimed()&&(C=null!=T,T=e,i.default.set(y,T),i.default.set(m,C)),S=!0}g=b(!0);var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){T=i.default.get(y)||T,C=i.default.get(m)||C,this.waitFor(u.default,f.default,d.default)},t.prototype.isOpen=function(){return S&&C},o(t,[{key:"changeLog",get:function(){return g}}]),t}(r.default.Store);t.default=new I(l.default,{CHANGE_LOG_OPEN:function(e){return C=!0,void i.default.set(m,C)},CHANGE_LOG_CLOSE:function(e){return C=!1,void i.default.set(m,C)},CONNECTION_OPEN:function(e){return O()},CONNECTION_CLOSED:function(e){S=!1},USER_SETTINGS_UPDATE:function(e){return function(e){if(null==e.locale)return!1;g=b()}(e.settings)}}),e.exports=t.default},6615:function(e,t,n){"use strict";t.__esModule=!0,t.LHeading=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(9)),s=C(n(290)),u=C(n(6651)),d=C(n(6399)),f=C(n(6614)),c=C(n(7154)),p=C(n(6086)),h=C(n(6)),y=n(980),m=C(n(17)),v=C(n(5)),E=C(n(71)),_=C(n(42)),g=C(n(76)),S=n(0),T=C(n(5759));function C(e){return e&&e.__esModule?e:{default:e}}var N=s.default.parserFor(c.default.getDefaultRules()),b=(t.LHeading=function(e){var t,n=e.level,o=e.children,a=e.className;return i.createElement("h"+n,{className:l.default.apply(void 0,(t=a,null==t?[]:t.split(" ").map(function(e){return T.default[e]})))},o)},function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.getScrollerRef=o.getScrollerRef.bind(o),o.handleScroll=o.handleScroll.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){d.default.hideChangeLog()},t.prototype.track=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=f.default.changeLog;if(o){var a=o.date,i=o.revision,l=r({change_log_id:a+":"+i},t);n||(l=r({seconds_open:Math.round((Date.now()-this.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(this.maxScrolledPercentage.toPrecision(4),10)},l)),m.default.track(e,l)}},t.prototype.joinEligibleExperiment=function(){var e=f.default.changeLog;null!=e&&e.experiment_names&&p.default.triggerFirstEligibleUserExperiment(e.experiment_names)},t.prototype.getScrollerRef=function(e){this._scrollerNode=null!=e?e._scroller:null},t.prototype.componentDidMount=function(){if(null==f.default.changeLog)return this.close();this.mountedAt=Date.now(),this.maxScrolledPercentage=0,this.joinEligibleExperiment(),this.track(S.AnalyticEvents.CHANGE_LOG_OPENED,{},!0)},t.prototype.componentWillUnmount=function(){this.track(S.AnalyticEvents.CHANGE_LOG_CLOSED)},t.prototype.handleScroll=function(){if(null!=this._scrollerNode){var e=this._scrollerNode.getScrollData(),t=e.offsetHeight,n=e.scrollHeight,o=e.scrollTop/(n-t);this.maxScrolledPercentage=Math.max(this.maxScrolledPercentage,o)}},t.prototype.renderHeader=function(){var e=f.default.changeLog;return null==e?null:a(_.default.Child,{grow:1,shrink:1},void 0,a(g.default,{tag:g.default.Tags.H4},void 0,h.default.Messages.WHATS_NEW),a(E.default,{size:E.default.Sizes.SMALL,color:E.default.Colors.PRIMARY,className:T.default.date},void 0,h.default.Messages.WHATS_NEW_DATE.format({date:e.date?(0,v.default)(e.date).toDate():new Date})))},t.prototype.renderFooter=function(){return a(E.default,{size:E.default.Sizes.SMALL,color:E.default.Colors.PRIMARY},void 0,h.default.Messages.MISSED_AN_UPDATE.format({link:"https://blog.discordapp.com/tagged/changelog"}))},t.prototype.renderVideo=function(){var e=f.default.changeLog;if(null==e)return null;var t=e.youtube_video_id,o=e.video;if(t)return a(y.EmbedVideo,{className:T.default.video,allowFullScreen:!1,href:"https://youtu.be/"+t,thumbnail:{url:"https://i.ytimg.com/vi/"+t+"/maxresdefault.jpg",width:451,height:254},video:{url:"https://www.youtube.com/embed/"+t+"?vq=large&rel=0&controls=0&showinfo=0",width:451,height:254},maxWidth:451,maxHeight:254});if(o){var r=n(6613)("./"+o);return a("video",{src:r,width:451,height:254,loop:!0,muted:!0,autoPlay:!0,className:T.default.video})}var i=n(6613)("./"+(e.image||"header.png"));return a("img",{alt:"",src:i,width:451,height:254})},t.prototype.render=function(){var e=f.default.changeLog||{};return i.createElement(u.default,{className:T.default.container,ref:this.getScrollerRef,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},this.renderVideo(),N(e.body,!1,{changeLog:this}))},t}(i.PureComponent));b.modalConfig={store:f.default,center:!0},b.displayName="ChangeLog",t.default=b},6616:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={open:function(){r.default.dispatch({type:i.ActionTypes.EMAIL_VERIFICATION_MODAL_OPEN})},close:function(){r.default.dispatch({type:i.ActionTypes.EMAIL_VERIFICATION_MODAL_CLOSE})}},e.exports=t.default},6617:function(e,t,n){"use strict";t.__esModule=!0,t.valueRenderers=t.graphs=t.labelRenderers=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.Item=E;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=s(n(7163)),i=s(n(7162)),l=s(n(6542));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.labelRenderers={audioDetected:"Audio Detected",audioLevel:"Audio Level",availableOutgoingBitrate:"Available Outgoing Bitrate",averageDecodeTime:"Average Decode Time",averageEncodeTime:"Average Encode Time",bandwidthLimitedResolution:"Bandwidth Limited Resolution",bitrate:"Bitrate",bitratePreferred:"Bitrate (Preferred)",bitrateTarget:"Bitrate (Target)",bytesReceived:"Bytes Received",bytesSent:"Bytes Sent",codec:"Codec",cpuLimitedResolution:"CPU Limited Resolution",decodingCNG:"Decoding CNG",decodingMutedOutput:"Decoding Muted Output",decodingNormal:"Decoding Normal",decodingPLC:"Decoding PLC",decodingPLCCNG:"Decoding PLC CNG",decryptionFailures:"Decryption Failures",delayEstimate:"Delay Estimate",encodeUsage:"Encode Usage",firCount:"FIR",fractionLost:"Packet Loss",frameRateDecode:"Frame Rate (Decode)",frameRateEncode:"Frame Rate (Encode)",frameRateInput:"Frame Rate (Input)",frameRateNetwork:"Frame Rate (Network)",frameRateRender:"Frame Rate (Render)",framesDecoded:"Frames Decoded",framesDropped:"Frames Dropped",framesEncoded:"Frames Encoded",framesReceived:"Frames Received",framesSent:"Frames Sent",jitter:"Jitter",jitterBuffer:"Jitter Buffer",jitterBufferPreferred:"Jitter Buffer (Preferred)",nackCount:"NACK",packetsLost:"Packets Lost",packetsReceived:"Packets Received",packetsSent:"Packets Sent",ping:"Ping",pliCount:"PLI",qpSum:"qpSum",resolution:"Resolution",ssrc:"SSRC",localAddress:"Local Address"};function d(e){return(e/1e3).toFixed(2)+" Kbps"}function f(e){return l.default.filesize(e)}function c(e){return e+" ms"}function p(e){return e.toFixed(0)+"%"}function h(e){return e?"Yes":"No"}var y=t.graphs={availableOutgoingBitrate:!0,bytesReceived:!0,bytesSent:!0,packetsLost:!0,packetsReceived:!0,packetsSent:!0,ping:!0},m={audioDetected:h,audioLevel:function(e){return Math.max(e,0).toFixed(2)+" dB"},availableOutgoingBitrate:d,averageDecodeTime:c,averageEncodeTime:c,bandwidthLimitedResolution:h,bitrate:d,bitratePreferred:d,bitrateTarget:d,bytesReceived:f,bytesSent:f,codec:function(e){var t=e.id,n=e.name;return""+(n=n||"unknown")[0].toUpperCase()+n.slice(1)+" ("+t+")"},cpuLimitedResolution:h,delayEstimate:c,encodeUsage:p,fractionLost:p,jitter:c,jitterBuffer:c,jitterBufferPreferred:c,ping:c,resolution:function(e){return e.width+"x"+e.height}};function v(e){return a(i.default,{datapoint:e})}function E(e){var t=e.label,n=e.value,o=e.section,i=m[t]||function(e){return e};return a(r.default,{label:t,value:n,valueRendered:i(n),section:o,renderGraph:y[t]&&v.bind(null,n)},void 0,u[t]||t)}t.valueRenderers=m,v.displayName="renderGraph",E.displayName="Item"},6618:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=c(n(3)),i=c(n(7)),l=c(n(2)),s=c(n(6119)),u=c(n(18)),d=c(n(83)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=new Set,h=f.FormStates.CLOSED,y=!1,m=void 0,v=void 0,E=null,_=null,g=null,S=null,T=null,C=null;function N(){if(g=s.default.getChannel(),S=s.default.getCategory(),null==g)return!1;var e=g.getGuildId();_=E=function(e){var t=e.getGuildId(),n=a({},e.permissionOverwrites);return null!=t&&null==n[t]&&(n[t]=d.default.makeEveryoneOverwrite(t)),n}(g),null==E[T]&&(T=e),v=null!=S,m=d.default.areChannelsLocked(g,S),C=null,y=!1,h=f.FormStates.CLOSED,p.clear()}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,u.default)},t.prototype.hasChanges=function(){return y},t.prototype.showNotice=function(){return this.hasChanges()},t.prototype.getPermissionOverwrite=function(e){return E&&E[e]},o(t,[{key:"editedPermissionIds",get:function(){return Array.from(p)}},{key:"permissionOverwrites",get:function(){return E}},{key:"selectedOverwriteId",get:function(){return T}},{key:"formState",get:function(){return h}},{key:"isLockable",get:function(){return v}},{key:"locked",get:function(){return m}},{key:"channel",get:function(){return g}},{key:"category",get:function(){return S}}]),t}(r.default.Store);t.default=new b(l.default,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section;if(null!=g||t!==f.ChannelSettingsSections.PERMISSIONS)return!1;N()},CHANNEL_SETTINGS_PERMISSIONS_INIT:function(e){return N()},CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t,n=e.id,o=e.allow,r=e.deny,l=E&&E[n];if(null==l||null==g)return!1;l=a({},l,{allow:o,deny:r}),E=a({},E,((t={})[n]=l,t)),p.add(n),h=f.FormStates.OPEN,y=!i.default.isEqual(E,_),m=d.default.areChannelsLocked(g,S)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=E&&null!=E[t])T=t;else{if(null==g)return!1;C=t}},CHANNEL_SETTINGS_CLOSE:function(e){return h=f.FormStates.CLOSED,E=null,_=null,g=null,S=null,y=!1,p.clear(),T=null,void(C=null)},CHANNEL_UPDATE:function(e){return function(e){if(null==g||g.id!==e)return!1;if(null==(g=u.default.getChannel(e)))return!1;S=s.default.getCategory();var t=g.getGuildId();if(null==t)return!1;var n={};p.forEach(function(e){null!=E&&(n[e]=E[e])}),null==n[t]&&null==g.permissionOverwrites[t]&&(n[t]=d.default.makeEveryoneOverwrite(t)),null==(E=a({},g.permissionOverwrites,n))[T]?T=t:C&&E[C]&&(T=C,C=null),m=d.default.areChannelsLocked(g,S)}(e.channel.id)},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(e){h=f.FormStates.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){return h=f.FormStates.CLOSED,void N()}}),e.exports=t.default},6637:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=s(n(3)),i=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u={};var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.has=function(e){return null!=e&&null!=u[e]},o(t,[{key:"windows",get:function(){return u}}]),t}(r.default.Store);t.default=new d(i.default,{PICTURE_IN_PICTURE_OPEN:function(e){var t,n=e.id,o=e.component,r=e.position,i=e.props,s=e.offsets;null==r&&(r=l.PictureInPicturePositions.BOTTOM_LEFT),u=a({},u,((t={})[n]={component:o,position:r,props:i,offsets:s},t))},PICTURE_IN_PICTURE_CLOSE:function(e){var t=e.id;if(null==u[t])return!1;delete u[t],u=a({},u)},PICTURE_IN_PICTURE_MOVE:function(e){var t,n=e.id,o=e.position;u=a({},u,((t={})[n]=a({},u[n],{position:o}),t))},LOGOUT:function(e){u={}}}),e.exports=t.default},6638:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments[4];r.default.dirtyDispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,position:n,props:o,offsets:a})},t.close=function(e){r.default.dirtyDispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})},t.moveTo=function(e,t){r.default.dispatch({type:i.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6639:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(9)),s=y(n(6)),u=y(n(17)),d=y(n(225)),f=y(n(5773)),c=y(n(45)),p=y(n(42)),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=Object.freeze({WAVES:"waves",SHAPES:"shapes"}),g=Object.freeze({CENTER:"center",LEFT:"left"}),S=function(e){function t(){var n,o;m(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=v(this,e.call.apply(e,[this].concat(r))),o.state={confirmed:!1},o.handleDismiss=function(){var e=o.props.onClickComplete;o.setState({confirmed:!0},function(){return e&&e()})},v(o,n)}return E(t,e),t.prototype.componentDidMount=function(){var e=this.props.uniqueId;u.default.track(h.AnalyticEvents.SHOW_TUTORIAL,{tutorial:e})},t.prototype.componentWillUnmount=function(){u.default.track(h.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:this.props.uniqueId,acknowledged:this.state.confirmed})},t.prototype.render=function(){var e,t,n=this.props,o=n.background,a=n.renderMedia,u=n.textAlign,d=n.isLongText,y=n.title,m=n.body,v=n.forceTheme,E=n.onClickSkipAll,S=function(e){switch(e){case _.SHAPES:return O;case _.WAVES:default:return A}}(o),T="string"==typeof m?"p":"div",C=u===g.LEFT||d,N=u===g.CENTER||!C;return r(i.Fragment,{},void 0,r(S,{width:d?400:340}),null!=a&&r(p.default,{className:f.default.mediaContainer,justify:C?p.default.Justify.START:p.default.Justify.CENTER},void 0,a()),r("h4",{className:(0,l.default)((e={},e[f.default.titleCenter]=N,e[f.default.titleLeft]=C,e))},void 0,y),r(T,{className:(0,l.default)((t={},t[f.default.bodyCenter]=N,t[f.default.bodyLeft]=C,t))},void 0,m),r(p.default,{className:f.default.buttonContainer,justify:C?p.default.Justify.BETWEEN:p.default.Justify.CENTER},void 0,r(c.default,{onClick:this.handleDismiss},void 0,s.default.Messages.TUTORIAL_CLOSE),r(c.default,{look:c.default.Looks.BLANK,onClick:E,color:v===h.ThemeTypes.LIGHT?c.default.Colors.PRIMARY:c.default.Colors.WHITE,className:C?f.default.buttonSkipLeftAlign:f.default.buttonSkipCenterAlign},void 0,s.default.Messages.SKIP_ALL_TIPS)))},t}(i.PureComponent);S.displayName="TutorialPopoutContent";var T=function(e){function t(){var n,o;m(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return n=o=v(this,e.call.apply(e,[this].concat(l))),o.popoutRef=i.createRef(),o.onClickComplete=function(){o.popoutRef.current&&o.popoutRef.current.close(),o.props.onComplete()},o.onClickSkipAll=function(){var e=o.props,t=e.onSkipAll,n=e.uniqueId;o.popoutRef.current&&o.popoutRef.current.close(),t(),u.default.track(h.AnalyticEvents.DISMISS_ALL_TUTORIALS,{tutorial:n})},o.renderChildren=function(){return i.createElement(S,a({},o.props,{onClickComplete:o.onClickComplete,onClickSkipAll:o.onClickSkipAll}))},v(o,n)}return E(t,e),t.prototype.render=function(){var e,t=this.props,n=(t.background,t.renderMedia),o=(t.textAlign,t.onComplete,t.onSkipAll,t.isLongText),r=(t.title,t.body,t.forceTheme),s=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["background","renderMedia","textAlign","onComplete","onSkipAll","isLongText","title","body","forceTheme"]),u=null!=n;return i.createElement(d.default,a({forceTheme:r,ref:this.popoutRef},s,{render:this.renderChildren,containerClass:(0,l.default)((e={},e[f.default.topArrow]=s.position===d.default.Positions.BOTTOM,e[f.default.contentNarrowNoMedia]=!o&&!u,e[f.default.contentNarrowWithMedia]=!o&&u,e[f.default.contentWideNoMedia]=o&&!u,e[f.default.contentWideWithMedia]=o&&u,e[f.default.leftArrow]=s.position===d.default.Positions.RIGHT,e[f.default.rightArrow]=s.position===d.default.Positions.LEFT,e))}))},t}(i.PureComponent);T.Backgrounds=_,T.TextAlignments=g,T.defaultProps={background:_.WAVES,textAlign:g.LEFT},T.displayName="TutorialPopout",t.default=T;var C=r("ellipse",{cx:"247.455621",cy:"59",rx:"12.0710059",ry:"12"}),N=r("path",{d:"M23.258803 91.8945393v63.2274477H.106085V91.8945393zM55.3254436 73l15.0887576 14.9990739-15.0887576 14.9990741-15.0887572-14.9990741zM301.830473 108.016525l19.167752 19.053824-19.167752 19.053824-19.167751-19.053824zM310.106491 12.7308797L347.250401 0l73.222972 211.677377-37.14391 12.73088c-5.669616 1.943231-11.84832-1.056472-13.800527-6.700024-1.105801-3.19672-.64499-6.724348 1.245323-9.53328 7.52592-11.183222 4.519219-26.321932-6.715649-33.813255-1.853129-1.235653-3.86719-2.21346-5.986296-2.90629l-1.266377-.414034c-11.577042-3.78505-17.879527-16.195341-14.076994-27.719162.763673-2.314364 1.908841-4.486137 3.388596-6.426376 7.368113-9.660951 5.473231-23.438275-4.23234-30.772514-1.949201-1.472958-4.131001-2.61286-6.456051-3.373023l-2.532755-.828069c-11.577041-3.7850497-17.879527-16.1953414-14.076994-27.7191616.763673-2.3143643 1.908841-4.4861373 3.388602-6.4263759 7.368107-9.6609513 5.473225-23.4382753-4.232346-30.7725142-1.949195-1.4729574-4.131001-2.61286-6.456051-3.3730228l-1.266377-.4140345c-5.696874-1.8625623-8.798225-7.9694667-6.927065-13.6401535 1.059897-3.2120905 3.568845-5.7453686 6.780329-6.8460878z"}),b=r("g",{transform:"translate(21.12426 38)"},void 0,r("ellipse",{cx:"43.7573964",cy:"2.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"29.6745562",cy:"2.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"16.5976331",cy:"2.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"2.5147929",cy:"2.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"56.8343195",cy:"2.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"70.9171598",cy:"2.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"83.9940828",cy:"2.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"43.7573964",cy:"15.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"29.6745562",cy:"15.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"16.5976331",cy:"15.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"2.5147929",cy:"15.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"56.8343195",cy:"15.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"70.9171598",cy:"15.5",rx:"2.5147929",ry:"2.5"}),r("ellipse",{cx:"83.9940828",cy:"15.5",rx:"2.5147929",ry:"2.5"})),O=function(e){var t=e.width,n=void 0===t?340:t;return r("svg",{width:n,height:127*n/340,xmlns:"http://www.w3.org/2000/svg",className:f.default.background,viewBox:"0 0 340 127"},void 0,r("g",{transform:"translate(-7.04142 -38)",fill:"currentColor",fillRule:"evenodd",opacity:".05",viewBox:"0 0 340 127"},void 0,C,N,b))};O.displayName="BackgroundShapes";var I=r("g",{fill:"currentColor",fillRule:"evenodd",opacity:".05"},void 0,r("path",{d:"M280.695615-49.9359481l36.925416-12.73087973L390.41328 149.01055l-36.925417 12.730879c-5.636265 1.943231-11.778624-1.056472-13.719347-6.700024-1.099296-3.19672-.641196-6.724348 1.237998-9.53328 7.481649-11.183222 4.492635-26.321932-6.676146-33.813255-1.842228-1.235652-3.844441-2.21346-5.951082-2.90629l-1.258928-.414034c-11.508941-3.78505-17.774353-16.195341-13.994188-27.719162.759181-2.314364 1.897613-4.486137 3.368664-6.426376 7.32477-9.660951 5.441035-23.438275-4.207445-30.772514-1.937735-1.472957-4.106701-2.61286-6.418074-3.373023l-2.517856-.828069c-11.508941-3.78505-17.774353-16.1953413-13.994188-27.7191614.75918-2.3143643 1.897612-4.4861373 3.368669-6.4263759 7.324765-9.6609514 5.441029-23.4382753-4.20745-30.7725142-1.937729-1.4729574-4.106701-2.61286-6.418075-3.3730229l-1.258928-.4140344c-5.663362-1.8625623-8.74647-7.9694667-6.886317-13.6401535 1.053663-3.2120906 3.547852-5.7453687 6.740445-6.8460878zM-68.01869077 79.49585842l-20.12990526-33.47160903L103.76876345-69.18751479l20.1299054 33.47160828c3.07261115 5.10907886 1.4155271 11.7408859-3.70119977 14.81255967-2.89830828 1.7399104-6.44409251 2.02525587-9.582349.77113657-12.49436526-4.9930352-26.68080717 1.07817647-31.68630566 13.56042624-.82563028 2.0588776-1.36578616 4.22063593-1.60548107 6.42528824l-.1432415 1.31750012C75.87059765 13.2154035 65.0341537 21.92414581 52.97621631 20.62252338c-2.42163296-.26140655-4.78264084-.92342409-6.98632868-1.95893093-10.97274225-5.15608238-24.05734793-.4490438-29.22528443 10.51346677-1.03789209 2.20163593-1.70193171 4.5602038-1.96492152 6.97911517l-.28648198 2.63500013C13.20370582 50.83557372 2.36726115 59.54431607-9.69067645 58.24269359c-2.42163243-.26140738-4.78264026-.92342472-6.98632986-1.95893691-10.97274063-5.1560767-24.05734639-.4490385-29.22528288 10.51347247-1.03789322 2.20163034-1.70193166 4.56020379-1.9649215 6.97911506l-.14324096 1.31750011c-.64438158 5.92685282-5.9768212 10.21228442-11.91033757 9.57178193-3.36096731-.362806-6.35745842-2.27579363-8.09790155-5.16976783z"})),A=function(e){var t=e.width,n=void 0===t?340:t;return r("svg",{width:n,height:156*n/340,xmlns:"http://www.w3.org/2000/svg",className:f.default.background,viewBox:"0 0 340 156"},void 0,I)};A.displayName="BackgroundWaves",e.exports=t.default},6640:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=c(n(3)),r=c(n(2)),i=c(n(24)),l=c(n(133)),s=c(n(18)),u=c(n(14)),d=c(n(236)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p="IncomingCallStore",h={width:240,height:340},y=10,m=new Set,v=Object.freeze({}),E={},_=new Set,g=0,S=0,T=!1;function C(e){return null!=e&&(null!=E[e]&&(delete E[e],E=o({},E),void(_=new Set(_)).delete(e)))}function N(e){var t=e.channelId,n=e.ringing.includes(u.default.getId());if(!_.has(t)&&n){var a,r=s.default.getChannel(t);if(null==r)return!1;var i=y*_.size;E=o({},E,((a={})[t]={channel:r,x:g+i,y:S+i},a)),(_=new Set(_)).add(t)}else{if(!_.has(t)||n)return!1;C(t)}}function b(){T=d.default.getStatus()===f.StatusTypes.DND}!function(){var e=i.default.get(p);if(e)g=+e.x,S=+e.y;else{var t=l.default.windowSize();g=t.width/2-h.width/2,S=t.height/2-h.height/2}}();var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,d.default),this.syncWith([d.default],b)},t.prototype.getIncomingCalls=function(){return T?v:E},t.prototype.getIncomingCallChannelIds=function(){return T?m:_},t.prototype.getFirstIncomingCallId=function(){return T?null:_.values().next().value},t.prototype.hasIncomingCalls=function(){return!T&&_.size>0},t}(a.default.Store);t.default=new O(r.default,{CALL_CREATE:N,CALL_UPDATE:N,CALL_DELETE:function(e){return C(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return C(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;return g=t,S=n,i.default.set(p,{x:g,y:S}),!1},CHANNEL_DELETE:function(e){return C(e.channel.id)}}),e.exports=t.default},6648:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=y(n(3)),i=y(n(7)),l=y(n(2)),s=y(n(13)),u=y(n(25)),d=y(n(62)),f=y(n(87)),c=y(n(61)),p=y(n(284)),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){var t=s.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function g(e){return{status:f.default.getStatus(e),activity:f.default.getPrimaryActivity(e)}}var S=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return E(t,e),t.prototype.initialize=function(e){this.key=e.key,this.type=e.type,this.status=e.status,this.activity=e.activity,this.user=e.user,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds},a(t,[{key:"comparator",get:function(){return[this.type,this.usernameLower]}}]),t}(y(n(59)).default),T=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,e),this._rows=t}return e.prototype.reset=function(){return new e(i.default.map(c.default.getRelationships(),function(e,t){return new S(o({key:t,type:e},_(t),g(t),function(e){var t=[];return(0,i.default)(d.default.memberOf(e)).map(u.default.getGuild).sortBy(function(e){return null!=e?e.name.toLowerCase():null}).forEach(function(e){null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,h.MAX_MUTUAL_GUILDS)}}(t)))}))},e.prototype.clone=function(){return new e(this._rows)},e.prototype.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var o=this._rows[n],a=o.merge(e(o.key));t=t||a!==o,this._rows[n]=a}return t},e.prototype.filter=function(e){return(0,i.default)(this._rows).filter(function(e){return null!=e.user}).filter(function(t){switch(e){case h.FriendsSections.ONLINE:return t.type===h.RelationshipTypes.FRIEND&&t.status!==h.StatusTypes.OFFLINE;case h.FriendsSections.PENDING:return t.type===h.RelationshipTypes.PENDING_INCOMING||t.type===h.RelationshipTypes.PENDING_OUTGOING;case h.FriendsSections.BLOCKED:return t.type===h.RelationshipTypes.BLOCKED;case h.FriendsSections.ALL:default:return t.type===h.RelationshipTypes.FRIEND}}).sortBy(function(e){return e.comparator}).value()},e.prototype.getRelationshipCounts=function(){var e,t=((e={})[h.RelationshipTypes.FRIEND]=0,e[h.RelationshipTypes.PENDING_INCOMING]=0,e[h.RelationshipTypes.PENDING_OUTGOING]=0,e[h.RelationshipTypes.BLOCKED]=0,e);return this._rows.forEach(function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}),t},e}(),C=!0,N=!1,b=h.FriendsSections.ONLINE,O=new T,I=!0;function A(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C&&(e||b!==h.FriendsSections.ONLINE&&b!==h.FriendsSections.ADD_FRIEND)&&!N&&(C=!1,N=!0,p.default.fetchRelationships())}function M(){O=I?new T:O.reset()}function R(e){return function(){return!I&&(!!O.update(e)&&(O=O.clone(),!0))}}var P=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return E(t,e),t.prototype.initialize=function(){this.waitFor(c.default,f.default,s.default,u.default,d.default),this.syncWith([c.default],M),this.syncWith([s.default],R(_)),this.syncWith([f.default],R(g))},t.prototype.getState=function(){return{fetching:N,section:b,pendingCount:c.default.getPendingCount(),rows:O}},t}(r.default.Store);t.default=new P(l.default,{CONNECTION_OPEN:function(e){return function(){C=!0,I?N=!1:A();var e=(O=O.reset()).getRelationshipCounts();0===e[h.RelationshipTypes.FRIEND]&&(b=0!==e[h.RelationshipTypes.PENDING_INCOMING]?h.FriendsSections.PENDING:h.FriendsSections.ADD_FRIEND)}()},FRIENDS_SET_SECTION:function(e){b=e.section,A()},CHANNEL_SELECT:function(e){var t=e.channelId;return I=null!=t,M()},LOAD_RELATIONSHIPS_SUCCESS:function(e){N=!1},LOAD_RELATIONSHIPS_FAILURE:function(e){return C=!0,void(N=!0)}}),e.exports=t.default},6651:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=d(n(117)),s=d(n(42)),u=d(n(5788));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.setRef=o.setRef.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.setRef=function(e){this._scroller=null!=e?e.getScroller():null},t.prototype.getScrollerNode=function(){var e=this._scroller;return e?e.getScrollerNode():null},t.prototype.render=function(){var e=this.props,t=e.renderFooter,n=e.selectable,o=e.renderHeader,d=e.className,f=e.onClose,c=e.children,p=e.onScroll,h=void 0;return t&&(h=a(l.default.Footer,{direction:s.default.Direction.HORIZONTAL},void 0,t())),r.createElement(l.default,{className:u.default.modal,size:u.default.size,ref:this.setRef,onScroll:p},a(l.default.Header,{},void 0,o(),a(s.default.Child,{grow:0},void 0,a(l.default.CloseButton,{onClick:f}))),a(l.default.Content,{className:(0,i.default)(d,u.default.content,{selectable:n})},void 0,c),h)},t}(r.PureComponent);f.defaultProps={selectable:!1},f.displayName="Markdown",t.default=f,e.exports=t.default},6653:function(e,t,n){"use strict";t.__esModule=!0,t.CALL_AVATAR_VIDEO_RATIO=t.CallAvatarPixelSizes=t.CallAvatarSizes=void 0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(9)),s=n(0),u=y(n(42)),d=y(n(6396)),f=y(n(81)),c=y(n(75)),p=y(n(94)),h=y(n(5799));function y(e){return e&&e.__esModule?e:{default:e}}var m=t.CallAvatarSizes={XXLARGE:"xxlarge",XLARGE:"xlarge",LARGE:"large",SMALL:"small"},v=(t.CallAvatarPixelSizes=((a={})[m.XXLARGE]=100,a[m.XLARGE]=60,a[m.LARGE]=40,a[m.SMALL]=30,a),t.CALL_AVATAR_VIDEO_RATIO=1.78,function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.mode,n=e.selected,o=e.streamId,a=e.hasVideo,i=e.mirror,l=e.videoComponent,f=e.disabled,p=e.poorConnection;if(f)return null;if(t===s.ChannelModes.VIDEO&&(n||p)){var y=void 0;return y=r(c.default,p?{className:h.default.poorConnectionIcon,width:24,height:24,color:s.Colors.WHITE,name:c.default.Names.CAMERA_OFF}:{width:36,height:36,className:h.default.cameraIcon,color:s.Colors.WHITE,name:c.default.Names.VIDEO_CAMERA}),r(u.default,{className:h.default.callAvatarOverlay,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,direction:u.default.Direction.VERTICAL},void 0,y)}return t===s.ChannelModes.VIDEO&&a&&null!=l?r(d.default,{className:h.default.callAvatarVideo,mirror:i,streamId:o,videoComponent:l,fit:d.default.Fit.COVER}):null},t.prototype.renderRipples=function(){return this.props.ringing?[r("div",{className:(0,l.default)(h.default.ripple,h.default.ripple0)},"ripple-0"),r("div",{className:(0,l.default)(h.default.ripple,h.default.ripple1)},"ripple-1"),r("div",{className:(0,l.default)(h.default.ripple,h.default.ripple2)},"ripple-2")]:null},t.prototype.renderTopLayer=function(){var e,t=this.props,n=t.mode,o=t.speaking,a=t.soundsharing,i=t.selected,u=t.muted,d=t.deafen,f=t.disabled,p=o&&!f,y=a&&!f,m=i&&!f,v=u&&!f,E=d&&!f,_=r("div",{className:(0,l.default)(h.default.callAvatarBorder,h.default[n],(e={},e[h.default.selected]=m,e[h.default.soundsharing]=y,e[h.default.speaking]=p,e))},"border"),g=n===s.ChannelModes.VOICE,S=void 0;if(v||E){var T=g?24:20;S=r(c.default,{className:h.default.callAvatarStatus,width:T,height:T,color:s.Colors.WHITE,name:E?c.default.Names.DEAFENED:c.default.Names.MUTED},"status")}return g?[_,S]:[S,_]},t.prototype.render=function(){var e,t,n=this.props,o=n.src,a=n.mode,i=n.size,u=n.id,d=n.onClick,c=n.onContextMenu,y=n.className,m=n.disabled,v=n.name,E={backgroundImage:"url('"+o+"')"},_=r("div",{className:(0,l.default)(h.default.callAvatarWrapper,h.default[a],h.default[i],(e={},e[h.default.disabled]=m,e),y)},void 0,this.renderRipples(),r(f.default,{className:(0,l.default)(h.default.callAvatar,h.default[a],(t={},t[h.default.disabled]=m,t)),style:E,onClick:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d&&d(u,e)}),onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return c&&c(e,u)})},void 0,this.renderContent(),this.renderTopLayer()));return a===s.ChannelModes.VOICE||m?_:r(p.default,{text:v,position:p.default.Positions.LEFT},void 0,_)},t}(i.PureComponent));v.defaultProps={mode:s.ChannelModes.VOICE,size:m.XXLARGE,selected:!1,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,poorConnection:!1},v.displayName="CallAvatar",t.default=v},6654:function(e,t,n){"use strict";t.__esModule=!0,t.BackgroundTransition=void 0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(9)),s=y(n(7)),u=y(n(224)),d=y(n(512)),f=n(56),c=y(n(42)),p=n(0),h=y(n(5802));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=((a={})[p.ChannelLayouts.NORMAL]=h.default.normal,a[p.ChannelLayouts.MINIMUM]=h.default.minimum,a[p.ChannelLayouts.NO_CHAT]=h.default.noChat,a[p.ChannelLayouts.FULL_SCREEN]=h.default.fullScreen,a),g=t.BackgroundTransition=function(e){function t(n){m(this,t);var o=v(this,e.call(this,n));return o.state={animation:new u.default.Value(0)},o}return E(t,e),t.prototype.componentDidAppear=function(){this.state.animation.setValue(1)},t.prototype.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0),u.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)},t.prototype.componentWillLeave=function(e){u.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)},t.prototype.render=function(){return r(u.default.div,{className:h.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)},t}(i.PureComponent);g.displayName="BackgroundTransition";var S=function(e){function t(n){m(this,t);var o=v(this,e.call(this,n));return o._timeout=new f.Timeout,o.state={idle:!1,backgroundAnimation:new u.default.Value(0)},s.default.bindAll(o,["handleMouseEvent"]),o}return E(t,e),t.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0),document.addEventListener("mousemove",this.handleMouseEvent,!0)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0),document.removeEventListener("mousemove",this.handleMouseEvent,!0),this._timeout.stop()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.layout!==e.layout&&(this._timeout.stop(),this.state.idle&&this.setState({idle:!1}))},t.prototype.handleMouseEvent=function(){var e=this,t=this.props.layout;t!==p.ChannelLayouts.FULL_SCREEN&&t!==p.ChannelLayouts.NO_CHAT||(this._timeout.start(3e3,function(){return e.setState({idle:!0})}),this.state.idle&&this.setState({idle:!1}))},t.prototype.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,o=e.layout+"-"+(n||"");return r(d.default,{className:h.default.videoBackground,component:"div"},void 0,r(g,{},o,t))},t.prototype.renderContents=function(){var e,t,n=this.props,o=n.top,a=n.center,i=n.bottom,s=n.layout,u=n.focused,d=this.state.idle;return r(c.default,{className:(0,l.default)(h.default.video,_[s],(e={},e[h.default.idle]=d,e)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.CENTER},void 0,r(c.default,{className:h.default.videoWrapper,direction:c.default.Direction.VERTICAL},void 0,this.renderBackground(),r(c.default,{className:(0,l.default)(h.default.videoInner,(t={},t[h.default.focused]=u,t)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.BETWEEN},void 0,r(c.default,{className:h.default.videoTop,grow:0},void 0,o),r(c.default,{className:h.default.videoCenter},void 0,a),r(c.default,{className:h.default.videoBottom,grow:0},void 0,i))))},t.prototype.render=function(){var e,t=this.props,n=t.layout,o=t.className,a=t.animated;return r("div",{className:(0,l.default)(h.default.videoHeight,_[n],o,(e={},e[h.default.animated]=a,e))},void 0,this.renderContents())},t}(i.PureComponent);S.defaultProps={layout:p.ChannelLayouts.MINIMUM,animated:!0},S.displayName="Video",t.default=S},6655:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=X(n(3)),s=X(n(9)),u=X(n(6)),d=X(n(7292)),f=X(n(294)),c=X(n(148)),p=X(n(271)),h=X(n(284)),y=X(n(7291)),m=X(n(390)),v=X(n(6539)),E=X(n(933)),_=X(n(87)),g=X(n(61)),S=X(n(132)),T=X(n(28)),C=X(n(13)),N=X(n(934)),b=n(530),O=X(b),I=X(n(6092)),A=X(n(45)),M=X(n(932)),R=X(n(42)),P=X(n(6089)),L=X(n(75)),w=X(n(117)),D=X(n(999)),U=X(n(81)),k=X(n(225)),F=X(n(71)),x=X(n(925)),G=X(n(94)),j=n(511),B=X(n(17)),H=n(190),V=n(286),Y=n(385),W=n(0),z=X(n(5803)),K=X(n(1245)),$=X(n(510)),q=X(n(553));function X(e){return e&&e.__esModule?e:{default:e}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ee=42;function te(e){var t=e.className,n=e.children;return r(R.default,{align:R.default.Align.CENTER,justify:R.default.Justify.CENTER,direction:R.default.Direction.VERTICAL,className:(0,s.default)(z.default.errorState,t)},void 0,r("div",{className:(0,s.default)(z.default.errorStateIcon,$.default.marginBottom20)}),n)}te.displayName="ErrorState";var ne=function(e){function t(){var n,o;Q(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=J(this,e.call.apply(e,[this].concat(r))),o.handleMouseEnter=function(){var e=o.props,t=e.onMouseEnter,n=e.row;null!=t&&t(n)},o.handleClick=function(){var e=o.props,t=e.onClick,n=e.user;null!=t&&t(n.id)},J(o,n)}return Z(t,e),t.prototype.getDisplayName=function(){var e=this.props,t=e.user,n=e.comparator;return null!=n&&n===t.tag?t.username:n||t.username},t.prototype.render=function(){var e,t=this.props,n=t.user,o=t.hideDiscriminator,a=t.selected,i=t.checked;return r(U.default,{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,className:z.default.friendWrapper},void 0,r(R.default,{align:R.default.Align.CENTER,className:(0,s.default)(z.default.friend,(e={},e[z.default.friendSelected]=a,e))},void 0,r(N.default,{user:n,status:_.default.getStatus(n.id),outerClassName:z.default.avatar,statusClassName:z.default.status}),r(R.default,{className:z.default.match,align:R.default.Align.BASELINE},void 0,r(F.default,{weight:F.default.Weights.MEDIUM,className:z.default.nickname},void 0,this.getDisplayName()),r(D.default,{user:n,hideDiscriminator:o,className:z.default.discordTag,usernameClass:K.default.weightMedium,discriminatorClass:K.default.weightMedium})),r(M.default,{color:W.Colors.PRIMARY_DARK,size:22,value:i})))},t}(i.PureComponent);ne.displayName="UserRow";var oe=function(e){function t(){var n,o;Q(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=J(this,e.call.apply(e,[this].concat(l))),o.state={separator:!1,copied:!1},o.scrollerRef=i.createRef(),o.searchBarRef=i.createRef(),o.renderRow=function(e,t){var n=e.user,a=e.comparator,i=o.props,l=i.selectedUsers,s=i.selectedRow,u=i.hideDiscriminator,d=l.has(n.id);return r(ne,{row:t,user:n,hideDiscriminator:u,comparator:a,checked:d,selected:t===s,onClick:o.handleClick,onMouseEnter:o.focusResult},n.id)},o.forceFocus=function(){var e=o.searchBarRef.current;e&&e.focus()},o.focusResult=function(e){d.default.select(e)},o.handleSelect=function(e,t){var n=o.props.results;null==t?d.default.clear():null!=n&&o.handleClick(n[t].user.id)},o.handleSelectionChange=function(e,t){d.default.select(t);var n=o.scrollerRef.current;null!=n&&n.scrollIntoViewRect(t*ee,t*ee+ee)},o.handleRemoveUser=function(e){var t=Array.from(o.props.selectedUsers);d.default.removeUser(t[e]),o.forceFocus()},o.handleClick=function(e){var t=o.props,n=t.selectedUsers,a=t.query;!n.has(e)?(d.default.addUser(e),a.length>0&&d.default.clear()):d.default.removeUser(e),o.forceFocus()},o.handleScroll=function(){var e=o.scrollerRef.current;null!=e&&o.setState({separator:0!==e.getScrollTop()})},o.handleInviteUsers=function(){var e=o.props,t=e.channel,n=e.selectedUsers,a=e.onClose,r=Array.from(n);if(null!=t){var i=m.default.isCallActive(t.id);c.default.addRecipients(t.id,r,"Add Friends to DM").then(function(e){i&&f.default.ring(e,r)})}else c.default.openPrivateChannel(C.default.getCurrentUser().id,r,!1,!1,"New Group DM");a()},o.handleCopyInvite=function(e){var t=o.props,n=t.channel,a=t.invite;null!=a&&(0,Y.copy)(e),null!=o.copyTimeout&&clearTimeout(o.copyTimeout),o.setState({copied:!0}),o.copyTimeout=setTimeout(function(){o.setState({copied:!1})},1e3),B.default.track(W.AnalyticEvents.COPY_INSTANT_INVITE,{server:null,channel:null!=n?n.id:null,channel_type:null!=n?n.type:null,location:"Add Friends to DM",code:null!=a?a.code:null})},J(o,n)}return Z(t,e),t.prototype.componentDidMount=function(){var e=this.props.channel;if(null!=e&&e.isGroupDM()&&!this.isPartyFull()){var t={max_age:10800};p.default.createInvite(e.id,t,"Group DM Invite Mount")}var n=(0,H.collectChannelAnalyticsMetadata)(e);null!=e?e.isDM()?B.default.track(W.AnalyticEvents.OPEN_POPOUT,a({},n,{type:"Add Friends to DM",source:"DM",is_friend:!this.isNotFriends()})):B.default.track(W.AnalyticEvents.OPEN_POPOUT,a({},n,{type:"Add Friends to DM",source:"Group DM"})):B.default.track(W.AnalyticEvents.OPEN_POPOUT,a({},n,{type:"New Group DM",source:"Friends List"}))},t.prototype.componentWillUnmount=function(){null!=this.copyTimeout&&clearTimeout(this.copyTimeout)},t.prototype.isNotFriends=function(){var e=this.props.channel;if(null==e||!e.isDM())return!1;var t=e.getRecipientId();if(null==t)throw new Error("no recipient in DM");return!g.default.isFriend(t)},t.prototype.isPartyFull=function(){var e=this.props.channel;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()},t.prototype.getMaxParticipants=function(){return W.MAX_GROUP_DM_PARTICIPANTS},t.prototype.getRemaining=function(){var e=this.props,t=e.channel,n=e.selectedUsers,o=(null==t?0:t.recipients.length)+1;return this.getMaxParticipants()-n.size-o},t.prototype.renderCreateGroupButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers,o=this.getRemaining(),a=null!=t&&0===n.size||o<0;return r(A.default,{fullWidth:!0,disabled:a,onClick:this.handleInviteUsers},void 0,u.default.Messages.CREATE_GROUP_DM)},t.prototype.renderAddUsersButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers;if(null!=t&&!t.isDM()){var o=this.getRemaining(),a=0===n.size||o<0;return r("div",{className:z.default.addButton},void 0,r(A.default,{size:A.default.Sizes.SMALL,disabled:a,onClick:this.handleInviteUsers},void 0,u.default.Messages.ADD))}},t.prototype.renderSubtitle=function(){var e;if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;var t=this.getRemaining(),n=t<=0?u.default.Messages.GROUP_DM_INVITE_FULL_SUB:u.default.Messages.GROUP_DM_INVITE_REMAINING.format({number:t});return r(F.default,{size:F.default.Sizes.SMALL,className:(0,s.default)(z.default.subtitle,(e={},e[z.default.subtitleWarning]=t<0,e),$.default.marginTop4)},void 0,n)},t.prototype.renderSearchBar=function(){var e=this.props,t=e.query,n=e.hasFriends,o=e.results,a=e.selectedRow,l=e.selectedUsers,d=T.default.theme;if(!n||this.isNotFriends())return null;var f=[];return l.forEach(function(e){var t=C.default.getUser(e);null!=t&&f.push(t.username)}),r(R.default,{className:(0,s.default)(z.default.searchBar,$.default.marginTop20)},void 0,i.createElement(I.default,{ref:this.searchBarRef,query:t,selectedSection:0,selectedRow:a,sections:[o?o.length:0],tags:f,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,light:d===W.ThemeTypes.LIGHT,placeholder:0===l.size?u.default.Messages.GROUP_DM_SEARCH_PLACEHOLDER:null,disabled:this.isPartyFull(),className:z.default.searchBarComponent,autoFocus:!0}),this.renderAddUsersButton())},t.prototype.renderHeader=function(){var e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?u.default.Messages.GROUP_DM_ADD_FRIENDS:u.default.Messages.GROUP_DM_HEADER;return r(w.default.Header,{direction:R.default.Direction.VERTICAL,align:R.default.Align.STRETCH,className:z.default.header,separator:e},void 0,r(j.FormTitle,{tag:j.FormTitle.Tags.H4},void 0,t),this.renderSubtitle(),this.renderSearchBar())},t.prototype.renderBody=function(){var e=this,t=this.props,n=t.channel,o=t.hasFriends,a=t.results;if(this.isNotFriends()){var l=null!=n?n.getRecipientId():null;if(null==l)throw new Error("no recipient in DM");var d=C.default.getUser(l),f=null!=d?d.username:"";return r(te,{className:z.default.notFriends},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({username:f})),r(A.default,{size:A.default.Sizes.SMALL,onClick:function(){return d?e.handleAddFriend(d):null},className:$.default.marginTop20},void 0,u.default.Messages.ADD_FRIEND_BUTTON))}if(!o)return r(te,{className:z.default.noFriends},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_NO_FRIENDS));if(this.isPartyFull())return r(te,{className:z.default.partyFull},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_FULL_MAIN),r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_FULL_SUB));if(0===a.length)return r(te,{className:(0,s.default)(z.default.noResults,$.default.marginBottom20)},void 0,r("div",{},void 0,u.default.Messages.GROUP_DM_INVITE_EMPTY));var c=T.default.theme,p=a.map(this.renderRow);return i.createElement(O.default,{ref:this.scrollerRef,className:z.default.scroller,elementHeight:ee,theme:b.Themes.GHOST_HAIRLINE,backgroundColor:c===W.ThemeTypes.LIGHT?void 0:W.Colors.PRIMARY_DARK_630,onUpdate:this.handleScroll,onScroll:this.handleScroll,keyboardScroll:!0,track:!1,paddingTop:0,paddingBottom:14,fade:!0},p)},t.prototype.renderInviteLink=function(){var e,t=this,n=this.props,o=n.channel,a=n.invite,l=n.hideInstantInvites,d=this.state.copied;if(null==o||!o.isGroupDM()||this.isPartyFull())return null;var f=null!=a?(0,V.getInviteURL)(a.code):"";return r(i.Fragment,{},void 0,r(j.FormTitle,{tag:j.FormTitle.Tags.H5,className:$.default.marginBottom8},void 0,u.default.Messages.GROUP_DM_INVITE_LINK_TITLE),r(R.default,{className:(0,s.default)(q.default.input,(e={},e[q.default.success]=d,e)),justify:R.default.Justify.BETWEEN,align:R.default.Align.CENTER},void 0,r(x.default,{className:z.default.copyInput,name:"invite",value:l?u.default.Messages.INSTANT_INVITE_HIDDEN:f,editable:!1,inputClassName:z.default.noBorder,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),Y.SUPPORTS_COPY?r(A.default,{size:A.default.Sizes.SMALL,color:d?A.default.Colors.GREEN:A.default.Colors.BRAND,className:z.default.copyButton,onClick:function(){return t.handleCopyInvite(f)}},void 0,d?u.default.Messages.INVITE_COPIED:u.default.Messages.COPY):null),r(F.default,{size:F.default.Sizes.SMALL,className:(0,s.default)($.default.marginTop8,z.default.footerText)},void 0,u.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:"3"})))},t.prototype.renderFooter=function(){var e=this.props,t=e.hasFriends,n=e.channel;if(this.isNotFriends()||!t||this.isPartyFull())return null;var o=null==n||n.isDM()?this.renderCreateGroupButton():this.renderInviteLink();return null!=o?r(i.Fragment,{},void 0,r("div",{className:z.default.footerSeparator}),r(R.default,{direction:R.default.Direction.VERTICAL,className:z.default.footer},void 0,o)):void 0},t.prototype.render=function(){return r(w.default,{className:z.default.popout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},t.prototype.handleAddFriend=function(e){this.props.onClose(),h.default.sendRequest(e.tag,{location:"Group DM"})},t.prototype.handleQueryChange=function(e){d.default.search(e)},t}(i.PureComponent);oe.displayName="PrivateChannelRecipientsInvitePopout";var ae=l.default.connectStores([y.default,v.default,S.default],function(e){var t=e.channel,n=void 0;return null!=t&&null!=(n=v.default.getInvite(t.id))&&n.isExpired()&&(n=null),a({},y.default.getState(),{invite:n,hideDiscriminator:S.default.hidePersonalInformation,hideInstantInvites:S.default.hideInstantInvites})})(oe),re=function(e){function t(){var n,o;Q(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return n=o=J(this,e.call.apply(e,[this].concat(l))),o.popoutRef=i.createRef(),o.renderPopout=function(e){return i.createElement(ae,a({},e,{channel:o.props.channel}))},J(o,n)}return Z(t,e),t.prototype.componentDidMount=function(){this.maybeForceOpen()},t.prototype.componentDidUpdate=function(e){e.channel!==this.props.channel&&this.maybeForceOpen()},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.tooltip;return i.createElement(k.default,{ref:this.popoutRef,closeOnScroll:!1,render:this.renderPopout,position:k.default.Positions.TOP_RIGHT,shadow:!1,offsetX:5,uniqueId:W.NEW_GROUP_DM_POPOUT_ID,animationType:k.default.Animations.NONE,subscribeTo:W.ComponentActions.TOGGLE_DM_CREATE},r(G.default,{text:n,position:G.default.Positions.BOTTOM},void 0,r(P.default.Icon,{name:null==t?L.default.Names.COMPOSE:L.default.Names.PERSON_PLUS})))},t.prototype.maybeForceOpen=function(){var e=this.props.channel;if(null!=e&&e.isGroupDM()&&0===e.recipients.length&&!E.default.isOpen(W.NEW_GROUP_DM_POPOUT_ID)){var t=this.popoutRef.current;null!=t&&t.open()}},t}(i.Component);re.displayName="PrivateChannelRecipientsInviteButton",t.default=re,e.exports=t.default},6664:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=v(n(9)),s=n(0),u=n(265),d=v(u),f=v(n(999)),c=v(n(75)),p=v(n(42)),h=v(n(7303)),y=n(107),m=v(n(5809));function v(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderActivity=function(){var e=this.props.activity;return null==e?null:r(p.default,{className:m.default.activity,align:p.default.Align.CENTER},void 0,r("div",{className:m.default.activityText},void 0,(0,y.renderActivity)(e)),(0,y.hasRichActivity)(e)?r(c.default,{name:c.default.Names.RICH_ACTIVITY,className:m.default.activityIcon,foreground:m.default.activityIconForeground}):null)},t.prototype.render=function(){var e,t=this.props,n=t.user,o=t.nick,c=t.colorString,p=t.className,v=t.darkenColor,E=t.status,_=t.isTyping,g=t.isOwner,S=t.ownerTooltipText,T=t.activity,C=t.shouldAnimateTypingIndicator,N=t.showMobileIndicator,b=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["user","nick","colorString","className","darkenColor","status","isTyping","isOwner","ownerTooltipText","activity","shouldAnimateTypingIndicator","showMobileIndicator"]);if(null==n)return r(h.default,{avatarSize:u.AvatarSizes.SMALL,className:m.default.placeholder});var O={};null!=c&&(O.color=c);var I=E===s.StatusTypes.OFFLINE,A=I?m.default.avatarOffline:null,M=I?m.default.memberOffline:m.default.memberOnline,R=I?m.default.usernameOffline:m.default.usernameOnline,P=(0,y.isStreaming)(T)?d.default.Statuses.STREAMING:E;return P=I?null:P,i.createElement("div",a({},b,{className:(0,l.default)(M,p)}),r("div",{className:m.default.content},void 0,r("span",{className:m.default.avatarWrapper},void 0,r(d.default,{size:d.default.Sizes.SMALL,src:n.getAvatarURL(),className:A,status:P,statusClassName:C?m.default.statusAnimated:m.default.statusStatic,isTyping:_,shouldAnimateTypingIndicator:C})),r("div",{className:m.default.memberInner},void 0,r(f.default,{className:(0,l.default)(m.default.nameTag,(e={},e[m.default.darken]=null!=c&&v,e)),usernameClass:R,hideDiscriminator:!0,nick:o,isOwner:g,ownerTooltipText:S,ownerIconClass:m.default.ownerIcon,user:n,style:O,showMobileIndicator:N,mobileIndicatorClassName:m.default.mobileIndicator}),this.renderActivity())))},t}(i.PureComponent);E.defaultProps={shouldAnimateTypingIndicator:!0},E.displayName="MemberListItem",t.default=E,e.exports=t.default},6667:function(e,t,n){"use strict";var o;t.__esModule=!0;var a=s(n(2)),r=s(n(12)),i=n(515),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=((o={})[l.HypeSquadHouses.HOUSE_1]=1,o[l.HypeSquadHouses.HOUSE_2]=2,o[l.HypeSquadHouses.HOUSE_3]=3,o);t.default={joinHypeSquadOnline:function(e){return r.default.post({url:l.Endpoints.HYPESQUAD_ONLINE,body:{house_id:u[e.houseID]}}).then(function(){return a.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS,houseID:e.houseID})}).catch(function(e){throw new i.APIError(e)})},leaveHypeSquadOnline:function(){return r.default.delete({url:l.Endpoints.HYPESQUAD_ONLINE}).then(function(){return a.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS})}).catch(function(e){throw new i.APIError(e)})}},e.exports=t.default},6672:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=w(n(1)),u=L(n(3)),d=L(n(2)),f=(n(515),L(n(6190))),c=L(n(6123)),p=L(n(283)),h=L(n(35)),y=w(n(278)),m=w(n(975)),v=w(n(6404)),E=L(n(6671)),_=L(n(6670)),g=L(n(6402)),S=L(n(6088)),T=L(n(6668)),C=L(n(6401)),N=L(n(42)),b=L(n(117)),O=L(n(6189)),I=L(n(511)),A=L(n(45)),M=L(n(6)),R=n(0),P=L(n(5834));function L(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function D(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=Object.freeze({PAYMENT_TYPE:"payment_type",CARD_INFO:"card_info",ADDRESS:"billing_address",PAYPAL:"paypal"}),F=((a={})[k.PAYMENT_TYPE]=M.default.Messages.PAYMENT_SOURCE_TYPE,a[k.CARD_INFO]=M.default.Messages.PAYMENT_SOURCE_INFORMATION,a[k.ADDRESS]=M.default.Messages.BILLING_ADDRESS,a[k.PAYPAL]=M.default.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS,a),x=[k.PAYMENT_TYPE,k.CARD_INFO,k.ADDRESS],G=[k.PAYMENT_TYPE,k.PAYPAL,k.ADDRESS];function j(e){return e.hasCardError()?k.CARD_INFO:e.hasAddressError()?k.ADDRESS:null}var B=i(T.default,{}),H=function(e){function t(){var n,o,a,l=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,f=Array(u),c=0;c<u;c++)f[c]=arguments[c];return o=a=U(this,e.call.apply(e,[this].concat(f))),a.state={step:k.PAYMENT_TYPE,errorStep:null,type:null},a.STEPS_DATA=((n={})[k.PAYMENT_TYPE]={renderBody:function(){return i(E.default,{onChooseType:a.handleChooseType})}},n[k.CARD_INFO]={renderBody:function(){var e=a.props,t=e.creditCardInfo,n=e.error,o=null!=n&&(null==n.code||j(n)===k.CARD_INFO);return i(s.Fragment,{},void 0,o?i(S.default,{className:P.default.errorBlock},void 0,M.default.Messages.BILLING_ERROR_SECTION_CARD):null,s.createElement(_.default,r({},t,{onCardInfoChange:a.handleCardInfoChange,error:o?n:null})))},renderNextButton:function(){var e=a.props,t=e.isCreditCardInfoValid,n=e.submitting;return i(A.default,{disabled:!t,onClick:a.handleNextClick,type:"submit",submitting:n},void 0,M.default.Messages.NEXT)}},n[k.ADDRESS]={renderBody:function(){var e=a.props,t=e.billingAddressInfo,n=e.error,o=null!=n&&(null==n.code||j(n)===k.ADDRESS);return i(s.Fragment,{},void 0,o?i(S.default,{className:P.default.errorBlock},void 0,M.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,s.createElement(g.default,r({},t,{onBillingAddressChange:a.handleBillingAddressChange,error:o?n:null})))},renderNextButton:function(){var e=a.props,t=e.submitting,n=e.isBillingAddressInfoValid;return i(A.default,{type:"submit",submitting:t,disabled:!n,onClick:a.state.type===R.PaymentSourceTypes.PAYPAL?a.handlePaypalSave:a.handleCardSave},void 0,M.default.Messages.SAVE)}},n[k.PAYPAL]={renderBody:function(){return B},renderNextButton:function(){var e=a.props,t=e.submitting,n=e.braintreeNonce,o=null!=e.braintreeEmail&&null!=n;return i(A.default,{submitting:t,look:o?A.default.Looks.FILLED:A.default.Looks.OUTLINED,onClick:o?a.handleNextClick:a.handleReopenPaypal},void 0,o?M.default.Messages.NEXT:M.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN)}},n),a.handleChooseType=function(e){var t=a.getNextStep(e);null!=t&&a.setState({type:e,step:t})},a.handleCardInfoChange=function(e,t){d.default.wait(function(){return v.updateCardInfo(e,t)})},a.handleBillingAddressChange=function(e,t){d.default.wait(function(){return v.updateAddressInfo(e,t)})},a.handleBackClick=function(){var e=a.getPreviousStep();null!=e&&(e===k.PAYMENT_TYPE&&v.clearError(),a.setState({step:e}))},a.handleNextClick=function(){var e=a.getNextStep();null!=e&&a.setState({step:e})},a.handleCardSave=D(regeneratorRuntime.mark(function e(){var t,n,o,i,s,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.creditCardInfo,o=t.billingAddressInfo,i=t.isCreditCardInfoValid,s=t.isBillingAddressInfoValid,u=t.onAddPaymentSource,i&&s){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,y.createCardPaymentSource(r({},n,{billingAddress:o,type:R.PaymentSourceTypes.CARD,isDefault:!1}));case 6:d=e.sent,u&&u(d),h.default.pop(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}},e,l,[[3,11]])})),a.handlePaypalSave=D(regeneratorRuntime.mark(function e(){var t,n,o,r,i,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props,n=t.braintreeEmail,o=t.braintreeNonce,r=t.billingAddressInfo,i=t.onAddPaymentSource,null==n||null==o){e.next=12;break}return e.prev=2,e.next=5,y.createPaypalPaymentSource(o,r);case 5:s=e.sent,i&&i(s),h.default.pop(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,l,[[2,10]])})),U(a,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.error,o=t.errorStep;if(null==n)return null==o?null:{errorStep:null};var a=j(n);return null!=a&&a!==t.errorStep?{step:a,errorStep:a}:null},t.prototype.componentDidMount=function(){m.createClient()},t.prototype.componentWillUnmount=function(){d.default.wait(function(){return m.teardown()}),v.clearCardInfo()},t.prototype.getSteps=function(e){return(null!=e?e:this.state.type)===R.PaymentSourceTypes.PAYPAL?G:x},t.prototype.getNextStep=function(e){var t=this.state.step,n=this.getSteps(e);return n[n.indexOf(t)+1]},t.prototype.getPreviousStep=function(){var e=this.state.step,t=this.getSteps();return t[t.indexOf(e)-1]},t.prototype.preventDefault=function(e){e.preventDefault()},t.prototype.handleReopenPaypal=function(){m.reopenPayPalWindow()},t.prototype.handleClose=function(){h.default.pop()},t.prototype.renderGenericError=function(){var e=this.props.error;return null==e||null!=j(e)?null:i(S.default,{className:P.default.errorBlock},void 0,e.message)},t.prototype.renderFooter=function(){var e=this.stepData;return null==e.renderNextButton?null:i(b.default.Footer,{},void 0,i(N.default,{justify:N.default.Justify.BETWEEN},void 0,i(A.default,{onClick:this.handleBackClick,color:A.default.Colors.WHITE,look:A.default.Looks.LINK,size:A.default.Sizes.MIN},void 0,M.default.Messages.BACK),e.renderNextButton()))},t.prototype.render=function(){var e=this.state.step,t=this.getSteps(),n=(e===k.PAYMENT_TYPE?x:t).map(function(e){return{id:e,label:F[e]}});return i(b.default,{size:b.default.Sizes.SMALL,className:P.default.modal},void 0,i("form",{className:P.default.form,onSubmit:this.preventDefault},void 0,i(b.default.Header,{separator:!1},void 0,i(N.default,{direction:N.default.Direction.VERTICAL},void 0,i(N.default,{className:P.default.modalTitle,justify:N.default.Justify.BETWEEN,align:N.default.Align.CENTER},void 0,i(I.default.FormTitle,{tag:I.default.FormTitleTags.H4},void 0,M.default.Messages.PAYMENT_SOURCES_ADD),i(b.default.CloseButton,{onClick:this.handleClose})),this.renderGenericError(),i(O.default,{breadcrumbs:n,activeId:e}))),i("div",{className:P.default.divider}),i(b.default.Content,{className:P.default.modalContent},void 0,i(C.default,{step:e,steps:t},void 0,this.stepData.renderBody())),this.renderFooter()))},l(t,[{key:"stepData",get:function(){var e=this.state.step,t=this.STEPS_DATA[e];if(null==t)throw new Error("Invalid step "+e);return t}}]),t}(s.PureComponent);H.displayName="AddPaymentModal",t.default=u.default.connectStores([f.default,p.default,c.default],function(){return{braintreeEmail:f.default.braintreeEmail,braintreeNonce:f.default.braintreeNonce,creditCardInfo:f.default.getCreditCardInfo(),isCreditCardInfoValid:f.default.isCardInfoValid,billingAddressInfo:f.default.getBillingAddressInfo(),isBillingAddressInfoValid:f.default.isBillingAddressInfoValid,error:f.default.error,submitting:c.default.isBusy}})(H),e.exports=t.default},6674:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(45)),l=u(n(6122)),s=u(n(6));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=d(this,e.call.apply(e,[this].concat(r))),o.cancel=function(){var e=o.props.onClose;e&&e()},o.confirm=function(){var e=o.props,t=e.onConfirm,n=e.onClose;n&&n(),t()},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(l.default,{},void 0,a(l.default.Header,{},void 0,s.default.Messages.PREMIUM_GRANDFATHERED_WARNING_TITLE),a(l.default.Content,{type:l.default.Types.GRANDFATHERED},void 0,s.default.Messages.PREMIUM_GRANDFATHERED_WARNING.format()),a(l.default.Footer,{secondary:{onClick:this.cancel,label:s.default.Messages.NEVERMIND},primaryRenderer:a(i.default,{color:i.default.Colors.RED,onClick:this.confirm},void 0,s.default.Messages.PREMIUM_GRANDFATHERED_WARNING_CONFIRM)}))},t}(r.Component);f.displayName="GrandfatheredWarningModal",t.default=f,e.exports=t.default},6675:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(3)),a=i(n(2)),r=(n(0),i(n(6405)));function i(e){return e&&e.__esModule?e:{default:e}}var l=[];var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPayment=function(e){return l.find(function(t){return t.id===e})},t.prototype.getPayments=function(){return l},t}(o.default.Store);t.default=new s(a.default,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){var t=e.payments;l=t.map(function(e){return r.default.createFromServer(e)})},LOGOUT:function(e){l=[]}}),e.exports=t.default},6676:function(e,t,n){"use strict";t.__esModule=!0,t.getSanitizedRestrictedGuilds=function(){var e=a.default.restrictedGuilds;0===o.default.totalUnavailableGuilds&&(e=e.filter(function(e){return null!=r.default.getGuild(e)}));return e},t.computeFlags=function(){var e,t,n=a.default.friendSourceFlags;return n[i.FriendSourceFlagKeys.ALL]?((t={})[i.FriendSourceFlagKeys.ALL]=!0,t[i.FriendSourceFlagKeys.FRIENDS]=!0,t[i.FriendSourceFlagKeys.GUILDS]=!0,t):((e={})[i.FriendSourceFlagKeys.ALL]=!1,e[i.FriendSourceFlagKeys.FRIENDS]=!!n[i.FriendSourceFlagKeys.FRIENDS],e[i.FriendSourceFlagKeys.GUILDS]=!!n[i.FriendSourceFlagKeys.GUILDS],e)},t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return s>Date.now()-new Date(e.created_at).getTime()};var o=l(n(287)),a=l(n(28)),r=l(n(25)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=864e5*i.REQUEST_DATA_LIMIT_DAYS},6678:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=u(n(9)),s=u(n(5856));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.tag,n=e.children,o=e.hoverText,u=e.className,d=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["tag","children","hoverText","className"]);return i.createElement("div",a({},d,{className:(0,l.default)(u,s.default.hoverRoll)}),r(t,{className:s.default.default},void 0,n),r(t,{className:s.default.hovered},void 0,o))},t}(i.PureComponent);d.defaultProps={tag:"div"},d.displayName="HoverRoll",t.default=d,e.exports=t.default},6679:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={addKeybind:function(){r.default.dispatch({type:i.ActionTypes.KEYBINDS_ADD_KEYBIND})},setKeybind:function(e){r.default.dispatch({type:i.ActionTypes.KEYBINDS_SET_KEYBIND,keybind:e})},deleteKeybind:function(e){r.default.dispatch({type:i.ActionTypes.KEYBINDS_DELETE_KEYBIND,id:e})},enableAll:function(e){r.default.dirtyDispatch({type:i.ActionTypes.KEYBINDS_ENABLE_ALL_KEYBINDS,enable:e})}},e.exports=t.default},6680:function(e,t,n){e.exports=n.p+"0694f38cb0b10cc3b5b89366a0893768.svg"},6681:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=s(n(3)),r=s(n(2)),i=n(0),l=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}var u={avatar:null,discriminator:"",username:"",email:"",password:"",newPassword:null},d=i.FormStates.CLOSED,f=null,c=null,p=o({},u),h=!1,y=null,m=null,v=null;function E(){d=i.FormStates.OPEN,f={},c=l.default.getCurrentUser(),p=o({},u),h=null!=c.email,y=c.verified,v=!1,h?m=!1:_({isEditingProfile:!0})}function _(e){(m=e.isEditingProfile)&&null!=c?p={avatar:c.avatar,discriminator:c.discriminator,username:c.username,email:c.email,password:"",newPassword:null}:(d=i.FormStates.OPEN,p=o({},u),f={},v=!1)}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return{formState:d,errors:f,user:c,accountInfo:p,claimed:h,verified:y,isEditingProfile:m,isEditingPassword:v}},t}(a.default.Store);t.default=new g(r.default,{USER_SETTINGS_ACCOUNT_INIT:function(e){return E()},USER_SETTINGS_MODAL_INIT:function(e){return E()},USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS:function(e){return E()},USER_SETTINGS_MODAL_SET_SECTION:function(e){return e.section===i.UserSettingsSections.ACCOUNT&&E()},USER_SETTINGS_ACCOUNT_CLOSE:function(e){return d=i.FormStates.CLOSED,f=null,c=null,p=o({},u),h=!1,y=null,m=null,void(v=null)},USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PROFILE:_,USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PASSWORD:function(e){var t=null;(v=e.isEditingPassword)&&(t=""),p=o({},p,{newPassword:t})},USER_SETTINGS_ACCOUNT_UPDATE_INFO:function(e){var t=e.update;p=o({},p,t)},USER_SETTINGS_ACCOUNT_SUBMIT:function(e){return d=i.FormStates.SUBMITTING,void(f={})},USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE:function(e){if(d!==i.FormStates.SUBMITTING)return!1;d=i.FormStates.OPEN,f=e.errors||{}},CURRENT_USER_UPDATE:function(e){var t=e.user;h=null!=t.email;var n=!y;y=t.verified,n&&y&&_({isEditingProfile:!1})}}),e.exports=t.default},6682:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=l(n(11)),r=l(n(109)),i=n(7411);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFileContents=function(){var e=this.props.fileContents;return"function"==typeof e&&(e=e()),e},t.prototype.handleFileDownload=function(e){e.preventDefault();var t=this.getFileContents(),n=this.props.fileName;a.default.embedded?this.downloadNative(t,n):this.downloadHtml5(t,n)},t.prototype.downloadNative=function(e,t){r.default.fileManager.saveWithDialog(e,t)},t.prototype.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,i.saveAs)(n,t)},t.prototype.render=function(){var e=this.props.children,t=o.Children.only(e);return o.cloneElement(t,{onClick:this.handleFileDownload.bind(this)})},t}(o.Component);s.displayName="FileDownloader",t.default=s,e.exports=t.default},6683:function(e,t,n){"use strict";t.__esModule=!0,t.hasCrypto=void 0,t.generateTotpSecret=function(){return e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return i.getRandomValues(new Uint8Array(e))}(),r.default.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e},t.encodeTotpSecret=l,t.encodeTotpSecretAsUrl=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Discord";return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+l(t)+"&issuer="+encodeURIComponent(n)};var o,a=n(7420),r=(o=a)&&o.__esModule?o:{default:o};var i=window&&window.crypto||window.msCrypto;t.hasCrypto=i&&"getRandomValues"in i&&"Uint8Array"in window;function l(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}},6684:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getUserSettingsSections=function(){return X().filter(function(e){var t=e.section;return t!==W.SectionTypes.HEADER&&t!==W.SectionTypes.CUSTOM&&t!==W.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=$(n(3)),s=$(n(6)),u=$(n(6368)),d=$(n(166)),f=$(n(71)),c=$(n(7422)),p=$(n(7401)),h=$(n(7400)),y=$(n(7398)),m=$(n(7397)),v=$(n(7394)),E=$(n(7392)),_=$(n(7388)),g=$(n(7386)),S=$(n(7381)),T=$(n(7378)),C=$(n(7375)),N=$(n(7372)),b=$(n(7371)),O=$(n(7361)),I=$(n(7360)),A=$(n(7359)),M=$(n(7358)),R=$(n(7339)),P=$(n(7332)),L=$(n(7314)),w=$(n(35)),D=$(n(930)),U=$(n(370)),k=$(n(6399)),F=n(270),x=$(n(28)),G=$(n(7313)),j=$(n(569)),B=$(n(55)),H=$(n(533)),V=$(n(190)),Y=$(n(11)),W=n(6097),z=$(n(376)),K=n(0);function $(e){return e&&e.__esModule?e:{default:e}}var q=I.default;function X(){return[{section:W.SectionTypes.HEADER,label:s.default.Messages.USER_SETTINGS},{section:K.UserSettingsSections.ACCOUNT,label:s.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:c.default},{section:K.UserSettingsSections.PRIVACY_AND_SAFETY,label:s.default.Messages.PRIVACY_AND_SAFETY,element:A.default},{section:K.UserSettingsSections.AUTHORIZED_APPS,label:s.default.Messages.AUTHORIZED_APPS,element:g.default},{section:K.UserSettingsSections.CONNECTIONS,label:s.default.Messages.CONNECTIONS,element:m.default},{section:K.UserSettingsSections.BILLING,label:s.default.Messages.BILLING,element:R.default},{section:W.SectionTypes.DIVIDER},{section:K.UserSettingsSections.PREMIUM,label:s.default.Messages.PREMIUM_TITLE,element:M.default,color:K.Colors.BRAND},{section:K.UserSettingsSections.HYPESQUAD_ONLINE,label:s.default.Messages.USER_SETTINGS_HYPESQUAD,element:P.default},{section:W.SectionTypes.DIVIDER},{section:W.SectionTypes.HEADER,label:s.default.Messages.APP_SETTINGS},{section:K.UserSettingsSections.VOICE,label:s.default.Messages.VOICE_AND_VIDEO,element:b.default,predicate:function(){return B.default.isSupported()}},{section:K.UserSettingsSections.OVERLAY,label:s.default.Messages.OVERLAY,element:O.default,predicate:function(){return H.default.isSupported()}},{section:K.UserSettingsSections.NOTIFICATIONS,label:s.default.Messages.NOTIFICATIONS,element:N.default},{section:K.UserSettingsSections.KEYBINDS,label:s.default.Messages.KEYBINDS,element:E.default,predicate:function(){return Y.default.embedded||!1}},{section:K.UserSettingsSections.GAME_ACTIVITY,label:s.default.Messages.USER_SETTINGS_GAME_ACTIVITY,element:T.default,predicate:function(){return Y.default.embedded||!1}},{section:K.UserSettingsSections.GAME_LIBRARY,label:s.default.Messages.USER_SETTINGS_GAME_LIBRARY,element:C.default,predicate:function(){return Y.default.isWindows()||!1}},{section:K.UserSettingsSections.TEXT,label:s.default.Messages.TEXT_AND_IMAGES,element:y.default},{section:K.UserSettingsSections.APPEARANCE,label:s.default.Messages.APPEARANCE,element:v.default},{section:K.UserSettingsSections.STREAMER_MODE,label:s.default.Messages.STREAMER_MODE,element:_.default},{section:K.UserSettingsSections.LOCALE,label:s.default.Messages.LANGUAGE,element:S.default},{section:K.UserSettingsSections.WINDOWS,label:s.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:I.default,predicate:function(){return Y.default.embedded&&Y.default.isWindows()}},{section:K.UserSettingsSections.LINUX,label:s.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:q,predicate:function(){return Y.default.embedded&&Y.default.isLinux()}},{section:W.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return k.default.showChangeLog()},label:s.default.Messages.CHANGE_LOG},{section:K.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:p.default,predicate:function(){return j.default.isDeveloper}},{section:K.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:h.default,predicate:function(){return j.default.isDeveloper}},{section:W.SectionTypes.DIVIDER},{section:"logout",onClick:function(){w.default.push(function(e){return i.createElement(d.default,a({header:s.default.Messages.LOGOUT,confirmText:s.default.Messages.LOGOUT,cancelText:s.default.Messages.CANCEL,onConfirm:function(){return D.default.logout()}},e),r(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,s.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},label:s.default.Messages.LOGOUT,color:K.Colors.STATUS_RED},{section:W.SectionTypes.DIVIDER},{section:W.SectionTypes.CUSTOM,element:L.default}]}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;V.default.trackWithMetadata(K.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",origin_pane:t,destination_pane:e})}t.default=l.default.connectStores([G.default,x.default],function(){return{theme:x.default.theme,section:G.default.getSection()}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){Q(this.props.section)},t.prototype.componentDidUpdate=function(e){var t=e.section,n=this.props.section;n!==t&&Q(n,t)},t.prototype.generateSections=function(){return X()},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section;return r(z.default,{root:!0,page:K.AnalyticsPages.USER_SETTINGS},void 0,r(u.default,{theme:t,section:n,onSetSection:U.default.setSection,onClose:F.popLayer,sections:this.generateSections()}))},t}(i.PureComponent))},6685:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(12)),a=r(n(14));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return location.protocol+"//"+location.host+e};t.default={get:function(){return o.default.get(i("/__development/build_overrides")).then(function(e){return e.body||{}})},put:function(e){return o.default.put({url:i("/__development/build_overrides"),body:e,headers:{Authorization:a.default.getToken()||""}}).catch(function(e){return e})},clear:function(){return o.default.delete({url:i("/__development/build_overrides")})},getPublicLink:function(e){return o.default.post({url:i("/__development/create_build_override_link"),body:e,headers:{Authorization:a.default.getToken()||""}}).then(function(e){return{url:e.body.url,error:!1}},function(e){return 400===e.status?{url:!1,error:e.body}:{url:!1,error:"Error making API request ("+e.status+")"}})},shouldCheckForBuildOverride:function(){return-1!==window.document.cookie.indexOf("buildOverride=")},EXPIRATION_OPTIONS:[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}]},e.exports=t.default},6686:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(946),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);var l=(0,r.default)(i.Experiments.AUDIO_ISSUE_NOTICE_MIC_TESTER_WEB,"Audio Issue Notice - Mic Tester - Web","Modifies the no audio detected nag bar to link to user settings voice as well as adding a mic tester in user settings voice.");t.default=l,e.exports=t.default},6687:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(946),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);var l=(0,r.default)(i.Experiments.AUDIO_ISSUE_NOTICE_MIC_TESTER,"Audio Issue Notice - Mic Tester","Modifies the no audio detected nag bar to link to user settings voice as well as adding a mic tester in user settings voice.");t.default=l,e.exports=t.default},6692:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=u(n(3)),r=u(n(24)),i=u(n(2)),l=u(n(190)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d="channelNotices",f="lastHiddenChannelNotice",c={},p=0,h=!1,y=0;function m(){r.default.set(d,c),r.default.set(f,p)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=r.default.get("showInviteNotice"),t=r.default.get(d)||{};p=r.default.get(f)||0,Object.keys(s.ChannelNoticeTypes).forEach(function(e){return c[e]=!0}),Object.keys(t).forEach(function(e){c[e]&&"boolean"==typeof t[e]&&(c[e]=t[e])}),null!=e&&(r.default.remove("showInviteNotice"),"boolean"==typeof e&&(c.INVITE=e)),m()},t.prototype.getState=function(){return h?{noticeStates:c,lastHidden:p}:{noticeStates:{},lastHidden:0}},t.prototype.shouldShowInviteNotice=function(){return r.default.get("showInviteNotice")||!1},t.prototype.getVersion=function(){return y},t}(a.default.Store);t.default=new v(i.default,{CONNECTION_OPEN:function(e){return h=!0,void(y+=1)},CONNECTION_CLOSED:function(e){return h=!1,void(y+=1)},CHANNEL_NOTICE_HIDE:function(e){var t=e.noticeType;c[t]=!1,c=o({},c),t!==s.ChannelNoticeTypes.MFA_WARNING&&(p=Date.now()),m(),l.default.trackWithMetadata(s.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:t}),y+=1}}),e.exports=t.default},6699:function(e,t,n){"use strict";t.__esModule=!0,t.StatusItem=t.PopoutMenuSeparator=t.PopoutMenuItemLabel=t.PopoutMenuItem=t.PopoutMenuIcon=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),s=c(n(224)),u=c(n(6195)),d=n(1018),f=c(n(5887));function c(e){return e&&e.__esModule?e:{default:e}}(t.PopoutMenuIcon=function(e){var t=e.icon;return r("div",{className:f.default.icon,style:{backgroundImage:'url("'+t+'")'}})}).displayName="PopoutMenuIcon";var p=function(e){var t=e.children,n=e.type,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["children","type"]);return i.createElement("div",a({className:(0,l.default)(f.default.item,null!=n?f.default[n]:null)},o),t)};p.displayName="PopoutMenuItem",t.PopoutMenuItem=p,(t.PopoutMenuItemLabel=function(e){var t=e.children;return r("div",{className:f.default.label},void 0,t)}).displayName="PopoutMenuItemLabel",(t.PopoutMenuSeparator=function(){return r("div",{className:f.default.separator})}).displayName="PopoutMenuSeparator",(t.StatusItem=function(e){var t=e.status,n=e.children,o=e.onSelect;return r(p,{onClick:function(){return o(t)}},void 0,r("div",{className:f.default.statusIconText},void 0,r(u.default,{defaultStatus:t,style:{marginRight:14},hideTooltip:!0}),r("div",{},void 0,(0,d.humanizeStatus)(t))),r("div",{className:f.default.helper},void 0,n))}).displayName="StatusItem";var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,o=t.alt;return r(s.default.div,{className:(0,l.default)(n,f.default.menu,(e={},e[f.default.alt]=o,e))},void 0,this.props.children)},t}(i.PureComponent);h.displayName="PopoutMenu",t.default=h},6706:function(e,t,n){"use strict";t.__esModule=!0,t.markView=function(e){r.default.dispatch({type:i.ActionTypes.VIEW_HISTORY_MARK_VIEW,key:e})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6707:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(3)),a=l(n(2)),r=l(n(165)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(r.default)},t.prototype.getExperimentId=function(){return i.Experiments.APPLICATION_LIBRARY_PREMIUM},t.prototype.getMetaData=function(){return{title:"Application Library Premium Badges",description:["Control: Off","Treatment 1: Library with tabs","Treatment 2: Library with tabs and badging Nitro users","Treatment 3: Library with tabs and badging all users"]}},t.prototype.getExperimentDescriptor=function(){return r.default.getEligibleExperiment(this.getExperimentId())},t}(o.default.Store);t.default=new s(a.default),e.exports=t.default},6708:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),s=c(n(75)),u=c(n(81)),d=c(n(5905)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){return r("div",{className:e.className},void 0,e.children)};h.displayName="RowHeader";var y=function(e){return r("div",{className:e.className},void 0,e.children)};y.displayName="Row";var m=function(e){return r("div",{className:e.className},void 0,e.children)};m.displayName="Cell";var v=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=p(this,e.call.apply(e,[this].concat(r))),o.handleSort=function(e){var t=o.props,n=t.sortKey,a=t.sortDirection,r=t.onSort;null!=r&&r(e,n===e&&a===f.TableSortDirections.ASCENDING?f.TableSortDirections.DESCENDING:f.TableSortDirections.ASCENDING)},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isSortable=function(e){return null!=e.sort&&!1!==e.sort},t.prototype.getDefaultSort=function(e){return function(t,n){var o=t[e],a=n[e];return null!=o&&null!=a?o===a?0:o<a?-1:1:0}},t.prototype.renderHeader=function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.props,a=o.columns,i=o.data,c=o.sortDirection,p=o.sortKey,y=o.headerCellClassName,m=o.headerClassName,v=o.sortedHeaderCellClassName,E=o.stickyHeader,_=a.map(function(e){var n,o=null!=e.renderHeader?e.renderHeader(e,i):e.key;return r(u.default,{className:(0,l.default)(d.default.headerCell,y,e.headerCellClassName,e.cellClassName,(n={},n[v||d.default.sortedHeaderCell]=p===e.key,n[d.default.clickable]=t.isSortable(e),n)),onClick:t.isSortable(e)?function(){return t.handleSort(e.key)}:null},e.key,r("div",{className:d.default.headerCellContent},void 0,o,t.isSortable(e)&&p===e.key?r(s.default,{name:c===f.TableSortDirections.ASCENDING?s.default.Names.ARROW_DROP_UP:s.default.Names.ARROW_DROP_DOWN,className:d.default.sortIcon}):null))});return r(h,{className:(0,l.default)(m,d.default.row,(e={},e[d.default.stickyHeader]=E&&!n,e[d.default.spacerHeader]=E&&n,e))},void 0,_)},t.prototype.renderBody=function(){var e=this.props,t=e.columns,n=e.data,o=e.sortData,r=e.sortKey,s=e.sortDirection,u=e.bodyCellClassName,c=e.rowClassName,p=e.cellProps,h=e.rowProps,y=e.rowComponent,m=e.cellComponent,v=n;if(o){var E=null!=r?t.find(function(e){return e.key===r}):null,_=[].concat(n),g=null!=E&&E.sort,S=null!=E&&null!=r&&this.isSortable(E)?_.sort("function"==typeof g?function(e,t){return g(e,t,s)}:this.getDefaultSort(r)):_;v=null!=E&&s===f.TableSortDirections.DESCENDING?S.reverse():S}return v.map(function(e,n){var o=t.map(function(t){return i.createElement(m,a({},p,{key:t.key,item:e,className:(0,l.default)(u,t.bodyCellClassName,t.cellClassName)}),null!=t.render?t.render(e,p,n):e[t.key])});return i.createElement(y,a({},h,{key:e.key,item:e,className:(0,l.default)(d.default.row,c)}),o)})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.hasHeader,o=e.stickyHeader;return r("div",{className:t},void 0,n?this.renderHeader():null,n&&o?this.renderHeader(!0):null,this.renderBody())},t}(i.PureComponent);v.SortDirection=f.TableSortDirections,v.defaultProps={initialSortDirection:f.TableSortDirections.ASCENDING,rowHeaderComponent:h,rowComponent:y,cellComponent:m,hasHeader:!0,sortData:!0,stickyHeader:!1},v.displayName="Table",t.default=v,e.exports=t.default},6709:function(e,t,n){"use strict";t.__esModule=!0,t.sortList=function(e,t){r.default.dispatch({type:i.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})},t.updateLibraryFilter=function(e){r.default.dispatch({type:i.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})},t.updateActiveRowKey=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.default.dispatch({type:i.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,key:e,isKeyboardEvent:t})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},6710:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=C(n(9)),u=C(n(224)),d=C(n(5)),f=n(523),c=n(151),p=C(n(145)),h=C(n(45)),y=C(n(979)),m=C(n(6546)),v=C(n(378)),E=C(n(228)),_=n(0),g=C(n(6)),S=C(n(5923)),T=C(n(992));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=N(this,e.call.apply(e,[this].concat(r))),o.state={hasVideoError:!1,hasVideoEnded:!1,isMouseOver:!1},o._animatedBackground=new u.default.Value(0),o._animatedText=new u.default.Value(0),o._zIndex=new u.default.Value(1),o.promotionVideoRef=l.createRef(),o.componentWillEnter=function(e){var t=o.props.getDirection();o._zIndex.setValue(1===t?2:1),1===t&&(o._animatedBackground.setValue(-1),u.default.timing(o._animatedBackground,{toValue:0,duration:250,delay:100}).start()),o._animatedText.setValue(-t),u.default.timing(o._animatedText,{toValue:0,delay:300,duration:200}).start(e)},o.handleVideoError=function(){o.setState({hasVideoError:!0})},o.handlePromotionBuyClick=function(e){var t=o.props.onPromotionBuyClick;null!=t&&t(e),e.stopPropagation()},o.handlePromotionViewInStoreClick=function(e){var t=o.props.onOpen;null!=t&&t(e),e.stopPropagation()},o.handlePromotionVideoEnd=function(){o.setState({hasVideoEnded:!0}),o.state.isMouseOver&&null!=o.promotionVideoRef.current&&o.promotionVideoRef.current.play()},o.handleMouseEnter=function(){o.setState({isMouseOver:!0}),o.state.hasVideoEnded&&null!=o.promotionVideoRef.current&&(o.promotionVideoRef.current.currentTime=0,o.promotionVideoRef.current.play())},o.handleMouseLeave=function(){o.setState({isMouseOver:!1})},N(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){this.props.forcePauseVideo!==e.forcePauseVideo&&null!=this.promotionVideoRef.current&&(this.props.forcePauseVideo?this.promotionVideoRef.current.pause():this.state.hasVideoEnded||this.promotionVideoRef.current.play())},t.prototype.componentWillLeave=function(e){var t=this.props.getDirection();this._zIndex.setValue(1===t?1:2),u.default.timing(this._animatedText,{toValue:t,duration:200}).start(),1===t?setTimeout(e,350):u.default.timing(this._animatedBackground,{toValue:-1,delay:200,duration:200}).start(e)},t.prototype.getRootStyle=function(){var e=this.props.horizontal?{translateX:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})};return u.default.accelerate({transform:[{scale:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[1.015,1,1.015]})},e],opacity:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:u.default.Easing.out(u.default.Easing.ease)}),zIndex:this._zIndex})},t.prototype.getTextStyle=function(){return{transform:[this.props.horizontal?{translateX:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})}],opacity:this._animatedText.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:u.default.Easing.in(u.default.Easing.ease)}),zIndex:1}},t.prototype.renderBackground=function(){var e,t,n=this.props,o=n.item,a=n.application,i=n.itemHeight,u=n.simple,d=n.forcePauseVideo,f=this.state,p=f.hasVideoError,h=f.hasVideoEnded,y=f.isMouseOver,m=void 0;o.type===_.FeedCarouselItemTypes.PROMOTION&&null!=o.promotion.videoUrl&&(m=l.createElement("video",{className:(0,s.default)(S.default.backgroundVideo,(t={},t[S.default.backgroundVideoInvisible]=(p||h)&&!y,t)),onEnded:this.handlePromotionVideoEnd,muted:!0,autoPlay:!d,ref:this.promotionVideoRef,onError:this.handleVideoError},r("source",{src:o.promotion.videoUrl,type:"video/mp4"})));var v=void 0,E=void 0,g=void 0,T=void 0;if(o.type===_.FeedCarouselItemTypes.APPLICATION_NEWS){var C=o.news.thumbnail;null!=C&&(E=C.proxy_url||C.url,g=u&&null!=i?2*i:C.height,T=C.width)}else o.type===_.FeedCarouselItemTypes.PROMOTION&&null!=o.promotion.imageUrl&&(E=o.promotion.imageUrl,g=_.PROMOTION_ASSET_HEIGHT,T=_.PROMOTION_ASSET_WIDTH);if(null!=E&&null!=g&&null!=T){var N=800*(g/T);v=(0,c.getSizedImageSrc)(E,800,N,"png")}else null!=a&&(v=a.getSplashURL(800));return r("div",{className:S.default.background},void 0,r("div",{className:(0,s.default)(S.default.backgroundImage,null==v?S.default.backgroundBackup:null,(e={},e[S.default.backgroundImageInvisible]=null!=m&&!h&&!p,e)),style:null!=v?{backgroundImage:"url("+v+")"}:null}),m)},t.prototype.renderApplicationIcon=function(){var e=this.props,t=e.application,n=e.item,o=e.onGamePopoutOpen,a=e.onGamePopoutClose;if(null==t||n.type===_.FeedCarouselItemTypes.PROMOTION)return null;var i=r(m.default,{game:t,onOpen:o,onClose:a,source:_.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:T.default.iconHover},void 0,r(v.default,{game:t}));return r("div",{className:S.default.applicationArea},void 0,i)},t.prototype.renderExclusive=function(){var e=this.props.item;return e.type===_.FeedCarouselItemTypes.PROMOTION&&e.promotion.destination.type===_.PromotionTypes.GAME&&e.promotion.destination.sku.exclusive?r("span",{className:S.default.exclusive},void 0,"First on Discord"):null},t.prototype.renderPromotionActionButton=function(){var e=this.props,t=e.item,n=e.application,o=e.simple;return t.type!==_.FeedCarouselItemTypes.PROMOTION?null:t.promotion.destination.type===_.PromotionTypes.GENERAL?t.promotion.destination.linkUrl.startsWith(_.Routes.APPLICATION_STORE)||null!=t.promotion.ctaButtonLabel?r("div",{className:o?S.default.promotionActionButtonSimple:S.default.promotionActionButtonStandard},void 0,r(h.default,{size:h.default.Sizes.SMALL,color:h.default.Colors.GREEN},void 0,t.promotion.ctaButtonLabel||g.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK)):null:null==n?null:r("div",{className:o?S.default.promotionActionButtonSimple:S.default.promotionActionButtonStandard},void 0,r(y.default,{application:n,size:h.default.Sizes.SMALL,onClick:this.handlePromotionBuyClick,source:_.AnalyticsLocations.CAROUSEL_PROMOTION_UNIT,storeListingAnalyticsProperties:{source_promotion_id:t.promotion.id}}))},t.prototype.render=function(){var e=this.props,t=e.item,n=e.onOpen,o=e.className,a=e.simple,i=void 0,l=void 0,c=void 0,h=void 0;t.type===_.FeedCarouselItemTypes.APPLICATION_NEWS?(i=t.news.url,l=t.news.title,c=t.news.description,h=t.news.timestamp):(l=t.promotion.title,c=t.promotion.description,t.promotion.destination.type===_.PromotionTypes.GENERAL&&(i=t.promotion.destination.linkUrl));var y=null!=i&&i.startsWith("/");return r(p.default,{href:i,target:y?"":"_blank",onClick:n},void 0,r(u.default.div,{style:this.getRootStyle(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:(0,s.default)(a?S.default.articleSimple:S.default.articleStandard,o)},void 0,this.renderBackground(),r(u.default.div,{style:this.getTextStyle()},void 0,this.renderApplicationIcon(),this.renderExclusive(),!0===a?r("div",{className:S.default.titleRowSimple},void 0,r("div",{className:S.default.titleStandard},void 0,l),this.renderPromotionActionButton()):r("div",{className:S.default.details},void 0,r("div",{className:S.default.titleStandard},void 0,l),null!=c?r("div",{className:S.default.description},void 0,c):null,null!=h?r("div",{className:S.default.timestamp},void 0,(0,f.dateFormat)((0,d.default)(h),"LL")):null,r("div",{},void 0,this.renderPromotionActionButton())))))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return a({},e,{object:_.AnalyticsObjects.BUTTON_CTA})}}]),t}(l.PureComponent);b.displayName="ActivityFeedCarouselItem",t.default=(0,E.default)(b),e.exports=t.default},6741:function(e,t,n){var o={"./af":6330,"./af.js":6330,"./ar":6329,"./ar-dz":6328,"./ar-dz.js":6328,"./ar-kw":6327,"./ar-kw.js":6327,"./ar-ly":6326,"./ar-ly.js":6326,"./ar-ma":6325,"./ar-ma.js":6325,"./ar-sa":6324,"./ar-sa.js":6324,"./ar-tn":6323,"./ar-tn.js":6323,"./ar.js":6329,"./az":6322,"./az.js":6322,"./be":6321,"./be.js":6321,"./bg":6320,"./bg.js":6320,"./bm":6319,"./bm.js":6319,"./bn":6318,"./bn.js":6318,"./bo":6317,"./bo.js":6317,"./br":6316,"./br.js":6316,"./bs":6315,"./bs.js":6315,"./ca":6314,"./ca.js":6314,"./cs":6313,"./cs.js":6313,"./cv":6312,"./cv.js":6312,"./cy":6311,"./cy.js":6311,"./da":6310,"./da.js":6310,"./de":6309,"./de-at":6308,"./de-at.js":6308,"./de-ch":6307,"./de-ch.js":6307,"./de.js":6309,"./dv":6306,"./dv.js":6306,"./el":6305,"./el.js":6305,"./en-au":6304,"./en-au.js":6304,"./en-ca":6303,"./en-ca.js":6303,"./en-gb":6302,"./en-gb.js":6302,"./en-ie":6301,"./en-ie.js":6301,"./en-il":6300,"./en-il.js":6300,"./en-nz":6299,"./en-nz.js":6299,"./eo":6298,"./eo.js":6298,"./es":6297,"./es-do":6296,"./es-do.js":6296,"./es-us":6295,"./es-us.js":6295,"./es.js":6297,"./et":6294,"./et.js":6294,"./eu":6293,"./eu.js":6293,"./fa":6292,"./fa.js":6292,"./fi":6291,"./fi.js":6291,"./fo":6290,"./fo.js":6290,"./fr":6289,"./fr-ca":6288,"./fr-ca.js":6288,"./fr-ch":6287,"./fr-ch.js":6287,"./fr.js":6289,"./fy":6286,"./fy.js":6286,"./gd":6285,"./gd.js":6285,"./gl":6284,"./gl.js":6284,"./gom-latn":6283,"./gom-latn.js":6283,"./gu":6282,"./gu.js":6282,"./he":6281,"./he.js":6281,"./hi":6280,"./hi.js":6280,"./hr":6279,"./hr.js":6279,"./hu":6278,"./hu.js":6278,"./hy-am":6277,"./hy-am.js":6277,"./id":6276,"./id.js":6276,"./is":6275,"./is.js":6275,"./it":6274,"./it.js":6274,"./ja":6273,"./ja.js":6273,"./jv":6272,"./jv.js":6272,"./ka":6271,"./ka.js":6271,"./kk":6270,"./kk.js":6270,"./km":6269,"./km.js":6269,"./kn":6268,"./kn.js":6268,"./ko":6267,"./ko.js":6267,"./ky":6266,"./ky.js":6266,"./lb":6265,"./lb.js":6265,"./lo":6264,"./lo.js":6264,"./lt":6263,"./lt.js":6263,"./lv":6262,"./lv.js":6262,"./me":6261,"./me.js":6261,"./mi":6260,"./mi.js":6260,"./mk":6259,"./mk.js":6259,"./ml":6258,"./ml.js":6258,"./mn":6257,"./mn.js":6257,"./mr":6256,"./mr.js":6256,"./ms":6255,"./ms-my":6254,"./ms-my.js":6254,"./ms.js":6255,"./mt":6253,"./mt.js":6253,"./my":6252,"./my.js":6252,"./nb":6251,"./nb.js":6251,"./ne":6250,"./ne.js":6250,"./nl":6249,"./nl-be":6248,"./nl-be.js":6248,"./nl.js":6249,"./nn":6247,"./nn.js":6247,"./pa-in":6246,"./pa-in.js":6246,"./pl":6245,"./pl.js":6245,"./pt":6244,"./pt-br":6243,"./pt-br.js":6243,"./pt.js":6244,"./ro":6242,"./ro.js":6242,"./ru":6241,"./ru.js":6241,"./sd":6240,"./sd.js":6240,"./se":6239,"./se.js":6239,"./si":6238,"./si.js":6238,"./sk":6237,"./sk.js":6237,"./sl":6236,"./sl.js":6236,"./sq":6235,"./sq.js":6235,"./sr":6234,"./sr-cyrl":6233,"./sr-cyrl.js":6233,"./sr.js":6234,"./ss":6232,"./ss.js":6232,"./sv":6231,"./sv.js":6231,"./sw":6230,"./sw.js":6230,"./ta":6229,"./ta.js":6229,"./te":6228,"./te.js":6228,"./tet":6227,"./tet.js":6227,"./tg":6226,"./tg.js":6226,"./th":6225,"./th.js":6225,"./tl-ph":6224,"./tl-ph.js":6224,"./tlh":6223,"./tlh.js":6223,"./tr":6222,"./tr.js":6222,"./tzl":6221,"./tzl.js":6221,"./tzm":6220,"./tzm-latn":6219,"./tzm-latn.js":6219,"./tzm.js":6220,"./ug-cn":6218,"./ug-cn.js":6218,"./uk":6217,"./uk.js":6217,"./ur":6216,"./ur.js":6216,"./uz":6215,"./uz-latn":6214,"./uz-latn.js":6214,"./uz.js":6215,"./vi":6213,"./vi.js":6213,"./x-pseudo":6212,"./x-pseudo.js":6212,"./yo":6211,"./yo.js":6211,"./zh-cn":6210,"./zh-cn.js":6210,"./zh-hk":6209,"./zh-hk.js":6209,"./zh-tw":6208,"./zh-tw.js":6208};function a(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=6741},6853:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e){return(0,p.default)(function(t){function n(){var e,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d];return r=m(this,t.call.apply(t,[this].concat(l))),e=r,r.handleApplicationContextMenu=function(e,t,n){var i=r.props.analyticsContext;(0,s.openContextMenu)(e,function(e){return a.createElement(u.default,o({},e,{type:h.ContextMenuTypes.APPLICATION_ACTIVITY_FEED,applicationId:t.id,analyticsContext:i}))},{onClose:n})},m(r,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.render=function(){return a.createElement(e,o({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onApplicationContextMenu:this.handleApplicationContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))},n.prototype.handleMessageUser=function(e,t){return l.default.openPrivateChannel(r.default.getId(),t.id)},n.prototype.handleUserContextMenu=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.ContextMenuTypes.USER_GENERIC_LIST,r=arguments[3];(0,s.openContextMenu)(e,function(e){return a.createElement(f.default,o({},e,{type:n,user:t}))},{onClose:r})},n.prototype.handleGuildContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return a.createElement(d.default,o({},e,{type:h.ContextMenuTypes.GUILD_ACTIVITY_FEED,guild:t}))})},n.prototype.handleChannelContextMenu=function(e,t){if(null==t)return null;var n=i.default.getGuild(t.getGuildId());(0,s.openContextMenu)(e,function(e){return a.createElement(c.default,o({},e,{type:h.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE,channel:t,guild:n}))})},n}(a.Component))};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=y(n(14)),i=y(n(25)),l=y(n(148)),s=n(32),u=y(n(949)),d=y(n(6141)),f=y(n(929)),c=y(n(6140)),p=y(n(228)),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},6854:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(9))),i=s(n(42)),l=s(n(6015));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.title,n=e.children,o=e.className;return a("div",{className:(0,r.default)(l.default.section,o)},void 0,null!=t?a(i.default,{align:i.default.Align.CENTER},void 0,a("div",{className:l.default.sectionTitle},void 0,t),a("div",{className:l.default.sectionLine})):null,n)};u.displayName="Section",t.default=u,e.exports=t.default},6855:function(e,t,n){"use strict";t.__esModule=!0,t.GameCardTypes=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=B(n(1)),l=j(n(3)),s=j(n(17)),u=B(n(541)),d=n(298),f=j(n(87)),c=j(n(974)),p=j(n(22)),h=j(n(164)),y=j(n(170)),m=j(n(63)),v=j(n(46)),E=j(n(42)),_=j(n(225)),g=j(n(94)),S=j(n(265)),T=j(n(6546)),C=j(n(378)),N=j(n(528)),b=j(n(6545)),O=j(n(1226)),I=j(n(958)),A=j(n(954)),M=j(n(45)),R=j(n(979)),P=j(n(6854)),L=j(n(521)),w=j(n(6544)),D=n(0),U=j(n(6853)),k=j(n(6)),F=j(n(5968)),x=j(n(5583)),G=j(n(992));function j(e){return e&&e.__esModule?e:{default:e}}function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W=function(e){function t(){return H(this,t),V(this,e.apply(this,arguments))}return Y(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.status,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["user","status"]);return i.createElement(S.default,r({},o,{src:t.getAvatarURL(),status:n}))},t}(i.PureComponent);W.displayName="GameCardAvatar";var z=l.default.connectStores([f.default],function(e){var t=e.user;return{status:f.default.getStatus(t.id)}})(W),K=t.GameCardTypes=Object.freeze({NOW_PLAYING:"1",RECENTLY_PLAYED:"2"}),$=function(e){function t(){var n,o;H(this,t);for(var l=arguments.length,d=Array(l),f=0;f<l;f++)d[f]=arguments[f];return n=o=V(this,e.call.apply(e,[this].concat(d))),o.state={hoveredUserId:null,isMouseOver:!1},o.handleMouseEnter=function(){o.setState({isMouseOver:!0})},o.handleMouseLeave=function(){o.setState({isMouseOver:!1})},o.renderUserPopout=function(e,t){return i.createElement(L.default,r({},t,{user:e}))},o.renderUserTooltip=function(e){var t=e.user,n=e.startedPlaying,o=e.stoppedPlaying;return a("div",{className:F.default.soloAvatarTooltip},void 0,a("div",{},void 0,t.tag),a(A.default,{className:F.default.soloAvatarTooltipTimestamp,start:n,end:o,location:A.default.Locations.ACTIVITY_FEED}))},o.renderOverflowPlayer=function(e,t,n,r){if(null!=e){var i=e.user;return a(_.default,{render:function(e){return o.renderUserPopout(i,e)},position:_.default.Positions.LEFT,closeOnScroll:!1,shadow:!1},n,a(g.default,{text:o.renderUserTooltip(e)},void 0,a(S.default,{onContextMenu:function(e){return o.props.onUserContextMenu(e,i)},src:i.getAvatarURL(),size:S.default.Sizes.SMALL,className:F.default.soloAvatar})))}},o.renderOverflowPlayerOverflow=function(e,t,n,r){if(null==r)throw new Error("player overflow number cannot be null");var i=o.props.players.map(function(e){return e.user});return a(_.default,{render:function(){return a(w.default,{party:i,header:k.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:i.length})})}},"overflow",a(g.default,{text:k.default.Messages.GAME_FEED_USER_OVERFLOW.format({overflow:r})},void 0,a("div",{className:F.default.overflowUserOverflow},void 0,e)))},o.setActivityFeedCardRef=function(e){var t=o.props.setActivityFeedCardRef;null!=t&&t(e)},o.handleMouseEnterUser=function(e){o.setState({hoveredUserId:e})},o.handleMouseLeaveUser=function(){o.setState({hoveredUserId:null})},o.handleUserPopoutOpen=function(e,t){s.default.track(D.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,r({},o.getMetadata(),{popout_user_id:e.id,avatar_position:t}))},o.handleMessage=function(e,t){var n=o.props,a=n.loadId,r=n.index,i=n.game;(0,n.onMessageUser)(e,t).then(function(e){u.trackUserMessaged(t,e,i,null,{loadId:a,index:r,type:D.ActivityCardTypes.GAME})})},o.handleNewsClick=function(e){var t=o.props,n=t.game,a=t.index;u.trackGameNewsOpened(D.AnalyticsLocations.ACTIVITY_FEED,e,null,n,{loadId:c.default.loadId,index:a,type:D.ActivityCardTypes.GAME})},V(o,n)}return Y(t,e),t.prototype.renderPlayer=function(e,t){var n=this,o=this.props.onUserContextMenu,r=e.user,i=e.startedPlaying,l=e.stoppedPlaying;return a("div",{className:F.default.player,onMouseEnter:function(){return n.handleMouseEnterUser(r.id)},onMouseLeave:this.handleMouseLeaveUser,onContextMenu:function(e){return o(e,r)}},r.id,a(E.default,{},void 0,a(_.default,{render:function(e){return n.renderUserPopout(r,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(r,t)},closeOnScroll:!1},void 0,a(z,{user:r,className:F.default.avatar})),a("div",{className:F.default.info},void 0,a(_.default,{render:function(e){return n.renderUserPopout(r,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(r,t)},closeOnScroll:!1},void 0,a(N.default,{user:r,className:F.default.tag,usernameClass:F.default.username,discriminatorClass:F.default.discriminator})),a(A.default,{className:F.default.playTime,start:i,end:l,location:A.default.Locations.ACTIVITY_FEED})),this.state.hoveredUserId===r.id?a(M.default,{color:M.default.Colors.PRIMARY,hover:M.default.Hovers.BRAND,onClick:function(e){return n.handleMessage(e,r)}},void 0,k.default.Messages.GAME_FEED_ACTION_MESSAGE):null))},t.prototype.getMaxToShowWithoutOverflow=function(){var e=this.props.players;return null==e?0:e.length>4?3:4},t.prototype.getMaxOverflowUsers=function(){return Math.floor((this.props.width-40-28)/38)+1},t.prototype.getMetadata=function(){var e=this.props,t=e.game,n=e.index;return{load_id:c.default.loadId,card_index:n,card_type:D.ActivityCardTypes.GAME,game_id:t.id,game_name:t.name,af_news:null!=c.default.news}},t.prototype.renderPlayers=function(){var e=this,t=this.props.players;if(null==t||0===t.length)return null;var n=this.getMaxToShowWithoutOverflow(),o=t.slice(0,n).map(function(t,n){return e.renderPlayer(t,n)});return a(P.default,{},void 0,o)},t.prototype.renderPlayersOverflow=function(){var e=this.props,t=e.type,n=e.players,o=this.getMaxToShowWithoutOverflow();if(null==n||n.length<=o)return null;var r=t===K.NOW_PLAYING?k.default.Messages.GAME_FEED_ACTIVITY_MORE_PLAYING_COUNT.format({count:n.length-o}):k.default.Messages.GAME_FEED_ACTIVITY_MORE_RECENTLY_PLAYED_COUNT.format({count:n.length-o}),i=a(I.default,{users:n.slice(o),max:this.getMaxOverflowUsers(),className:F.default.overflownPlayers,renderUser:this.renderOverflowPlayer,renderMoreUsers:this.renderOverflowPlayerOverflow});return a(P.default,{className:F.default.playerBottomPadding,title:r},void 0,i)},t.prototype.renderNews=function(){var e=this,t=this.props,n=t.game,o=t.news,r=t.onVideoPlay;if(null!=o)return a(P.default,{className:F.default.sectionBottomPadding,title:k.default.Messages.GAME_FEED_ARTICLE_TYPE_NEWS},void 0,a(O.default,{news:o,game:n,onClick:function(){return e.handleNewsClick(o)},onVideoPlay:r,className:F.default.news}))},t.prototype.renderHeaderActions=function(){var e=this.props,t=e.game,n=e.isDiscordStoreApplication,o=e.hasLibraryApplication,r=!n||o;return a(R.default,{className:r?F.default.headerButtonHide:null,source:D.AnalyticsLocations.ACTIVITY_FEED,application:t,size:M.default.Sizes.SMALL,color:x.default.headerButtonColor,pauseAnimation:!this.state.isMouseOver})},t.prototype.render=function(){var e=this.props,t=e.game,n=e.onApplicationContextMenu;return i.createElement(b.default,{className:F.default.card,ref:this.setActivityFeedCardRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a(b.default.Header,{className:F.default.cardHeader,splashArtURL:t.getSplashURL(512)},void 0,a("div",{className:F.default.headerContent,onContextMenu:function(e){return n(e,t)}},void 0,a(T.default,{game:t,source:D.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:G.default.iconHover},void 0,a(C.default,{game:t,onContextMenu:function(e){return n(e,t)}})),a(T.default,{game:t,source:D.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:G.default.textHover},void 0,a("div",{className:F.default.headerTitle},void 0,t.name))),this.renderHeaderActions()),a(b.default.Body,{className:F.default.cardBody},void 0,this.renderPlayers(),this.renderPlayersOverflow(),this.renderNews()))},t}(i.PureComponent);$.displayName="GameCard",t.default=l.default.connectStores([p.default,m.default,v.default,y.default,m.default,h.default],function(e){var t=e.game,n=v.default.getFirstLibraryApplication(t.id),o=null!=n?n.branchId:null,a=t.primarySkuId;return{hasLibraryApplication:null!=n,isDiscordStoreApplication:null!=a&&!h.default.didFetchingSkuFail(a),canPlay:(0,d.isLaunchable)(v.default,p.default,m.default,y.default,t.id,o)}})((0,U.default)($))},6856:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.fetchConsents=function(){return i.default.get({url:l.Endpoints.SETTINGS_CONSENT}).then(u,function(e){return Promise.reject(new Error(e.body.message))})},t.setConsents=function(e,t){return i.default.post({url:l.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t}}).then(u,d)};var a=s(n(6)),r=s(n(2)),i=s(n(12)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return null!=e&&null!=e.body&&r.default.dispatch({type:l.ActionTypes.UPDATE_CONSENTS,consents:o({},e.body)}),e.body}function d(e){var t=void 0;throw t=e.status>=500&&e.status<=599?a.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:a.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED,new Error(t)}},7041:function(e,t,n){"use strict";t.__esModule=!0;var o=h(n(3)),a=n(56),r=h(n(24)),i=h(n(2)),l=n(96),s=h(n(22)),u=h(n(57)),d=h(n(28)),f=h(n(46)),c=h(n(134)),p=h(n(539));n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y="ActivityTrackingStore",m=18e5,v=3e5,E=4004,_=r.default.get(y)||{},g={},S=!1;function T(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&C(e,!0);var t=g[e.applicationId];null!=t&&(t.stop(),delete g[e.applicationId]),delete _[e.applicationId],r.default.set(y,_)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Date.now(),o=null!=e.updatedAt?n-e.updatedAt:0;o>m+v&&(o=0),p.default.updateActivity(e.applicationId,e.isDiscordApplication,(0,l.shouldShareApplicationActivity)(e.applicationId,d.default,f.default,c.default),e.token,Math.floor(o/1e3),t),e.updatedAt=n;var i=g[e.applicationId];null==i&&(i=g[e.applicationId]=new a.Interval).start(m,function(){return C(e)}),t||(_[e.applicationId]=e,r.default.set(y,_))}function N(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=u.default.getRunningGames(),n=new Set(u.default.getRunningDiscordApplicationIds()),o=new Set,a=t,r=Array.isArray(a),i=0;for(a=r?a:a[Symbol.iterator]();;){var l;if(r){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}var d=l.name,f=s.default.getGameByName(d);null!=f&&(o.add(f.id),f.id in _||C({applicationId:f.id,updatedAt:Date.now(),isDiscordApplication:n.has(f.id)}))}var c=Object.keys(_),p=Array.isArray(c),h=0;for(c=p?c:c[Symbol.iterator]();;){var y;if(p){if(h>=c.length)break;y=c[h++]}else{if((h=c.next()).done)break;y=h.value}var m=y;o.has(m)||T(_[m],e)}}function b(){var e=Object.keys(_),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var o;if(t){if(n>=e.length)break;o=e[n++]}else{if((n=e.next()).done)break;o=n.value}T(_[o])}S=!1}var O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,d.default,f.default,c.default),this.syncWith([d.default],N)},t.prototype.getActivities=function(){return _},t}(o.default.Store);t.default=new O(i.default,{RUNNING_GAMES_CHANGE:function(e){return N()},CONNECTION_OPEN:function(e){return function(){if(S)return!1;var e=Object.keys(_),t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var o;if(t){if(n>=e.length)break;o=e[n++]}else{if((n=e.next()).done)break;o=n.value}C(_[o])}N(!1),S=!0}()},CONNECTION_CLOSED:function(e){e.code===E&&b()},LOGOUT:function(e){return b()},ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,o=_[t];if(null==o)return!1;o.token=n,r.default.set(y,_)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=_[t];if(null==n)return!1;n.token=null,n.updatedAt=null,r.default.set(y,_)}}),e.exports=t.default},7042:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(56),r=n(7),i=(o=r)&&o.__esModule?o:{default:o};var l=6e4,s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subscriptions={},this._unsubscriptions={},this._unsubscribe=new a.DelayedCall(l,function(){return n.flushUnsubscriptions()}),this._onChange=t}return e.prototype.reset=function(){this._subscriptions={},this._unsubscriptions={},this._unsubscribe.cancel()},e.prototype.get=function(e){var t=this._subscriptions[e]||{};return i.default.keys(t)},e.prototype.clear=function(e){delete this._subscriptions[e],delete this._unsubscriptions[e]},e.prototype.subscribe=function(e,t){var n=this._subscriptions[e]||{};n[t]=(n[t]||0)+1,this._subscriptions[e]=n,1===n[t]&&this._onChange(e,this.get(e)),this.checkForLeaks(e,t)},e.prototype.isSubscribed=function(e,t){return null!=this._subscriptions[e]&&null!=this._subscriptions[e][t]},e.prototype.unsubscribe=function(e,t){if(this.isSubscribed(e,t)){var n=this._unsubscriptions[e]||{};n[t]=(n[t]||0)+1,this._unsubscriptions[e]=n,1===n[t]&&this._unsubscribe.delay(!1)}},e.prototype.checkForLeaks=function(e,t){var n=(this._subscriptions[e]&&this._subscriptions[e][t]||0)-(this._unsubscriptions[e]&&this._unsubscriptions[e][t]||0);n>5&&console.warn("GuildMemberSubscriptions.subscribe(...): Potential reference leak! ("+n+" subscriptions)")},e.prototype.flushUnsubscriptions=function(){var e=this;i.default.isEmpty(this._unsubscriptions)||(i.default.forEach(this._unsubscriptions,function(t,n){var o=e._subscriptions[n];i.default.forEach(t,function(e,t){o[t]=(o[t]||0)-e,o[t]<=0&&delete o[t]}),i.default.isEmpty(o)&&delete e._subscriptions[n],e._onChange(n,e.get(n))}),this._unsubscriptions={})},e}();t.default=s,e.exports=t.default},7043:function(e,t,n){"use strict";t.__esModule=!0,t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(1212);Object.defineProperty(t,"MINIMUM_RANGE",{enumerable:!0,get:function(){return a.MINIMUM_RANGE}}),Object.defineProperty(t,"DEFAULT_RANGES",{enumerable:!0,get:function(){return a.DEFAULT_RANGES}});var r=d(n(7)),i=n(56),l=d(n(7042)),s=d(a),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return null!=e&&"null"!==e&&e!==u.ME&&"undefined"!==e}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._members=new l.default(function(e,t){return n._enqueue(e,{members:t})}),this._channels=new s.default(function(e,t){return n._enqueue(e,{channels:t})}),this._typing=new Set,this._activities=new Set,this._subscribed=new Set,this._pending=new Set,this._flush=new i.DelayedCall(0,function(){return n.flush()}),this._onChange=t}return e.prototype._enqueue=function(e,t){this._pending[e]=o({},this._pending[e],t),this._flush.delay()},e.prototype.reset=function(){this._subscribed.clear(),this._pending={},this._members.reset(),this._channels.reset(),this._typing.clear(),this._activities.clear()},e.prototype.get=function(e){return{typing:this._typing.has(e),activities:this._activities.has(e),members:this._members.get(e),channels:this._channels.get(e)}},e.prototype.forEach=function(e){this._subscribed.forEach(e)},e.prototype.clear=function(e){this._subscribed.delete(e),delete this._pending[e],this._members.clear(e),this._channels.clear(e),this._typing.delete(e),this._activities.delete(e)},e.prototype.flush=function(){var e=this;r.default.forEach(this._pending,function(t,n){e._subscribed.add(n),e._onChange(n,t)}),this._pending={}},e.prototype.subscribeUser=function(e,t){f(e)&&this._members.subscribe(e,t)},e.prototype.unsubscribeUser=function(e,t){f(e)&&this._members.unsubscribe(e,t)},e.prototype.subscribeChannel=function(e,t,n){f(e)&&this._channels.subscribe(e,t,n)},e.prototype.subscribeTyping=function(e){f(e)&&(this._typing.has(e)||(this._typing.add(e),this._enqueue(e,{typing:!0})))},e.prototype.subscribeActivities=function(e){f(e)&&(this._activities.has(e)||(this._activities.add(e),this._enqueue(e,{activities:!0})))},e}();t.default=c},7044:function(e,t,n){"use strict";t.__esModule=!0;var o=v(n(3)),a=n(7043),r=v(a),i=v(n(25)),l=v(n(62)),s=v(n(14)),u=v(n(187)),d=v(n(65)),f=v(n(231)),c=v(n(6129)),p=v(n(237)),h=v(n(61)),y=v(n(2)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var E=void 0;function _(){S.forEach(function(e){e===u.default.getGuildId()||e===f.default.getGuildId()||null!=E&&E.guildId===e||S.clear(e)})}function g(e,t){S.subscribeTyping(e),S.subscribeActivities(e),null!=t&&c.default.getSection()===m.ChannelSections.MEMBERS&&S.subscribeChannel(e,t,a.DEFAULT_RANGES)}var S=new r.default(function(e,t){y.default.dispatch({type:m.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:t})});function T(e){e.type===m.ActionTypes.CONNECTION_OPEN&&_();var t=u.default.getGuildId();return null!=t&&g(t,d.default.getChannelId(t)),S.forEach(function(e){null==i.default.getGuild(e)?S.clear(e):y.default.dirtyDispatch({type:m.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:S.get(e)})}),!1}function C(){var e=p.default.getSyncingWith();if(null==e)null!=E&&(S.unsubscribeUser(E.guildId,E.userId),E=null);else{var t=e.userId;if(null!=E&&E.userId===t)return!1;if(h.default.isFriend(t))return!1;var n=l.default.memberOf(t);if(0===n.length)return!1;var o=n[0];E={guildId:o,userId:t},S.subscribeUser(o,t)}return!1}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,u.default,d.default,f.default,s.default,c.default),this.syncWith([p.default],C)},t}(o.default.Store);t.default=new N(y.default,{CONNECTION_OPEN:T,CONNECTION_RESUMED:T,CONNECTION_CLOSED:function(e){return _(),!1},IDLE:function(e){return e.idle&&_(),!1},LOGOUT:function(e){return S.reset(),!1},GUILD_SELECT:function(e){return g(e.guildId),!1},GUILD_DELETE:function(e){var t=e.guild;return S.clear(t.id),!1},GUILD_SUBSCRIPTIONS_MEMBERS_ADD:function(e){var t=e.guildId;return e.userIds.forEach(function(e){e!==s.default.getId()&&S.subscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE:function(e){var t=e.guildId;return e.userIds.forEach(function(e){S.unsubscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_CHANNEL:function(e){var t=e.guildId,n=e.channelId,o=e.ranges;return S.subscribeChannel(t,n,o),!1},CHANNEL_PRELOAD:function(e){return g(e.guildId,e.channelId),!1}}),e.exports=t.default},7045:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(56),r=n(7),i=(o=r)&&o.__esModule?o:{default:o};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,n){l(this,e),this._pendingRequests=new Set,this._sentRequests=new Set,this._unacknowledgedRequests=new Set,this._guildId=t,this._guildMemberExists=function(e){return n(t,e)}}return e.prototype.acknowledge=function(e){this._unacknowledgedRequests.delete(e),this._pendingRequests.delete(e)},e.prototype.flushRequests=function(e){var t=this;if(0!==this._pendingRequests.size){var n=[];this._pendingRequests.forEach(function(e){t._guildMemberExists(e)||(t._unacknowledgedRequests.add(e),t._sentRequests.add(e),n.push(e))}),n.length>0&&e(this._guildId,n),this._pendingRequests.clear()}},e.prototype.requestUnacknowledged=function(){var e=this;return 0!==this._unacknowledgedRequests.size&&(this._unacknowledgedRequests.forEach(function(t){e._guildMemberExists(t)?e._unacknowledgedRequests.delete(t):e._pendingRequests.add(t)}),0!==this._pendingRequests.size&&void 0)},e.prototype.request=function(e){if(this._guildMemberExists(e)||this._sentRequests.has(e)||this._pendingRequests.has(e))return!1;this._pendingRequests.add(e)},e}(),u=function(){function e(t,n){var o=this;l(this,e),this._guildStates={},this._flush=new a.DelayedCall(0,function(){return o.flushRequests()}),this._guildMemberExists=t,this._onChange=n}return e.prototype.reset=function(){this._guildStates={},this._flush.cancel()},e.prototype.request=function(e,t){!1!==this._getGuildState(e).request(t)&&this._flush.delay()},e.prototype.acknowledge=function(e,t){this._getGuildState(e).acknowledge(t)},e.prototype.flushRequests=function(){var e=this;i.default.forEach(this._guildStates,function(t){return t.flushRequests(e._onChange)})},e.prototype.requestUnacknowledged=function(){i.default.reduce(this._guildStates,function(e,t){return!1!==t.requestUnacknowledged()||t},!1)&&this._flush.delay()},e.prototype._getGuildState=function(e){var t=this._guildStates[e];return null==t&&(t=this._guildStates[e]=new s(e,this._guildMemberExists)),t},e}();t.default=u,e.exports=t.default},7046:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),a=d(n(7)),r=d(n(18)),i=d(n(62)),l=d(n(7045)),s=d(n(2)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var f=new l.default(i.default.isMember,function(e,t){s.default.dispatch({type:u.ActionTypes.GUILD_MEMBERS_REQUEST,guildIds:[e],userIds:t})});function c(){f.reset()}function p(e,t){return f.request(e,t),!1}function h(e,t){return t.forEach(function(t){var n=t.author,o=t.mentions;null!=n&&p(e,n.id),o.forEach(function(t){return p(e,t.id)})}),!1}function y(e){var t=e.channelId,n=e.messages,o=r.default.getChannel(t);return null!=o&&null!=o.guild_id&&h(o.guild_id,n)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(r.default,i.default)},t}(o.default.Store);t.default=new m(s.default,{CONNECTION_CLOSED:function(e){return c()},CONNECTION_OPEN:function(e){return c()},CONNECTION_RESUMED:function(e){return f.requestUnacknowledged(),!1},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members,o=e.notFound;return n.forEach(function(e){f.acknowledge(t,e.user.id)}),null!=o&&o.forEach(function(e){return f.acknowledge(t,e)}),!1},SEARCH_FINISH:function(e){var t=e.searchId,n=e.messages;return h(t,a.default.flatten(n))},LOAD_MESSAGES_SUCCESS:y,LOAD_MESSAGES_AROUND_SUCCESS:y,LOAD_PINNED_MESSAGES_SUCCESS:y,LOAD_RECENT_MENTIONS_SUCCESS:y}),e.exports=t.default},7047:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),a=u(n(2)),r=u(n(11)),i=(n(0),u(n(22))),l=u(n(57)),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var d={};function f(){r.default.embedded&&r.default.isWindows()&&r.default.ensureModule("discord_vigilante").then(function(){var e=r.default.requireModule("discord_vigilante"),t=l.default.getRunningGames(),n=s.default.map(t,function(e){return e.pid.toString()});d=s.default.pick(d,n);var o=(0,s.default)(t).reject(function(e){return e.pid in d}).map(function(e){return[e.pid,i.default.getGameByName(e.name)||i.default.getGameByName(e.processName)]}).filter(function(e){return null!=e[1]}).filter(function(t){var n=t[1];return e.hasSidekick(n.id)}).map(function(t){var n=t[0],o=t[1];return[n,e.spawnSidekick(n,o.id)]}).value();d=s.default.assign(d,s.default.fromPairs(o))})}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,l.default)},t}(o.default.Store);t.default=new c(a.default,{RUNNING_GAMES_CHANGE:function(e){return f()},GAMES_DATABASE_UPDATE:function(e){return f()}}),e.exports=t.default},7048:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),a=d(n(2)),r=(n(0),d(n(11))),i=d(n(407)),l=d(n(25)),s=d(n(231)),u=d(n(167));function d(e){return e&&e.__esModule?e:{default:e}}var f=18e6,c=void 0,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t}(o.default.Store);t.default=new h(a.default,{IDLE:function(e){var t=e.idleSince;if(r.default.embedded&&(clearTimeout(c),clearTimeout(p),null!=t&&!s.default.isDisabled())){var n=s.default.getChannelId();if(null!=n){p=setTimeout(function(){u.default.selectVoiceChannel(null,null)},f);var o=l.default.getGuild(s.default.getGuildId());null!=o&&null!=o.afkChannelId&&o.afkChannelId!==n&&null!=o.afkTimeout&&(c=setTimeout(function(){null!=(o=l.default.getGuild(s.default.getGuildId()))&&null!=o.afkChannelId&&u.default.selectVoiceChannel(o.id,o.afkChannelId)},t+1e3*o.afkTimeout-Date.now()))}}}}),e.exports=t.default},7049:function(e,t,n){"use strict";t.__esModule=!0;var o=h(n(7)),a=h(n(3)),r=h(n(2)),i=n(0),l=h(n(297)),s=h(n(14)),u=n(1221),d=h(n(24)),f=h(n(1220)),c=h(n(12)),p=h(n(11));function h(e){return e&&e.__esModule?e:{default:e}}var y={},m="FriendSyncResultHashes";function v(){d.default.set(m,{userId:s.default.getId(),resultHashes:y})}function E(e){return e.type+":"+e.id}var _=new f.default(function(e){var t=l.default.getAccounts(),n=(0,o.default)(t).filter(function(e){return e.friendSync&&i.UNSAFE_PLATFORM_TYPES.has(e.type)&&i.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type}).uniq().value();(0,u.fetchAccounts)(n).then(function(t){var n=t.filter(function(e){if(y[E(e)]===e.resultHash)return!1;var t=l.default.getAccount(e.id,e.type);return null!=t&&t.friendSync});n.length>0&&c.default.post({url:i.Endpoints.FRIEND_SUGGESTIONS+"/sync",body:n.map(function(e){return{id:e.id,name:e.name,id_hash:e.idHash,platform_type:e.type,friend_id_hashes:e.friendIdHashes}})}).then(function(){n.forEach(function(e){y[E(e)]=e.resultHash}),v()}),e()})});function g(){var e;return p.default.embedded&&((e=d.default.get(m))&&(e.userId===s.default.getId()?y=e.resultHashes:d.default.remove(m)),_.start(36e5)),!1}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default)},t}(a.default.Store);t.default=new S(r.default,{CONNECTION_OPEN:function(e){return g()},CONNECTION_CLOSED:function(e){return _.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return function(){var e,t,n=!1,o=Object.keys(y),a=Array.isArray(o),r=0;for(o=a?o:o[Symbol.iterator]();;){var i;if(a){if(r>=o.length)break;i=o[r++]}else{if((r=o.next()).done)break;i=r.value}var s=i,u=(t=(e=s).indexOf(":"),{type:e.substr(0,t),id:e.substr(t+1)}),d=u.type,f=u.id,c=l.default.getAccount(f,d);null!=c&&c.friendSync||(delete y[s],n=!0)}return n&&v(),p.default.embedded&&_.run(),!1}()},LOGOUT:function(e){return _.stop(),void d.default.remove(m)}}),e.exports=t.default},7050:function(e,t,n){"use strict";t.__esModule=!0;var o=f(n(3)),a=n(56),r=f(n(2)),i=f(n(95)),l=f(n(14)),s=f(n(167)),u=f(n(146)),d=(n(0),f(n(6)));function f(e){return e&&e.__esModule?e:{default:e}}var c=void 0,p=new a.Timeout,h=3e5;function y(){null!=c&&(u.default.sendBotMessage(c,d.default.Messages.BOT_CALL_IDLE_DISCONNECT),s.default.selectVoiceChannel(null,null))}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default)},t}(o.default.Store);t.default=new m(r.default,{CONNECTION_CLOSED:function(e){return c=null,void p.stop()},VOICE_STATE_UPDATE:function(e){if(null!=e.guildId)return!1;var t=i.default.getCurrentVoiceChannelId(null,l.default.getId());return null==t?(p.stop(),!1):(1===i.default.getVoiceStatesForChannel(null,t).length?(c=t,p.start(h,y,!1)):p.stop(),!1)}}),e.exports=t.default},7053:function(e,t,n){"use strict";t.__esModule=!0,t.closePremiumExpirationModal=function(){r.default.dispatch({type:i.ActionTypes.PREMIUM_EXPIRATION_MODAL_CLOSE})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},7054:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(3)),a=r(n(2));n(0);function r(e){return e&&e.__esModule?e:{default:e}}var i=null,l=new Set;var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){null!=e&&(l=new Set(e.dismissedSubscriptionIds))},t.prototype.isOpen=function(){return null!=i&&!l.has(i)},t.prototype.getState=function(){var e={};if(null!=l){var t=Array.from(l);t.length>0&&(e.dismissedSubscriptionIds=t)}return e},t}(o.default.PersistedStore);s.persistKey="PremiumExpirationModalStore",t.default=new s(a.default,{PREMIUM_EXPIRATION_MODAL_CLOSE:function(e){null!=i&&l.add(i)},CONNECTION_OPEN:function(e){i=e.expiringSubscriptionId}}),e.exports=t.default},7055:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=_(n(1)),i=E(n(3)),l=E(n(17)),s=E(n(229)),u=E(n(7054)),d=E(n(527)),f=E(n(13)),c=n(7053),p=E(n(370)),h=_(n(278)),y=E(n(6122)),m=n(0),v=E(n(6));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C="Premium Expiration without Payment Source",N=function(e){function t(){var n,o;g(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=S(this,e.call.apply(e,[this].concat(r))),o.goToSettings=function(){o.props.onClose(),p.default.open(m.UserSettingsSections.PREMIUM)},S(o,n)}return T(t,e),t.prototype.componentDidMount=function(){h.fetchSubscriptions(),l.default.track(m.AnalyticEvents.OPEN_MODAL,{type:C})},t.prototype.render=function(){var e=this.props,t=e.subscription,n=e.user,o=e.onClose;return null==t?null:null==t.plan?null:a(y.default,{},void 0,a(y.default.Header,{onClose:o},void 0,v.default.Messages.PREMIUM_EXPIRING_TITLE),a(y.default.Content,{type:y.default.Types.CANCEL},void 0,s.default.canInstallPremiumApplications(n)?v.default.Messages.PREMIUM_EXPIRING_BODY.format():v.default.Messages.PREMIUM_WITHOUT_GAMES_EXPIRING_BODY.format()),a(y.default.Footer,{primary:{onClick:this.goToSettings,label:v.default.Messages.PREMIUM_EXPIRING_GO_TO_SETTINGS}}))},t}(r.Component);N.displayName="PremiumExpirationModal";var b=i.default.connectStores([f.default,d.default],function(){return{subscription:d.default.getPremiumSubscription(),user:f.default.getCurrentUser()}})(N),O=function(e){function t(){return g(this,t),S(this,e.apply(this,arguments))}return T(t,e),t.prototype.close=function(){(0,c.closePremiumExpirationModal)(),l.default.track(m.AnalyticEvents.MODAL_DISMISSED,{type:C})},t.prototype.render=function(){return a(b,{onClose:this.close})},t}(r.Component);O.modalConfig={closable:!0,store:u.default},O.displayName="PremiumExpirationModalWrapper",t.default=O,e.exports=t.default},7057:function(e,t,n){"use strict";t.__esModule=!0,t.setDevice=function(e,t,n){r.default.dispatch({type:i.ActionTypes.CONNECTED_DEVICE_SET,displayName:e,connectedDevicePreference:t,location:n})},t.ignoreDevice=function(e){r.default.dispatch({type:i.ActionTypes.CONNECTED_DEVICE_IGNORE,displayName:e})},t.neverShowModal=function(){r.default.dispatch({type:i.ActionTypes.CONNECTED_DEVICE_NEVER_SHOW_MODAL})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},7058:function(e,t,n){"use strict";t.__esModule=!0;var o=h(n(3)),a=h(n(2)),r=h(n(7)),i=n(11),l=h(i),s=h(n(269)),u=h(n(542)),d=h(n(55)),f=h(n(28)),c=n(0),p=n(78);function h(e){return e&&e.__esModule?e:{default:e}}var y={},m=y,v=new Set(["DisplayPort"]),E=!1,_={},g={},S={},T={id:null,justChanged:!1},C={id:null,justChanged:!1},N=/\(([^)]+)\)/;function b(e){if(l.default.getPlatform()===i.PlatformTypes.WINDOWS){var t=e.name.match(N);if(null!=t)return t[1]}return e.name}function O(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===c.ConnectedDeviceType.INPUT&&n===c.ConnectedDeviceType.OUTPUT||e.type===c.ConnectedDeviceType.OUTPUT&&n===c.ConnectedDeviceType.INPUT?{displayName:t,type:c.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){this.waitFor(d.default,f.default),m=e||y},t.prototype.getState=function(){return m},t.prototype.isOpen=function(){var e=d.default.getInputDeviceId(),t=d.default.getOutputDeviceId();if(m.neverShowModal||r.default.isEmpty(S))return!1;var n=b(d.default.getInputDevices()[e]),o=b(d.default.getOutputDevices()[t]);if(r.default.some(S,function(e){return v.has(e.displayName)||e.displayName===n||e.displayName===o}))return!1;var a=r.default.some(S,function(e){return u.default.isCertified(_[e.displayName])||u.default.isCertified(g[e.displayName])});return!((e===p.DEFAULT_DEVICE_ID&&T.justChanged||t===p.DEFAULT_DEVICE_ID&&C.justChanged)&&!a)&&null!=this.getProps().device},t.prototype.getProps=function(){var e=r.default.first(Object.keys(S)),t=void 0;return E&&null!=e&&(u.default.isCertified(_[e])?t=u.default.getCertifiedDevice(_[e]):u.default.isCertified(g[e])&&(t=u.default.getCertifiedDevice(g[e]))),{device:e?S[e]:null,certifiedDeviceMetadata:t}},t}(o.default.PersistedStore);I.persistKey="ConnectedDeviceStore",t.default=new I(a.default,{MEDIA_ENGINE_DEVICES:function(e){var t=e.inputDevices,n=e.outputDevices,o={};T.justChanged=!1,t.forEach(function(e){if(o[b(e)]=e.id,e.id===p.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==T.id&&(T.justChanged=!0),T.id=t}});var a={};if(C.justChanged=!1,n.forEach(function(e){if(a[b(e)]=e.id,e.id===p.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==C.id&&(C.justChanged=!0),C.id=t}}),!E)return _=o,g=a,void(E=!0);var i=Object.keys(_),l=Object.keys(o),s=Object.keys(g),u=Object.keys(a),d=r.default.difference(i,l),f=r.default.difference(s,u);return d.length>0||f.length>0?S={}:(r.default.difference(l,i).forEach(function(e){S[e]=O(S[e],e,c.ConnectedDeviceType.INPUT)}),r.default.difference(u,s).forEach(function(e){S[e]=O(S[e],e,c.ConnectedDeviceType.OUTPUT)})),!(r.default.isEqual(i,l)&&r.default.isEqual(s,u)||(_=o,g=a,0))},CONNECTED_DEVICE_SET:function(e){var t=e.displayName;!function(e,t,n){if(t===c.ConnectedDevicePreference.INPUT||t===c.ConnectedDevicePreference.INPUT_AND_OUTPUT){var o=_[e];null!=o&&a.default.wait(function(){return s.default.setInputDevice(o,n)})}if(t===c.ConnectedDevicePreference.OUTPUT||t===c.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=g[e];a.default.wait(function(){return s.default.setOutputDevice(r,n)})}}(t,e.connectedDevicePreference,e.location),delete S[t]},CONNECTED_DEVICE_IGNORE:function(e){var t=e.displayName;delete S[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(e){return S={},void(m={neverShowModal:!0})}}),e.exports=t.default},7059:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=_(n(1)),i=E(n(7058)),l=_(n(7057)),s=E(n(17)),u=E(n(45)),d=E(n(42)),f=E(n(117)),c=E(n(6057)),p=E(n(71)),h=E(n(76)),y=E(n(6)),m=n(0),v=E(n(5719));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=Object.freeze({CERTIFIED:"New Audio Device Detected - Certified",NOT_CERTIFIED:"New Audio Device Detected - Not Certified"}),S=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.confirm=function(){var e=o.props.device,t=o.state.devicePreference;null!=t&&l.setDevice(e.displayName,t,"New Audio Device Detected Modal")},o.cancel=function(){var e=o.props.device;l.ignoreDevice(e.displayName)},o.neverShow=function(){var e=o.props.certifiedDeviceMetadata;l.neverShowModal(),s.default.track(m.AnalyticEvents.MODAL_DISMISSED,{type:null!=e?g.CERTIFIED:g.NOT_CERTIFIED,dismiss_type:"permanent"})},o.handleConnectedDeviceType=function(e){var t=e.value;o.setState({devicePreference:t})},o.state={devicePreference:null!=n.device?function(e){switch(e){case m.ConnectedDeviceType.INPUT:return m.ConnectedDevicePreference.INPUT;case m.ConnectedDeviceType.OUTPUT:return m.ConnectedDevicePreference.OUTPUT;case m.ConnectedDeviceType.INPUT_AND_OUTPUT:return m.ConnectedDevicePreference.INPUT_AND_OUTPUT;default:return null}}(n.device.type):null},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.track=function(){var e=this.props,t=e.certifiedDeviceMetadata,n=e.device;s.default.track(m.AnalyticEvents.OPEN_MODAL,{type:null!=t?g.CERTIFIED:g.NOT_CERTIFIED,device_name:null!=t?t.vendor.name+" "+t.model.name:n.displayName})},t.prototype.componentDidMount=function(){this.track()},t.prototype.componentDidUpdate=function(e){this.props.device.displayName!==e.device.displayName&&this.track()},t.prototype.renderBody=function(){var e=this.props,t=e.device,n=e.certifiedDeviceMetadata,o=this.state.devicePreference,i=void 0;switch(t.type){case m.ConnectedDeviceType.INPUT:i=null!=n?y.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_BODY.format({vendorName:n.vendor.name,modelName:n.model.name}):y.default.Messages.CONNECTED_DEVICE_DETECTED_INPUT_BODY.format({name:t.displayName});break;case m.ConnectedDeviceType.OUTPUT:i=null!=n?y.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_OUTPUT_BODY.format({vendorName:n.vendor.name,modelName:n.model.name}):y.default.Messages.CONNECTED_DEVICE_DETECTED_OUTPUT_BODY.format({name:t.displayName});break;default:i=a(r.Fragment,{},void 0,null!=n?y.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_AND_OUTPUT_BODY.format({vendorName:n.vendor.name,modelName:n.model.name}):y.default.Messages.CONNECTED_DEVICE_DETECTED_INPUT_AND_OUTPUT_BODY.format({name:t.displayName}),a(c.default,{value:o,className:v.default.options,onChange:this.handleConnectedDeviceType,options:[{name:y.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT_AND_OUTPUT,value:m.ConnectedDevicePreference.INPUT_AND_OUTPUT},{name:y.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT,value:m.ConnectedDevicePreference.INPUT},{name:y.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_OUTPUT,value:m.ConnectedDevicePreference.OUTPUT}]}))}return a(r.Fragment,{},t.displayName,i,a(u.default,{className:v.default.neverShow,look:u.default.Looks.LINK,colors:v.default.colorLink,onClick:this.neverShow},void 0,y.default.Messages.DONT_SHOW_AGAIN))},t.prototype.render=function(){var e=this.props.certifiedDeviceMetadata;return a(f.default,{},void 0,a(f.default.Header,{},void 0,a(h.default,{tag:h.default.Tags.H4},void 0,null!=e?y.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_TITLE:y.default.Messages.CONNECTED_DEVICE_DETECTED_TITLE)),a(f.default.Content,{},void 0,a(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,this.renderBody())),a(f.default.Footer,{},void 0,a(d.default,{justify:d.default.Justify.END},void 0,a(u.default,{color:u.default.Colors.PRIMARY,onClick:this.cancel,className:v.default.cancelButton},void 0,y.default.Messages.CONNECTED_DEVICE_DETECTED_CANCEL_BUTTON),a(u.default,{onClick:this.confirm},void 0,y.default.Messages.CONNECTED_DEVICE_DETECTED_CONFIRM_BUTTON))))},t}(r.Component);S.modalConfig={store:i.default},S.displayName="ConnectedDevice",t.default=S,e.exports=t.default},7062:function(e,t,n){e.exports=n.p+"bbb28fd68faad10216c8da92d6bcca19.svg"},7063:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),E(n(6))),i=E(n(9)),l=n(6184),s=E(n(45)),u=E(n(42)),d=n(1013),f=E(n(558)),c=n(6594),p=E(n(39)),h=E(n(17)),y=E(n(13)),m=n(0),v=E(n(510));function E(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g={LINUX:"linux",OSX:"osx",WINDOWS:"win"};var S=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=_(this,e.call.apply(e,[this].concat(r))),o.state={platform:function(){switch((p.default.os.family||"").replace(" ","").toLowerCase()){case"osx":return g.OSX;case"ubuntu":case"debian":case"fedora":case"redhat":case"suse":return g.LINUX;default:return g.WINDOWS}}()},_(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.download=function(e,t){window.location=(0,d.makeDesktopDownloadURL)(e,!1,null!=t?t:null),f.default.disable(m.NoticeTypes.DOWNLOAD_NAG);var n=y.default.getCurrentUser();h.default.track(m.AnalyticEvents.DOWNLOAD_APP,{platform:e,ptb:!1,released:!0,has_e_mail:null!=n&&n.isClaimed(),referring_location:"Homepage NUF"}),(0,c.dismiss)()},t.prototype.renderButtons=function(){var e=this,t=this.state.platform;return t!==g.LINUX?a(s.default,{color:s.default.Colors.GREEN,fullWidth:!0,onClick:function(){return e.download(t,null)}},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:function(e){switch(e){case g.OSX:return r.default.Messages.PLATFORM_MACOS;case g.LINUX:return r.default.Messages.PLATFORM_LINUX;default:return r.default.Messages.PLATFORM_WINDOWS}}(t)})):a(u.default,{},void 0,a(u.default.Child,{},void 0,a(s.default,{color:s.default.Colors.GREEN,onClick:function(){return e.download(t,"deb")}},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:r.default.Messages.DEB}))),a(u.default.Child,{},void 0,a(s.default,{color:s.default.Colors.GREEN,onClick:function(){return e.download(t,"tar.gz")}},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:r.default.Messages.TAR_GZ}))))},t.prototype.render=function(){return a(l.PageWrapper,{illustration:n(7062),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,a(l.Text,{className:(0,i.default)(v.default.marginBottom20,v.default.marginTop60)},void 0,r.default.Messages.NUF_DOWNLOAD_APP_INTRO),a(l.Title,{className:v.default.marginBottom8},void 0,r.default.Messages.NUF_DOWNLOAD_APP_TITLE),a(l.Text,{className:v.default.marginBottom20},void 0,r.default.Messages.NUF_DOWNLOAD_APP_BODY),this.renderButtons())},t}(l.AnimatedPage);S.displayName="Download",t.default=S,e.exports=t.default},7064:function(e,t,n){e.exports=n.p+"c5a50044a5560b4796c72a1fb25bd7d4.svg"},7065:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(6))),i=h(n(9)),l=n(6184),s=h(n(268)),u=h(n(266)),d=h(n(925)),f=h(n(12)),c=n(0),p=h(n(510));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=y(this,e.call.apply(e,[this].concat(r))),o.state={name:"",submitting:!1,hasError:!1},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this,t=this.state.name;return""===(t=t.trim())?(this.setState({hasError:!0}),Promise.reject(new Error("Invalid guild name"))):new Promise(function(n,o){e.setState({submitting:!0,hasError:!1},function(){return f.default.post({url:c.Endpoints.GUILDS,body:{name:t}}).then(function(){return n(!1)},function(){e.setState({submitting:!1,hasError:!0}),o(new Error("Invalid guild name"))})})})},t.prototype.render=function(){var e=this,t=this.state,o=t.name,f=t.submitting,c=t.hasError;return a(l.PageWrapper,{illustration:n(7064),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,a(l.Title,{className:(0,i.default)(p.default.marginBottom8,p.default.marginTop20)},void 0,r.default.Messages.NUF_CREATE_SERVER_TITLE),a(l.Text,{className:p.default.marginBottom20},void 0,r.default.Messages.NUF_CREATE_SERVER_BODY.format()),a(s.default,{title:r.default.Messages.FORM_LABEL_SERVER_NAME,required:!0,className:p.default.marginBottom20},void 0,a(d.default,{autoFocus:!0,name:"name",type:"text",error:c?r.default.Messages.NUF_CREATE_SERVER_ERROR:null,disabled:f,value:o,className:p.default.marginBottom8,onChange:function(t){return e.setState({name:t})}}),c?null:a(u.default,{type:u.default.Types.DESCRIPTION},void 0,r.default.Messages.NUF_CREATE_SERVER_NOTE.format())))},t}(l.AnimatedPage);m.displayName="Create",t.default=m,e.exports=t.default},7066:function(e,t,n){e.exports=n.p+"a01bc277d210a4b92e3900e3871f986e.svg"},7067:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(6))),i=h(n(9)),l=n(6184),s=h(n(268)),u=h(n(266)),d=h(n(925)),f=h(n(271)),c=h(n(6147)),p=h(n(510));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=y(this,e.call.apply(e,[this].concat(r))),o.state={code:null,invite:"",hasError:!1,submitting:!1},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this,t=this.state.invite;if(""===(t=t.trim()))return this.setState({hasError:!0}),Promise.reject(new Error(r.default.Messages.INSTANT_INVITE_EXPIRED));var n=t.split("/"),o=n[n.length-1];return new Promise(function(t,n){e.setState({code:o,submitting:!0,hasError:!1},function(){f.default.resolveInvite(o,"New Homepage NUF").then(function(o){var a=o.invite;null!=a?f.default.acceptInvite(a.code,{location:"New Homepage NUF"}).then(function(){null!=a.guild&&null!=a.channel&&(f.default.transitionToInviteChannel(a.guild.id,a.channel.id,a.channel.type),t(!0))},function(){return e.setState({submitting:!1,hasError:!0})}):(e.setState({submitting:!1,hasError:!0}),n(new Error(r.default.Messages.INSTANT_INVITE_EXPIRED)))},function(){e.setState({submitting:!1,hasError:!0}),n(new Error(r.default.Messages.INSTANT_INVITE_EXPIRED))})})})},t.prototype.render=function(){var e=this,t=this.state,o=t.invite,f=t.submitting,h=t.hasError,y=c.default.isTreatment1();return a(l.PageWrapper,{illustration:n(7066),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,a(l.Title,{className:(0,i.default)(p.default.marginBottom8,y?p.default.marginTop60:p.default.marginTop20)},void 0,y?r.default.Messages.NUF_JOIN_SERVER_TITLE_1:r.default.Messages.NUF_JOIN_SERVER_TITLE_2),a(l.Text,{className:p.default.marginBottom20},void 0,y?r.default.Messages.NUF_JOIN_SERVER_BODY_1:r.default.Messages.NUF_JOIN_SERVER_BODY_2.format()),a(s.default,{title:r.default.Messages.NUF_JOIN_SERVER_INPUT_LABEL,required:!0,className:p.default.marginBottom20},void 0,a(d.default,{autoFocus:!0,name:"invite",type:"text",error:h?r.default.Messages.INSTANT_INVITE_EXPIRED:null,disabled:f,value:o,className:p.default.marginBottom8,onChange:function(t){return e.setState({invite:t})}}),h?null:a(u.default,{type:u.default.Types.DESCRIPTION},void 0,r.default.Messages.NUF_JOIN_SERVER_INPUT_NOTE)))},t}(l.AnimatedPage);m.displayName="Join",t.default=m,e.exports=t.default},7068:function(e,t,n){e.exports=n.p+"873239c449fe63533f54170ece883300.svg"},7069:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(6))),i=p(n(9)),l=n(6184),s=p(n(268)),u=p(n(925)),d=n(944),f=p(n(6147)),c=p(n(510));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(r))),o.state={email:"",password:"",errors:null,submitting:!1},h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.submit=function(){var e=this;return new Promise(function(t,n){e.setState({submitting:!0,errors:null},function(){var o=e.state,a=o.email,i=o.password;(0,d.saveAccountRequest)({email:a,password:i}).then(function(){return t(!1)},function(t){null!=t&&null!=t.body||e.setState({submitting:!1,errors:{email:[r.default.Messages.NUF_CLAIM_ACCOUNT_GENERIC_ERROR]}}),e.setState({submitting:!1,errors:t.body},function(){return n(new Error("Invalid request"))})})})})},t.prototype.renderError=function(e){var t=this.state.errors;if(null==t)return null;var n=t[e];return null==n?null:Array.isArray(n)?n[0]:n},t.prototype.render=function(){var e=this,t=this.state,o=t.email,d=t.password,p=t.submitting,h=f.default.isTreatment1();return a(l.PageWrapper,{illustration:n(7068),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,a(l.Title,{className:(0,i.default)(c.default.marginBottom8,c.default.marginTop20)},void 0,r.default.Messages.NUF_CLAIM_ACCOUNT_TITLE),a(l.Text,{className:c.default.marginBottom20,tag:"div"},void 0,h?r.default.Messages.NUF_CLAIM_ACCOUNT_BODY_1:r.default.Messages.NUF_CLAIM_ACCOUNT_BODY_2),a(s.default,{title:r.default.Messages.FORM_LABEL_EMAIL,required:!0,className:c.default.marginBottom20},void 0,a(u.default,{autoFocus:!0,name:"email",disabled:p,value:o,error:this.renderError("email"),onChange:function(t){return e.setState({email:t})}})),a(s.default,{title:r.default.Messages.FORM_LABEL_PASSWORD,required:!0},void 0,a(u.default,{name:"password",type:"password",error:this.renderError("password"),value:d,disabled:p,onChange:function(t){return e.setState({password:t})}})))},t}(l.AnimatedPage);y.displayName="PageClaim",t.default=y,e.exports=t.default},7070:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(6)),l=_(n(117)),s=_(n(45)),u=_(n(971)),d=_(n(7069)),f=_(n(7067)),c=_(n(7065)),p=_(n(7063)),h=_(n(512)),y=n(6147),m=_(y),v=n(6594),E=_(n(5590));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e){switch(null!=e?e[0]:null){case y.Pages.CLAIM:return{Component:d.default,buttonText:i.default.Messages.NUF_CLAIM_ACCOUNT_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case y.Pages.JOIN:return{Component:f.default,buttonText:i.default.Messages.NUF_JOIN_SERVER_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case y.Pages.CREATE:return{Component:c.default,buttonText:i.default.Messages.NUF_CREATE_SERVER_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case y.Pages.DOWNLOAD:return{Component:p.default,buttonText:i.default.Messages.DONE,buttonLook:s.default.Looks.LINK,buttonColor:s.default.Colors.PRIMARY};default:return{Component:null,buttonText:null,buttonLook:null,buttonColor:null}}}var T=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=g(this,e.call.apply(e,[this].concat(r))),o.state={submitting:!1},o.handleSubmit=function(e){e.preventDefault();var t=o.pageRef;if(null==t||"function"!=typeof t.submit)return console.warn("HomepageNUF: No valid ref");o.setState({submitting:!0},function(){t.submit().then(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return o.setState({submitting:!1},function(){return o.handlePageAdvance(!1,e||!1)})},function(){return o.setState({submitting:!1})})})},o.handleSkipClick=function(){o.handlePageAdvance(!0)},g(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handlePageAdvance=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.pages,o=this.props.page;null!=o&&null!=n&&((o+=t?2:1)>=n.length?(0,v.dismiss)(e):(0,v.nextStep)(e,t))},t.prototype.renderContent=function(){var e=this,t=this.props,n=t.page,o=t.pages;if(null==n||null==o)return null;var r=S(o[n]).Component;return null==r?null:a(r,{setRef:function(t){return e.pageRef=t}},o[n][0])},t.prototype.renderFooter=function(){var e=this.props,t=e.page,n=e.pages,o=e.progress,l=this.state.submitting;if(null==t||null==n)return null;var d=n[t];if(null==d)return null;var f=S(d),c=f.buttonText,p=f.buttonLook,h=f.buttonColor,y=void 0;return null!=c&&null!=p&&null!=h&&(y=a(s.default,{type:"submit",submitting:l,look:p,color:h},void 0,c)),a(r.Fragment,{},void 0,y,d[1]?a(s.default,{look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY,onClick:this.handleSkipClick},void 0,i.default.Messages.SKIP):null,a("div",{className:E.default.progressContainer},void 0,a(u.default,{size:u.default.Sizes.LARGE,percent:100*o,className:E.default.progress,foregroundColor:"#8ea1e1",backgroundColor:"rgba(153,170,181,0.3)"})))},t.prototype.render=function(){return a(l.default,{size:E.default.size,className:E.default.modal,tag:"form",onSubmit:this.handleSubmit},void 0,a(h.default,{component:"div",className:E.default.pageSize},void 0,this.renderContent()),a(l.default.Footer,{},void 0,this.renderFooter()))},t}(r.PureComponent);T.modalConfig={store:m.default},T.displayName="HomepageNUF",t.default=T,e.exports=t.default},7083:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(42)),l=f(n(117)),s=f(n(45)),u=f(n(6)),d=f(n(5724));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderCloseButton=function(){var e=this.props,t=e.forced,n=e.onClose;return t?null:a(l.default.CloseButton,{className:d.default.closeButton,onClick:n})},t.prototype.renderFooter=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,o=e.onClickGetApp,r=e.onClose;return t||n?a(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,a(s.default,{size:s.default.Sizes.LARGE,onClick:r},void 0,u.default.Messages.OKAY)):a(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,a("div",{className:d.default.appPromotion},void 0,u.default.Messages.CLAIM_ACCOUNT_PROMOTE_APP),a(s.default,{color:s.default.Colors.GREEN,size:s.default.Sizes.LARGE,onClick:o},void 0,u.default.Messages.CLAIM_ACCOUNT_GET_APP))},t.prototype.render=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,o=e.email,r=t||n?u.default.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:u.default.Messages.CLAIM_ACCOUNT_EMAIL_TO;return a(l.default,{className:d.default.modal},void 0,a(l.default.Content,{className:d.default.content},void 0,this.renderCloseButton(),a("div",{className:d.default.image}),a("div",{className:d.default.title},void 0,r.format({email:o}))),this.renderFooter())},t}(r.PureComponent);c.displayName="ClaimAccountModalSuccess",t.default=c,e.exports=t.default},7084:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(42)),l=h(n(117)),s=h(n(45)),u=h(n(71)),d=n(511),f=h(n(925)),c=h(n(6)),p=h(n(5725));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleEmailChange=function(e){o.setState({email:e})},o.handlePasswordChange=function(e){o.setState({password:e})},o.handleSubmit=function(e){e.preventDefault();var t=o.props.onClaim,n=o.state,a=n.email,r=n.password;t&&t(a,r)},o.handleLogOut=function(){var e=o.props.onLogOut;e&&e()},o.state={email:"",password:""},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isSubmittable=function(){var e=this.state,t=e.email,n=e.password;return t.length>0&&n.length>0},t.prototype.renderEmailInput=function(){return a(d.FormItem,{title:c.default.Messages.FORM_LABEL_EMAIL,className:p.default.formItem},void 0,a(f.default,{value:this.state.email,error:this.props.emailError,onChange:this.handleEmailChange,autoFocus:!0}))},t.prototype.renderPasswordInput=function(){return a(d.FormItem,{title:c.default.Messages.FORM_LABEL_PASSWORD,className:p.default.formItem},void 0,a(f.default,{type:"password",value:this.state.password,error:this.props.passwordError,onChange:this.handlePasswordChange}))},t.prototype.renderClaimButton=function(){return a(s.default,{type:"submit",size:s.default.Sizes.LARGE,submitting:this.props.submitting,disabled:!this.isSubmittable(),fullWidth:!0},void 0,c.default.Messages.CLAIM_ACCOUNT)},t.prototype.renderLogOut=function(){if(this.props.forced)return a(u.default,{color:u.default.Colors.PRIMARY,className:p.default.logout,onClick:this.handleLogOut,size:u.default.Sizes.SMALL},void 0,c.default.Messages.LOGOUT)},t.prototype.render=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,o=void 0;return o=t?c.default.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:n?c.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED:c.default.Messages.CLAIM_ACCOUNT_BODY,a(l.default,{tag:"form",onSubmit:this.handleSubmit},void 0,a(l.default.Content,{className:p.default.content},void 0,a("div",{className:p.default.image}),a("div",{className:p.default.title},void 0,o)),a(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,this.renderEmailInput(),this.renderPasswordInput(),this.renderClaimButton(),this.renderLogOut()))},t}(r.PureComponent);y.displayName="ClaimAccountModal",t.default=y,e.exports=t.default},7085:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),a=d(n(2)),r=n(0),i=d(n(11)),l=d(n(13)),s=d(n(6108)),u=d(n(6147));function d(e){return e&&e.__esModule?e:{default:e}}var f=r.FormStates.CLOSED,c=r.ClaimAccountModalSteps.CLAIM,p=!1,h=!1,y=null,m={};function v(e){var t=l.default.getCurrentUser();if(null==t||t.isClaimed())return!1;f=r.FormStates.OPEN,m={},h=e.openedByChatBox||!1}function E(){f=r.FormStates.CLOSED,m={}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default,u.default)},t.prototype.isOpen=function(){return!s.default.hasAction()&&f!==r.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:f===r.FormStates.SUBMITTING,step:c,forced:p,openedByChatBox:h,email:y,errors:m}},t}(o.default.Store);t.default=new _(a.default,{CONNECTION_OPEN:function(e){return t=u.default.getExperimentDescriptor(),!(l.default.getCurrentUser().isClaimed()||!i.default.embedded||null!=t&&t.bucket!==r.ExperimentBuckets.CONTROL)&&(p=!0,void v({}));var t},CLAIM_ACCOUNT_MODAL_OPEN:v,NEW_USER_FLOW_GUILD_CREATED:v,CLAIM_ACCOUNT_SUBMITTED:function(e){f=r.FormStates.SUBMITTING},CLAIM_ACCOUNT_SUCCESS:function(e){f=r.FormStates.OPEN,c=r.ClaimAccountModalSteps.CLAIM_SUCCESS,y=e.email},CLAIM_ACCOUNT_FAILURE:function(e){f=r.FormStates.OPEN,m=e.errors},CLAIM_ACCOUNT_MODAL_CLOSE:function(e){return E()},CONNECTION_CLOSED:function(e){return E()},NEW_USER_FLOW_SET_STEP:function(e){-1===e.step&&v({})},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),e.exports=t.default},7086:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=m(n(1)),i=n(0),l=m(n(531)),s=y(n(930)),u=y(n(7085)),d=y(n(7084)),f=y(n(7083)),c=n(1013),p=y(n(17)),h=y(n(11));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.render=function(){var e=this.props,t=e.step,n=e.forced,o=e.openedByChatBox,r=e.submitting,l=e.email;switch(t){case i.ClaimAccountModalSteps.CLAIM:default:return a(d.default,{forced:n,openedByChatBox:o,emailError:this.getError("email"),passwordError:this.getError("password"),submitting:r,onClaim:this.handleClaim,onLogOut:this.handleLogOut});case i.ClaimAccountModalSteps.CLAIM_SUCCESS:return a(f.default,{forced:n,openedByChatBox:o,email:l,onClickGetApp:this.handleClickGetApp,onClose:this.close})}},t.prototype.handleClaim=function(e,t){l.claim(e,t)},t.prototype.handleClickGetApp=function(){window.open((0,c.getCurrentPlatformDownloadURL)(),"_blank"),p.default.track(i.AnalyticEvents.DOWNLOAD_APP,{platform:(0,c.getPlatformReadableName)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal"})},t.prototype.handleLogOut=function(){s.default.logout()},t.prototype.close=function(){l.close()},t}(r.PureComponent);v.modalConfig={store:u.default,closable:h.default.isWeb()},v.displayName="ClaimAccount",t.default=v,e.exports=t.default},7087:function(e,t,n){e.exports=n.p+"a13cfdd7220132fff399a76c3ed64519.svg"},7088:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(9)),l=y(n(42)),s=y(n(45)),u=y(n(932)),d=y(n(266)),f=y(n(514)),c=y(n(6)),p=n(0),h=y(n(5726));function y(e){return e&&e.__esModule?e:{default:e}}var m=a(f.default,{}),v=a(f.default,{}),E=a(f.default,{}),_=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleCheck=function(){o.setState({checked:!o.state.checked})},o.state={checked:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,o=e.accepting,r=e.onAccept,f=this.state.checked;return a("div",{className:(0,i.default)(h.default.modal,t)},void 0,a("div",{className:h.default.title},void 0,c.default.Messages.NEW_TERMS_TITLE),m,a(d.default,{className:h.default.description},void 0,c.default.Messages.NEW_TERMS_DESCRIPTION),a(l.default,{className:h.default.container,align:l.default.Align.CENTER,justify:l.default.Justify.CENTER},void 0,a(l.default,{direction:l.default.Direction.VERTICAL},void 0,a("div",{className:h.default.link},void 0,c.default.Messages.TERMS_OF_SERVICE.format({url:p.MarketingURLs.TERMS})),a("div",{className:h.default.link},void 0,c.default.Messages.PRIVACY_POLICY.format({url:p.MarketingURLs.PRIVACY}))),a("img",{alt:"",src:n(7087)})),v,a("div",{className:h.default.container},void 0,a(u.default,{onChange:this.handleCheck,value:f},void 0,a("div",{className:h.default.ack},void 0,c.default.Messages.NEW_TERMS_ACK))),E,a(l.default,{className:h.default.buttonContainer,justify:l.default.Justify.END},void 0,a(s.default,{className:h.default.button,disabled:!f,submitting:o,onClick:r},void 0,c.default.Messages.NEW_TERMS_CONTINUE)))},t}(r.PureComponent);_.defaultProps={onAccept:p.NOOP,accepting:!1},_.displayName="NewTermsModal",t.default=_,e.exports=t.default},7089:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(7)),l=f(n(7088)),s=f(n(6108)),u=n(543),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={accepting:!1},i.default.bindAll(o,["handleAccept"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleAccept=function(){var e=this;return this.setState({accepting:!0}),(0,u.acceptAgreements)().then(function(t){return e.setState({accepting:t})})},t.prototype.render=function(){return a(l.default,{className:"theme-light",onAccept:this.handleAccept,accepting:this.state.accepting})},t}(r.PureComponent);c.modalConfig={store:s.default,center:!0,isOpen:function(){return s.default.getAction()===d.UserRequiredActions.AGREEMENTS}},c.displayName="UserAgreements",t.default=c,e.exports=t.default},7090:function(e,t,n){e.exports=n.p+"045ea1ae8202098575f9b31a9faccb2c.svg"},7091:function(e,t,n){e.exports=n.p+"ba7676b3791fb371b0c67266945821f7.svg"},7092:function(e,t,n){e.exports=n.p+"9aa8a052edc4b43d141fdc275623209c.svg"},7093:function(e,t,n){e.exports=n.p+"b772c1d05a4bf0368d92668509da2cbc.svg"},7094:function(e,t,n){var o={"./img_account_sync_stars1.svg":7093,"./img_account_sync_stars2.svg":7092,"./img_account_sync_stars3.svg":7091,"./img_account_sync_stars4.svg":7090};function a(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(o)},a.resolve=r,e.exports=a,a.id=7094},7095:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=S(n(7)),s=S(n(9)),u=S(n(82)),d=S(n(970)),f=S(n(81)),c=S(n(41)),p=S(n(1e3)),h=S(n(560)),y=S(n(296)),m=S(n(6)),v=n(0),E=S(n(546)),_=S(n(371)),g=S(n(5727));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){var n,o;T(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=C(this,e.call.apply(e,[this].concat(r))),o.ref=i.createRef(),o.handleClick=function(){var e=o.ref.current;null!=e&&e.click()},C(o,n)}return N(t,e),t.prototype.render=function(){return r(f.default,{className:g.default.switch,onClick:this.handleClick},void 0,i.createElement("input",a({ref:this.ref},this.props,{type:"checkbox"})),r("div",{className:g.default.slider}))},t}(i.Component);b.displayName="Switch";var O=function(e){var t=e.account,n=e.platform,o=e.connect,a=e.onToggle;return r("div",{className:g.default.detectedAccount},void 0,r("img",{alt:m.default.Messages.IMG_ALT_LOGO.format({name:n.name}),className:g.default.detectedAccountIcon,src:n.icon.color}),r("div",{className:g.default.detectedAccountDetails},void 0,r("h3",{},void 0,t.name),r("h4",{},void 0,m.default.Messages.NUM_FRIENDS.format({friendCount:t.friendIdHashes.length}))),r(b,{checked:o,onChange:function(e){return a(t.id,e.currentTarget.checked)}}))};O.displayName="DetectedPlatformAccount";var I=function(e){function t(){var n,o;T(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=C(this,e.call.apply(e,[this].concat(r))),o.state={noConnect:new Set},o.close=function(){h.default.ignore()},o.handleEnable=function(){var e=o.props,t=e.detectedAccounts,n=e.analyticsLocation,a=o.state.noConnect,r=new Set;t.forEach(function(e){a.has(e.id)?r.add(e.type):y.default.connect(e.type,e.id,e.name,n)}),c.default.transitionTo(v.Routes.FRIENDS),p.default.setSection(v.FriendsSections.ADD_FRIEND),h.default.ignore(Array.from(r))},o.handleToggle=function(e,t){var n=o.state.noConnect;t&&n.has(e)?(n.delete(e),o.forceUpdate()):t||n.has(e)||(n.add(e),o.forceUpdate())},C(o,n)}return N(t,e),t.prototype.render=function(){var e=this,t=this.props.detectedAccounts,o=this.state.noConnect,a=(0,l.default)(t).map(function(e){return u.default.get(e.type)}).uniq().map(function(e){return r("img",{alt:m.default.Messages.IMG_ALT_LOGO.format({name:e.name}),className:g.default.icon,src:e.icon.color},e.type)}).value(),i=n(7094)("./img_account_sync_stars"+a.length+".svg"),d=void 0,f=l.default.uniq(t.map(function(e){return u.default.get(e.type).name})),c=f[0],p=f[1],h=f[2];switch(f.length){case 1:d=m.default.Messages.ONE_PLATFORM_ACCOUNT_DETECTED.format({a:c});break;case 2:d=m.default.Messages.TWO_PLATFORM_ACCOUNTS_DETECTED.format({a:c,b:p});break;case 3:d=m.default.Messages.THREE_PLATFORM_ACCOUNTS_DETECTED.format({a:c,b:p,c:h});break;default:d=m.default.Messages.FOUR_OR_MORE_PLATFORM_ACCOUNTS_DETECTED}var y=t.map(function(t){return r(O,{account:t,platform:u.default.get(t.type),connect:!o.has(t.id),onToggle:e.handleToggle},t.id)});return r("div",{className:g.default.container},void 0,r("div",{className:g.default.icons,style:{backgroundImage:"url("+i+")"}},void 0,a),r("div",{className:g.default.body},void 0,d),r("div",{className:g.default.detectedAccounts},void 0,y),r("div",{className:g.default.divider}),r("div",{className:g.default.btnGroup},void 0,r("button",{type:"button",className:(0,s.default)(g.default.btn,g.default.btnDefault),onClick:this.close},void 0,m.default.Messages.NOT_NOW),r("button",{type:"button",className:(0,s.default)(g.default.btn,g.default.btnPrimary),onClick:this.handleEnable,disabled:t.length-o.size==0},void 0,m.default.Messages.ENABLE)),r("div",{className:g.default.privacy},void 0,m.default.Messages.PLATFORM_ACCOUNT_PRIVACY.format({articleURL:_.default.getArticleURL(v.HelpdeskArticles.FRIEND_SYNC_PRIVACY)})))},t}(i.PureComponent);I.modalConfig={store:d.default,backdropStyle:E.default.Styles.SOLID,closable:!1},I.displayName="DetectedPlatformAccounts",t.default=I,e.exports=t.default},7096:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(3)),a=r(n(2));n(0);function r(e){return e&&e.__esModule?e:{default:e}}var i=!1;function l(){i=!1}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return i},t}(o.default.Store);t.default=new s(a.default,{EMAIL_VERIFICATION_MODAL_OPEN:function(e){i=!0},EMAIL_VERIFICATION_MODAL_CLOSE:function(e){return l()},CURRENT_USER_UPDATE:function(e){e.user.verified&&l()}}),e.exports=t.default},7097:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(991)),l=g(n(9)),s=g(n(7)),u=g(n(117)),d=n(45),f=g(d),c=n(511),p=g(n(925)),h=g(n(6)),y=n(0),m=n(56),v=g(n(5728)),E=g(n(510)),_=g(n(374));function g(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o._animItem=null,o._timeout=new m.Timeout,o.state={canResend:n.canResend,resent:!1,shouldClose:!1,email:"",password:""},s.default.bindAll(o,["setLottieRef","handleVerify","handleResendEmail","handleChangeEmailClick","handleEmailChange","handlePasswordChange","handleKeyPress"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;n.e(215).then(function(t){var o=n(6881);e._animItem=i.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:o})}.bind(null,n)).catch(n.oe)},t.prototype.componentWillUnmount=function(){this._timeout.stop(),null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.canResend!==this.state.canResend&&this.setState({canResend:e.canResend})},t.prototype.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,o=e.submitting,r=this.state,i=r.email,l=r.password;return a("div",{className:v.default.container},void 0,a(c.FormItem,{title:h.default.Messages.FORM_LABEL_EMAIL,className:E.default.marginBottom20},void 0,a(p.default,{value:i,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),a(c.FormItem,{title:h.default.Messages.FORM_LABEL_PASSWORD,className:E.default.marginBottom40},void 0,a(p.default,{type:"password",value:l,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),a(f.default,{fullWidth:!0,size:f.default.Sizes.LARGE,onClick:this.handleVerify,submitting:o,disabled:0===i.length||0===l.length},void 0,h.default.Messages.VERIFY_ACCOUNT))},t.prototype.renderActions=function(){return a("div",{className:v.default.container},void 0,a(f.default,{className:E.default.marginTop20,fullWidth:!0,size:f.default.Sizes.LARGE,look:d.ButtonLooks.INVERTED,color:d.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,h.default.Messages.RESEND_EMAIL),a(f.default,{className:E.default.marginTop20,fullWidth:!0,size:f.default.Sizes.MEDIUM,look:d.ButtonLooks.LINK,color:d.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,h.default.Messages.CHANGE_EMAIL))},t.prototype.render=function(){var e=this.state,t=e.canResend,n=e.resent,o=this.props.email,i=void 0;return i=n&&null!=o?h.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:o}):t?h.default.Messages.VERIFY_EMAIL_BODY:h.default.Messages.ENTER_EMAIL_BODY,a(u.default,{className:(0,l.default)(v.default.emailVerificationModal,_.default.vertical,_.default.alignCenter,_.default.justifyCenter,E.default.marginTop60)},void 0,r.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),a("div",{className:(0,l.default)(v.default.title,E.default.marginBottom8)},void 0,h.default.Messages.VERIFY_BY_EMAIL),a("div",{className:(0,l.default)(v.default.body,E.default.marginBottom20)},void 0,i),t?this.renderActions():this.renderInputs())},t.prototype.setLottieRef=function(e){this._lottieRef=e},t.prototype.handleVerify=function(){(0,this.props.onVerify)(this.state.email,this.state.password)},t.prototype.handleResendEmail=function(){var e=this,t=this.props,n=t.onResend,o=t.onClose;n(),this.state.resent||(this.setState({resent:!0,shouldClose:!0}),this._timeout.start(3e3,function(){e.state.shouldClose&&o()}))},t.prototype.handleChangeEmailClick=function(){this.setState({canResend:!1,resent:!1,shouldClose:!1})},t.prototype.handleEmailChange=function(e){this.setState({email:e})},t.prototype.handlePasswordChange=function(e){this.setState({password:e})},t.prototype.handleKeyPress=function(e){var t=this.state,n=t.email,o=t.password;13===e.which&&n.length>0&&o.length>0&&(e.preventDefault(),this.handleVerify())},t}(r.PureComponent);S.defaultProps={canResend:!1,onVerify:function(e,t){},onResend:y.NOOP,onClose:y.NOOP},S.displayName="EmailVerificationModal",t.default=S,e.exports=t.default},7098:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(54))),i=m(n(3)),l=m(n(66)),s=m(n(930)),u=m(n(6616)),d=n(944),f=m(n(7097)),c=m(n(6681)),p=m(n(7096)),h=m(n(13)),y=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,r.default)({displayName:"EmailVerificationModal",statics:{modalConfig:{store:p.default}},mixins:[i.default.LazyStoreListenerMixin(c.default,h.default),l.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=c.default.getState(),t=e.claimed,n=e.errors,o=e.formState;return{user:h.default.getCurrentUser(),claimed:t,errors:n,submitting:o===y.FormStates.SUBMITTING}},render:function(){var e=this.state,t=e.claimed,n=e.submitting,o=e.user,r=this.getError("email"),i=this.getError("password");return a(f.default,{email:o.email,emailError:r,passwordError:i,submitting:n,canResend:!n&&t&&0===r.length&&0===i.length,onVerify:this.handleVerify,onResend:this.handleResend,onClose:this.close})},getError:function(e){var t=this.state.errors;return t&&t[e]?t[e]:""},handleVerify:function(e,t){var n=this.state.user,o=n.username,a=n.avatar;(0,d.saveAccountChanges)(o,e,t,a,null)},handleResend:function(){s.default.verifyResend()},close:function(){u.default.close()}});t.default=v,e.exports=t.default},7099:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=f(n(42)),s=f(n(81)),u=n(0),d=f(n(5731));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){var n,o;c(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=p(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(e){var t=o.props.onClick;return t&&t(o.props.option,e)},p(o,n)}return h(t,e),t.prototype.render=function(){var e,t=this.props.selected,n=this.props.option.name;return a(s.default,{className:(0,i.default)(d.default.item,(e={},e[d.default.selected]=t,e)),onClick:this.handleClick},void 0,n)},t}(r.PureComponent);y.displayName="SegmentControlItem";var m=function(e){function t(){return c(this,t),p(this,e.apply(this,arguments))}return h(t,e),t.prototype.renderItem=function(e){var t=this.props.value===e.value;return a(y,{selected:t,option:e,onClick:this.props.onChange},e.value)},t.prototype.render=function(){var e=this.props.className;return a(l.default,{className:(0,i.default)(d.default.container,e),shrink:0},void 0,this.props.options.map(this.renderItem,this))},t}(r.PureComponent);m.defaultProps={options:[],onChange:u.NOOP,value:null},m.displayName="SegmentControl",t.default=m,e.exports=t.default},7100:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=A(n(7)),l=n(532),s=A(n(9)),u=A(n(7099)),d=A(n(6597)),f=n(45),c=A(f),p=A(n(6773)),h=A(n(266)),y=A(n(966)),m=A(n(71)),v=A(n(81)),E=A(n(76)),_=n(0),g=A(n(6)),S=A(n(227)),T=A(n(144)),C=A(n(42)),N=A(n(117)),b=A(n(75)),O=A(n(5729)),I=n(106);function A(e){return e&&e.__esModule?e:{default:e}}var M=a(T.default,{}),R=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={selectedSegment:n.value,selectedTile:null,selectedResolution:n.resolution,selectedFrameRate:n.frameRate,sound:n.sound},i.default.bindAll(o,["handleSelectSegment","handleSoundChange","handleShare"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.value!==e.value&&this.setState({selectedSegment:e.value})},t.prototype.getButton=function(e,t){var n=this,o=this.props,r=o.premium,i=o.onPromptPremium,l=this.state,s=l.selectedResolution,u=l.selectedFrameRate,d=t?e===s:e===u,f=!1;r||(f=t?0===e||e>=1080:60===e);var c=void 0;t||60!==e?t&&(0===e||e>=1080)&&(c=60===u):c=0===s||s>=1080;var p=void 0,h=void 0;return f?(p=a(C.default,{align:C.default.Align.CENTER},void 0,a(m.default,{size:m.default.Sizes.SMALL,weight:m.default.Weights.SEMIBOLD,color:m.default.Colors.PRIMARY,className:O.default.selectorNitroText},void 0,0===e?g.default.Messages.SCREENSHARE_SOURCE:e),a(b.default,{name:b.default.Names.NITRO,color:_.Colors.BRAND,className:O.default.selectorNitroIcon})),h=i):(p=a(m.default,{size:m.default.Sizes.SMALL,weight:m.default.Weights.SEMIBOLD,className:(0,I.getClass)(O.default,"selectorText",d?"Selected":null)},void 0,0===e?g.default.Messages.SCREENSHARE_SOURCE:e),h=t?function(){return n.handleSelectResolution(e)}:function(){return n.handleSelectFrameRate(e)}),{content:p,className:(0,I.getClass)(O.default,"selectorButton",d?"Selected":null),onClick:h,disabled:c}},t.prototype.renderSelectors=function(){var e=this,t=[480,720,1080,0].map(function(t){return e.getButton(t,!0)}),n=[15,30,60].map(function(t){return e.getButton(t,!1)});return a(C.default,{align:C.default.Align.CENTER,shrink:0,className:O.default.selector},void 0,a(C.default.Child,{grow:0},void 0,a(E.default,{tag:E.default.Tags.H5},void 0,g.default.Messages.SCREENSHARE_STREAM_QUALITY),a(p.default,{buttons:t})),a(C.default.Child,{grow:0},void 0,a(E.default,{tag:E.default.Tags.H5},void 0,g.default.Messages.SCREENSHARE_FRAME_RATE),a(p.default,{buttons:n})),this.renderSound())},t.prototype.renderSound=function(){var e=this,t=this.props.items,n=this.state,o=n.selectedSegment,r=n.sound,s=(0,i.default)(t).filter(function(e){return e.value===o}).first();return null!=s&&s.sound?a(l.SmartUID,{},void 0,function(t){return a(C.default.Child,{grow:0},void 0,a("label",{htmlFor:t,className:O.default.label},void 0,g.default.Messages.SCREENSHARE_SOUND_TOGGLE_LABEL),a(C.default,{align:C.default.Align.CENTER,style:{height:30}},void 0,a(y.default,{id:t,value:r,onChange:e.handleSoundChange})))}):null},t.prototype.renderGrids=function(){var e=this,t=this.props.items,n=this.state,o=n.selectedSegment,r=n.selectedTile,l=(0,i.default)(t).filter(function(e){return e.value===o}).first();if(null==l||null==l.options)return a(C.default,{className:O.default.spinner,justify:C.default.Justify.CENTER,align:C.default.Align.CENTER},void 0,M);var u=l.layout,f=l.options,c=u===d.default.Layout.STACK,p=f.map(function(t){var n,o,i,l=t.id,u=t.name,d=t.url,f=r===l;return a(v.default,{className:O.default.tile,onClick:function(){return e.handleSelectTile(l)}},l,a(C.default,{direction:C.default.Direction.VERTICAL,justify:C.default.Justify.CENTER,align:C.default.Align.CENTER},void 0,a(C.default,{justify:C.default.Justify.CENTER,align:C.default.Align.CENTER,className:(0,s.default)((n={},n[O.default.imageContainerStack]=c,n[O.default.imageContainerWrap]=!c,n))},void 0,a("img",{alt:"",className:(0,s.default)((o={},o[O.default.imageSelected]=f,o[O.default.imageStack]=c,o[O.default.imageWrap]=!c,o)),src:d})),a("div",{className:(0,s.default)((i={},i[O.default.titleStack]=c,i[O.default.titleWrap]=!c,i[O.default.titleSelected]=f,i))},void 0,u)))});return a(S.default,{theme:S.default.Themes.GHOST_HAIRLINE},void 0,a(d.default,{layout:u,columns:3,className:O.default.container},void 0,p))},t.prototype.render=function(){var e=this.props,t=e.items,n=e.description,o=e.onCancel,r=this.state,l=r.selectedSegment,s=r.selectedTile,d=[];return(0,i.default)(t).forEach(function(e){var t=e.name,n=e.value;d.push({name:t,value:n})}),a(N.default,{size:O.default.size},void 0,a(C.default,{className:O.default.content,direction:C.default.Direction.VERTICAL},void 0,a(u.default,{options:d,value:l,onChange:this.handleSelectSegment,className:O.default.border}),this.renderSelectors(),a(C.default,{className:O.default.tiles,direction:C.default.Direction.VERTICAL,align:C.default.Align.STRETCH},void 0,this.renderGrids()),a(h.default,{type:h.default.Types.DESCRIPTION,className:O.default.description},void 0,n)),a(N.default.Footer,{},void 0,a(c.default,{disabled:null==s,onClick:this.handleShare},void 0,g.default.Messages.SHARE),a(c.default,{look:f.ButtonLooks.LINK,color:f.ButtonColors.PRIMARY,onClick:o},void 0,g.default.Messages.CANCEL)))},t.prototype.handleSelectSegment=function(e){var t=e.value;t!==this.state.selectedSegment&&(this.setState({selectedSegment:t}),(0,this.props.onSelectSourceType)(t))},t.prototype.handleSelectResolution=function(e){e!==this.state.selectedResolution&&this.setState({selectedResolution:e})},t.prototype.handleSelectFrameRate=function(e){e!==this.state.selectedFrameRate&&this.setState({selectedFrameRate:e})},t.prototype.handleSelectTile=function(e){e!==this.state.selectedTile&&this.setState({selectedTile:e})},t.prototype.handleSoundChange=function(e){this.setState({sound:e.currentTarget.checked})},t.prototype.handleShare=function(){var e=this.props.onShare,t=this.state;e(t.selectedTile,t.selectedResolution,t.selectedFrameRate,t.sound)},t}(r.PureComponent);R.defaultProps={items:[],value:null,premium:!1,resolution:480,frameRate:30,sound:!1,onCancel:_.NOOP,onShare:_.NOOP,onSelectSourceType:_.NOOP,onPromptPremium:_.NOOP},R.displayName="ScreenshareModal",t.default=R,e.exports=t.default},7102:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),a=n(56),r=u(n(2)),i=(n(0),n(78)),l=u(n(7101)),s=u(n(153));function u(e){return e&&e.__esModule?e:{default:e}}var d=!1,f=i.DesktopSources.SCREEN,c=void 0,p=void 0,h=void 0,y=new a.Interval;function m(){var e=f===i.DesktopSources.WINDOW?{width:150,height:150}:{width:307,height:240},t=f===i.DesktopSources.WINDOW?c:p,n=f;(0,l.default)([f],e).then(function(e){n!==f||null!=t&&(0,s.default)(t,e)||(f===i.DesktopSources.WINDOW?c=e:p=e,v.emitChange())})}var v=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return d},t.prototype.getProps=function(){return{windowSources:c,screenSources:p,channel:h}},t}(o.default.Store))(r.default,{SCREENSHARE_MODAL_OPEN:function(e){d=!0,h=e.channel,m(),y.start(1e3,m)},SCREENSHARE_MODAL_CLOSE:function(e){return d=!1,f=i.DesktopSources.SCREEN,h=null,y.stop(),c=null,void(p=null)},SCREENSHARE_MODAL_SELECT_SOURCE_TYPE:function(e){var t=e.sourceType;f=t,c=null,p=null,m()}});t.default=v,e.exports=t.default},7103:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(6)),l=_(n(17)),s=_(n(229)),u=_(n(7102)),d=_(n(55)),f=_(n(6148)),c=_(n(269)),p=_(n(370)),h=_(n(13)),y=_(n(7100)),m=_(n(6597)),v=n(0),E=n(78);function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleShare=o.handleShare.bind(o),o.handlePromptPremium=o.handlePromptPremium.bind(o),o.close=o.close.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getItems=function(){return[{name:i.default.Messages.SCREENSHARE_SCREEN,value:E.DesktopSources.SCREEN,layout:m.default.Layout.STACK,options:this.props.screenSources,sound:!1},{name:i.default.Messages.SCREENSHARE_WINDOW,value:E.DesktopSources.WINDOW,layout:m.default.Layout.WRAP,options:this.props.windowSources,sound:d.default.supports(E.Features.SOUNDSHARE)}]},t.prototype.render=function(){return a(y.default,{items:this.getItems(),value:E.DesktopSources.SCREEN,resolution:720,frameRate:30,sound:d.default.supports(E.Features.SOUNDSHARE),premium:s.default.canUseHigherFramerate(h.default.getCurrentUser()),description:i.default.Messages.SCREENSHARE_DESCRIPTION.format({name:this.props.channel.toString()}),onCancel:this.close,onSelectSourceType:this.handleSelectSourceType,onPromptPremium:this.handlePromptPremium,onShare:this.handleShare})},t.prototype.close=function(){f.default.close()},t.prototype.handleShare=function(e,t,n,o){this.close(),c.default.setDesktopSource(e,t,n,o)},t.prototype.handleSelectSourceType=function(e){f.default.selectSourceType(e)},t.prototype.handlePromptPremium=function(){l.default.track(v.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:v.AnalyticsPages.DM_CHANNEL,location_section:v.AnalyticsSections.SCREENSHARE_POPOUT}),this.close(),p.default.open(v.UserSettingsSections.PREMIUM)},t}(r.PureComponent);g.modalConfig={store:u.default},g.displayName="Screenshare",t.default=g,e.exports=t.default},7123:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(3)),a=i(n(2)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=r.FormStates.CLOSED,s=void 0,u=void 0,d=void 0;var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return l!==r.FormStates.CLOSED},t.prototype.getProps=function(){return{guildId:s,days:u,estimate:d}},t}(o.default.Store);t.default=new f(a.default,{PRUNE_GUILD_MODAL_OPEN:function(e){l=r.FormStates.OPEN,s=e.guildId,u=e.days,d=e.estimate},PRUNE_GUILD_MODAL_UPDATE:function(e){e.guildId===s&&e.days===u&&(d=e.estimate)},PRUNE_GUILD_MODAL_CLOSE:function(e){return l=r.FormStates.CLOSED,s=null,u=null,void(d=null)}}),e.exports=t.default},7124:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(6)),l=v(n(117)),s=v(n(76)),u=v(n(268)),d=v(n(266)),f=v(n(45)),c=v(n(6057)),p=v(n(7123)),h=v(n(25)),y=v(n(6824)),m=v(n(5747));function v(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleDaysChange=o.handleDaysChange.bind(o),o.handlePrune=o.handlePrune.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){y.default.close()},t.prototype.render=function(){var e=this.props,t=e.estimate,n=e.guildId,o=e.days,r=h.default.getGuild(n);return a(l.default,{tag:"form",onSubmit:this.handlePrune},void 0,a(l.default.Header,{},void 0,a(s.default,{tag:s.default.Tags.H4},void 0,i.default.Messages.PRUNE_MEMBERS,"—",null!=r?r.toString():"")),a(l.default.Content,{},void 0,a(u.default,{title:i.default.Messages.FORM_LABEL_LAST_SEEN},void 0,a(c.default,{value:o,options:[{name:i.default.Messages.LAST_SEEN.format({days:1}),value:1},{name:i.default.Messages.LAST_SEEN.format({days:7}),value:7},{name:i.default.Messages.LAST_SEEN.format({days:30}),value:30}],onChange:this.handleDaysChange,className:m.default.spacing}),a(d.default,{type:d.default.Types.DESCRIPTION,className:m.default.spacing},void 0,i.default.Messages.FORM_HELP_LAST_SEEN.format({members:t,days:o})))),a(l.default.Footer,{},void 0,a(f.default,{type:"submit",disabled:0===t},void 0,i.default.Messages.PRUNE),a(f.default,{type:"button",look:f.default.Looks.LINK,color:f.default.Colors.PRIMARY,onClick:this.close},void 0,i.default.Messages.CANCEL)))},t.prototype.handleDaysChange=function(e){var t=e.value;y.default.open(this.props.guildId,parseInt(t,10))},t.prototype.handlePrune=function(e){e.preventDefault();var t=this.props,n=t.days,o=t.guildId;y.default.prune(o,n)},t}(r.PureComponent);E.modalConfig={store:p.default},E.displayName="PruneGuild",t.default=E,e.exports=t.default},7125:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),a=s(n(2)),r=s(n(25)),i=s(n(28)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=l.FormStates.CLOSED,d=void 0,f=void 0,c=void 0;function p(){if(u===l.FormStates.CLOSED)return!1;var e=r.default.getGuild(d),t=i.default.isGuildRestricted(d),n=!1;return f!==e&&(f=e,n=!0),c!==t&&(c=t,n=!0),n}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([r.default,i.default],p)},t.prototype.isOpen=function(){return u!==l.FormStates.CLOSED},t.prototype.getProps=function(){return{guildId:d,guild:f,isGuildRestricted:c}},t}(o.default.Store);t.default=new h(a.default,{PRIVACY_SETTINGS_MODAL_OPEN:function(e){u=l.FormStates.OPEN,d=e.guildId,p()},PRIVACY_SETTINGS_MODAL_CLOSE:function(e){return u=l.FormStates.CLOSED,f=null,void(c=null)}}),e.exports=t.default},7126:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(6)),l=m(n(117)),s=m(n(76)),u=m(n(268)),d=m(n(926)),f=m(n(45)),c=m(n(7125)),p=m(n(6511)),h=m(n(517)),y=n(6676);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleRestrictedGuildChange=o.handleRestrictedGuildChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){p.default.close()},t.prototype.handleRestrictedGuildChange=function(e){var t=new Set((0,y.getSanitizedRestrictedGuilds)());e.currentTarget.checked?t.delete(this.props.guildId):t.add(this.props.guildId),t=Array.from(t),h.default.updateRemoteSettings({restrictedGuilds:t})},t.prototype.render=function(){var e=this.props,t=e.isGuildRestricted,n=e.guild;return a(l.default,{},void 0,a(l.default.Header,{},void 0,a(s.default,{tag:s.default.Tags.H4},void 0,i.default.Messages.PRIVACY_SETTINGS,"—",null!=n?n.toString():"??")),a(l.default.Content,{},void 0,a(u.default,{},void 0,a(s.default,{tag:s.default.Tags.H5,style:{marginBottom:4}},void 0,i.default.Messages.DIRECT_MESSAGES),a(d.default,{value:!t,onChange:this.handleRestrictedGuildChange,hideBorder:!0},void 0,i.default.Messages.ALLOW_SERVER_DMS))),a(l.default.Footer,{},void 0,a(f.default,{onClick:this.close},void 0,i.default.Messages.DONE)))},t}(r.PureComponent);v.modalConfig={store:c.default},v.displayName="PrivacySettings",t.default=v,e.exports=t.default},7127:function(e,t,n){"use strict";t.__esModule=!0;var o=f(n(3)),a=f(n(2)),r=f(n(272)),i=f(n(119)),l=f(n(943)),s=f(n(25)),u=n(382),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var c=d.FormStates.CLOSED,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=this;this.syncWith([r.default,i.default,s.default],function(){return e.isOpen()})},t.prototype.isOpen=function(){return c!==d.FormStates.CLOSED},t.prototype.getProps=function(){var e=l.default.getCategories(p);return{guildId:p,categories:e,guild:s.default.getGuild(p),suppressEveryone:r.default.isSuppressEveryoneEnabled(p),mobilePush:r.default.isMobilePushEnabled(p),muted:r.default.isMuted(p),messageNotifications:r.default.getMessageNotifications(p),channelOverrides:r.default.getChannelOverrides(p),channels:(0,u.getFlattenedChannelList)(e._categories,e,function(e){var t=e.channel.type;return t===d.ChannelTypes.GUILD_TEXT||t===d.ChannelTypes.GUILD_CATEGORY})}},t}(o.default.Store);t.default=new h(a.default,{NOTIFICATION_SETTINGS_MODAL_OPEN:function(e){var t=e.guildId;c=d.FormStates.OPEN,p=t},NOTIFICATION_SETTINGS_MODAL_CLOSE:function(e){return c=d.FormStates.CLOSED,void(p=null)}}),e.exports=t.default},7128:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(77),l=w(n(6)),s=w(n(9)),u=w(n(7)),d=w(n(117)),f=w(n(76)),c=w(n(71)),p=w(n(45)),h=w(n(42)),y=w(n(75)),m=w(n(513)),v=w(n(268)),E=w(n(266)),_=w(n(6842)),g=w(n(926)),S=w(n(6057)),T=w(n(931)),C=w(n(932)),N=w(n(94)),b=w(n(7127)),O=w(n(18)),I=w(n(943)),A=w(n(6138)),M=n(0),R=w(n(5748)),P=w(n(5567)),L=w(n(510));function w(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function F(e){return e.type===M.ChannelTypes.GUILD_CATEGORY?y.default.Names.CHANNEL_CATEGORY:e.isNSFW()?y.default.Names.CHANNEL_TEXT_NSFW:e.isRoleRequired()?y.default.Names.CHANNEL_TEXT_LIMITED:y.default.Names.CHANNEL_TEXT}var x=function(e){function t(n){D(this,t);var o=U(this,e.call(this,n));return o.handleMute=o.handleMute.bind(o),o.handleDelete=o.handleDelete.bind(o),o.unhighlight=o.unhighlight.bind(o),o.state={highlight:!1},o}return k(t,e),t.prototype.highlight=function(){var e=this;this.setState({highlight:!0},function(){null!=e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(e.unhighlight,1e3)})},t.prototype.unhighlight=function(){this.setState({highlight:!1})},t.prototype.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},t.prototype.setMessageNotification=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.channel,o=n.getGuildId();null!=o&&A.default.updateChannelOverrideSettings(o,n.id,{message_notifications:e,muted:t})},t.prototype.handleRadioChange=function(e){this.setMessageNotification(e)},t.prototype.handleMute=function(e,t){var n=this.props.messageNotifications;this.setMessageNotification(n||M.UserNotificationSettings.NULL,t)},t.prototype.handleDelete=function(){var e=this.props,t=e.onDelete,n=e.channel;this.setMessageNotification(M.UserNotificationSettings.NULL,!1),t(n.id)},t.prototype.messageNotificationsRadioOption=function(e){var t=this.props,n=t.messageNotifications,o=t.guildMuted,r=t.muted,i=t.guildMessageNotifications,l=n===e;null!=n&&n!==M.UserNotificationSettings.NULL||e!==i||(l=!0);var s=C.default.Types.INVERTED;return(r||n===M.UserNotificationSettings.NULL||null==n)&&(s=C.default.Types.GHOST),a(C.default,{value:!o&&l,disabled:o,shape:C.default.Shapes.ROUND,color:M.Colors.STATUS_GREEN,type:s,onChange:this.handleRadioChange.bind(this,e)})},t.prototype.renderName=function(){var e=this.props.channel,t=void 0;e.parent_id&&(t=O.default.getChannel(e.parent_id));var n=F(e),o=void 0;if(e.type===M.ChannelTypes.GUILD_CATEGORY&&e.guild_id){var r=I.default.getCategories(e.guild_id);o=l.default.Messages.NUM_CHANNELS.format({num:r[e.id]?r[e.id].length:0})}else o=null!=t?l.default.Messages.IN_CATEGORY.format({categoryName:t.toString()}):l.default.Messages.NO_CATEGORY;return a(h.default,{align:h.default.Align.START},void 0,a(h.default,{grow:0,shrink:0,className:R.default.iconContainer,align:h.default.Align.CENTER},void 0,a(y.default,{name:n,className:R.default.icon})),a(h.default.Child,{grow:1,shrink:1,className:L.default.marginReset},void 0,a(c.default,{weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.MEDIUM,className:R.default.channelName},void 0,e.toString()),a(c.default,{weight:c.default.Weights.NORMAL,size:c.default.Sizes.SMALL,className:R.default.channelNameByline},void 0,o)))},t.prototype.renderOptions=function(){var e=this.props,t=e.muted,n=e.guildMuted;return a(h.default,{grow:0,shrink:0,className:R.default.checkboxGroup,justify:h.default.Justify.AROUND,align:h.default.Align.CENTER},void 0,a(h.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(M.UserNotificationSettings.ALL_MESSAGES)),a(h.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(M.UserNotificationSettings.ONLY_MENTIONS)),a(h.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(M.UserNotificationSettings.NO_MESSAGES)),a(h.default.Child,{wrap:!0,grow:0,shrink:0,className:R.default.checkboxMute},void 0,a(C.default,{value:t,shape:C.default.Shapes.BOX,type:C.default.Types.INVERTED,onChange:this.handleMute})))},t.prototype.render=function(){var e=this.state.highlight;return a(m.default,{outline:!0,editable:!0,className:e?R.default.overrideHighlight:R.default.override},void 0,this.renderName(),this.renderOptions(),a("button",{className:(0,s.default)(R.default.removeOverride,P.default.button),onClick:this.handleDelete}))},t}(r.PureComponent);function G(e){return Object.keys(e).filter(function(t){return!0===e[t].muted||e[t].message_notifications!==M.UserNotificationSettings.NULL})}x.displayName="ChannelNotificationSettings";var j=function(e){function t(n){D(this,t);var o=U(this,e.call(this,n));return o.handleSelectChange=o.handleSelectChange.bind(o),o.handleDeleteOverride=o.handleDeleteOverride.bind(o),o.setScrollerRef=o.setScrollerRef.bind(o),o.renderOption=o.renderOption.bind(o),o.state={overrides:new Set(G(n.channelOverrides)),lastSelected:null},o}return k(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.channelOverrides,n=this.state.overrides;n=new Set(n),G(t).forEach(function(e){return n.add(e)}),this.setState({overrides:n})},t.prototype.close=function(){A.default.close()},t.prototype.setScrollerRef=function(e){this._scroller=null!=e?e.getScroller():null},t.prototype.componentDidUpdate=function(e,t){var n=this,o=this.state.lastSelected;null!=this._scroller&&null!=o&&null!=this.refs[o]&&o!==t.lastSelected&&(this._scroller.scrollIntoView((0,i.findDOMNode)(this.refs[o]),!0,{top:20,bottom:20},function(){return n.setState({lastSelected:null})}),this.refs[o].highlight())},t.prototype.handleCheckboxChange=function(e,t){var n;A.default.updateNotificationSettings(this.props.guildId,((n={})[e]=t.currentTarget.checked,n))},t.prototype.handleRadioChange=function(e,t){var n,o=t.value;A.default.updateNotificationSettings(this.props.guildId,((n={})[e]=o,n))},t.prototype.handleSelectChange=function(e){if(null!=e){var t=this.state.overrides;(t=new Set(t)).add(e.value),this.setState({overrides:t,lastSelected:e.value})}},t.prototype.handleDeleteOverride=function(e){var t=this.state.overrides;(t=new Set(t)).delete(e),this.setState({overrides:t})},t.prototype.renderHeader=function(){var e=this.props.guild;return a(d.default.Header,{},void 0,a(h.default.Child,{},void 0,a(f.default,{tag:f.default.Tags.H4},void 0,l.default.Messages.NOTIFICATION_SETTINGS),a(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,className:R.default.guildName},void 0,e.name)),a(h.default.Child,{grow:0},void 0,a(d.default.CloseButton,{onClick:this.close})))},t.prototype.renderFooter=function(){return a(d.default.Footer,{},void 0,a(p.default,{onClick:A.default.close},void 0,l.default.Messages.DONE))},t.prototype.renderMute=function(){var e=this.props.muted;return a(g.default,{value:e,onChange:this.handleCheckboxChange.bind(this,"muted"),note:l.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION},void 0,l.default.Messages.FORM_LABEL_MUTE_SERVER.format({name:this.props.guild.name}))},t.prototype.renderServerSettings=function(){var e=this.props,t=e.messageNotifications,n=e.muted;return a(v.default,{title:l.default.Messages.FORM_LABEL_SERVER_NOTIFICATION_SETTINGS,className:R.default.spacing},void 0,a(S.default,{disabled:n,value:t,onChange:this.handleRadioChange.bind(this,"message_notifications"),options:[{name:l.default.Messages.FORM_LABEL_ALL_MESSAGES,value:M.UserNotificationSettings.ALL_MESSAGES},{name:l.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:M.UserNotificationSettings.ONLY_MENTIONS},{name:l.default.Messages.FORM_LABEL_NOTHING,value:M.UserNotificationSettings.NO_MESSAGES}]}))},t.prototype.renderNotificationOptions=function(){var e=this.props,t=e.suppressEveryone,n=e.mobilePush,o=e.muted;return a(v.default,{className:R.default.largeSpacing},void 0,a(g.default,{onChange:this.handleCheckboxChange.bind(this,"suppress_everyone"),value:t},void 0,l.default.Messages.FORM_LABEL_SUPPRESS_EVERYONE.format()),a(g.default,{value:!o&&n,disabled:o,onChange:this.handleCheckboxChange.bind(this,"mobile_push")},void 0,l.default.Messages.FORM_LABEL_MOBILE_PUSH_NOTIFICATIONS))},t.prototype.renderOption=function(e){var t=O.default.getChannel(e.value);if(null==t)return e.label;var n=O.default.getChannel(t.parent_id),o=null!=n?n.name:null;return a(_.default,{iconType:F(t),title:e.label,subtitle:o})},t.prototype.renderOverrideSelect=function(){var e=this.props,t=e.channels,n=e.categories,o=(0,u.default)(t).filter(function(e){var t=e.channel;return t.type!==M.ChannelTypes.GUILD_CATEGORY||null!=n[t.id]&&n[t.id].length>0}).map(function(e){var t=e.channel;return{value:t.id,label:t.toString()}}).value();return a(v.default,{title:l.default.Messages.NOTIFICATION_OVERRIDES,className:R.default.largeSpacing},void 0,a(E.default,{type:E.default.Types.DESCRIPTION,className:R.default.smallSpacing},void 0,l.default.Messages.ADD_CHANNEL_TO_OVERRIDE),a(T.default,{searchable:!0,scrollMenuIntoView:!1,placeholder:l.default.Messages.SELECT_CHANNEL_OR_CATEGORY,optionRenderer:this.renderOption,options:o,onChange:this.handleSelectChange}))},t.prototype.renderChannelNotifications=function(){var e=this,t=this.props,n=t.channelOverrides,o=t.muted,i=t.channels,s=t.messageNotifications,u=t.categories,d=this.state.overrides,f=i.map(function(t){var a=t.channel;if(!d.has(a.id)||null!=u[a.id]&&0===u[a.id].length)return null;var i=n[a.id];return r.createElement(x,{key:a.id,ref:a.id,channel:a,guildMuted:o,muted:null!=i&&i.muted,messageNotifications:null!=i?i.message_notifications:null,guildMessageNotifications:s,onDelete:e.handleDeleteOverride})}).filter(function(e){return null!=e});return 0!==d.size&&0!==f.length||f.push(a("div",{className:R.default.overridePlaceholder},"placeholder",a(c.default,{color:c.default.Colors.PRIMARY,weight:c.default.Weights.SEMIBOLD,className:R.default.lighten},void 0,l.default.Messages.ADD_CHANNEL_TO_OVERRIDE))),a("div",{className:R.default.overrideList},void 0,a(h.default,{},void 0,a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerName},void 0,l.default.Messages.CHANNEL_OR_CATEGORY),a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,l.default.Messages.FORM_LABEL_ALL),a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,l.default.Messages.FORM_LABEL_MENTIONS),a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,l.default.Messages.FORM_LABEL_NOTHING),a(c.default,{color:c.default.Colors.PRIMARY,size:R.default.headerSize,weight:c.default.Weights.BOLD,className:R.default.headerOption},void 0,a(N.default,{text:l.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:N.default.Positions.BOTTOM},void 0,a("span",{},void 0,l.default.Messages.SOUND_MUTE)))),f)},t.prototype.render=function(){return r.createElement(d.default,{size:d.default.Sizes.MEDIUM,ref:this.setScrollerRef},this.renderHeader(),a(d.default.Content,{},void 0,this.renderMute(),this.renderServerSettings(),this.renderNotificationOptions(),this.renderOverrideSelect(),this.renderChannelNotifications()),this.renderFooter())},t}(r.PureComponent);j.modalConfig={store:b.default},j.displayName="NotificationSettings",t.default=j,e.exports=t.default},7129:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=g(n(60)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=g(n(54)),s=g(n(66)),u=g(n(512)),d=g(n(3)),f=g(n(9)),c=g(n(6)),p=g(n(6366)),h=g(n(6543)),y=g(n(13)),m=g(n(6611)),v=g(n(6610)),E=g(n(224)),_=g(n(5750));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{getInitialState:function(){return{translateX:new E.default.Value(0)}},componentDidAppear:function(){this.state.translateX.setValue(1)},componentWillEnter:function(e){E.default.spring(this.state.translateX,{toValue:1}).start(e)},componentWillLeave:function(e){E.default.spring(this.state.translateX,{toValue:0}).start(e)},getAnimatedStyle:function(){return E.default.accelerate({transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:[e?"-100%":"100%","0%"]})}]})}}}var C=(0,l.default)({displayName:"Step1",mixins:[s.default,d.default.StoreListenerMixin(m.default,y.default),T(!0)],getStateFromStores:function(){return{user:y.default.getCurrentUser()}},render:function(){var e=this.state.user;return null==e?null:a(E.default.li,{className:_.default.step1,style:this.getAnimatedStyle()},void 0,a("h5",{},void 0,c.default.Messages.NUF_TITLE.format({username:e.toString()})),a("p",{},void 0,c.default.Messages.NUF_BODY.format()))}}),N=(0,l.default)({displayName:"Step2",mixins:[s.default,T()],propTypes:{guild:r.default.shape({name:r.default.string.isRequired,region:r.default.string}).isRequired,onGuildChange:r.default.func.isRequired,errors:r.default.object.isRequired},componentDidMount:function(){0===this.props.guild.name.length&&this.refs["guild-name"].focus()},handleNameChange:function(e){this.props.onGuildChange({name:e.currentTarget.value})},handleRegionChange:function(e){this.props.onGuildChange({region:e})},handleIconChange:function(e){this.props.onGuildChange({icon:e})},render:function(){var e,t,n=this,o=function(e){return null!=n.props.errors[e]};return a(E.default.li,{className:_.default.step2,style:this.getAnimatedStyle()},void 0,a("h5",{},void 0,c.default.Messages.CREATE_SERVER_TITLE),a("p",{},void 0,c.default.Messages.CREATE_SERVER_DESCRIPTION.format()),a("ul",{className:_.default.guildForm},void 0,a("li",{},void 0,a("div",{className:(0,f.default)(_.default.controlGroup,(e={},e[_.default.error]=o("name"),e))},void 0,a("label",{htmlFor:"guild-name"},void 0,c.default.Messages.FORM_LABEL_SERVER_NAME," ",o(t="name")?a("span",{className:_.default.error},void 0,"(",n.props.errors[t],")"):null),i.createElement("input",{id:"guild-name",ref:"guild-name",type:"text",defaultValue:this.props.guild.name,onChange:this.handleNameChange,placeholder:c.default.Messages.FORM_PLACEHOLDER_SERVER_NAME})),a("div",{className:_.default.controlGroup},void 0,a("label",{htmlFor:"guild-region"},void 0,c.default.Messages.FORM_LABEL_SERVER_REGION),a(p.default,{id:"guild-region",value:this.props.guild.region,onChange:this.handleRegionChange}))),a("li",{},void 0,a(h.default,{name:this.props.guild.name,icon:this.props.guild.icon,onChange:this.handleIconChange,avatarClassName:_.default.avatar}))))}}),b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=S(this,e.call.apply(e,[this].concat(r))),o.close=function(){v.default.setStep()},o.handleGuildChange=function(e){v.default.updateTemporaryGuild(e)},o.handleNextStep=function(e){e.preventDefault(),1===o.props.step?v.default.createGuild(o.props.guild.name,o.props.guild.region,o.props.guild.icon):v.default.setStep(o.props.step+1)},S(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t,n=void 0,o=void 0;switch(this.props.step){case 0:o=a(C,{},this.props.step),n=c.default.Messages.GET_STARTED;break;case 1:default:o=a(N,{guild:this.props.guild,onGuildChange:this.handleGuildChange,errors:this.props.errors},this.props.step),n=c.default.Messages.DONE}return a("form",{className:(0,f.default)(_.default.modalNewUser,_.default.form),onSubmit:this.handleNextStep},void 0,a(u.default,{className:_.default.steps,component:"ul"},void 0,o),a("div",{className:_.default.formActions},void 0,a("div",{className:_.default.stepsWrap},void 0,a("ul",{className:_.default.steps},void 0,a("li",{className:(0,f.default)((e={},e[_.default.active]=0===this.props.step,e[_.default.on]=this.props.step>=0,e))}),a("li",{className:_.default.divider}),a("li",{className:(0,f.default)((t={},t[_.default.active]=1===this.props.step,t[_.default.on]=this.props.step>=1,t))}))),a("button",{type:"button",className:(0,f.default)(_.default.btn,_.default.btnDefault),onClick:this.close},void 0,c.default.Messages.SKIP),a("button",{type:"submit",className:(0,f.default)(_.default.btn,_.default.btnPrimary),disabled:this.props.guildSubmitting},void 0,n)))},t}(i.PureComponent);b.modalConfig={store:m.default,center:!0,closable:!1},b.displayName="NewUser",t.default=b,e.exports=t.default},7130:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=S(n(3)),l=S(n(9)),s=S(n(6)),u=S(n(6111)),d=S(n(6095)),f=S(n(28)),c=S(n(6172)),p=S(n(71)),h=S(n(925)),y=n(511),m=S(n(117)),v=S(n(45)),E=S(n(971)),_=n(0),g=S(n(5751));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=T(this,e.call.apply(e,[this].concat(r))),o.state={name:"",icon:null,submitting:!1,error:null},o.handleNameChange=function(e){o.setState({name:e})},o.handleIconChange=function(e){o.setState({icon:e})},o.handleSubmit=function(e){e.preventDefault();var t=o.props,n=t.region,a=t.onDone,r=t.createGuild;null!=n&&(""!==o.state.name?(o.setState({submitting:!0,error:null}),r(o.state.name,n,o.state.icon).then(function(){o.setState({submitting:!1}),a()},function(e){null!=e.name&&o.setState({submitting:!1,error:e.name})})):o.setState({error:s.default.Messages.SERVER_NAME_REQUIRED}))},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderCloseButton=function(){var e=this.props.onClose;return null==e?null:a(m.default.CloseButton,{onClick:e})},t.prototype.renderPreviousButton=function(){var e=this.props,t=e.onSkip,n=e.onBack;return null!=t?a(v.default,{look:v.default.Looks.LINK,color:v.default.Colors.PRIMARY,onClick:t},void 0,s.default.Messages.SKIP):null!=n?a(v.default,{className:g.default.backButton,size:g.default.backButtonSize,look:v.default.Looks.LINK,color:v.default.Colors.PRIMARY,onClick:n},void 0,s.default.Messages.BACK):null},t.prototype.render=function(){var e,t=this.props,n=t.region,o=t.theme,r=t.progress;if(null==n)return null;var i=this.state,u=i.name,d=i.icon,f=i.error,S=i.submitting;return a(m.default,{tag:"form",onSubmit:this.handleSubmit,size:g.default.size,className:g.default.modal},void 0,a(m.default.Header,{},void 0,a(y.FormTitle,{tag:y.FormTitle.Tags.H4},void 0,s.default.Messages.CREATE_SERVER_TITLE),this.renderCloseButton()),a(m.default.Content,{className:g.default.content},void 0,a(p.default,{className:g.default.description,color:p.default.Colors.PRIMARY},void 0,s.default.Messages.CREATE_SERVER_DESCRIPTION.format()),a("div",{className:g.default.form},void 0,a(c.default,{showIcon:!0,name:u,avatar:d,onChange:this.handleIconChange,className:g.default.avatar,avatarClassName:g.default.avatarInner}),a("div",{className:g.default.input},void 0,a(y.FormItem,{title:s.default.Messages.FORM_LABEL_SERVER_NAME},void 0,a(h.default,{type:"text",value:u,maxLength:100,onChange:this.handleNameChange,error:f,autoFocus:!0})),a(p.default,{size:p.default.Sizes.SMALL,color:p.default.Colors.PRIMARY,className:g.default.hintText},void 0,s.default.Messages.CREATE_SERVER_GUIDELINES.format({guidelinesURL:_.MarketingURLs.GUIDELINES}))))),a(m.default.Footer,{className:g.default.footer},void 0,a("div",{className:(0,l.default)(g.default.buttonContainer,(e={},e[g.default.spaceBetween]=null==r,e))},void 0,this.renderPreviousButton(),a(v.default,{disabled:S,onClick:this.handleSubmit},void 0,s.default.Messages.CREATE)),null!=r?a(E.default,{className:g.default.progress,size:E.default.Sizes.LARGE,foregroundColor:_.Colors.Brand,backgroundColor:o===_.ThemeTypes.DARK?_.Colors.PRIMARY_DARK:_.Colors.PRIMARY_DARK_300,percent:r,animate:!0}):null))},t}(r.PureComponent);C.defaultProps={createGuild:u.default.createGuildPromise},C.displayName="CreateGuildSlide",t.default=i.default.connectStores([d.default],function(){return{region:d.default.getOptimalRegionId(),theme:f.default.theme}})(C),e.exports=t.default},7131:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(9)),l=s(n(5753));function s(e){return e&&e.__esModule?e:{default:e}}var u=a("path",{fill:"#202225",d:"M70.207 207.263H53.983a1 1 0 0 0 0 2h8.76a1 1 0 0 1 1 1v3.2a1 1 0 1 0 2 0v-3.2a1 1 0 0 1 1-1h3.464a1 1 0 0 0 0-2"}),d=a("g",{transform:"translate(0 5.796)"},void 0,a("path",{fill:"#202225",d:"M191.989 79.372a5 5 0 0 1-5-5V55.875a3.998 3.998 0 0 1 7.997 0v5.497a1 1 0 0 0 1 1h9.997a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.998-3.998h6.005a3.998 3.998 0 0 1 3.999 3.998v5.497a1 1 0 0 0 1 1h9.996a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.999-3.998h8.006a3.998 3.998 0 0 1 3.999 3.998v18.497a5 5 0 0 1-5 5h-51.996zm51.002 38.032a4 4 0 0 1-4 4H217.04a3.34 3.34 0 0 1-3.34-3.34v-5.676a1 1 0 1 0-2 0v5.676a3.34 3.34 0 0 1-3.34 3.34h-6.377a1 1 0 1 0 0 2h37.008a4 4 0 0 1 4 4v50.048a4 4 0 0 1-4 4h-8.002a1 1 0 0 0 0 2h8.002a4 4 0 0 1 4 4V216a3 3 0 0 1-3 3h-44.008a3 3 0 0 1-3-3v-6.532a6 6 0 0 1 6-6h22.224a1 1 0 0 0 0-2h-22.224a6 6 0 0 1-6-6V148.42a5 5 0 0 1 5-5h3.224a1 1 0 0 0 0-2h-3.224a5 5 0 0 1-5-5v-32.032a1 1 0 0 1 1-1h5.224a1 1 0 0 0 0-2h-2.224a4 4 0 0 1-4-4V87.372a4 4 0 0 1 4-4H218.2a4 4 0 0 1 4 4v10.016a4 4 0 0 1-4 4h-9.743a1 1 0 1 0 0 2h18.534a1 1 0 0 0 0-2H225.2a1 1 0 0 1-1-1V84.372a1 1 0 0 1 1-1h16.79a1 1 0 0 1 1 1v33.032zM188.48 88.377h-17.436a7 7 0 0 1-7-7V77.01a4 4 0 0 1 4-4h10.945a6 6 0 0 1 6 6v.87a3.491 3.491 0 0 0 3.49 3.492 2.503 2.503 0 0 1 0 5.005zm2.503 19.016a1 1 0 0 1-1 1H178.2a4 4 0 0 1-4-4v-9.016a1 1 0 1 0-2 0v9.016a4 4 0 0 1-4 4h-12.993a1 1 0 0 0 0 2h34.776a1 1 0 0 1 1 1v53.048a4 4 0 0 1-4 4h-13.776a1 1 0 0 0 0 2h4.944a4.55 4.55 0 0 1 4.549 4.55v8.917a4.55 4.55 0 0 1-4.55 4.549h-7.407a4 4 0 0 1-4-4v-31.482a2.555 2.555 0 0 1 2.548-2.55h10.916a1 1 0 0 0 0-2h-3.833a3.34 3.34 0 0 1-3.34-3.34v-4.418a1 1 0 0 0-2 0v4.418a3.34 3.34 0 0 1-3.34 3.34h-.414a.994.994 0 0 1-.98-.845c-2.301-14.3-13.546-25.64-27.798-28.082-.028-.007-.056-.01-.084-.015a34.033 34.033 0 0 0-5.675-.483c-15.598 0-28.77 10.56-32.755 24.906-.734 2.643-3.07 4.519-5.813 4.519h-1.193a1 1 0 0 0 0 2h4.806a1 1 0 0 1 .995 1.06c-.025.502-.04 1.007-.04 1.515v.736c-3.956-1.055-7.942-1.781-11.814-2.114a.992.992 0 0 1-.913-.99l-.008-19.222a1 1 0 0 1 1-1h15.199a1 1 0 0 0 0-2 3.34 3.34 0 0 1-3.34-3.34v-2.666a1 1 0 0 0-2 0v2.666a3.34 3.34 0 0 1-3.34 3.34h-6.521c-.552 0-1-.448-1-1l-.021-50.398a4 4 0 0 1 4-4.002h11.999a4 4 0 0 1 4 4v9.013a4 4 0 0 0 4 4h9.027a4 4 0 0 0 4-4V77.01a4 4 0 0 1 4-4h14.165a3.839 3.839 0 0 1 3.839 3.839 1 1 0 0 0 2 0v-.84a3 3 0 0 1 3-3h2.008a3 3 0 0 1 3 3v9.014a3 3 0 0 1-3 3h-2.008a3 3 0 0 1-3-3V83.8a1 1 0 0 0-2 0v.737a3.839 3.839 0 0 1-3.84 3.839h-9.968a1 1 0 0 0 0 2h5.676a1 1 0 0 1 1 1v5.29a1 1 0 1 0 2 0v-5.29a1 1 0 0 1 1-1h49.1a1 1 0 0 1 1 1v16.016zm0 100.08a1 1 0 0 1-1 1H183.7a1 1 0 1 0 0 2h6.283a1 1 0 0 1 1 1V218a1 1 0 0 1-1 1h-22.24a1 1 0 0 1-1-1v-23.543a4 4 0 0 1 4-4h16.04a1 1 0 1 0 0-2H185.7a1 1 0 0 1-1-1V171.44a1 1 0 0 1 1-1h5.283v37.033zm-26.24 5.947c0 .96-1.221 1.369-1.798.602l-30.086-39.908c-4.48-5.941-11.95-11.352-20.535-15.403a.992.992 0 0 1-.572-.897V153c0-15.56 11.028-28.737 26.277-31.486.128-.023.26-.023.389 0 14.946 2.688 26.325 15.779 26.325 31.486v60.42zm-64-59.86V153c0-15.296 10.79-28.113 25.158-31.254 1.106-.241 1.713 1.27.734 1.838-10.223 5.924-16.883 16.952-16.883 29.416v3.054a.998.998 0 0 1-1.382.92 81.032 81.032 0 0 0-6.921-2.463.994.994 0 0 1-.706-.951zM162.186 219h-61.49L66.86 174.114c-3.733-4.951-4.784-9.694-2.96-13.353 2.328-4.671 9.016-7.35 18.348-7.35 17.92 0 39.909 9.828 49.015 21.907l31.723 42.08a1 1 0 0 1-.8 1.602zm-75.141 0a1 1 0 0 1-1-1l-.004-8.934c-.001-1.986 2.527-2.833 3.723-1.247l8.429 11.18H87.045zm-6.001 0H47.983a3 3 0 0 1-3-3v-31.548a1 1 0 0 1 1-1h10.224a1 1 0 0 0 0-2h-.673a1 1 0 0 1-1-1v-8.016a1 1 0 0 0-2 0v8.016a1 1 0 0 1-1 1h-2.551a4 4 0 0 1-4-4v-8.016a6 6 0 0 1 6-6h6.224a1 1 0 0 0 0-2H45.983a1 1 0 0 1-1-1V146.42a3 3 0 0 1 3-3h5.224a1 1 0 0 0 0-2h-5.224a3 3 0 0 1-3-3v-34.032a1 1 0 0 1 1-1h5.224a1 1 0 0 0 0-2h-1.224a5 5 0 0 1-5-5v-8.016a5 5 0 0 1 5-5H69.2a5 5 0 0 1 5 5v8.016a5 5 0 0 1-5 5h-8.743a1 1 0 1 0 0 2H78.99a1 1 0 0 0 0-2H77.2a1 1 0 0 1-1-1V84.372a1 1 0 0 1 1-1h5.788a1 1 0 0 1 1 1l.015 36.03a1 1 0 0 1-1 1.002H69.427a3.727 3.727 0 0 1-3.727-3.727v-5.29a1 1 0 1 0-2 0v5.29a3.727 3.727 0 0 1-3.726 3.727h-5.991a1 1 0 1 0 0 2h26.023a4 4 0 0 1 4 3.998v1.885c-.004.042-.024.079-.024.123 0 .043.02.08.025.123l.009 20.158c0 .963-.79 1.722-1.752 1.72h-.017c-10.12 0-17.46 3.083-20.137 8.457-2.181 4.374-1.061 9.86 3.152 15.45l18.574 24.638c.13.174.2.385.202.602l.006 15.44a2.999 2.999 0 0 1-3 3.002zM38.989 74.372V55.875a3.998 3.998 0 0 1 7.997 0v5.497a1 1 0 0 0 1 1h9.997a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.998-3.998h6.005a3.998 3.998 0 0 1 3.999 3.998v5.497a1 1 0 0 0 1 1h9.996a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.999-3.998h8.006a3.998 3.998 0 0 1 3.999 3.998V70.01a1 1 0 0 1-1 1H84.982a1 1 0 0 0-1 1l.002 2.36a4.998 4.998 0 0 1-4.998 5.002H43.989a5 5 0 0 1-5-5zm68.995 1.638a3 3 0 0 1 3-3h1.007a3 3 0 0 1 3 3v9.013a3 3 0 0 1-3 3h-1.007a3 3 0 0 1-3-3V76.01zm-72.98 73.566l-11-9.452-11 9.452v-56.33a1 1 0 0 1 2 0v45.225a1 1 0 0 0 1.486.874l7.514-7.514 7.514 7.514a1.003 1.003 0 0 0 .993-.013.997.997 0 0 0 .493-.861V93.246a1 1 0 0 1 2 0v56.33zm-18-52.253a5.078 5.078 0 0 1 5.077-5.077h3.846a5.077 5.077 0 0 1 5.077 5.077v37.446l-7-7.228-7 7.228V97.323zM3.76 92.746a1.501 1.501 0 0 1 0-3c.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5zM214.18 7.532c0-2.18 2.252-3.631 4.237-2.733l14.88 6.728c2.452 1.109 2.317 4.636-.213 5.553l-14.88 5.399c-1.956.709-4.023-.74-4.023-2.82V7.532zM248.73 219h-2.74a1 1 0 0 1-1-1V84.372a1 1 0 0 1 1-1h.995a4 4 0 0 0 4-4V53.875a3.998 3.998 0 0 0-4-3.998H234.98a3.998 3.998 0 0 0-4 3.998v5.497a1 1 0 0 1-1 1h-5.995a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-4-3.998h-3.804a1 1 0 0 1-1-1v-22.11a1 1 0 0 1 .66-.94l28.169-10.22a1 1 0 0 0 .07-1.851L213.594.422a1 1 0 0 0-1.412.91v47.545a1 1 0 0 1-1 1h-2.2a3.998 3.998 0 0 0-3.998 3.998v5.497a1 1 0 0 1-1 1h-5.997a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-3.998-3.998h-4a3.998 3.998 0 0 0-4 3.998V64.01a7 7 0 0 1-7 7h-11.944a4 4 0 0 0-4 4v11.003c0 1.11-.9 2.01-2.01 2.01h-1.001c-1.11 0-2.01-.9-2.01-2.01V75.01a4 4 0 0 0-4-4H125.01a4 4 0 0 0-4 4v10.896c0 1-.684 1.929-1.672 2.09a2.012 2.012 0 0 1-2.348-1.983V75.01a4 4 0 0 0-4-4h-9.006a1 1 0 0 1-1-1V53.875a3.998 3.998 0 0 0-4-3.998H86.98a3.998 3.998 0 0 0-4 3.998v5.497a1 1 0 0 1-1 1h-5.995a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-4-3.998h-2.804a1 1 0 0 1-1-1v-22.11a1 1 0 0 1 .66-.94l28.169-10.22a1 1 0 0 0 .07-1.851L80.107 6.533a1 1 0 1 0-.824 1.822l7.015 3.172c2.452 1.109 2.317 4.636-.213 5.553l-14.88 5.399c-1.956.71-4.023-.74-4.023-2.82V7.532c0-2.18 2.25-3.631 4.236-2.733l1.414.639a1 1 0 0 0 .825-1.822L66.593.422a1 1 0 0 0-1.412.91v47.545a1 1 0 0 1-1 1h-3.2a3.998 3.998 0 0 0-3.998 3.998v5.497a1 1 0 0 1-1 1h-5.997a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-3.998-3.998h-4a3.998 3.998 0 0 0-4 3.998v25.497a4 4 0 0 0 4 4h.995a1 1 0 0 1 1 1v4.875a1 1 0 0 1-1 1l-32.791-.001a3.733 3.733 0 0 1-2.814-1.302 3.468 3.468 0 0 0-3.31-1.131C1.753 88.067.66 89.105.357 90.41a3.508 3.508 0 0 0 3.403 4.336 3.459 3.459 0 0 0 2.674-1.265c.672-.812 1.705-1.235 2.759-1.235l1.014.42c1 0 .797.39.797 1.392v57.218a1 1 0 0 0 1.486.874l11.514-9.737 11.514 9.737a1 1 0 0 0 1.486-.874V94.204c0-1.082.877-1.958 1.958-1.958h3.02a1 1 0 0 1 1 1V218a1 1 0 0 1-1 1H1a1 1 0 0 0 0 2h247.73a1 1 0 1 0 0-2z"})),f=a("path",{fill:"#202225",d:"M177.332 214.27h-4.125a1 1 0 0 0 0 2h4.125a1 1 0 0 0 0-2M96.867 116.788v3.425a1 1 0 0 0 2 0v-3.425a1 1 0 0 0-2 0"}),c=a("path",{fill:"#202225",d:"M232.207 168.232a1 1 0 0 0-1-1h-35.225a1 1 0 0 0 0 2h.001a4.55 4.55 0 0 1 4.55 4.55v7.68a1 1 0 0 0 2 0v-7.68a4.55 4.55 0 0 1 4.55-4.55h24.124a1 1 0 0 0 1-1M217.987 187.248h-4.78a1 1 0 1 0 0 2h4.78a1 1 0 0 0 0-2M226.987 187.248h-.78a1 1 0 1 0 0 2h.78a1 1 0 0 0 0-2"}),p=a("path",{fill:"#B9BBBE",d:"M3.76 95.542c-.828 0-1.5.673-1.5 1.5s.672 1.5 1.5 1.5c.826 0 1.5-.673 1.5-1.5s-.674-1.5-1.5-1.5"}),h=a("path",{fill:"#202225",d:"M25.754 206.863l-.008-.168v-3.244c0-.237.021-.474.063-.707l1.598-8.9a1.173 1.173 0 1 0-2.31-.416l-.755 4.202a.168.168 0 0 1-.277.097 4.5 4.5 0 0 0-3.257-1.016c-2.394.202-4.16 2.35-4.16 4.753v2.335c0 .746-.278 1.465-.78 2.017l-4.546 5.004a1.173 1.173 0 0 0 1.738 1.58l3.411-3.755-.257 2.665a4.073 4.073 0 0 0 .844 2.9c.163.21.258.464.237.728l-.799 10.007a1.174 1.174 0 0 0 2.341.188l.675-8.462a1 1 0 0 1 1.004-.92l1.194.008a1 1 0 0 1 .99.92l.675 8.454a1.173 1.173 0 0 0 2.34-.188l-.785-9.825a1.062 1.062 0 0 1 .272-.767 4.08 4.08 0 0 0 .977-3.055l-.425-4.435z"}),y=a("g",{transform:"translate(126 -.204)"},void 0,a("path",{fill:"#D3D6ED",d:"M3.032.497a.999.999 0 0 0-1.414 0L.435 1.68A.999.999 0 1 0 1.85 3.094l1.183-1.183a.999.999 0 0 0 0-1.414"})),m=a("path",{fill:"#D3D6ED",d:"M121.702 6.21l-1.183 1.183a.999.999 0 1 0 1.414 1.414l1.183-1.184a.999.999 0 1 0-1.414-1.414M127.85 6.21a.999.999 0 1 0-1.415 1.413l1.183 1.184a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L127.85 6.21zM123.116 1.476L121.933.293a1 1 0 0 0-1.414 1.414l1.183 1.183a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414"}),v=a("path",{fill:"#FFF",d:"M155.136 22.972a4.054 4.054 0 1 1-8.107 0 4.054 4.054 0 0 1 8.107 0"}),E=a("path",{fill:"#202225",d:"M151.083 19.919a3.057 3.057 0 0 0-3.053 3.053 3.056 3.056 0 0 0 3.053 3.052 3.056 3.056 0 0 0 3.053-3.052 3.057 3.057 0 0 0-3.053-3.053m0 8.105a5.058 5.058 0 0 1-5.053-5.052 5.06 5.06 0 0 1 5.053-5.053 5.06 5.06 0 0 1 5.053 5.053 5.058 5.058 0 0 1-5.053 5.052"}),_=a("path",{fill:"#D3D6ED",d:"M2.662 171.946a1.51 1.51 0 0 1-1.51 1.51 1 1 0 0 0 0 2c.834 0 1.51.676 1.51 1.51a1 1 0 0 0 2 0c0-.834.676-1.51 1.51-1.51a1 1 0 0 0 0-2 1.51 1.51 0 0 1-1.51-1.51 1 1 0 0 0-2 0"}),g=a("path",{d:"M0-1h251v228H0z"}),S=a("path",{d:"M-55-67h360v360H-55z"}),T=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t,n,o,r=this.props,s=r.className,T=r.hovered,C=r.isGreen,N=r.hideBackgroundMist;return a("svg",{className:s,xmlns:"http://www.w3.org/2000/svg",width:"164",height:"147",viewBox:"0 0 251 227"},void 0,a("g",{fill:"none",fillRule:"evenodd"},void 0,N?null:a("g",{transform:"translate(6 52.796)"},void 0,a("path",{className:l.default.background,d:"M208.52 152.196H27.37c-11.694 0-21.175-9.48-21.175-21.176 0-11.695 9.48-21.176 21.175-21.176h1.648c17.116 0 30.99-13.875 30.99-30.99 0-17.116-13.874-30.99-30.99-30.99h-5.085C10.873 47.863.287 37.276.287 24.217.288 11.14 10.902.545 23.98.573 55.478.64 126.548.498 157.416.404c12.4-.037 22.47 10.004 22.47 22.404v29.934c0 14.65.304 26.526 14.954 26.526h14.775c19.535 0 35.37 15.836 35.37 35.37v1.094c0 20.14-16.326 36.464-36.465 36.464"})),a("path",{className:l.default.body,d:"M82.985 87.168a1 1 0 0 0 1-1l-.003-8.362a.997.997 0 0 1 1-1H99.984a1 1 0 0 0 1-1V58.673a1 1 0 0 0-1-1H85.981a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.997a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1H59.982a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.997a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1h-5.997a1 1 0 0 0-1 1v27.495a1 1 0 0 0 1 1h42.997zM187.989 87.168h59.996a1 1 0 0 0 1-1V58.673a1 1 0 0 0-1-1H233.98a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.996a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1h-12.002a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.997a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1h-5.997a1 1 0 0 0-1 1v27.495a1 1 0 0 0 1 1M70.207 209.263h-3.464a1 1 0 0 0-1 1v3.2a1 1 0 0 1-2 0v-3.2a1 1 0 0 0-1-1h-8.76a1 1 0 0 1 0-2h16.224a1 1 0 0 1 0 2zm13.83-2.91a.996.996 0 0 0-.202-.6l-18.572-24.639c-4.215-5.59-5.334-11.077-3.154-15.45 2.68-5.375 10.018-8.457 20.137-8.457.25 0 .5.002.75.006a.996.996 0 0 0 1.02-.993l-.01-20.892c-.005-.042-.025-.08-.025-.123 0-.044.02-.08.026-.123l-.003-4.883a1 1 0 0 0-1-1H53.982a1 1 0 0 1 0-2H62.7a1 1 0 0 0 1-1v-8.016a1 1 0 1 1 2 0v8.016a1 1 0 0 0 1 1h16.302a1 1 0 0 0 1-1l-.014-36.032c-.001-.552-.448-1-1-1H77.2a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h1.79a1 1 0 0 1 0 2H60.456a1 1 0 0 1 0-2h12.745a1 1 0 0 0 1-1V90.167a1 1 0 0 0-1-1H45.983a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h5.224a1 1 0 0 1 0 2h-5.224a1 1 0 0 0-1 1v36.032a1 1 0 0 0 1 1h7.224a1 1 0 0 1 0 2h-7.224a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h11.224a1 1 0 0 1 0 2H45.983a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h5.55a1 1 0 0 0 1-1v-8.016a1 1 0 0 1 2 0v8.016a1 1 0 0 0 1 1h.673a1 1 0 0 1 0 2H45.983a1 1 0 0 0-1 1v33.55a1 1 0 0 0 1 1h37.063a1 1 0 0 0 1-1.002l-.008-17.442z"}),a("path",{className:l.default.body,d:"M97.867 121.213a1 1 0 0 1-1-1v-3.425a1 1 0 0 1 2 0v3.425a1 1 0 0 1-1 1zm-.875-42.407h-10.01a1 1 0 0 0-1 1l.024 53.4c0 .552.448 1 1 1h8.86a1 1 0 0 0 1-1V128.2a1 1 0 0 1 2 0v5.006a1 1 0 0 0 1 1h2.34a1 1 0 1 1 0 2H87.009a1 1 0 0 0-1 1l.008 19.223c0 .518.396.945.913.988 3.873.333 7.858 1.06 11.814 2.114v-.736c0-.507.015-1.012.04-1.514a1 1 0 0 0-.995-1.06h-4.806a1 1 0 1 1 0-2h5.224c.492 0 .9-.36.979-.846 2.604-16.18 16.656-28.58 33.558-28.58 1.934 0 3.828.171 5.675.483.028.005.056.008.084.015 14.252 2.444 25.497 13.782 27.799 28.082a.994.994 0 0 0 .979.845h2.754a1 1 0 0 0 1-1v-6.757a1 1 0 0 1 2 0v6.757a1 1 0 0 0 1 1h6.173a1 1 0 0 1 0 2h-12.51a1 1 0 0 0-.994 1.06c.025.502.04 1.007.04 1.516v34.458a1 1 0 0 0 1 1H181.7a1 1 0 0 0 1-1v-16.017a1 1 0 0 0-1-1h-8.493a1 1 0 1 1 0-2h17.576c.07 0 .133.026.2.04V117.19a1 1 0 0 0-1-1h-34.776a1 1 0 0 1 0-2H171.2a1 1 0 0 0 1-1v-12.017a1 1 0 0 1 2 0v12.016a1 1 0 0 0 1 1h14.783a1 1 0 0 0 1-1V97.173a1 1 0 0 0-1-1h-49.1a1 1 0 0 0-1 1v5.29a1 1 0 0 1-2 0v-5.29a1 1 0 0 0-1-1h-5.676a1 1 0 1 1 0-2h19.808a1 1 0 0 0 1-1V79.805a1 1 0 0 0-1-1h-27.003a1 1 0 0 0-1 1v12.013a4 4 0 0 1-4 4H109.984a4 4 0 0 1-4-4V79.805a1 1 0 0 0-1-1h-7.992zM203.534 169.232a1 1 0 0 0-1 1v11.23a1 1 0 0 1-2 0v-11.23a1 1 0 0 0-1-1h-3.551a1 1 0 1 1 0-2h35.224a1 1 0 0 1 0 2h-27.673zm14.453 20.016h-4.78a1 1 0 0 1 0-2h4.78a1 1 0 0 1 0 2zm9 0h-.78a1 1 0 0 1 0-2h.78a1 1 0 0 1 0 2zm16.004 34.548v-33.548a1 1 0 0 0-1-1h-11.002a1 1 0 0 1 0-2h11.002a1 1 0 0 0 1-1V130.2a1 1 0 0 0-1-1h-40.008a1 1 0 1 1 0-2h8.718a1 1 0 0 0 1-1v-8.017a1 1 0 1 1 2 0v8.016a1 1 0 0 0 1 1h27.29a1 1 0 0 0 1-1V90.168a1 1 0 0 0-1-1H225.2a1 1 0 0 0-1 1v16.015a1 1 0 0 0 1 1h1.79a1 1 0 1 1 0 2h-18.534a1 1 0 0 1 0-2H221.2a1 1 0 0 0 1-1V90.167a1 1 0 0 0-1-1h-27.218a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h5.224a1 1 0 1 1 0 2h-5.224a1 1 0 0 0-1 1v36.032a1 1 0 0 0 1 1h7.224a1 1 0 0 1 0 2h-7.224a1 1 0 0 0-1 1v56.048a1 1 0 0 0 1 1h27.224a1 1 0 1 1 0 2h-27.224a1 1 0 0 0-1 1v13.532a1 1 0 0 0 1 1h48.008a1 1 0 0 0 1-1z"}),a("path",{className:l.default.accent,d:"M114.99 92.819V79.805a1 1 0 0 0-1-1h-5.006a1 1 0 0 0-1 1v13.014a1 1 0 0 0 1 1h5.007a1 1 0 0 0 1-1M146.015 79.805V92.82a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V79.805a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1"}),u,a("path",{className:l.default.body,d:"M97.054 224.796h1.14l-10.356-13.735c-.578-.766-1.799-.358-1.799.602l.006 12.133a1 1 0 0 0 1 1h10.009z"}),d,a("path",{className:l.default.body,d:"M164.044 82.805v4.368a7 7 0 0 0 7 7h18.938a1 1 0 0 0 1-1v-3.006a1 1 0 0 0-1-1h-.993a4 4 0 0 1-4-4v-5.362a1 1 0 0 0-1-1h-15.945a4 4 0 0 0-4 4M177.332 216.27h-4.125a1 1 0 0 1 0-2h4.125a1 1 0 0 1 0 2zm13.65 1a1 1 0 0 0-1-1h-6.281a1 1 0 1 1 0-2h6.281a1 1 0 0 0 1-1v-37.074c-.066.014-.129.041-.2.041H185.7a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h1.083a1 1 0 0 1 0 2h-16.04a4 4 0 0 0-4 4v21.543a3 3 0 0 0 3 3h18.24a3 3 0 0 0 3-3v-4.527z"}),f,a("path",{className:l.default.background,d:"M132.859 179.91l30.085 39.908c.578.766 1.799.358 1.799-.602v-60.42c0-15.707-11.38-28.8-26.325-31.486a1.105 1.105 0 0 0-.39 0c-15.248 2.748-26.276 15.927-26.276 31.486v4.814c0 .384.224.733.572.897 8.585 4.05 16.056 9.462 20.535 15.403"}),a("path",{className:l.default.accent,d:"M108.37 162.77a.998.998 0 0 0 1.382-.92v-3.054c0-12.464 6.66-23.492 16.883-29.416.98-.568.372-2.08-.734-1.838-14.368 3.14-25.158 15.958-25.158 31.254v.56c0 .439.287.823.707.95 2.34.716 4.657 1.54 6.92 2.464"}),a("path",{className:(0,i.default)(l.default.secondaryAccent,(e={},e[l.default.hover]=T,e[l.default.green]=C,e)),d:"M162.186 224.796a1 1 0 0 0 .799-1.602l-31.723-42.08c-9.106-12.079-31.094-21.906-49.015-21.906-9.332 0-16.02 2.678-18.348 7.348-1.824 3.66-.773 8.402 2.96 13.354l33.838 44.886h61.489z"}),c,a("path",{className:(0,i.default)(l.default.topLayer,(t={},t[l.default.hover]=T,t[l.default.green]=C,t)),d:"M215.522 29.248l22.184-8.048c.843-.306.888-1.482.071-1.851L215.593 9.318a1 1 0 0 0-1.412.91v18.08a1 1 0 0 0 1.341.94M72.831 11.233l-4.238-1.915a1 1 0 0 0-1.412.91v18.08a1 1 0 0 0 1.341.94l22.184-8.049c.843-.306.888-1.482.071-1.85L79.282 14.15a1 1 0 0 1-.499-1.322l-4.629-2.093a1 1 0 0 1-1.323.498"}),p,a("path",{className:(0,i.default)(l.default.topLayer,(n={},n[l.default.hover]=T,n[l.default.green]=C,n)),d:"M17.004 140.565l7-7.228 7 7.228v-39.523a3 3 0 0 0-3-3h-8a3 3 0 0 0-3 3v39.523z"}),a("path",{className:(0,i.default)(l.default.bottomLayer,(o={},o[l.default.hover]=T,o[l.default.green]=C,o)),d:"M34.004 98.042a1 1 0 0 0-1 1v45.225a.997.997 0 0 1-1 1c-.167 0-.334-.042-.486-.126l-7.514-7.514-7.514 7.514a1 1 0 0 1-1.486-.874V99.042a1 1 0 0 0-2 0v56.33l11-9.452 11 9.452v-56.33a1 1 0 0 0-1-1"}),h,y,m,a("path",{className:l.default.body,d:"M14.032 129.293a.999.999 0 0 0-1.414 0l-1.183 1.183a.999.999 0 1 0 1.414 1.414l1.183-1.183a.999.999 0 0 0 0-1.414M6.702 135.21l-1.183 1.183a.999.999 0 1 0 1.414 1.414l1.183-1.184a.999.999 0 1 0-1.414-1.414M12.85 135.21a.999.999 0 1 0-1.415 1.413l1.183 1.184a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414l-1.183-1.184zM8.116 130.476l-1.183-1.183a1 1 0 0 0-1.414 1.414l1.183 1.183a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414"}),v,E,_,g,S))},t}(r.PureComponent);T.defaultProps={hovered:!1,isGreen:!1,hideBackgroundMist:!1},T.displayName="JoinGuildIllustration",t.default=T,e.exports=t.default},7132:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),v(n(3))),i=v(n(6)),l=v(n(13)),s=v(n(28)),u=n(511),d=v(n(117)),f=v(n(71)),c=v(n(45)),p=v(n(971)),h=v(n(7131)),y=v(n(5752)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var E=function(e){var t=e.username,n=e.theme,o=e.onNext,r=e.onSkip;return a(d.default,{className:y.default.modal},void 0,a(d.default.Header,{},void 0,a(u.FormTitle,{tag:u.FormTitle.Tags.H4},void 0,i.default.Messages.NUF_TITLE.format({username:t}))),a(d.default.Content,{className:y.default.content},void 0,a(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,i.default.Messages.NUF_BODY.format()),a(h.default,{className:y.default.welcomeImage,hovered:!0,hideBackgroundMist:!0})),a(d.default.Footer,{className:y.default.footer},void 0,a("div",{className:y.default.buttonContainer},void 0,a(c.default,{look:c.default.Looks.LINK,color:c.default.Colors.PRIMARY,onClick:r},void 0,i.default.Messages.SKIP),a(c.default,{onClick:o,className:y.default.button},void 0,i.default.Messages.GET_STARTED)),a(p.default,{className:y.default.progress,size:p.default.Sizes.LARGE,foregroundColor:m.Colors.Brand,backgroundColor:n===m.ThemeTypes.DARK?m.Colors.PRIMARY_DARK:m.Colors.PRIMARY_DARK_300,percent:50,animate:!0})))};E.displayName="WelcomeSlide",t.default=r.default.connectStores([l.default],function(){var e=l.default.getCurrentUser();return{username:null!=e?e.toString():"",theme:s.default.theme}})(E),e.exports=t.default},7133:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r=d(n(3)),i=d(n(2)),l=d(n(165)),s=d(n(6054)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return!0}var c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([l.default],f)},t.prototype.getExperimentId=function(){return u.Experiments.REDESIGNED_NUF},t.prototype.getMetaData=function(){return{title:"Redesigned NUF Experiment",description:["Control: Old NUF Modals","Treatment 1: Redesigned NUF Modals"]}},t.prototype.getExperimentDescriptor=function(){return l.default.getOverrideExperimentDescriptor(this.getExperimentId())||l.default.getEligibleExperiment(this.getExperimentId())},t.prototype.showRedesignedModals=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===u.ExperimentBuckets.TREATMENT_1},t.prototype.isOpen=function(){return!1},t}(r.default.Store))(i.default);s.default.register(c,((a={})[u.ExperimentTypes.USER]=((o={})[u.ExperimentBuckets.CONTROL]=function(){return null},o[u.ExperimentBuckets.TREATMENT_1]=function(){return null},o),a)),t.default=c,e.exports=t.default},7134:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i,l,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===r)t.children=o;else if(r>1){for(var s=Array(r),u=0;u<r;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),f=b(n(147)),c=b(n(6611)),p=b(n(6095)),h=b(n(7133)),y=b(n(6610)),m=b(n(6170)),v=b(n(6059)),E=b(n(17)),_=b(n(7132)),g=b(n(7130)),S=b(n(7129)),T=b(n(6612)),C=b(n(5749)),N=n(0);function b(e){return e&&e.__esModule?e:{default:e}}var O=(0,f.default)({WELCOME:null,GUILD_CREATE:null,SKIP:null,DONE:null}),I=(0,f.default)({CREATE_GUILD:null,CREATED_GUILD:null,SKIP_NUF:null}),A=(0,f.default)({MARK_WELCOME_SEEN:null,HANDLE_SKIP:null,HANDLE_DONE:null}),M=function(e){var t,n,o;return{id:"NewUserNUF",initial:1===e?O.GUILD_CREATE:O.WELCOME,states:(o={},o[O.WELCOME]={on:(t={},t[I.SKIP_NUF]={target:O.SKIP,actions:A.HANDLE_SKIP},t[I.CREATE_GUILD]=O.GUILD_CREATE,t)},o[O.GUILD_CREATE]={on:(n={},n[I.SKIP_NUF]={target:O.SKIP,actions:A.HANDLE_SKIP},n[I.CREATED_GUILD]={target:O.DONE,actions:A.HANDLE_DONE},n),onEntry:A.MARK_WELCOME_SEEN},o[O.SKIP]={type:"final",on:{}},o[O.DONE]={type:"final",on:{}},o)}},R=((o={})[O.WELCOME]=function(e){return u(_.default,{onNext:function(){return e(I.CREATE_GUILD,{direction:1})},onSkip:function(){return e(I.SKIP_NUF)}})},o[O.GUILD_CREATE]=function(e){return u(g.default,{onDone:function(){return e(I.CREATED_GUILD)},onSkip:function(){return e(I.SKIP_NUF)},createGuild:y.default.createGuildPromise,progress:100})},o[O.SKIP]=N.NOOP_NULL,o[O.DONE]=N.NOOP_NULL,o),P=((a={})[A.MARK_WELCOME_SEEN]=function(){y.default.setStep(1),E.default.track(N.AnalyticEvents.OPEN_MODAL,{type:"Create Guild Step 2",source:"New User Modal"})},a[A.HANDLE_SKIP]=function(){y.default.setStep(-1)},a[A.HANDLE_DONE]=function(){y.default.setStep(2)},a),L=(0,v.default)(h.default,((i={})[N.ExperimentTypes.NONE]=function(e){return d.createElement(S.default,e)},i[N.ExperimentTypes.USER]=((r={})[N.ExperimentBuckets.CONTROL]=function(e){return d.createElement(S.default,e)},r[N.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return d.createElement(S.default,e)},r[N.ExperimentBuckets.TREATMENT_1]=function(e){return u(T.default,{className:C.default.slideContainer,stateChart:e.stateChart,slideStates:R,slideActions:P})},r),i)),w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.stateChart=M(n.step),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){null==p.default.getRegions(null)&&m.default.fetchDefaultRegions()},t.prototype.render=function(){return d.createElement(L,s({},this.props,{stateChart:this.stateChart}))},t}(d.PureComponent);w.modalConfig={store:c.default,center:!0,closable:!1},w.displayName="NewUser",t.default=w,e.exports=t.default},7135:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(3)),l=m(n(9)),s=m(n(6)),u=n(116),d=m(n(117)),f=m(n(81)),c=m(n(13)),p=n(0),h=m(n(5755)),y=m(n(5577));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E={CREATE:h.default.create,JOIN:h.default.join},_=function(e){var t=e.type,n=e.onClick,o=void 0,r=void 0,i=void 0;switch(t){case E.CREATE:o=s.default.Messages.CREATE,r=s.default.Messages.CREATE_SERVER_BUTTON_BODY,i=s.default.Messages.CREATE_SERVER_BUTTON_CTA;break;case E.JOIN:o=s.default.Messages.JOIN,r=s.default.Messages.JOIN_SERVER_BUTTON_BODY,i=s.default.Messages.JOIN_SERVER_BUTTON_CTA;break;default:throw new Error("[CreateOrJoinSlide]: Invalid CardType")}return a(f.default,{className:(0,l.default)(h.default.action,t),onClick:n},void 0,a("div",{className:h.default.actionHeader},void 0,o),a("div",{className:h.default.actionBody},void 0,r),a("div",{className:h.default.actionIcon}),a("button",{className:h.default.actionButton,type:"button"},void 0,i))};_.displayName="GuildActionButton";var g=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=v(this,e.call.apply(e,[this].concat(r))),o.handleCreate=function(){(0,o.props.onClick)(p.CreateGuildModalScreens.CreateGuild)},o.handleJoin=function(){(0,o.props.onClick)(p.CreateGuildModalScreens.JoinGuild)},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u.ComponentDispatch.subscribe(p.ComponentActions.TRANSITION_JOIN_GUILD,this.handleJoin)},t.prototype.componentWillUnmount=function(){u.ComponentDispatch.unsubscribe(p.ComponentActions.TRANSITION_JOIN_GUILD,this.handleJoin)},t.prototype.render=function(){var e=this.props,t=e.nuf,n=e.currentUser,o=void 0;return o=t&&null!=n?s.default.Messages.NUF_TITLE.format({username:n.toString()}):s.default.Messages.CREATE_OR_JOIN_MODAL_HEADER,a(d.default,{size:y.default.size,className:y.default.slide},void 0,a(d.default.Content,{className:(0,l.default)(y.default.slideBody,h.default.slideBody),backgroundColor:p.Colors.WHITE},void 0,a("header",{className:h.default.header},void 0,o),a("div",{className:h.default.actions},void 0,a(_,{type:E.CREATE,onClick:this.handleCreate}),a(_,{type:E.JOIN,onClick:this.handleJoin}),a("div",{className:h.default.or},void 0,"or"))))},t}(r.PureComponent);g.displayName="CreateOrJoinGuildSlide",t.default=i.default.connectStores([c.default],function(){return{currentUser:c.default.getCurrentUser()}})(g),e.exports=t.default},7136:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=g(n(9)),l=n(532),s=g(n(6)),u=g(n(6366)),d=g(n(6543)),f=g(n(42)),c=n(511),p=g(n(925)),h=g(n(117)),y=g(n(45)),m=g(n(6111)),v=n(0),E=g(n(5756)),_=g(n(5577));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=S(this,e.call.apply(e,[this].concat(r))),o.handleSubmit=function(e){e.preventDefault();var t=o.props.guild;m.default.createGuild(t.name,t.region,t.icon)},o.getError=function(e){var t=o.props.errors;return null!=t&&null!=t[e]?t[e]:null},S(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleNameChange=function(e){m.default.updateTemporaryGuild({name:e})},t.prototype.handleRegionChange=function(e){m.default.updateTemporaryGuild({region:e})},t.prototype.handleIconChange=function(e){m.default.updateTemporaryGuild({icon:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.guild,o=t.onBack,r=t.submitting,m=this.getError("name");return a(h.default,{tag:"form",onSubmit:this.handleSubmit,size:_.default.size,className:_.default.slide},void 0,a(h.default.Content,{className:_.default.slideBody,backgroundColor:v.Colors.WHITE},void 0,a("h5",{className:E.default.title},void 0,s.default.Messages.CREATE_SERVER_TITLE),a("p",{className:E.default.description},void 0,s.default.Messages.CREATE_SERVER_DESCRIPTION.format()),a(f.default,{className:E.default.formWrapper},void 0,a(f.default.Child,{grow:1.2,basis:0},void 0,a(l.SmartUID,{},void 0,function(t){var o;return a(c.FormItem,{tag:c.FormTitle.Tags.LABEL,htmlFor:t,title:s.default.Messages.FORM_LABEL_SERVER_NAME,titleClassName:(0,i.default)(E.default.label,(o={},o[E.default.error]=null!=m,o)),error:m},void 0,a(p.default,{id:t,value:n.name,inputClassName:E.default.input,onChange:e.handleNameChange,placeholder:s.default.Messages.FORM_PLACEHOLDER_SERVER_NAME,autoFocus:!0}))}),a(l.SmartUID,{},void 0,function(t){return a(c.FormItem,{tag:"label",htmlFor:t,title:s.default.Messages.FORM_LABEL_SERVER_REGION,className:E.default.regionSelectWrapper,titleClassName:E.default.label},void 0,a(u.default,{id:t,value:n.region,onChange:e.handleRegionChange}),a("div",{className:E.default.helpText},void 0,s.default.Messages.CREATE_SERVER_GUIDELINES.format({guidelinesURL:v.MarketingURLs.GUIDELINES})))})),a(f.default.Child,{wrap:!0,grow:1,basis:0},void 0,a(d.default,{name:n.name,icon:n.icon,onChange:this.handleIconChange,avatarClassName:E.default.avatar})))),a(h.default.Footer,{className:_.default.slideFooter},void 0,a(y.default,{type:"submit",onClick:this.handleSubmit,submitting:r},void 0,s.default.Messages.CREATE),a(f.default,{},void 0,a("button",{type:"button",className:_.default.cancelButton,onClick:o,disabled:r},void 0,s.default.Messages.BACK))))},t}(r.Component);T.displayName="CreateGuildSlide",t.default=T,e.exports=t.default},7137:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(9)),l=n(532),s=v(n(271)),u=v(n(42)),d=v(n(6)),f=v(n(117)),c=v(n(45)),p=v(n(925)),h=n(0),y=v(n(5757)),m=v(n(5577));function v(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=E(this,e.call.apply(e,[this].concat(r))),o.state={value:"",submitting:!1,hasError:!1},o.handleTyped=function(e){o.setState({value:e,hasError:!1})},o.handleSubmit=function(e){e.preventDefault();var t=o.state.value.trim();if(""!==t){var n=t.split("/"),a=n[n.length-1];o.setState({submitting:!0,hasError:!1}),s.default.resolveInvite(a,"Join Guild Modal").then(function(e){var t=e.invite;if(null!=t){if(o.setState({submitting:!1}),null!=t.channel){var n=t.channel,a=o.props.onJoin,r=s.default.getInviteContext("Join a Server Modal",t);s.default.acceptInvite(t.code,r,function(){a(),s.default.transitionToInviteChannel(null!=t.guild?t.guild.id:h.ME,n.id,n.type)})}}else o.setState({submitting:!1,hasError:!0})},function(){o.setState({submitting:!1,hasError:!0})})}else o.setState({hasError:!0})},E(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getExamplePrefix=function(){var e=window.GLOBAL_ENV.INVITE_HOST,t="";return null==e&&(e=location.host,t=h.Routes.INVITE("")),location.protocol+"//"+e+t+"/"},t.prototype.render=function(){var e=this,t=this.props.onBack,n=this.state,o=n.hasError,r=n.value,s=n.submitting,v=this.getExamplePrefix();return a(f.default,{tag:"form",onSubmit:this.handleSubmit,size:m.default.size,className:m.default.slide},void 0,a(f.default.Content,{className:(0,i.default)(m.default.slideBody,y.default.slideBody),backgroundColor:h.Colors.WHITE},void 0,a("h5",{className:y.default.title},void 0,d.default.Messages.JOIN_SERVER_TITLE),a("div",{className:y.default.instructions},void 0,a("p",{className:y.default.description},void 0,d.default.Messages.JOIN_SERVER_DESCRIPTION),a("p",{className:y.default.sampleLink},void 0,v,"qJq5C"),a("p",{className:y.default.sampleLink},void 0,v,"discord-developers"),a("p",{className:y.default.sampleLink},void 0,"qJq5C")),a(l.SmartUID,{},void 0,function(t){var n;return a("div",{className:y.default.inputWrapper},void 0,a(p.default,{id:t,value:r,inputClassName:(0,i.default)(y.default.input,(n={},n[y.default.error]=o,n)),onChange:e.handleTyped,autoFocus:!0}),a("label",{htmlFor:t,className:y.default.inputLabel},void 0,a("span",{},void 0,d.default.Messages.FORM_LABEL_INSTANT_INVITE),o?a("span",{className:y.default.errorText},void 0,"(",d.default.Messages.INSTANT_INVITE_EXPIRED,")"):null))})),a(f.default.Footer,{className:m.default.slideFooter},void 0,a(c.default,{type:"submit",color:c.default.Colors.GREEN,disabled:this.state.submitting,submitting:s},void 0,d.default.Messages.JOIN),a(u.default,{},void 0,a("button",{type:"button",className:m.default.cancelButton,onClick:t,disabled:s},void 0,d.default.Messages.BACK))))},t}(r.Component);_.displayName="JoinGuildSlide",t.default=_,e.exports=t.default},7138:function(e,t,n){"use strict";var o;t.__esModule=!0;var a,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(147)),s=_(n(6624)),u=_(n(6095)),d=_(n(6111)),f=_(n(6170)),c=_(n(7137)),p=_(n(7136)),h=_(n(7135)),y=_(n(6612)),m=_(n(17)),v=n(0),E=_(n(5754));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(){d.default.close()}var T=(0,l.default)({SELECTION:null,GUILD_CREATE:null,GUILD_JOIN:null}),C=(0,l.default)({CREATE_GUILD:null,JOIN_GUILD:null,BACK:null}),N=((o={})[T.SELECTION]=function(e,t){return r(h.default,{nuf:null!=t&&t.nuf,onClick:function(t){t===v.CreateGuildModalScreens.CreateGuild?(m.default.track(v.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild Step 2",location_section:v.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL}),e(C.CREATE_GUILD,{direction:1}),d.default.setScreen(v.CreateGuildModalScreens.CreateGuild)):t===v.CreateGuildModalScreens.JoinGuild&&(m.default.track(v.AnalyticEvents.OPEN_MODAL,{Type:"Join Guild",location_section:v.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL}),e(C.JOIN_GUILD,{direction:1}),d.default.setScreen(v.CreateGuildModalScreens.JoinGuild))}})},o[T.GUILD_JOIN]=function(e){return r(c.default,{onBack:function(){e(C.BACK,{direction:-1}),d.default.setScreen(v.CreateGuildModalScreens.Choose)},onJoin:S})},o[T.GUILD_CREATE]=function(e,t){return null==t?null:r(p.default,{onBack:function(){e(C.BACK,{direction:-1}),d.default.setScreen(v.CreateGuildModalScreens.Choose)},guild:t.guild,errors:t.errors,submitting:t.submitting})},o),b=function(e){function t(){var n,o,a,r,i,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=Array(s),d=0;d<s;d++)u[d]=arguments[d];return i=l=g(this,e.call.apply(e,[this].concat(u))),l.stateChart={id:"AddGuildModal",initial:l.getInitialSlide(),states:(r={},r[T.SELECTION]={on:(n={},n[C.CREATE_GUILD]=T.GUILD_CREATE,n[C.JOIN_GUILD]=T.GUILD_JOIN,n)},r[T.GUILD_CREATE]={on:(o={},o[C.BACK]=T.SELECTION,o)},r[T.GUILD_JOIN]={on:(a={},a[C.BACK]=T.SELECTION,a)},r)},g(l,i)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getInitialSlide=function(){switch(this.props.screen){case v.CreateGuildModalScreens.CreateGuild:return T.GUILD_CREATE;case v.CreateGuildModalScreens.JoinGuild:return T.GUILD_JOIN;default:return T.SELECTION}},t.prototype.componentDidMount=function(){null==u.default.getRegions(null)&&f.default.fetchDefaultRegions()},t.prototype.close=function(){S()},t.prototype.render=function(){var e=this.props,t=e.nuf,n=e.guild,o=e.errors,a=e.submitting;return r("div",{className:"theme-light"},void 0,r(y.default,{className:E.default.wrapper,stateChart:this.stateChart,slideStates:N,extState:{nuf:t,guild:n,errors:o,submitting:a}}))},t}(i.PureComponent);b.modalConfig={store:s.default},b.displayName="AddGuildModal",t.default=b,e.exports=t.default},7139:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(3)),a=l(n(2)),r=l(n(18)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=i.FormStates.CLOSED,u=void 0,d={},f=void 0,c=void 0,p=void 0;var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isOpen=function(){return s!==i.FormStates.CLOSED},t.prototype.getProps=function(){return{submitting:s===i.FormStates.SUBMITTING,categoryId:p,errors:d,channelType:u,cloneChannel:c,guildId:f}},t}(o.default.Store);t.default=new h(a.default,{CREATE_CHANNEL_MODAL_OPEN:function(e){s=i.FormStates.OPEN,d={},f=e.guildId,p=e.categoryId,null!=e.cloneChannelId?null!=(c=r.default.getChannel(e.cloneChannelId))?u=c.type:s=i.FormStates.CLOSED:(c=null,u=e.channelType)},CREATE_CHANNEL_MODAL_SUBMIT:function(e){s=i.FormStates.SUBMITTING},CREATE_CHANNEL_MODAL_SUBMIT_FAILURE:function(e){s=i.FormStates.OPEN,d=e.errors||{}},CREATE_CHANNEL_MODAL_CLOSE:function(e){s=i.FormStates.CLOSED}}),e.exports=t.default},7140:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=O(n(7)),l=O(n(6)),s=O(n(117)),u=O(n(76)),d=O(n(268)),f=O(n(925)),c=O(n(71)),p=O(n(266)),h=O(n(6057)),y=O(n(926)),m=O(n(42)),v=O(n(45)),E=O(n(75)),_=O(n(7139)),g=O(n(25)),S=O(n(18)),T=O(n(6167)),C=n(382),N=n(0),b=O(n(5758));function O(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));i.default.bindAll(o,["handleNameChange","handleTypeChange","handlePrivacyChange","handleSubmit","setInputRef"]);var a=n.channelType,r=n.cloneChannel;return o.state={channelType:a||N.ChannelTypes.GUILD_TEXT,name:null!=r?r.toString():"",permissionOverwrites:new Set,roles:o.getRolesForGuild(n),isPrivate:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this._input;null!=e&&e.select()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({permissionOverwrites:this.getGuildId()!==this.getGuildId(e)?new Set:this.state.permissionOverwrites,roles:this.getRolesForGuild(e)})},t.prototype.getGuildId=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props).guildId},t.prototype.getRolesForGuild=function(e){var t=this.getGuildId(e),n=null!=t?g.default.getGuild(t):null;return null!=n?(0,i.default)(n.roles).sortBy(function(e){return e.position}).value():[]},t.prototype.setInputRef=function(e){this._input=e},t.prototype.handleNameChange=function(e){this.state.channelType===N.ChannelTypes.GUILD_TEXT&&(e=(0,C.sanitizeGuildTextChannelName)(e)),this.setState({name:e})},t.prototype.handleTypeChange=function(e){var t=e.value,n=this.state.name;t===N.ChannelTypes.GUILD_TEXT&&(n=(0,C.sanitizeGuildTextChannelName)(n)),this.setState({channelType:t,name:n})},t.prototype.handleRoleChange=function(e,t){var n=new Set(this.state.permissionOverwrites);e===this.getGuildId()?n.clear():t.currentTarget.checked?n.add(e):n.delete(e),this.setState({permissionOverwrites:n})},t.prototype.handlePrivacyChange=function(e){var t=e.currentTarget.checked,n=this.state.permissionOverwrites;!1===t&&(n=new Set),this.setState({isPrivate:t,permissionOverwrites:n})},t.prototype.handleSubmit=function(e){e.preventDefault();var t=this.props,n=t.cloneChannel,o=t.categoryId,a=this.state,r=a.name,l=a.permissionOverwrites,s=a.channelType,u=this.getGuildId();if(null!=u){var d=void 0,f=void 0,c=void 0;null!=n?(d=i.default.values(n.permissionOverwrites),f=n.bitrate,c=n.userLimit):d=(0,C.permissionOverwritesForRoles)(u,s,Array.from(l)),T.default.createChannel(u,s,r,d,f,c,s!==N.ChannelTypes.GUILD_CATEGORY?o:null)}},t.prototype.renderHeader=function(){var e=this.props,t=e.cloneChannel,n=e.categoryId,o=this.state.channelType,r=void 0,i=void 0;if(r=null!=t?l.default.Messages.CLONE_CHANNEL:o===N.ChannelTypes.GUILD_CATEGORY?l.default.Messages.CREATE_CATEGORY:o===N.ChannelTypes.GUILD_TEXT?l.default.Messages.CREATE_TEXT_CHANNEL:l.default.Messages.CREATE_VOICE_CHANNEL,null!=n){var d=S.default.getChannel(n);i=a(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,className:b.default.subtitle},void 0,l.default.Messages.IN_CATEGORY.format({categoryName:d?d.name:""}))}return a(s.default.Header,{},void 0,a(m.default.Child,{grow:1,shrink:1},void 0,a(u.default,{tag:u.default.Tags.H4,className:b.default.header},void 0,r),i))},t.prototype.renderName=function(){var e=this.props,t=e.errors,n=e.cloneChannel,o=e.channelType,r=void 0;null!=t.name&&(r=a(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.RED,className:b.default.error},void 0,t.name));var i=void 0;null!=n&&(i=a(p.default,{className:b.default.cloneInfo,type:p.default.Types.DESCRIPTION},void 0,l.default.Messages.CLONE_CHANNEL_HELP.format({name:n.toString(!0)})));var s=void 0;return s=o===N.ChannelTypes.GUILD_CATEGORY?l.default.Messages.CATEGORY_NAME:l.default.Messages.FORM_LABEL_CHANNEL_NAME,a(d.default,{title:s,className:b.default.name},void 0,a(f.default,{value:this.state.name,onChange:this.handleNameChange,inputRef:this.setInputRef,maxLength:100,autoFocus:!0}),r,i)},t.prototype.renderType=function(){var e=this.props.cloneChannel,t=this.state,n=t.channelType,o=t.isPrivate;if(null==e&&n!==N.ChannelTypes.GUILD_CATEGORY)return a(d.default,{title:l.default.Messages.CHANNEL_TYPE,className:b.default.type},void 0,a(h.default,{options:function(e){return[{icon:e?E.default.Names.CHANNEL_TEXT_LIMITED:E.default.Names.CHANNEL_TEXT,label:l.default.Messages.TEXT_CHANNEL,value:N.ChannelTypes.GUILD_TEXT},{icon:e?E.default.Names.SPEAKER_LIMITED:E.default.Names.SPEAKER,label:l.default.Messages.VOICE_CHANNEL,value:N.ChannelTypes.GUILD_VOICE}].map(function(e){var t=e.icon,n=e.label,o=e.value;return{name:a(m.default,{align:m.default.Align.CENTER},void 0,a(E.default,{name:t,className:b.default.icon,background:b.default.background,foreground:b.default.foreground}),n),value:o}})}(o),value:n,onChange:this.handleTypeChange}))},t.prototype.renderRole=function(e,t){if(0===t)return null;var n=this.state.permissionOverwrites,o=0===n.size&&e.id===this.getGuildId(),r=n.has(e.id)||o;return a(y.default,{onChange:this.handleRoleChange.bind(this,e.id),disabled:o,value:r,fill:e.colorString},e.id,a("span",{style:{color:e.colorString}},void 0,e.name))},t.prototype.renderOptions=function(){var e=this.props.cloneChannel,t=this.state,n=t.channelType,o=t.isPrivate,r=t.roles;if(null!=e||r.length<=1)return null;var i=void 0,s=void 0;return n===N.ChannelTypes.GUILD_CATEGORY?(i=l.default.Messages.PRIVATE_CATEGORY,s=l.default.Messages.PRIVATE_CATEGORY_NOTE):(i=l.default.Messages.PRIVATE_CHANNEL,s=l.default.Messages.PRIVATE_CHANNEL_NOTE),a(d.default,{},"privacy-switch",a(y.default,{hideBorder:!0,onChange:this.handlePrivacyChange,value:o,note:s},void 0,a(E.default,{name:E.default.Names.LOCK_CLOSED,width:16,height:16,className:b.default.lockIcon}),i))},t.prototype.renderPermissions=function(){var e=this.props.cloneChannel,t=this.state,n=t.roles,o=t.channelType;if(!1===t.isPrivate||null!=e)return null;var r=void 0;return r=o===N.ChannelTypes.GUILD_CATEGORY?l.default.Messages.FORM_LABEL_CATEGORY_PERMISSIONS:o===N.ChannelTypes.GUILD_VOICE?l.default.Messages.FORM_LABEL_CHANNEL_VOICE_PERMISSIONS:l.default.Messages.FORM_LABEL_CHANNEL_PERMISSIONS,a("div",{},void 0,a(u.default,{tag:u.default.Tags.H5,className:b.default.permissionsTitle},void 0,r),n.map(this.renderRole,this))},t.prototype.renderFooter=function(){var e=this.state,t=e.isPrivate,n=e.permissionOverwrites,o=void 0;return o=this.props.channelType===N.ChannelTypes.GUILD_CATEGORY?l.default.Messages.CREATE_CATEGORY:l.default.Messages.CREATE_CHANNEL,a(s.default.Footer,{},void 0,a(v.default,{type:"submit",disabled:t&&0===n.size},void 0,o),a(v.default,{onClick:this.close,look:v.default.Looks.LINK,color:v.default.Colors.PRIMARY},void 0,l.default.Messages.CANCEL))},t.prototype.render=function(){return a(s.default,{className:b.default.modal,onSubmit:this.handleSubmit,tag:"form"},void 0,this.renderHeader(),a(s.default.Content,{},void 0,this.renderName(),this.renderType(),this.renderOptions(),this.renderPermissions()),this.renderFooter())},t.prototype.close=function(){T.default.close()},t}(r.PureComponent);I.modalConfig={store:_.default},I.displayName="CreateChannel",t.default=I,e.exports=t.default},7141:function(e,t,n){e.exports=n.p+"cc502480f93307f651a7f920a5e0a4bd.svg"},7142:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),a=s(n(2)),r=(n(0),s(n(25))),i=s(n(18)),l=s(n(24));function s(e){return e&&e.__esModule?e:{default:e}}var u="hideSuppressWarning",d=void 0,f=void 0,c=!1,p=!0,h=!1;var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){h=l.default.get(u)||h},t.prototype.isAFKChannel=function(){var e=i.default.getChannel(f);if(null==e)return!1;var t=r.default.getGuild(e.getGuildId());return null!=t&&e.id===t.afkChannelId},t.prototype.shouldShowWarning=function(){return!p},t}(o.default.Store);t.default=new y(a.default,{CONNECTION_OPEN:function(e){d=e.sessionId,c=!1},CONNECTION_CLOSED:function(e){return d=null,f=null,void(p=!0)},VOICE_STATE_UPDATE:function(e){if(d!==e.sessionId)return!1;c!==e.suppress&&(c=e.suppress,p=!c),f!==e.channelId&&(f=e.channelId,p=!c),(h||null==e.channelId)&&(p=!0)},PERMISSION_CLEAR_SUPPRESS_WARNING:function(e){var t=e.forever;p=!0,t&&(h=!0,l.default.set(u,h))}}),e.exports=t.default},7143:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(7142)),l=d(n(6390)),s=d(n(6)),u=d(n(381));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.close=function(){l.default.clearSuppressWarning()},o.handleCloseForever=function(){l.default.clearSuppressWarning(!0)},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=void 0,t=void 0;return i.default.isAFKChannel()?(e=s.default.Messages.SUPPRESSED_AFK_TITLE,t=s.default.Messages.SUPPRESSED_AFK_BODY):(e=s.default.Messages.SUPPRESSED,t=s.default.Messages.SUPPRESSED_PERMISSION_BODY),a(u.default,{title:e,body:t,onConfirm:this.close,confirmText:s.default.Messages.OKAY,minorText:s.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:this.handleCloseForever,iconUrl:n(7141)})},t}(r.Component);c.modalConfig={store:i.default,isOpen:function(){return i.default.shouldShowWarning()}},c.displayName="Suppressed",t.default=c,e.exports=t.default},7144:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(55)),l=d(n(269)),s=d(n(6)),u=d(n(381));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.close=function(){l.default.interact()},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(u.default,{title:s.default.Messages.INTERACTION_REQUIRED_TITLE,body:s.default.Messages.INTERACTION_REQUIRED_BODY,onConfirm:this.close,confirmText:s.default.Messages.OKAY})},t}(r.Component);c.modalConfig={store:i.default,isOpen:function(){return i.default.isInteractionRequired()}},c.displayName="InteractionRequired",t.default=c,e.exports=t.default},7145:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(1243)),l=d(n(6390)),s=d(n(6)),u=d(n(381));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.close=function(){l.default.clearVADWarning()},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(u.default,{title:s.default.Messages.VAD_PERMISSION_TITLE,body:s.default.Messages.VAD_PERMISSION_BODY,onConfirm:this.close,confirmText:s.default.Messages.OKAY,iconUrl:n(988)})},t}(r.Component);c.modalConfig={store:i.default,isOpen:function(){return i.default.shouldShowWarning()}},c.displayName="VADPermission",t.default=c,e.exports=t.default},7146:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(55)),l=h(n(231)),s=h(n(57)),u=h(n(6390)),d=h(n(6)),f=h(n(371)),c=n(0),p=h(n(381));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(p.default,{title:d.default.Messages.PTT_PERMISSION_TITLE,body:d.default.Messages.PTT_PERMISSION_BODY.format({game:this.props.gameName}),minorText:d.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:function(){return u.default.clearPTTAdminWarning()},onConfirm:function(){return window.open(f.default.getArticleURL(c.HelpdeskArticles.PUSH_TO_TALK_ADMINISTRATOR_MODE),"_blank")},confirmText:d.default.Messages.HELP_DESK,iconUrl:n(988)})},t}(r.Component);y.modalConfig={stores:[s.default,i.default],isOpen:function(){var e=s.default.getVisibleGame();return null!=e&&e.elevated&&l.default.isConnected()&&i.default.getMode()===c.InputModes.PUSH_TO_TALK&&s.default.canShowAdminWarning},getProps:function(){var e=s.default.getVisibleGame();return{gameName:null!=e?e.name:null}}},y.displayName="PTTPermission",t.default=y,e.exports=t.default},7147:function(e,t,n){e.exports=n.p+"46e2829b759fbdc67b1a24ff96a415b2.jpg"},7148:function(e,t,n){e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},7149:function(e,t,n){e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},7150:function(e,t,n){e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},7151:function(e,t,n){e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},7152:function(e,t,n){e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},7153:function(e,t,n){"use strict";t.__esModule=!0,t.customRules=t.baseRules=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(200))),l=m(n(145)),s=m(n(370)),u=m(n(6399)),d=m(n(17)),f=m(n(290)),c=m(n(41)),p=n(270),h=n(6615),y=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var v=i.default.defaultRules.link,E=(t.baseRules=f.default.getDefaultRules(),{section:y.AnalyticsSections.SETTINGS_CHANGELOG});t.customRules={link:{parse:function(e,t,n){var o=void 0,a=e[2],i=a.startsWith("https://discordapp.com/nitro"),l=a.startsWith("https://discordapp.com/hypesquad");return(i||l)&&(o=function(e){d.default.track(y.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:E}),i?s.default.open(y.UserSettingsSections.PREMIUM):l&&s.default.open(y.UserSettingsSections.HYPESQUAD_ONLINE),n.changeLog.track(y.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"}),u.default.hideChangeLog(),e.preventDefault()}),a.startsWith("https://discordapp.com/store")&&(o=function(e){var t=void 0;"https://discordapp.com/store#premium"===a?(c.default.transitionTo(""+y.Routes.APPLICATION_STORE+y.PREMIUM_ROUTE_HASH),t="store-premium"):(c.default.transitionTo(y.Routes.APPLICATION_STORE,{state:{analyticsSource:r({},E,{object:y.AnalyticsObjects.BUTTON_CTA})}}),t="store"),n.changeLog.track(y.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:t}),(0,p.popAllLayers)(),u.default.hideChangeLog(),e.preventDefault()}),r({},v.parse(e,t,n),{callToAction:o})},react:function(e,t,n){return a(l.default,{href:i.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":null},n.key,t(e.content,n))}},lheading:{react:function(e,t,n){return a(h.LHeading,{level:e.level,className:e.className},n.key,t(e.content,n))}}}},7154:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(200),i=(o=r)&&o.__esModule?o:{default:o};var l=i.default.defaultRules.lheading,s=i.default.defaultRules.link,u=i.default.defaultRules.image,d=i.default.defaultRules.list,f=/\{(.+?)}/,c=void 0;c=n(7153);var p=a({},c.baseRules,{image:a({},u,c.customRules.image),link:a({},s,c.customRules.link),list:a({},d,c.customRules.list),lheading:a({},l,{parse:function(e,t,n){var o=f.exec(e[1]);return{className:null!=o?o[1]:null,level:"="===e[2]?1:2,content:i.default.parseInline(t,e[1].replace(f,"").toUpperCase(),n)}}},c.customRules.lheading)});t.default={getDefaultRules:function(){return a({},p)}},e.exports=t.default},7155:function(e,t){e.exports='---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "es-es"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS A CONTINUACIÓN {added marginTop}\n======================\n\n* **PSSST. ¡Discord ya tiene etiquetas de Spoiler!** Rodea cualquier texto con estas barras verticales \\|| tal que así \\|| para esconder información relevante. Funciona con texto, imágenes, emojis, etc.\n* **El indicador Móvil ha llegado al escritorio** así podrás resaltar la pequeñez del mundo en su devenir como si fueras una estrella gigante en órbita. O, simplemente ver si tus amigos están en el baño y no pueden unirse ahora mismo a la cola.\n* **¡El selector de GIFs ya está aquí!** Puedes buscar GIFs y marcarlos como favoritos, incluso puedes marcar como favoritos los que subas a Discord. No hay nada como la propia aprobación.\n* **La estimación de ancho de banda para videollamadas ha recibido un buen empujón.** Los que tengáis una buena conexión ya no veréis como vuestra videollamada se convierte en un juego de píxeles 2D improvisado.\n* **La navegación por teclado en el selector de GIFs está lista.** Ya no hace falta que busques el ratón, lo que te permitirá ahorrar energías. Disfruta de esas 5 calorías extra.\n* **También hemos añadido la navegación por teclado a la tienda.** ¡Que sean 10 calorías!\n* **Qué está sonando en la aplicación de Spotify Mobile está disponible para los usuarios de Android.** Sí, llevo escuchando la misma canción triste en bucle durante todo este tiempo, y no, no estoy bien.\n* **Ahora puedes darle la vuelta a la lista de emojis en los ajustes del servidor.** Pon los nuevos y vibrantes emojis en la parte de arriba y deja que los viejos se deslicen al fondo, donde quedarán cubiertos de polvo... y abandonados... como yo...\n\nYa estoy bien {fixed}\n======================\n\n* **Muchos enlaces de [regalo](https://discordapp.com/nitro) ya no rompen Discord.** Ahora puedes hacer que lluevan regalos como si un huracán se abrazara con el monzón bajo una tormenta sin que Discord huya despavorido.\n* **Pulsar la barra espaciadora mientras ves una foto ya no duplica la imagen.** P p e e r r d d ó ó n n.\n\nDe nuestra casa a la tuya {progress}\n======================\n\n* **Las Casas del Valor, la Brillantez y el Equilibrio de HypeSquad buscan nuevos reclutas.** [Únete en la app](https://discordapp.com/settings/hypesquad-online), rellena un pequeño cuestionario de personalidad y podrás ser elegido. Muestra tu Casa con una insignia única en el perfil, descubre más acerca de competiciones y promociones, y en general serás una persona más molona de lo que eras (o eso nos parece a nosotros).\n* **¿Quieres representar a Discord en el mundo real?** Como participante de Eventos de HypeSquad, podrás exponer con orgullo nuestro logo en tu torso en las convenciones locales. O, darle al club de juegos de tu universidad un chorropotrón de mercaderías y beneficios para el servidor siendo un Coordinador de Eventos de HypeSquad. [Solicita aquí](http://discordapp.com/hypesquad)!\n* **[Hazte Asociado de Discord.](https://discordapp.com/partners)** Si suministras dulces contenidos sobre juegos en la página de vídeos de tu barrio, te daremos una sudadera dope, beneficios para el servidor de tu comunidad y más.\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "fr"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS EN VUE {added marginTop}\n======================\n\n* **PSSST. Discord a désormais des balises Spoiler !** Entourez n\'importe quel texte de ces barrières \\|| comme ça \\|| pour cacher toute information pertinente. Ça marche sur du texte, des images, des émojis, etc.\n* **L\'indicateur mobile est désormais disponible sur l\'application de bureau** pour que vous puissiez montrer à quel point le monde est petit pendant que vous vous baladez comme une énorme étoile tournant dans l\'espace. Ou juste pour voir si vos amis sont sur le trône et pas encore prêts à débuter la partie.\n* **Le sélecteur de GIFs est arrivé !** Vous pouvez rechercher et ajouter en favoris des tonnes de GIFs, et même ajouter en favoris ceux que vous mettez vous-même sur Discord ! On n\'est jamais mieux servi que par soi-même.\n* **Les estimations de bande passante pour les appels vidéos ont été améliorées.** Ceux qui ont une bonne connexion ne verront plus leurs appels vidéo se transformer en jeu 2D pixelisé improvisé.\n* **La navigation 100% clavier est disponible pour le sélecteur de GIFs.** Arrêtez de tendre le bras pour attraper votre souris et économisez vos forces ! Profitez bien de ces 5 calories supplémentaires.\n* **La navigation 100% clavier est également disponible dans la boutique.** On en est à 10 calories.\n* **L\'écoute Spotify pour mobile est désormais disponible sur Android.** Oui, j\'écoute la même bande sonore tristounette à répétition depuis que je suis sorti de chez moi. Non, ça va pas.\n* **Vous pouvez maintenant inverser votre liste d\'émojis dans les paramètres de votre serveur.** Mettez les émojis flambant neufs tout en haut et regardez vos vieux émojis sombrer vers le bas, où ils amasseront la poussière... oubliés... comme moi...\n\nBon, ça va mieux maintenant {fixed}\n======================\n\n* **Une multitude de liens [cadeaux](https://discordapp.com/nitro) ne fait plus planter Discord.** Vous pouvez maintenant faire pleuvoir des cadeaux comme une tempête au coeur d\'un ouragan pendant la mousson sans que Discord prenne peur.\n* **Appuyer sur la barre d\'espace pendant que vous regardez une image ne duplique plus cette dernière.** P P a a r r d d o o n n.\n\nDe notre maison à la vôtre {progress}\n======================\n\n* **Les maisons HypeSquad Bravery, Brilliance et Balance cherchent toujours de nouvelles recrues.** [Engagez-vous directement depuis l\'application](https://discordapp.com/settings/hypesquad-online) en remplissant un petit quiz de personnalité qui révélera votre maison idéale. Affichez votre allégeance avec un badge de profil unique, découvrez concours et promos, et devenez encore plus cool que vous ne l\'étiez avant (à nos yeux).\n* **Vous voulez représenter Discord dans la vraie vie ?** En tant que membre HypeSquad participant à des événements, affichez fièrement notre logo sur votre torse lors de vos conventions locales. Ou alors, offrez au club de jeux vidéo de votre université un gros tas de marchandise gratuite et profitez de bonus sur votre serveur en tant que créateur d\'événements HypeSquad. [Postulez ici](http://discordapp.com/hypesquad) !\n* **[Devenez un partenaire Discord.](https://discordapp.com/partners)** Vous fournissez le fabuleux contenu gaming sur la plate-forme de partage vidéo de votre choix, et nous vous fournirons un super hoodie, des avantages exclusifs pour le serveur de votre communauté, et plus encore !\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "de"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERWARNUNG {added marginTop}\n======================\n\n* **PSSST. Discord hat jetzt Spoiler-Tags!** Setzt einfach einen Text in diese Zaunpfosten, \\|| so wie hier \\||, um die eingefassten Informationen zu verbergen. Das funktioniert mit Text, Bildern, Emojis, etc.\n* **Der Mobile-App-Indikator wird jetzt in der Desktop-App angezeigt**, damit ihr zeigen könnt, wie klein die mobile Welt ist. Ein Floh auf dem Rücken eines gigantischen Planeten ... oder um einfach zu sehen, dass sich eure Freunde im Moment nicht anmelden können, weil sie gerade auf Toilette sind.\n* **Der GIF-Picker ist jetzt live!** Ihr könnt jetzt Unmengen an GIFs durchsuchen und favorisieren, sogar die, die ihr selbst hochgeladen habt. Nichts geht über etwas Selbstbeweihräucherung.\n* **Die Bandweiteneinschätzung für Video-Anrufe wurde verbessert.** Gute Verbindungen müssen nicht länger mit ansehen, wie ihr Anruf spontan zu einem 2D-Pixel-Spiel mutiert.\n* **Es ist möglich, den GIF-Picker ausschließlich über die Tastatur zu bedienen.** Hört auf ständig nach der Maus zu greifen und spart etwas Energie. Genießt diese 5 extra Kalorien.\n* **Tastatur-Navigation gibt es jetzt auch im Shop.** Das macht dann 10 Kalorien.\n* **"Was spielt gerade in Spotify" ist jetzt auch für Android-Nutzer live.** Ja, ich höre mir die ganze Zeit über denselben traurigen Soundtrack in Dauerschleife an. Nein, ich bin nicht OK.\n* **Ihr könnt eure Emoji-Liste jetzt in den Server-Einstellungen umkehren.** Setzt die schicken neuen Emojis ganz nach oben und seht zu, wie die alten zu Boden sinken, wo sie Staub ansetzen ... vergessen ... wie ich ...\n\nOK, es geht schon wieder {fixed}\n======================\n\n* **Mehrfache [Geschenk-Links](https://discordapp.com/nitro) machen Discord nicht länger kaputt.** Ihr könnt es jetzt Geschenke regnen lassen, als ob ein Wirbelsturm mit einem Monsun im Gewitter Händchen hält, ohne dass Discord sich ängstlich versteckt.\n* **Die Leertaste dupliziert nicht länger Bilder, die man sich gerade ansieht.** U u n n s s e e r r e e S s c c h h u u l l d d\n\nAus unserem Hause für eures {progress}\n======================\n\n* **Die HypeSquad-Häuser der Tapferkeit, Brillanz und Balance suchen immer neue Rekruten.** [Meldet euch über die App an](https://discordapp.com/settings/hypesquad-online), indem ihr einen kleinen Persönlichkeitstest ausfüllt und alles einrichtet. Zeigt stolz euer Haus mit einem einzigartigen Profilabzeichen, erfahrt mehr über Wettbewerbe und Giveaways und werdet zu viel cooleren Personen, als ihr es vorher wart (unsere Meinung).\n* **Wollt ihr Discord in der echten Welt repräsentieren?** Als HypeSquad-Eventteilnehmer könnt ihr unser Logo stolz an eurem Körper tragen und auf euren lokalen Conventions zeigen. Oder ihr besorgt eurem Gaming-Verein einen ganzen Sack voller kostenloser Geschenke und Server-Perks als HypeSquad-Eventkoordinator. [Meldet euch hier an](http://discordapp.com/hypesquad)!\n* **[Werdet Discord-Partner.](https://discordapp.com/partners)** Ihr zeigt eure Gaming-Inhalte auf einer lokalen nachbarschaftlichen Video-Webseite eurer Wahl, und wir statten euch mit einem supercoolen Hoodie, einzigartigen Server-Perks für eure Community und vielem mehr aus.\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "pt-br"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS À FRENTE {added marginTop}\n======================\n\n* **PSSSIU. O Discord agora tem tags de Spoiler!** Coloque qualquer texto entre estas barras \\|| tipo assim \\|| para esconder qualquer informação pertinente. Funciona com texto, imagens, emojis, etc. Ótimo pra evitar que amiguinhos vejam sem querer a sua lista de novas Keyblades.\n* **O Indicador Mobile chegou na versão Desktop** assim você pode ver quais dos seus amigos não vão conseguir clicar em "Aceitar Partida" porque estão mexendo no celular sentados no troninho.\n* **O Seletor de GIFs está disponível!** Você pode procurar e favoritar montes de GIFs, e até favoritar aqueles que você mesmo subir para o Discord. Nada como um pouco de ~~egocentrismo~~ amor próprio!\n* **A estimativa de uso de banda para chamadas de vídeos recebeu melhorias.** Boas conexões não vão ver suas ligações virarem um jogo 2D em Pixel Art do nada.\n* **Navegação via teclado para o Seletor de GIFs está aqui.** Não será mais necessário mover sua mão todo o longo caminho até seu mouse. Aproveite estas 5 calorias extras.\n* **Ah, a navegação via teclado também foi implementada na Loja.** São 10 calorias então.\n* **A função "Tocando agora" para o Spotify Mobile está disponível para os usuários Android.** Sim, eu estou ouvindo Hyrule Field. Faz com que eu sinta que escrever os registros de alteração seja uma aventura. Eu me sinto igual ao Zelda salvando a princesa. Não, pera... :thinking:\n* **Você pode reverter a lista de emojis nas configurações do servidor.** Coloque seus novos emojis lindos e cheirosos no topo e veja como as pessoas vão esquecer de seus emojis antigos, assim como do nome de heróis que usam verde (como o... Mario Verde?).\n\nTá Tudo Bem Agora {fixed}\n======================\n\n* **Muitos links de [gift](https://discordapp.com/nitro) não quebram mais o Discord.** Você pode fazer chover presentes como se fosse uma tempestade de trovões num furacão que gera um tsunami e espalha tubarões sem que o Discord trave de medo.\n* **Pressionar a barra de espaço quando estiver vendo uma imagem não vai mais duplicar a imagem..** F f o o i i  m m a a l l .\n\nDa Nossa Casa Para A Sua {progress}\n======================\n\n* **As Casas do HypeSquad, Bravery, Brilliance e Balance estão sempre procurando por novos recrutas.** [Inscreva-se via aplicativo](https://discordapp.com/settings/hypesquad-online) fazendo um curto teste de personalidade e seja escolhido. Leve o emblema de sua casa com orgulho com uma insígnia maneira no seu perfil, fique sabendo de competições e sorteios de brindes e, no geral, se torne uma pessoa muito mais maneira do que antes (ao menos pra gente <3).\n* **Quer representar o Discord no mundo real?** Como um Frequentador de Eventos do HypeSquad, exiba nosso logo em seu peito com orgulho em convenções locais. Ou então dê um monte de badulaques grátis do Discord para seu clube de jogos da sua universidade, além de umas melhorias para o servidor do clube, como um Coordenador de Eventos do HypeSquad. [Inscreva-se aqui](http://discordapp.com/hypesquad)!\n* **[Vire um Parceiro Discord.](https://discordapp.com/partners)** Você entra com o conteúdo incrível de games em sua plataforma de escolha, nós entramos com benefícios exclusivos para o servidor da sua comunidade, um casaco maneiro e mais algumas coisinhas.\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "it"\nyoutube_video_id: "teCVXzKRVFc"\n---\nATTENZIONE, SPOILER! {added marginTop}\n======================\n\n* **PSSST. Adesso Discord ti avvisa se ci sono Spoiler!** Inserisci quello che vuoi tra due stanghette \\|| così \\|| per nascondere qualsiasi informazione rilevante. Puoi usarlo con testi, immagini, emoji, eccetera.\n* **L\'Indicatore Mobile è disponibile anche nella versione desktop** Così potrai puntualizzare quanto piccolo sia il mondo, come se fossi una gigantesca stella orbitante alla deriva. Oppure, potrai spiare chi tra i tuoi amici non è ancora pronto per collegarsi, impegnato in altre faccende in bagno.\n* **Il Selezionatore di GIF è qui tra noi!** Potrai ora cercare e aggiungere tra le preferite un sacco di GIF, tra cui persino quelle che TU hai caricato su Discord. Evvai con l\'autostima!\n* **Abbiamo incrementato la stima della banda larga per le video chiamate.** Chiamate con connessioni decenti non si trasformeranno più all\'improvviso in un videogioco pixellato in 2D.\n* **Navigazione esclusivamente via tastiera disponibile per i Selezionatori di GIF.** Smettila di allungare la mano verso il mouse e non sprecare le tue energie. E goditile \'ste 5 calorie risparmiate.\n* **E l\'abbiamo aggiunta anche nello store, la navigazione via tastiera.** Facciamo 10 calorie, va\'.\n* **L\'opzione Cosa stai ascoltando di Spotify da mobile è ora disponibile per gli utenti Android.** Sì, sono sempre le solite canzioni deprimenti che stavo ascoltando e l\'ho fatto in loop per tutto il viaggio. No, non sto bene.\n* **Puoi invertire la lista delle emoji nelle impostazioni del server.** Metti in cima alla lista le emoji nuove di zecca e guarda quelle vecchie andare a fondo nel dimenticatoio, tristi... sole e abbandonate... come me...\n\nTutto a posto, adesso, sto bene {fixed}\n======================\n\n* **Millemila link di [regali](https://discordapp.com/nitro) non distruggeranno più Discord.** Puoi distribuire doni come se piovesse, con la forza di un uragano a braccetto con un tornado a passeggio sotto un tifone senza che Discord si rannicchi tremante chiedendo pietà.\n* **Premere la barra spaziatrice mentre visualizzi un\'immagine non la duplicherà più.** O o o p p s s c u s a a a t e e e\n\nDa casa nostra alla tua {progress}\n======================\n\n* **Le Case HypeSquad del Coraggio, dell\'Intelligenza e dell\'Equilibrio sono sempre alla ricerca di nuove reclute.** [Iscriviti attraverso l\'app](https://discordapp.com/settings/hypesquad-online) con un breve quiz della personalità, e vai e fatti smistare. Mostra con orgoglio lo stemma della tua Casa con un badge unico sul tuo profilo, scopri le gare e i concorsi e, in generale, sii una persona molto più figa di quanto eri prima (questo è quello che pensiamo noi).\n* **Vuoi rappresentare Discord nel mondo reale?** Come Partecipante di Eventi HypeSquad, sfoggia con orgoglio il nostro logo sul tuo petto durante i tuoi raduni locali. Oppure, dona al club dei gamers della tua università una vagonata di gadget in omaggio e benefici per i server, come Coordinatore di Eventi HypeSquad. [Iscriviti qui](http://discordapp.com/hypesquad)!\n* **[Diventa un Partner Discord](https://discordapp.com/partners)** Tu fornisci i tuoi fantastici contenuti di gioco su piattaforme locali a tua scelta, noi ti forniamo una felpa strafica, benefici esclusivi per i server della tua community e molto altro.\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "nl"\nyoutube_video_id: "teCVXzKRVFc"\n---\nOPGELET, SPOILERS {added marginTop}\n======================\n\n* **PSSST. Discord heeft nu Spoiler-tags!** Zet tekst tussen balkjes \\|| zoals hier \\|| om relevante informatie te verbergen. Dit werkt op tekst, afbeeldingen, emoji, etc.\n* **De mobiele app-indicator is aan de desktop-versie toegevoegd.** Nu kun je een indicatie geven van hoe klein de wereld is als je tussen de sterren zweeft. Of eigenlijk, nu weet je wanneer je vrienden op de WC zitten en niet gereed zijn om met je te spelen.\n* **De GIF-picker is nu beschikbaar!** Je kan massa\'s GIFs doorzoeken en als favoriet opslaan, en zelfs GIFs die je zelf uploadt aan je favorieten toevoegen. Wat is er mis met een beetje zelfwaardering?\n* **De schatting van de bandbreedte voor videogesprekken is verbeterd.** Als je een goede verbinding hebt, zal je videogesprek niet meer spontaan in een gepixeleerd 2D-spelletje veranderen.\n* **Navigeren met het toetsenbord in de GIF-picker.** Vermijd een muisarm: gebruik je toetsenbord en spaar vijf calorieën per GIF uit.\n* **Navigeren met het toetsenbord kan ook in de Discord Store.** Dat zijn nu al tien calorieën.\n* **Mobiele Spotify Afspeellijst is nu beschikbaar voor Androidgebruikers.** Ja, ik heb deze hele treinrit naar dezelfde emo-soundtrack zitten luisteren. Nee, ik ben niet oké.\n* **Je kan nu de volgorde van je emoji in de serverinstellingen omkeren.** Plaats je gloednieuwe emoji bovenaan en laat de oude naar onder wegzakken... eenzaam en vergeten... zoals ik...\n\nOké, het gaat weer {fixed}\n======================\n\n* **Discord heeft geen problemen meer met grote aantallen [geschenk](https://discordapp.com/nitro)-links.** Je kan het cadeautjes laten regenen alsof er een cadeautjestornado een dansje maakt met een orkaan bij het licht van een onweer \\- en Discord zal het onbevreesd doorstaan.\n* **Afbeeldingen worden niet meer verdubbeld wanneer je op de spatiebalk drukt.** O o e e p p s s.\n\nVan onze afdeling naar jou {progress}\n======================\n\n* **De HypeSquad-afdelingen Bravery, Brilliance, en Balance zijn altijd op zoek naar nieuwe rekruten.** [Neem deel](https://discordapp.com/settings/hypesquad-online) door een korte persoonlijkheidstest te voltooien. Je krijgt een afdelingsbadge op je profiel, informatie over wedstrijden en promoties, en iedereen zal je nog veel cooler vinden dan je al was (volgens ons toch).\n* **Wil je Discord vertegenwoordigen in de echte wereld?** Als HypeSquad Event Attendee kan je op evenementen trots ons logo dragen. En als HypeSquad Event Coordinator kan je de gameclub op je universiteit een hoop gratis merch en extraatjes bezorgen [Schrijf je hier in](http://discordapp.com/hypesquad)!\n* **[Word een Discord-partner.](https://discordapp.com/partners)** Jij plaatst geweldige gamingcontent op een video-sharingsite naar keuze, en wij sturen jou een coole hoodie, exclusieve servervoordelen voor je community, en nog veel meer.\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "sv-se"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS HITÅT {added marginTop}\n======================\n\n* **PSSST. Discord har nu Spoiler-tags!** Omge vilken text som helst med dessa murar \\|| såhär \\|| för att gömma all hemlig information. Fungerar på text, bilder, emejis och så vidare.\n* **Mobilindikatorn finns nu på desktopen** så att du kan visa hur liten världen är när du är på väg att kretsa runt i stjärna. Eller, så kan helt enkelt bara se när dina kompisar är på toa och därför inte redo att hoppa in i spelkön.\n* **GIF-väljaren är nu live!** Du kan söka bland och bokmärka mängder av GIF:ar, och till och med bokmärka dem du laddat in i Discord. Inget går upp mot litet självvalidering.\n* **Bandbreddsberäkning för videosamtalen fick en buff.** Med en bra uppkoppling kommer man inte längre behöva se sina videosamtal förvandlas till spontana pixelspel i 2D.\n* **Navigeringen för GIF-väljaren har fått tangentbordsorientering.** Sluta sträcka dig efter musen så mycket, och spara energi. Använd de extra 5 kalorierna till något bättre.\n* **Vi la till tangentbordsnavigation i butiken också.** Okej, 10 extra kalorier.\n* **Mobilt What\'s Playing för Spotify är nu live för Android-användare.** Ja, jag har lyssnat på samma sorgliga soundtrack på repeat hela vägen till jobbet. Nej, jag är inte ok.\n* **Du kan nu vända din emojilista i servern bak-och-fram.** Få nya skinande emojis längst upp och se de gamla dala ner till botten, där de kommer samla damm... glömda... precis som jag är...\n\nJag mår bra nu {fixed}\n======================\n\n* **Discord kraschar inte längre av många [gåvo](https://discordapp.com/nitro)-länkar.** Du kan nu skapa prisregn som en orkan som håller hand med en monsun under ett åskoväder utan att Discord ryggar tillbaka av fasa.\n* **Om man trycker mellanslag medan man tittar på en bild så dupliceras inte längre bilden.** V v å å r r t t  f f e e l l.\n\nFrån Oss Till Er {progress}\n======================\n\n* **HypeSquads Hus, Mod, Briljans och Balans letar alltid efter nya rekryter.** [Anmäl dig i appen](https://discordapp.com/settings/hypesquad-online) genom att göra ett kort personlighetstest och bli sorterad. Visa upp ditt Hus med ett unikt profilmärke, få reda på mer om tävlingar och giveaways, och vara så mycket coolare i allmänhet än du var tidigare (tycker vi).\n* **Vill du reppa Discord i den riktiga världen?** Som HypeSquad Eventdeltagare kan du stolt visa upp vår logo på ditt bröst vid lokala cons. Eller, ge din universitetsspelklubb en jättehög med gratis merch och serverfördelar om du är en HypeSquad Event-koordinator. [Ansök här](http://discordapp.com/hypesquad)!\n* **[Bli en Discord-partner.](https://discordapp.com/partners)** Du förser skönt gaming-content till en videosite du väljer själv, vi fixar en grym hoodie och unika serverfördelar för ditt community, och mer.\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "ru"\nyoutube_video_id: "teCVXzKRVFc"\n---\nВНИМАНИЕ, СПОЙЛЕРЫ! {added marginTop}\n======================\n\n* **ТСССС. У Discord появился тэг для Спойлеров!** Поместите желаемый текст в тэг \\|| вот так \\|| чтобы скрыть желаемую информацию. Работает с текстом, изображениями, эмодзи и так далее.\n* **Мобильный индикатор доступен в версии для ПК**, так что вы сможете увидеть насколько мал наш мир, подобно гигантской звезде вращающейся вокруг нашего мирка. Или просто сможете узнать, что ваши друзья в туалете, и не готовы присоединиться к игре.\n* **Появился выбор GIF-ок!** Вы можете искать ваши любимые шутки в виде GIF-ок, и даже загружать свои любимые в Discord. Ничего особенного, просто что-то типа самоутверждения.\n* **Оценка пропускной способности канала для видеозвонков была улучшена.** При хорошем соединении вы больше не увидите, как видеовызов превращается в импровизированную пиксельную 2D-игру.\n* **Для выбора GIF-ок доступна клавиатурная навигация.** Прекратите тянуться за мышкой и сэкономьте немного энергии. Наслаждайтесь этими драгоценными 5 калориями.\n* **Навигация с клавиатуры также доступна для магазина.** А  это уже целых 10 калорий.\n* **Опция "Что играет" в Spotify теперь доступна для пользователей Android.** Да, я слушал один и тот же грустный саундтрек на повторе во время всей этой поездки. Нет, я не в порядке.\n* **Теперь вы можете сортировать свой список смайликов в настройках сервера.** Разместите блестящие новые эмодзи сверху и наблюдайте, как ваши старые опустятся на самое дно, где они будут собирать пыль… забытые… как и я…\n\nТеперь я в порядке {fixed}\n======================\n\n* **Многочисленные ссылки с [подарками](https://discordapp.com/nitro) больше не выводят Discord из строя.** Теперь вы можете создать дождь из подарков, подобно урагану, с муссонами и грозами, не опасаясь что Discord при виде этого всего будет дрожать от страха.\n* **Нажатие клавиши пробела при просмотре изображения больше не дублирует само изображение.** Н а а а а ш а  о ш  и и и и б о ч к а.\n\nОт нашего Дома - Вашему {progress}\n======================\n\n* **HypeSquad Дома Bravery, Brilliance и Balance всегда рады новобранцам.** [Зарегистрируйтесь в приложении](https://discordapp.com/settings/hypesquad-online), пройдя короткий тест и присоединитесь к одному из них. Похвастайтесь уникальным значком принадлежности к одному из Домов, узнайте о конкурсах и раздачах, и вообще, станьте намного круче, чем вы когда-либо были (ну, мы так думаем).\n* **Хотите представлять Discord в реальном мире?** Как участник мероприятий от HypeSquad, с гордостью носите наш логотип на теле вокруг своих локальных недостатков. Или предоставьте вашему университетскому игровому клубу кучу бесплатных вещичек и серверных привилегий будучи координатором событий HypeSquad. [Подайте заявку здесь](http://discordapp.com/hypesquad)!\n* **[Станьте партнером Discord.](https://discordapp.com/partners)** Вы предоставляете нам крутейший игровой контент на выбранном вами видео-портале, а мы снабдим вас чумовой толстовкой, уникальными перками на сервере вашего сообщества и многим другим.\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "ko"\nyoutube_video_id: "teCVXzKRVFc"\n---\n스포일러 등장 {added marginTop}\n======================\n\n* **저기요! Discord에 Spoiler 태그가 새로 생겼어요!** \\||이런 식으로\\|| 태그에 텍스트를 넣으면 관련 정보를 숨깁니다. 텍스트, 이미지, 이모티콘 등에서 작동합니다.\n* **모바일 표시기가 이제 데스크탑 버전에도 표시됩니다** 어떤 친구들이 화장실에서 오랫동안 볼일을 보고있는지 또는 핸드폰을 들고 블랙홀에 빠졌는지를 확인할 수 있습니다.\n* **이제 GIF를 선택하실 수 있습니다!** 좋아하는 GIF들을 검색하고,즐겨 찾기에 추가해 보세요. 마음에 드는 GIF들은 Discord에 업로드하실 수도 있습니다. 앗싸, 가오리!\n* **화상 채팅의 대역폭 측정이 완전 좋아졌어요.** 연결 상태가 좋으면 화상 채팅의 화질 저하가 더 이상 나타나지 않습니다.\n* **키보드 전용 네비게이션은 GIF Picker 용입니다** 마우스를 너무 많이 사용하지 마시고 에너지를 절약해 보세요. 추가로 5칼로리는 절약할 수 있지요.\n* **키보드 네비게이션도 스토어에 추가되었습니다.** 앗싸! 10 칼로리.유후!\n* **모바일 Spotify에 플레이되는 음악이 이제 안드로이드 사용자들을 위해 라이브로 갑니다.** 맞아요, 출근 시간에 똑같은 슬픈 사운드 트랙을 계속 들어왔어요.ㅠㅠ 왕 짜증.\n* **이제 서버 설정에서 이모티콘 목록을 바꿀 수 있습니다.** 반짝이는 새로운 이모티콘을 맨위에 놓고 오래된 것들이 바닥으로 흘러 내리는 것을 지켜보세요. 잊혀질 때까지...T.T\n\n이제 괜찮아! {fixed}\n======================\n\n* **많은 [기프트](https://discordapp.com/nitro) 링크 문제가 해결되었습니다.** 이제 화끈하게 쭈욱~ 한 턱 쏴!\n* **이미지를 볼때 스페이스 바를 누르면 더 이상 이미지가 복제되지 않습니다.** 죄쏘옹~~~~\n\n우리 집에서 너의 집으로 {progress}\n======================\n\n* **Bravery, Brilliance 그리고 Balance의 HypeSquad Houses는 언제나 그렇듯 새로운 신참을 찾고 있습니다.** 간단한 성격 테스트로 [App에 회원 가입](https://discordapp.com/settings/hypesquad-online)해 보세요. 독특한 프로필 배지를 사용하여 당신의 하우스를 자랑질하고 경연 및 경품에 대해 알아보고 예전에 모습과는 다른 완전 멋진 킹짱맨이 되보세요.\n* **친구들 앞에서 디스코드를 대표하고 싶으세요?** HypeSquad 이벤트 참석자로서 당신의 몸에 로고를 붙이고 룰루랄라 자랑을 해보세요. 또는 대학 게임 클럽에 HypeSquad 이벤트 코디네이터로 무료 상품 및 서버 특전을 제공해 보세요. [여기에서 신청하시면 돼요.](http://discordapp.com/hypesquad)!\n* **[디스코드의 파트너가 되보세요.](https://discordapp.com/partners)** 당신이 선택한 지역의 비디오 게임 웹 사이트에 멋진 게임 콘텐츠를 제공하고 후디 티셔츠와 독특한 서버 특혜를 제공합니다. 바로 당신의 커뮤니티와 그 이상을 위해.\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nlocale: "ja"\nyoutube_video_id: "teCVXzKRVFc"\n---\nこの先、ネタバレ注意！ {added marginTop}\n======================\n\n* **注目：Discordにネタバレタグが登場！** 伏せておきたい情報を \\|| こんなふうに \\|| 囲んでみよう。テキスト、画像、絵文字などで使用可能。\n* **モバイルインジケーターがデスクトップに搭載** この世界には仲間がいるってことを巨大な衛星のようにお知らせしよう。またはトイレにいってて、まだ対戦できない友達がいるかチェックするのもアリ。\n* **GIFピッカー実装！** よりどりみどりのGIFを検索して、お気に入り登録しよう。自分でDiscordにアップしたGIFをお気に入り登録するのも可能。マイベストな逸品をあらためて見てみよう。\n* **ビデオ通話の帯域幅予測機能がさらにパワーアップ** 接続状況は悪くないのに、ビデオ通話が2Dドット絵のゲームみたいな画質に…ってことがこれでなくなるよ。\n* **GIFピッカーがキーボードだけで操作できるように** いちいちマウスを動かさなくていいので楽ちん。その5カロリー分のエネルギーはどこか別の場所で使おう！\n* **ストアがキーボードで操作可能に** これで10カロリー分かな？\n* **Spotifyの視聴音楽表示機能がAndroidで使用可能に** そうそう、通勤中ずっとこの悲しいバラードを聴いてるんだけど、結構病んでるかも…\n* **サーバーの設定で絵文字リストを入れ替えられるように** 使いたてホヤホヤの新しい絵文字は上に、古い絵文字は下にいくよ。ホコリがたまって忘れ…られてる…まるでぼくみたいに…\n\n…でも、大丈夫！ {fixed}\n======================\n\n* **[ギフト](https://discordapp.com/nitro)リンクに関する多くの問題が解決された** これで雷雨の下で手をつなぐハリケーンとモンスーンみたいにギフトを贈りまくることができるよ！恐怖におびえるDiscordなんていなかったのだ！\n* **画像を確認中にスペースバーを押しても、画像が重複することがなくなった** すすす、すまなかっっったあああ\n\nファミリーからのあいさつ {progress}\n======================\n\n* **Bravery、Brilliance、BalanceのHypeSquad三大ファミリーはいつでも新しい仲間を募集中** [ここで](https://discordapp.com/settings/hypesquad-online) ちょっとした性格診断テストを受けて登録すれば、自分にぴったりなファミリーがわかるよ。それぞれのプロフィールバッジで自らのファミリーをアピールしたり、イベントやプレゼントの情報をゲットしたりすることで、今までにないくらいクールな自分になれる（はず）。\n* **リアル世界でもDiscordをレペゼンしよう** HypeSquadメンバーとして、Discordのロゴを堂々と胸に掲げ、色んなゲームイベントに参加しよう。HypeSquadイベントコーディネーターになれば、所属する大学のゲームサークルに無料のグッズセットとサーバー特典をプレゼント。 [ご登録](http://discordapp.com/hypesquad) お待ちしてます！\n* **[Discordパートナーになろう](https://discordapp.com/partners)** 動画ウェブサイトでゲーム系コンテンツを配信すれば、超クールなパーカーや独自のサーバー特典などが君のものに。\n\n---changelog---\ndate: "2019-01-31"\nrevision: 1\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS AHEAD {added marginTop}\n======================\n\n* **PSSST. Discord now has Spoiler tags!** Surround any text with these guardrails \\|| like so \\|| to hide any pertinent information. Works on text, images, emoji, etc.\n* **Mobile Indicator is now on desktop** so you can indicate the smallness of the world on the go like a giant orbiting star. Or, just see if your friends are on the toilet and not ready to queue up.\n* **GIF Picker is now live!** You can search and favorite oodles of GIFs, and even favorite the ones you upload into Discord. Nothing like a little self validation.\n* **Bandwidth estimation for video calls got a buff.** Good connections will no longer see their video call get turned into an impromptu 2D pixel game.\n* **Keyboard-only navigation is here for GIF Picker.** Stop reaching for your mouse so much and save some energy. Enjoy those extra 5 calories.\n* **Keyboard navigation was also added to the store.** Make that 10 calories.\n* **Mobile Spotify What’s Playing is now live for Android users.** Yes, I’ve been listening to the same sad soundtrack on repeat for this entire commute. No, I’m not ok.\n* **You can now reverse your emoji list in server settings.** Put shiny, new emoji at the top and watch your old ones float to the bottom, where they will collect dust....forgotten....like me...\n\nI\'m OK Now {fixed}\n======================\n\n* **Many [gift](https://discordapp.com/nitro) links no longer break Discord.** You can now make it rain gifts like a hurricane holding hands with a monsoon underneath a thunderstorm without Discord cowering in fear.\n* **Pressing space bar when viewing a picture no longer duplicates the image.** O o u u r r  b b a a d d.\n\nFrom Our House To Yours {progress}\n======================\n\n* **The HypeSquad Houses of Bravery, Brilliance, and Balance are always looking for new recruits.** [Sign up in app](https://discordapp.com/settings/hypesquad-online) by taking a short personality quiz and get sorted. Show off your House with a unique profile badge, learn about competitions and giveaways, and generally be a much cooler person than you once were (we think so).\n* **Wanna rep Discord in the real world?** As a HypeSquad Event Attendee, proudly display our logo on your torso at your local cons. Or, give your university gaming club a caboodle of free merch and server perks as a HypeSquad Event Coordinator. [Apply here](http://discordapp.com/hypesquad)!\n* **[Become a Discord Partner.](https://discordapp.com/partners)** You supply the sweet gaming content on your local neighborhood video website of choice, we’ll supply a dope hoodie, unique server perks for your community, and more.\n'},7156:function(e,t,n){"use strict";t.__esModule=!0;var o=k(n(3)),a=k(n(6615)),r=k(n(7146)),i=k(n(7145)),l=k(n(7144)),s=k(n(7143)),u=k(n(7140)),d=k(n(7138)),f=k(n(7134)),c=k(n(7128)),p=k(n(7126)),h=k(n(7124)),y=k(n(6609)),m=k(n(6608)),v=k(n(6607)),E=k(n(6599)),_=k(n(6598)),g=k(n(7103)),S=k(n(7098)),T=k(n(7095)),C=k(n(7089)),N=k(n(7086)),b=k(n(6596)),O=k(n(7070)),I=k(n(6593)),A=k(n(6592)),M=k(n(6590)),R=k(n(6589)),P=k(n(7059)),L=k(n(6588)),w=k(n(7055)),D=k(n(6587)),U=k(n(6586));function k(e){return e&&e.__esModule?e:{default:e}}o.default.initialize();var F=[O.default,S.default,C.default,g.default,_.default,E.default,a.default,T.default,m.default,y.default,u.default,d.default,h.default,v.default,p.default,c.default,f.default,r.default,i.default,l.default,s.default,b.default,N.default,I.default,A.default,M.default,P.default,L.default,R.default,w.default,D.default,U.default];t.default=F,e.exports=t.default},7157:function(e,t,n){"use strict";t.__esModule=!0,t.SETTINGS_LAYERS_LAYOUT=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(0),r=n(116),i=s(n(6620)),l=s(n(960));function s(e){return e&&e.__esModule?e:{default:e}}t.SETTINGS_LAYERS_LAYOUT=o({POP_LAYER:{binds:["esc"],global:!0,action:function(){return r.ComponentDispatch.hasSubscribers(a.ComponentActions.CALL_DECLINE)?(r.ComponentDispatch.dispatch(a.ComponentActions.CALL_DECLINE),!1):l.default.isOpen()?(r.ComponentDispatch.dispatch(a.ComponentActions.CONTEXT_MENU_CLOSE),!1):r.ComponentDispatch.hasSubscribers(a.ComponentActions.POPOUT_CLOSE)?(r.ComponentDispatch.dispatch(a.ComponentActions.POPOUT_CLOSE),!1):r.ComponentDispatch.hasSubscribers(a.ComponentActions.MODAL_CLOSE)?(r.ComponentDispatch.dispatch(a.ComponentActions.MODAL_CLOSE),!1):void r.ComponentDispatch.dispatch(a.ComponentActions.LAYER_POP_ESCAPE_KEY)}}},i.default)},7158:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(6)),s=h(n(371)),u=h(n(42)),d=n(0),f=h(n(985)),c=h(n(5761)),p=h(n(510));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){function t(){var n,o;y(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=m(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(){var e=o.props;(0,e.onClick)(e.type)},m(o,n)}return v(t,e),t.prototype.render=function(){var e=this.props.type,t=e===d.VerificationTypes.EMAIL_OR_PHONE?l.default.Messages.VERIFY_BY_EMAIL_FORMATTED.format():l.default.Messages.VERIFY_BY_PHONE_FORMATTED.format();return a(u.default,{className:c.default.verificationBlock,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,onClick:this.handleClick},void 0,a("div",{className:(0,i.default)(c.default.image,c.default[e])}),a("div",{className:c.default.body},void 0,t))},t}(r.PureComponent);E.displayName="VerificationBlock";var _=function(e){function t(){var n,o;y(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=m(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(e){var t=o.props.onClick;t&&t(e)},m(o,n)}return v(t,e),t.prototype.renderFields=function(){var e=this.props,t=e.type,n=e.captchaKey,o=e.theme,r=e.onCaptchaVerify,i=[];switch(t){case d.VerificationTypes.CAPTCHA:return a(f.default,{onVerify:r,theme:o},n);case d.VerificationTypes.EMAIL_OR_PHONE:i.push(a(E,{type:d.VerificationTypes.EMAIL_OR_PHONE,onClick:this.handleClick},d.VerificationTypes.EMAIL_OR_PHONE));case d.VerificationTypes.PHONE:i.push(a(E,{type:d.VerificationTypes.PHONE,onClick:this.handleClick},d.VerificationTypes.PHONE))}return i},t.prototype.render=function(){return a(u.default,{className:c.default.verification,align:u.default.Align.CENTER,direction:u.default.Direction.VERTICAL},void 0,a(u.default,{className:c.default.container,direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER},void 0,a("div",{className:c.default.image}),a("div",{className:(0,i.default)(c.default.title,p.default.marginTop20)},void 0,l.default.Messages.VERIFICATION_TITLE),a("div",{className:(0,i.default)(c.default.body,p.default.marginTop4,p.default.marginBottom20)},void 0,l.default.Messages.VERIFICATION_BODY.format()),a(u.default,{grow:0,justify:u.default.Justify.CENTER},void 0,this.renderFields())),a("div",{className:c.default.footer},void 0,l.default.Messages.VERIFICATION_FOOTER),a(u.default,{className:(0,i.default)(p.default.marginTop4,p.default.marginBottom20),grow:0},void 0,a("div",{className:(0,i.default)(c.default.footer,c.default.footerAction)},void 0,l.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:s.default.getSubmitRequestURL()})),a("div",{className:(0,i.default)(c.default.footer,c.default.footerBullet)},void 0,"•"),a("div",{className:(0,i.default)(c.default.footer,c.default.footerAction)},void 0,l.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))},t}(r.PureComponent);_.defaultProps={type:d.VerificationTypes.CAPTCHA,onCaptchaVerify:d.NOOP,onLogout:d.NOOP},_.displayName="Verification",t.default=_,e.exports=t.default},7159:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=T(n(3)),s=T(n(12)),u=T(n(7158)),d=T(n(6192)),f=T(n(35)),c=n(270),p=T(n(930)),h=T(n(6616)),y=n(944),m=T(n(28)),v=T(n(6108)),E=n(0),_=T(n(166)),g=T(n(71)),S=T(n(6));function T(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={captchaKey:0},o.handleVerifyCaptcha=o.handleVerifyCaptcha.bind(o),o.handleClick=o.handleClick.bind(o),o.handleLogout=o.handleLogout.bind(o),o.close=o.close.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.theme;return r(u.default,{type:t,captchaKey:this.state.captchaKey,onCaptchaVerify:this.handleVerifyCaptcha,theme:n,onClick:this.handleClick,onLogout:this.handleLogout})},t.prototype.handleVerifyCaptcha=function(e){var t=this;s.default.post({url:E.Endpoints.CAPTCHA,body:{captcha_key:e}}).then(function(){t.close()},function(){t.setState({captchaKey:t.state.captchaKey+1})})},t.prototype.handleClick=function(e){e===E.VerificationTypes.EMAIL_OR_PHONE?this.handleVerifyEmail():this.handleVerifyPhone()},t.prototype.handleVerifyEmail=function(){(0,y.accountDetailsInit)(),h.default.open()},t.prototype.handleVerifyPhone=function(){f.default.push(function(e){return i.createElement(d.default,e)})},t.prototype.close=function(){(0,c.popLayer)()},t.prototype.handleLogout=function(){f.default.push(function(e){return i.createElement(_.default,a({header:S.default.Messages.LOGOUT,confirmText:S.default.Messages.LOGOUT,cancelText:S.default.Messages.CANCEL,onConfirm:function(){return p.default.logout()}},e),r(g.default,{size:g.default.Sizes.MEDIUM,color:g.default.Colors.PRIMARY},void 0,S.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},t}(i.PureComponent);C.displayName="Verification",t.default=l.default.connectStores([m.default,v.default],function(){var e=v.default.getAction(),t=E.VerificationTypes.CAPTCHA;return e===E.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?t=E.VerificationTypes.EMAIL_OR_PHONE:e===E.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(t=E.VerificationTypes.PHONE),{theme:m.default.theme,type:t}})(C),e.exports=t.default},7160:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(3)),l=h(n(6)),s=h(n(928)),u=n(76),d=h(n(144)),f=n(6391),c=h(n(13)),p=h(n(6185));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.streams,n=e.userId;if(null==n||null==t||0===t.length)return a(d.default,{type:d.default.Type.SPINNING_CIRCLE});var o=c.default.getUser(n),r=null==o?l.default.Messages.RTC_DEBUG_RTP_INBOUND:l.default.Messages.RTC_DEBUG_RTP_INBOUND+" — "+o.toString();return a(s.default,{tag:u.Tags.H2,title:r},void 0,(0,f.renderStreams)(t,n))},t}(r.PureComponent);y.displayName="RTCDebugInbound",t.default=i.default.connectStores([p.default],function(){var e=p.default.getStats(),t=p.default.getSection(),n=null;return null!=e&&null!=e.rtp.inbound&&(n=e.rtp.inbound[t]||[]),{userId:t,streams:n}})(y),e.exports=t.default},7161:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(3)),l=p(n(6)),s=p(n(928)),u=n(76),d=p(n(144)),f=n(6391),c=p(n(6185));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.outbound;return null==e?a(d.default,{type:d.default.Type.SPINNING_CIRCLE}):a(s.default,{tag:u.Tags.H2,title:l.default.Messages.RTC_DEBUG_RTP_OUTBOUND},void 0,(0,f.renderStreams)(e))},t}(r.PureComponent);h.displayName="RTCDebugOutbound",t.default=i.default.connectStores([c.default],function(){var e=c.default.getStats();return{outbound:null!=e?e.rtp.outbound:null}})(h),e.exports=t.default},7162:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(6643);var l=a(i.SparklinesCurve,{}),s=a(i.SparklinesReferenceLine,{type:"median"}),u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.datapoints=[n.datapoint],o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.datapoints.push(e.datapoint)},t.prototype.render=function(){return a(i.Sparklines,{data:this.datapoints.slice(0),height:25,style:{marginTop:10}},void 0,l,s)},t}(r.PureComponent);u.displayName="RTCDebugGraph",t.default=u,e.exports=t.default},7163:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=n(266),s=h(l),u=h(n(514)),d=h(n(42)),f=h(n(75)),c=h(n(5578)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var y=["audioLevel"],m=["firCount","nackCount"],v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={change:0,warn:-1!==m.indexOf(n.label)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){-1!==y.indexOf(e.label)&&(e.value>this.props.value?this.setState({change:1}):e.value<this.props.value?this.setState({change:-1}):this.setState({change:0}))},t.prototype.renderValueIcon=function(){var e=this.state,t=e.warn,n=e.change;return t?a(f.default,{name:f.default.Names.WARNING_BOX,color:p.Colors.STATUS_YELLOW,className:c.default.valueIcon}):n>0?a(f.default,{name:f.default.Names.CHANGE_UP,color:p.Colors.STATUS_GREEN,className:c.default.valueIcon}):n<0?a(f.default,{name:f.default.Names.CHANGE_DOWN,color:p.Colors.STATUS_RED,className:c.default.valueIcon}):null},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.valueRendered,r=e.section,f=e.label,p=e.renderGraph;return a(d.default,{className:(0,i.default)(c.default.item,n),direction:d.default.Direction.VERTICAL,basis:"50%"},void 0,a(d.default,{align:d.default.Align.START},void 0,a(d.default.Child,{},void 0,a("h3",{className:c.default.title},void 0,t)),a(d.default.Child,{grow:0,shrink:0},void 0,this.renderValueIcon(),a("span",{className:c.default.itemValue},void 0,o))),p&&a(d.default.Child,{className:c.default.graph},null!=r?r+"-"+f:f,a(s.default,{type:l.Types.DESCRIPTION},void 0,p())),a(u.default,{className:c.default.divider}))},t}(r.PureComponent);v.displayName="RTCDebugItem",t.default=v,e.exports=t.default},7164:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=E(n(7)),l=E(n(3)),s=E(n(6)),u=E(n(928)),d=n(76),f=n(6391),c=E(n(144)),p=E(n(6185)),h=E(n(231)),y=n(6617),m=E(n(132)),v=E(n(5578));function E(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.transport,n=e.mediaSessionId,o=e.hidePersonalInformation;if(null==t)return a(c.default,{type:c.default.Type.SPINNING_CIRCLE});var r=i.default.map(t,function(e,t){if(!o||"localAddress"!==t)return a(y.Item,{label:t,value:e},t)});return a(u.default,{tag:d.Tags.H2,title:s.default.Messages.RTC_DEBUG_TRANSPORT+(n?" - "+n:""),className:v.default.allowSelection},void 0,(0,f.renderTwoColumns)(r))},t}(r.PureComponent);_.displayName="RTCDebugTransport",t.default=l.default.connectStores([p.default,h.default,m.default],function(){var e=p.default.getStats();return{hidePersonalInformation:m.default.hidePersonalInformation,transport:null!=e?e.transport:null,mediaSessionId:h.default.getMediaSessionId()}})(_),e.exports=t.default},7165:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=T(n(3)),l=T(n(6)),s=T(n(7)),u=n(6097),d=T(n(42)),f=T(n(265)),c=T(n(6368)),p=T(n(7164)),h=T(n(7161)),y=T(n(7160)),m=n(6642),v=T(n(28)),E=T(n(6185)),_=T(n(13)),g=n(0),S=T(n(5578));function T(e){return e&&e.__esModule?e:{default:e}}var C=function(e){return a(d.default,{align:d.default.Align.CENTER},void 0,a(d.default.Child,{},void 0,a(d.default,{align:d.default.Align.CENTER},void 0,a(f.default,{size:f.default.Sizes.XSMALL,src:e.getAvatarURL()}),a("span",{className:S.default.username},void 0,e.toString()))))};C.displayName="UserItem",t.default=i.default.connectStores([E.default,v.default],function(){var e=E.default.getStats();return{theme:v.default.theme,section:E.default.getSection(),inbound:null!=e?e.rtp.inbound:void 0}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,o=e.inbound;return a(c.default,{theme:t,section:n,onSetSection:m.setSection,onClose:m.close,sections:function(e){var t=[];return null==e||s.default.isEmpty(e)||(t.push({section:u.SectionTypes.DIVIDER}),t.push({section:u.SectionTypes.HEADER,label:l.default.Messages.RTC_DEBUG_RTP_INBOUND}),Object.keys(e).forEach(function(e){var n=_.default.getUser(e);null!=n&&t.push({section:n.id,label:C(n),onClick:function(){(0,m.setSection)(n.id)},element:y.default})})),[{section:u.SectionTypes.HEADER,label:l.default.Messages.RTC_DEBUG},{section:g.RTCDebugSections.TRANSPORT,label:l.default.Messages.RTC_DEBUG_TRANSPORT,element:p.default},{section:g.RTCDebugSections.OUTBOUND,label:l.default.Messages.RTC_DEBUG_RTP_OUTBOUND,element:h.default}].concat(t)}(o)})},t}(r.PureComponent)),e.exports=t.default},7166:function(e,t,n){"use strict";t.__esModule=!0,t.updatePermission=function(e,t,n){o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION,id:e,allow:t,deny:n})},t.selectPermission=function(e){o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION,id:e})},t.init=function(){o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT})},t.savePermissionUpdates=function(e,t){return o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING}),new Promise(function(n){!function o(){if(0===t.length)return n();var r=t.pop();if(null==r)return o();a.default.updatePermissionOverwrite(e,r).then(o,o)}()}).then(function(){return o.default.dispatch({type:r.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS})})};var o=i(n(2)),a=i(n(148)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7167:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(9))),i=p(n(513)),l=p(n(75)),s=p(n(45)),u=p(n(42)),d=p(n(71)),f=n(0),c=p(n(5764));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.iconName,n=e.noticeText,o=e.buttonText,p=e.className,h=e.submitting,y=e.onClick;return a(i.default,{className:(0,r.default)(c.default.card,p)},void 0,a(u.default,{},void 0,a(u.default.Child,{wrap:!0,grow:0,shrink:0,className:c.default.iconContainer},void 0,a(l.default,{name:t,width:18,height:18,color:f.Colors.STATUS_YELLOW,className:c.default.lockIcon})),a(u.default.Child,{wrap:!0,className:c.default.noticeText},void 0,a(d.default,{color:d.default.Colors.PRIMARY},void 0,n))),null!=o&&null!=y?a(s.default,{size:s.default.Sizes.SMALL,onClick:y,className:c.default.button,submitting:h},void 0,o):null)};h.displayName="SidebarNotice",t.default=h,e.exports=t.default},7168:function(e,t,n){"use strict";t.__esModule=!0,t.ChannelSettingsPermissionsNotice=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=Y(n(3)),s=Y(n(6)),u=Y(n(7)),d=Y(n(1214)),f=Y(n(6823)),c=Y(n(6774)),p=Y(n(7167)),h=Y(n(225)),y=Y(n(6072)),m=Y(n(6822)),v=Y(n(145)),E=Y(n(42)),_=Y(n(6168)),g=Y(n(265)),S=Y(n(45)),T=n(266),C=Y(T),N=Y(n(75)),b=Y(n(6695)),O=Y(n(148)),I=n(7166),A=n(6139),M=Y(n(233)),R=Y(n(35)),P=Y(n(25)),L=Y(n(6119)),w=Y(n(13)),D=Y(n(28)),U=Y(n(62)),k=Y(n(6618)),F=Y(n(118)),x=Y(n(83)),G=Y(n(371)),j=Y(n(6166)),B=n(0),H=Y(n(5763)),V=Y(n(510));function Y(e){return e&&e.__esModule?e:{default:e}}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $={position:"relative",paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"},q={ROLE:"role",MEMBER:"member"},X=(t.ChannelSettingsPermissionsNotice=l.default.connectStores([k.default,L.default],function(){var e=L.default.getChannel();return{submitting:k.default.formState===B.FormStates.SUBMITTING,onReset:function(){(0,I.init)()},onSave:function(){if(null!=e){var t=k.default.editedPermissionIds.reduce(function(e,t){var n=k.default.getPermissionOverwrite(t);return null!=n&&e.push(n),e},[]);(0,I.savePermissionUpdates)(e.id,t)}}}})(_.default),function(e){function t(n){W(this,t);var o=z(this,e.call(this,n)),a=n.type;return o.generalSpec=x.default.generateChannelGeneralPermissionSpec(a===B.ChannelTypes.GUILD_CATEGORY),o.textSpec=x.default.generateChannelTextPermissionSpec(a===B.ChannelTypes.GUILD_TEXT),o.voiceSpec=x.default.generateChannelVoicePermissionSpec(a===B.ChannelTypes.GUILD_VOICE),o.handlePermissionChange=o.handlePermissionChange.bind(o),o.handleDeletePermission=o.handleDeletePermission.bind(o),o}return K(t,e),t.prototype.getOverwriteName=function(){var e=this.props,t=e.channel.guild_id,n=e.overwrite.id,o=P.default.getGuild(t);if(null==o)return"";var a=o.getRole(n),r=w.default.getUser(n),i=r?r.username:"";return a?a.name:i},t.prototype.handlePermissionChange=function(e,t){var o,a=this.props,i=a.overwrite,l=a.channel,u=i.id,d=i.allow,f=i.deny;switch(f^=f&e,d^=d&e,t){case"ALLOW":d|=e;break;case"DENY":f|=e}if(x.default.can(e,w.default.getCurrentUser(),l,((o={})[u]=r({},i,{allow:d,deny:f}),o)))(0,I.updatePermission)(u,d,f);else{var c=void 0;if("member"===i.type){var p=w.default.getUser(i.id);null!=p&&(c=p.toString())}else if("role"===i.type){var h=P.default.getGuild(l.getGuildId());if(null!=h){var y=h.getRole(i.id);null!=y&&(c=y.name)}}M.default.show({title:s.default.Messages.SELF_DENY_PERMISSION_TITLE,body:s.default.Messages.SELF_DENY_PERMISSION_BODY.format({name:c}),cancelText:s.default.Messages.HELP_DESK,onCancel:function(){window.open(G.default.getArticleURL(B.HelpdeskArticles.PERMISSIONS_LOCKOUT))},iconUrl:n(6512)})}},t.prototype.handleDeletePermission=function(){var e=this.props,t=e.channel.id,o=e.overwrite.id,a=this.getOverwriteName();M.default.show({title:s.default.Messages.SETTINGS_PERMISSIONS_DELETE_TITLE,body:s.default.Messages.SETTINGS_PERMISSIONS_DELETE_BODY.format({name:a}),cancelText:s.default.Messages.CANCEL,onConfirm:function(){return O.default.clearPermissionOverwrite(t,o)},iconUrl:n(6512)})},t.prototype.renderTextPermissions=function(){var e=this.props.type;if(e!==B.ChannelTypes.GUILD_TEXT&&e!==B.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return a(c.default,{spec:this.textSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},t.prototype.renderVoicePermissions=function(){var e=this.props.type;if(e!==B.ChannelTypes.GUILD_VOICE&&e!==B.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return a(c.default,{spec:this.voiceSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},t.prototype.renderRemoveButton=function(){var e=this.props;return e.channel.guild_id===e.overwrite.id?null:a(S.default,{look:S.default.Looks.OUTLINED,color:S.default.Colors.RED,onClick:this.handleDeletePermission},void 0,s.default.Messages.REMOVE_ROLE_OR_USER.format({name:this.getOverwriteName()}))},t.prototype.render=function(){var e=this.props.overwrite;return a(m.default.Content,{style:$},void 0,a(c.default,{spec:this.generalSpec,allow:e.allow,deny:e.deny,onChange:this.handlePermissionChange,className:V.default.marginBottom40}),this.renderTextPermissions(),this.renderVoicePermissions(),this.renderRemoveButton())},t}(i.PureComponent));X.displayName="Content";var Q=function(e){function t(){var n,o;W(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=z(this,e.call.apply(e,[this].concat(r))),o.handlerFilterResults=function(e,t){var n=o.props.permissionOverwrites;return 0===t?(0,u.default)(o.props.guild.roles).filter(function(t){return null==n[t.id]&&e(t.name)}).sortBy(function(e){return-e.position}).value():(0,u.default)(o.props.guildMemberIds).map(w.default.getUser).filter(function(e){return null!=e}).filter(function(t){return null==n[t.id]&&e(t.username.toLowerCase())}).sortBy(function(e){return e.username.toLowerCase()}).value()},o.handleCreateOverwrite=function(e,t){0===t?o.props.onSelect(e.id,q.ROLE):1===t&&o.props.onSelect(e.id,q.MEMBER)},o.handleQueryChange=function(e){j.default.requestMembers(o.props.guild.id,e,20)},z(o,n)}return K(t,e),t.prototype.renderResult=function(e,t){if(0===t){var n=void 0;return e.colorString&&(n={color:e.colorString}),a("span",{style:n},void 0,e.name)}var o=e.avatarURL||e.getAvatarURL("jpg");return a(E.default,{align:E.default.Align.CENTER},void 0,a(g.default,{size:g.default.Sizes.SMALL,src:o}),a("span",{className:H.default.username},void 0,e.toString()))},t.prototype.render=function(){var e=this.props,t=e.position,n=e.onClose;return a(d.default,{label:s.default.Messages.OVERWRITE_AUTOCOMPLETE_LABEL,placeholder:s.default.Messages.OVERWRITE_AUTOCOMPLETE_PLACEHOLDER,sections:[s.default.Messages.ROLES,s.default.Messages.MEMBERS],onRenderResult:this.renderResult,onFilterResults:this.handlerFilterResults,onQueryChange:this.handleQueryChange,onSelect:this.handleCreateOverwrite,onClose:n,position:t})},t}(i.PureComponent);Q.displayName="CreateOverwritePopout";var J=l.default.connectStores([U.default],function(e){var t=e.guild;return{guildMemberIds:U.default.getMemberIds(t.id)}})(Q),Z=function(e){function t(n){W(this,t);var o=z(this,e.call(this,n));return u.default.bindAll(o,["renderRole","renderMember","renderCreateOverwritePopout","renderHeader","handleCreatePermissionOverwrite","handleSyncPermissions"]),o}return K(t,e),t.prototype.renderRole=function(e){var t=this.props,n=t.selectedOverwriteId,o=t.theme;return a(f.default,{theme:o,id:e.id,color:e.colorString},n+"-"+e.id,e.name)},t.prototype.renderMember=function(e){var t=this.props,n=t.selectedOverwriteId,o=t.theme,r=e.avatarURL||e.getAvatarURL("jpg");return a(f.default,{id:e.id,theme:o},n+"-"+e.id,a(E.default,{align:E.default.Align.CENTER},void 0,a(g.default,{size:g.default.Sizes.XSMALL,src:r}),a("span",{className:H.default.username},void 0,e.toString())))},t.prototype.renderCreateOverwritePopout=function(e){return i.createElement(J,r({},this.props,{onSelect:this.handleCreatePermissionOverwrite},e))},t.prototype.renderHeader=function(){var e=this.props.theme===B.ThemeTypes.DARK?n(6772):n(6771);return a(h.default,{render:this.renderCreateOverwritePopout,position:h.default.Positions.BOTTOM,preventInvert:!0},void 0,a(y.default.Header,{},void 0,a(E.default,{className:H.default.sidebarHeaderDefault,justify:E.default.Justify.BETWEEN,align:E.default.Align.CENTER},void 0,a("span",{},void 0,s.default.Messages.ROLES,"/",s.default.Messages.MEMBERS),a("img",{alt:"",className:H.default.sidebarHeader,src:e}))))},t.prototype.renderHelpfulNote=function(){return a(i.Fragment,{},void 0,a(y.default.Separator,{style:{marginTop:20,marginBottom:14}}),a(C.default,{type:T.Types.DESCRIPTION},void 0,a(v.default,{href:G.default.getArticleURL(B.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,s.default.Messages.PERMISSION_HELPDESK)))},t.prototype.renderSyncStatus=function(){var e=this.props,t=e.isLockable,n=e.locked,o=e.category,r=e.canSyncChannel;return t&&null!=o?a(p.default,n?{iconName:N.default.Names.SYNCED,noticeText:s.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:o.name})}:{iconName:N.default.Names.UNSYNCED,noticeText:s.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:o.name}),buttonText:r?s.default.Messages.SYNC_NOW:null,onClick:this.handleSyncPermissions}):null},t.prototype.render=function(){var e=this.props,t=e.guild,n=e.selectedOverwriteId,o=e.theme,i=e.permissionOverwrites;null==i[t.id]&&(i[t.id]=x.default.makeEveryoneOverwrite(t.id));var l=(0,u.default)(i).filter(function(e){return e.type===q.ROLE}).map(function(e){return t.getRole(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return-e.position}).map(this.renderRole).value(),s=(0,u.default)(i).filter(function(e){return e.type===q.MEMBER}).map(function(e){return w.default.getUser(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return e.username.toLowerCase()}).map(this.renderMember).value();return a(m.default.Sidebar,{style:r({},$,{overflow:"hidden"}),scrollable:!0,theme:o},void 0,this.renderSyncStatus(),a(y.default,{onItemSelect:I.selectPermission,selectedItem:n},void 0,this.renderHeader(),l,s,this.renderHelpfulNote()))},t.prototype.handleCreatePermissionOverwrite=function(e,t){var n=this.props.channel;O.default.updatePermissionOverwrite(n.id,{id:e,type:t,allow:x.default.NONE,deny:x.default.NONE}).then(function(){return(0,I.selectPermission)(e)})},t.prototype.handleSyncPermissions=function(){var e=this.props,t=e.category,n=e.channel;null!=t&&R.default.push(b.default,{channel:n,category:t,onSync:function(){var e=t.guild_id,o=r({},t.permissionOverwrites);null!=e&&null==o[e]&&(o[e]=x.default.makeEveryoneOverwrite(e)),(0,A.saveChannel)(n.id,{permissionOverwrites:u.default.values(o)})}})},t}(i.PureComponent);Z.displayName="Sidebar";var ee=function(e){function t(){return W(this,t),z(this,e.apply(this,arguments))}return K(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedOverwriteId,n=e.permissionOverwrites,o=e.channel,r=e.locked,l=n[t];return a(m.default,{className:H.default.container},void 0,i.createElement(Z,this.props),a(X,{type:o.type,channel:o,overwrite:l,locked:r}))},t}(i.PureComponent);ee.displayName="ChannelSettingsPermissions",t.default=l.default.connectStores([P.default,k.default,D.default,F.default],function(){var e=k.default.channel,t=k.default.category;return{channel:e,category:t,canSyncChannel:null!=t&&F.default.can(B.Permissions.MANAGE_ROLES,t),permissionOverwrites:k.default.permissionOverwrites,selectedOverwriteId:k.default.selectedOverwriteId,isLockable:k.default.isLockable,locked:k.default.locked,guild:null!=e&&P.default.getGuild(e.getGuildId()),theme:D.default.theme}})(ee)},7169:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(3)),a=l(n(6119)),r=l(n(25)),i=l(n(6826));function l(e){return e&&e.__esModule?e:{default:e}}t.default=o.default.connectStores([a.default],function(){var e=a.default.getChannel();return{guild:null!=e?r.default.getGuild(e.getGuildId()):null,channel:e}})(i.default),e.exports=t.default},7170:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=c(n(3)),r=c(n(6119)),i=c(n(28)),l=c(n(25)),s=c(n(132)),u=c(n(118)),d=c(n(6829)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=a.default.connectStores([r.default,s.default,u.default],function(){var e=r.default.getProps().channel;return o({guild:null!=e?l.default.getGuild(e.getGuildId()):null,theme:i.default.theme,hide:s.default.hideInstantInvites,canCreateInvites:null!=e?u.default.can(f.Permissions.CREATE_INSTANT_INVITE,e):null},r.default.getInvites())})(d.default);t.default=p,e.exports=t.default},7171:function(e,t,n){e.exports=n.p+"9ad4d437577c5569dc231a787a5377f6.svg"},7172:function(e,t,n){e.exports=n.p+"bfffd518c76d3f6bc5e96eb52e4ae2cf.svg"},7173:function(e,t,n){e.exports=n.p+"c2c982c416a67d43d72d182f079a8d22.svg"},7174:function(e,t,n){e.exports=n.p+"58957d928db6fb9d4658eb882f33d7bc.svg"},7175:function(e,t,n){"use strict";t.__esModule=!0,t.ChannelSettingsOverviewNotice=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=O(n(9)),l=O(n(3)),s=O(n(7)),u=O(n(6)),d=O(n(238)),f=O(n(42)),c=n(511),p=O(n(925)),h=O(n(572)),y=O(n(926)),m=O(n(967)),v=O(n(6168)),E=n(6139),_=O(n(25)),g=O(n(6119)),S=O(n(28)),T=O(n(118)),C=n(382),N=n(0),b=O(n(510));function O(e){return e&&e.__esModule?e:{default:e}}t.ChannelSettingsOverviewNotice=l.default.connectStores([g.default],function(){var e=g.default.getProps(),t=e.channel,n=e.submitting;return{channel:t,submitting:n,onReset:function(){null!=t&&(0,E.init)(t.id)},onSave:function(){if(null!=t){var e=t.name,n=t.topic,o=t.bitrate,a=t.userLimit,r=t.nsfw,i=t.rateLimitPerUser;(0,E.saveChannel)(t.id,{name:e,topic:n,bitrate:o,userLimit:a,nsfw:r,rateLimitPerUser:i})}}}})(v.default);var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return s.default.bindAll(o,["handleChangeName","handleChangeTopic","handleChangeBitrate","handleUserLimitChange","handleNSFWChange","handleChangeSlowmode"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.getCooldownSliderMarker=function(e){return e>0?e.toLocaleString():u.default.Messages.FORM_LABEL_OFF},t.prototype.renderChannelInfo=function(e){var t=this.props.canManageChannels,n=void 0,o=void 0,r=void 0;e.type===N.ChannelTypes.GUILD_TEXT&&(n=a(c.FormItem,{title:u.default.Messages.FORM_LABEL_CHANNEL_TOPIC,className:b.default.marginTop20},void 0,a(h.default,{placeholder:u.default.Messages.CHANNEL_TOPIC_EMPTY,value:d.default.translateSurrogatesToInlineEmoji(e.topic),onChange:this.handleChangeTopic,error:this.getError("topic"),maxLength:1024,disabled:!t})),r=a("div",{},void 0,a(c.FormDivider,{className:(0,i.default)(b.default.marginTop40,b.default.marginBottom40)}),a(c.FormItem,{title:u.default.Messages.FORM_LABEL_SLOWMODE},void 0,a(m.default,{className:b.default.marginTop20,defaultValue:e.rateLimitPerUser,markers:N.SLOWMODE_VALUES,stickToMarkers:!0,onValueChange:this.handleChangeSlowmode,onMarkerRender:this.getCooldownSliderMarker}),a(c.FormText,{type:c.FormText.Types.DESCRIPTION},void 0,u.default.Messages.FORM_HELP_SLOWMODE)),a(c.FormDivider,{className:(0,i.default)(b.default.marginTop40,b.default.marginBottom40)})),o=a("div",{},void 0,a(y.default,{note:u.default.Messages.FORM_HELP_NSFW,onChange:this.handleNSFWChange,value:e.isNSFW(),hideBorder:!0,disabled:!t},void 0,u.default.Messages.FORM_LABEL_NSFW_CHANNEL)));var l=void 0;return l=e.type===N.ChannelTypes.GUILD_CATEGORY?u.default.Messages.CATEGORY_NAME:u.default.Messages.FORM_LABEL_CHANNEL_NAME,a("div",{},void 0,a(c.FormItem,{title:l},void 0,a(p.default,{value:e.toString(),onChange:this.handleChangeName,error:this.getError("name"),autoFocus:!0,disabled:!t})),n,r,o)},t.prototype.renderBitrate=function(e){return Math.round(e/1e3)+"kbps"},t.prototype.renderVoiceBitrate=function(e,t){var n=this.props.canManageChannels;if(e.type!==N.ChannelTypes.GUILD_VOICE)return null;var o=t&&t.hasFeature(N.GuildFeatures.VIP_REGIONS)?N.BITRATE_MAX_VIP:N.BITRATE_MAX;return a(f.default,{direction:f.default.Direction.VERTICAL,className:b.default.marginBottom40},void 0,a(c.FormTitle,{},void 0,u.default.Messages.FORM_LABEL_BITRATE),a(c.FormText,{type:c.FormTextTypes.DESCRIPTION,style:{color:N.Colors.STATUS_RED},className:b.default.marginBottom8},void 0,this.getError("bitrate")),a(m.default,{defaultValue:Math.min(e.bitrate,o),onValueChange:this.handleChangeBitrate,onValueRender:this.renderBitrate,onMarkerRender:this.renderBitrate,markers:[N.BITRATE_MIN,N.BITRATE_DEFAULT,o],minValue:N.BITRATE_MIN,maxValue:o,disabled:!n}),a(c.FormText,{type:c.FormTextTypes.DESCRIPTION},void 0,u.default.Messages.FORM_HELP_BITRATE.format({bitrate:N.BITRATE_DEFAULT/1e3})))},t.prototype.onRenderUserLimit=function(e){return 0===(e=Math.round(e))?u.default.Messages.NO_USER_LIMIT:u.default.Messages.NUM_USERS.format({num:e})},t.prototype.renderUserLimit=function(e){var t=this.props.canManageChannels;return e.type!==N.ChannelTypes.GUILD_VOICE?null:a(f.default,{direction:f.default.Direction.VERTICAL},void 0,a(c.FormTitle,{},void 0,u.default.Messages.FORM_LABEL_USER_LIMIT),a(c.FormText,{type:c.FormTextTypes.DESCRIPTION,style:{color:N.Colors.STATUS_RED},className:b.default.marginBottom8},void 0,this.getError("user_limit")),a(m.default,{defaultValue:Math.min(e.userLimit,N.MAX_VOICE_USER_LIMIT),onValueChange:this.handleUserLimitChange,onValueRender:this.onRenderUserLimit,onMarkerRender:function(e){return 0===Math.round(e)?"∞":e},markers:[0,N.MAX_VOICE_USER_LIMIT],minValue:0,maxValue:N.MAX_VOICE_USER_LIMIT,disabled:!t}),a(c.FormText,{type:c.FormTextTypes.DESCRIPTION},void 0,u.default.Messages.FORM_HELP_USER_LIMIT.format()))},t.prototype.renderJuiceImage=function(e){var t=this.props.theme,o=void 0;return o=e.type===N.ChannelTypes.GUILD_CATEGORY?t===N.ThemeTypes.DARK?n(7174):n(7173):t===N.ThemeTypes.DARK?n(7172):n(7171),a(f.default,{justify:f.default.Justify.CENTER,className:b.default.marginTop60},void 0,a("img",{alt:"",width:280,height:165,src:o}))},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.guild;return null==t||null==n?null:a(c.FormSection,{className:"channel-settings-overview",tag:c.FormTitleTags.H2,title:u.default.Messages.OVERVIEW},void 0,this.renderChannelInfo(t),t.type===N.ChannelTypes.GUILD_VOICE?a(c.FormDivider,{className:(0,i.default)(b.default.marginTop40,b.default.marginBottom40)}):null,this.renderVoiceBitrate(t,n),this.renderUserLimit(t),this.renderJuiceImage(t))},t.prototype.handleChangeName=function(e){var t=this.props.channel;null!=t&&(t.type===N.ChannelTypes.GUILD_TEXT&&(e=(0,C.sanitizeGuildTextChannelName)(e)),(0,E.updateChannel)({name:e}))},t.prototype.handleChangeTopic=function(e){(0,E.updateChannel)({topic:d.default.translateInlineEmojiToSurrogates(e)})},t.prototype.handleChangeBitrate=function(e){(0,E.updateChannel)({bitrate:1e3*Math.round(e/1e3)})},t.prototype.handleUserLimitChange=function(e){(0,E.updateChannel)({userLimit:Math.round(e)})},t.prototype.handleNSFWChange=function(e){(0,E.updateChannel)({nsfw:e.currentTarget.checked})},t.prototype.handleChangeSlowmode=function(e){(0,E.updateChannel)({rateLimitPerUser:e})},t}(r.PureComponent);I.displayName="ChannelSettingsOverview",t.default=l.default.connectStores([g.default,S.default,T.default],function(){var e=g.default.getProps(),t=e.errors,n=e.channel;return{errors:t,channel:n,submitting:e.submitting,theme:S.default.theme,guild:null!=n?_.default.getGuild(n.getGuildId()):null,canManageChannels:null!=n&&T.default.can(N.Permissions.MANAGE_CHANNELS,n)}})(I)},7176:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=w(n(3)),s=w(n(6)),u=w(n(6119)),d=w(n(6618)),f=w(n(118)),c=w(n(28)),p=w(n(18)),h=w(n(166)),y=w(n(71)),m=w(n(6368)),v=n(7175),E=w(v),_=w(n(7170)),g=w(n(7169)),S=n(7168),T=w(S),C=n(6094),N=w(n(75)),b=n(270),O=n(6139),I=w(n(35)),A=w(n(190)),M=n(116),R=n(6097),P=n(0),L=w(n(5762));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;A.default.trackWithMetadata(P.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"channel",origin_pane:t,destination_pane:e})}var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){D(this.props.section)},t.prototype.componentWillUnmount=function(){(0,O.close)()},t.prototype.componentDidUpdate=function(e){var t=e.formState,n=e.section,o=this.props,a=o.formState,r=o.section,i=o.canManageRoles,l=o.canManageChannels,s=o.canManageWebhooks;!l&&!i&&!s||a===P.FormStates.CLOSED&&a!==t||!i&&r===P.ChannelSettingsSections.PERMISSIONS||!s&&r===P.ChannelSettingsSections.WEBHOOKS?(0,b.popLayer)():r!==n&&D(r,n)},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,o=e.channel,l=e.category,f=e.canManageRoles,c=e.canManageChannels,p=e.canManageWebhooks;return null==o?null:r(m.default,{theme:t,section:n||P.ChannelSettingsSections.OVERVIEW,onSetSection:O.setSection,onClose:b.popLayer,sections:function(e){var t=e.channel,n=e.category,o=e.canManageRoles,l=e.canManageChannels,f=e.canManageWebhooks,c=(0,C.getIconNameForChannel)(t),p=P.ChannelTypes.GUILD_CATEGORY;return[{section:R.SectionTypes.HEADER,label:null!=t?r("span",{},void 0,null!=c?r(N.default,{name:c,width:11,height:11,className:L.default.channelIcon,background:L.default.background}):null,t.toString(),null!=n?r("span",{className:L.default.category},void 0,n.toString()):null):s.default.Messages.CHANNEL_SETTINGS},{section:P.ChannelSettingsSections.OVERVIEW,label:s.default.Messages.OVERVIEW,element:E.default,notice:{element:v.ChannelSettingsOverviewNotice,store:u.default}},{section:P.ChannelSettingsSections.PERMISSIONS,label:s.default.Messages.PERMISSIONS,element:T.default,type:R.ContentTypes.MINIMAL,notice:{element:S.ChannelSettingsPermissionsNotice,store:d.default},predicate:function(){return o}},{section:P.ChannelSettingsSections.INSTANT_INVITES,label:s.default.Messages.INVITES,element:_.default,type:R.ContentTypes.CUSTOM,predicate:function(){return t.type!==p&&l}},{section:P.ChannelSettingsSections.WEBHOOKS,label:s.default.Messages.WEBHOOKS,element:g.default,predicate:function(){return t.type!==p&&f}},{section:R.SectionTypes.DIVIDER},{section:P.ChannelSettingsSections.DELETE,onClick:function(){var e=t.toString();t.type!==P.ChannelTypes.GUILD_VOICE&&(e="#"+e),I.default.push(function(n){return i.createElement(h.default,a({},n,{header:s.default.Messages.DELETE_CHANNEL,cancelText:s.default.Messages.NO_TEXT,confirmText:s.default.Messages.YES_TEXT,onConfirm:function(){M.ComponentDispatch.subscribeOnce(P.ComponentActions.LAYER_POP_COMPLETE,function(){(0,O.deleteChannel)(t.id)}),(0,b.popLayer)()}}),r(y.default,{size:y.default.Sizes.MEDIUM,color:y.default.Colors.PRIMARY},void 0,s.default.Messages.DELETE_CHANNEL_BODY.format({channelName:e})))})},label:t.type===p?s.default.Messages.DELETE_CATEGORY:s.default.Messages.DELETE_CHANNEL,color:P.Colors.STATUS_RED,predicate:function(){return l}}]}({channel:o,category:l,canManageRoles:f,canManageChannels:c,canManageWebhooks:p})})},t}(i.PureComponent);U.displayName="ChannelSettings",t.default=l.default.connectStores([u.default,c.default,f.default],function(){var e=u.default.getProps().channel;return{channel:e,category:null!=e?p.default.getChannel(e.parent_id):null,canManageRoles:null!=e&&f.default.can(P.Permissions.MANAGE_ROLES,e),canManageChannels:null!=e&&f.default.can(P.Permissions.MANAGE_CHANNELS,e),canManageWebhooks:null!=e&&(e.type===P.ChannelTypes.GUILD_TEXT&&f.default.can(P.Permissions.MANAGE_WEBHOOKS,e)),formState:u.default.getFormState(),theme:c.default.theme,section:u.default.getSection()}})(U),e.exports=t.default},7177:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=b(n(9)),u=b(n(1043)),d=b(n(3)),f=b(n(224)),c=b(n(6066)),p=b(n(512)),h=n(116),y=b(n(6684)),m=b(n(7176)),v=b(n(6852)),E=b(n(7165)),_=b(n(7159)),g=b(n(945)),S=n(7157),T=n(270),C=n(0),N=b(n(5760));function b(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=r(y.default,{}),R=r(m.default,{}),P=r(v.default,{}),L=r(_.default,{}),w=r(E.default,{}),D=((a={})[C.Layers.USER_SETTINGS]=function(){return M},a[C.Layers.CHANNEL_SETTINGS]=function(){return R},a[C.Layers.GUILD_SETTINGS]=function(){return P},a[C.Layers.VERIFICATION]=function(){return L},a[C.Layers.RTC_DEBUG]=function(){return w},a),U="HIDDEN",k=.93,F=1,x=0,G=1,j={friction:10,tension:100},B=function(e){function t(n){O(this,t);var o=I(this,e.call(this,n)),a=F,r=G;return n.mode===U&&(a=k,r=x),o.state={animating:!1,scale:new f.default.Value(a),opacity:new f.default.Value(r),mode:n.mode},o}return A(t,e),t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null},t.prototype.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return"SHOWN"===t&&n===U?this.animateIn():t===U&&"SHOWN"===n?this.animateUnder():void 0},t.prototype.componentWillEnter=function(e){var t=this,n=this.state,o=n.opacity;n.scale.setValue(1.1),o.setValue(x),e(),this.setState({animating:!0},function(){return t.animateIn()})},t.prototype.componentWillLeave=function(e){var t=this;this.setState({animating:!0},function(){return t.animateOut(e)})},t.prototype.animateIn=function(e){var t=this;d.default.Store.pauseEmittingChanges(500);var n=this.state,o=n.opacity,a=n.scale;f.default.parallel([f.default.spring(o,i({toValue:G},j)),f.default.spring(a,i({toValue:F},j))]).start(function(){return t.animateComplete(e)})},t.prototype.animateOut=function(e){d.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,o=t.scale;f.default.parallel([f.default.spring(n,i({toValue:x},j)),f.default.spring(o,i({toValue:1.1},j))]).start(function(){e(),h.ComponentDispatch.dispatch(C.ComponentActions.LAYER_POP_COMPLETE)})},t.prototype.animateUnder=function(){var e=this;d.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,o=t.scale;f.default.parallel([f.default.spring(n,i({toValue:x},j)),f.default.spring(o,i({toValue:k},j))]).start(function(){return e.animateComplete()})},t.prototype.animateComplete=function(e){this.setState({animating:!1},e)},t.prototype.render=function(){var e,t=this.state.animating,n=this.props,o=n.mode,a=n.children,r=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(n,["mode","children"]),u=t||o===U?this.getAnimatedStyle():null;return l.createElement(f.default.div,i({role:"dialog","aria-hidden":o===U,className:(0,s.default)(N.default.layer,(e={},e[N.default.animating]=t,e["stop-animations"]=o===U,e)),style:u},r),a)},t.prototype.getAnimatedStyle=function(){var e=this.state;return{opacity:e.opacity,transform:[{scale:e.scale},{translateZ:0}]}},t}(l.PureComponent);B.displayName="Layer";var H=function(e){function t(){return O(this,t),I(this,e.apply(this,arguments))}return A(t,e),t.prototype.componentDidMount=function(){var e=this.props.layers,t=e[e.length-1];t===C.Layers.VERIFICATION?c.default.disable():t===C.Layers.USER_SETTINGS&&(c.default.enable(),c.default.enableTemp(S.SETTINGS_LAYERS_LAYOUT)),h.ComponentDispatch.subscribe(C.ComponentActions.LAYER_POP_ESCAPE_KEY,T.popLayer)},t.prototype.componentDidUpdate=function(e){var t=this.props.layers,n=e.layers.length>0,o=t.length>0;!n&&o||o&&t===e.layers&&t[0]===C.Layers.USER_SETTINGS?t[t.length-1]===C.Layers.VERIFICATION?c.default.disable():c.default.enableTemp(S.SETTINGS_LAYERS_LAYOUT):n&&!o&&c.default.disableTemp()},t.prototype.componentWillUnmount=function(){h.ComponentDispatch.unsubscribe(C.ComponentActions.LAYER_POP_ESCAPE_KEY,T.popLayer)},t.prototype.renderLayers=function(){var e=this,t=this.props,n=t.children,o=t.layers,a=o.length,i=[];return i.push(r(B,{mode:0===a?"SHOWN":U},"layer-base",n)),o.forEach(function(t,n){return i.push(e.renderComponent(t,n,a))}),i},t.prototype.renderComponent=function(e,t,n){var o=t===n-1,a="layer",i=void 0;return"string"==typeof e?(a=e,i=D[e]()):i=r(e,{}),r(B,{"aria-label":a,mode:o?"SHOWN":U},"layer-"+t,r(u.default,{disabled:!o||!C.EnableAccessibility,autoFocus:!0,returnFocus:!0},void 0,i))},t.prototype.render=function(){return r(p.default,{component:"div",className:(0,s.default)(N.default.layers,this.props.className)},void 0,this.renderLayers())},t}(l.Component);H.displayName="Layers",t.default=d.default.connectStores([g.default],function(){return{layers:g.default.getLayers()}})(H),e.exports=t.default},7178:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(7),l=(o=i)&&o.__esModule?o:{default:o};var s=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o._animate=o._animate.bind(o),o._animationCleanup=o._animationCleanup.bind(o),o.state={shaking:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getDefaultAnimProps=function(e,t){var n=Date.now();return{duration:e||300,progress:0,last:n,intensity:t||5,lastDirection:-1,frameCount:0}},t.prototype.componentWillUnmount=function(){this._animationCleanup()},t.prototype.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t),this.state.shaking||this.setState({shaking:!0},this._animate)},t.prototype.stop=function(){this.state.shaking&&this.setState({shaking:!1})},t.prototype._animate=function(){var e=this.animProps;if(!this.state.shaking||e.progress>e.duration||!this.refs.SHAKEABLE_ELEMENT)this._animationComplete();else{var t=Date.now();if(e.progress+=t-e.last,e.last=t,e.frameCount%2){var n=e.lastDirection*e.intensity,o=l.default.random(-e.intensity,e.intensity,!0),a=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,a),e.lastDirection*=-1,this.refs.SHAKEABLE_ELEMENT.style.transform="translate3d("+n+"px,"+o+"px,0px)"}e.frameCount+=1,this._animationFrame=requestAnimationFrame(this._animate)}},t.prototype._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)},t.prototype._animationCleanup=function(){this.refs.SHAKEABLE_ELEMENT&&(this.refs.SHAKEABLE_ELEMENT.style.transform=""),cancelAnimationFrame(this._animationFrame)},t.prototype.render=function(){return r.createElement("div",a({},this.props,{ref:"SHAKEABLE_ELEMENT"}))},t}(r.Component);s.displayName="Shakeable",t.default=s,e.exports=t.default},7191:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=T(n(3)),r=n(78),i=T(n(24)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6638)),s=n(0),u=T(n(2)),d=T(n(17)),f=n(190),c=T(n(379)),p=T(n(18)),h=T(n(945)),y=T(n(55)),m=T(n(6637)),v=T(n(65)),E=T(n(187)),_=T(n(95)),g=T(n(231)),S=T(n(6441));function T(e){return e&&e.__esModule?e:{default:e}}var C="PictureInPictureVideoLocation",N={top:80,bottom:132,left:80,right:32},b=void 0,O=void 0;function I(e,t){null!=e&&d.default.track(s.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,o({video_layout:t?"pip":c.default.getLayout(e)},(0,f.collectVoiceAnalyticsMetadata)(e)))}function A(){null!=b&&m.default.has(b)&&(l.close(b),I(b,!1),b=null)}function M(){var e,t,n=g.default.getGuildId(),o=g.default.getChannelId(),a=v.default.getChannelId();y.default.supports(r.Features.VIDEO)&&!h.default.hasLayers()&&o!==a&&null!=o&&_.default.hasVideo(n,o)&&(null==n||S.default.isAvailable(n))?(b!==o&&A(),e=o,null==(t=p.default.getChannel(e))||m.default.has(e)||(l.open(t.id,s.PictureInPictureComponents.VIDEO,O,{channel:t},N),I(e,!0),b=e)):A()}var R=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([v.default,E.default,g.default,_.default,h.default],M),O=i.default.get(C,s.PictureInPicturePositions.BOTTOM_RIGHT)},t}(a.default.Store);t.default=new R(u.default,{PICTURE_IN_PICTURE_MOVE:function(e){var t=e.id,n=e.position;t===b&&(O=n,i.default.set(C,n))}}),e.exports=t.default},7192:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(77),l=n(224),s=(o=l)&&o.__esModule?o:{default:o},u=n(0);var d=Math.pow(3,2),f=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o._height=0,o._width=0,o._dragStart={x:0,y:0},o._offsetX=0,o._offsetY=0;var a=new s.default.Value(n.initialX),r=new s.default.Value(n.initialY);return o.state={dragging:!1,position:new s.default.ValueXY({x:a,y:r})},o.handleSetRef=o.handleSetRef.bind(o),o.handleMouseDown=o.handleMouseDown.bind(o),o.handleMouseMove=o.handleMouseMove.bind(o),o.handleMouseUp=o.handleMouseUp.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.animateToPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments[3];(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&this.grabDimensions();var r=this.translate(e,t);s.default.spring(this.state.position,a({toValue:{x:r.x,y:r.y}},n)).start(o)},t.prototype.setPosition=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this.translate(e,t);n&&this.grabDimensions(),this.state.position.setValue({x:o.x,y:o.y})},t.prototype.grabDimensions=function(){var e=(0,i.findDOMNode)(this._ref);null!=e&&e instanceof Element&&(this._height=e.clientHeight,this._width=e.clientWidth)},t.prototype.translate=function(e,t){var n=this.props,o=n.maxX,a=n.maxY;return e<0?e=0:e>o-this._width&&(e=o-this._width),t<0?t=0:t>a-this._height&&(t=a-this._height),{x:e,y:t}},t.prototype.render=function(){var e=this.state,t=e.dragging,n=e.position,o=this.props,i=o.className,l=o.children,u=[0,1],d=["0px","1px"],f=s.default.accelerate(a({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:u,outputRange:d})},{translateY:n.y.interpolate({inputRange:u,outputRange:d})}]},this.props.style));return r.createElement(s.default.div,{ref:this.handleSetRef,className:i,onMouseDown:this.handleMouseDown,style:f},l)},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleMouseDown=function(e){var t=this.props,n=t.dragAnywhere,o=t.selector,a=this.state.position,r=e.target;e.button===u.MouseButtons.PRIMARY&&(n||null!=o&&r.matches(o))&&(this.grabDimensions(),this._dragStart={x:e.clientX,y:e.clientY},this._offsetX=e.clientX-a.x._value,this._offsetY=e.clientY-a.y._value,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},t.prototype.handleMouseMove=function(e){e.preventDefault();var t,n,o,a,r,i,l=this.props,s=l.onDragStart,u=l.onDrag,f=this.state,c=f.dragging,p=f.dragging;!c&&(t=this._dragStart,n={x:e.clientX,y:e.clientY},o=t.x,a=t.y,r=n.x,i=n.y,Math.pow(o-r,2)+Math.pow(a-i,2)>d)&&(c=!0),c&&(this.animateToPosition(e.clientX-this._offsetX,e.clientY-this._offsetY,{tension:80,friction:8},null,!1),this.setState({dragging:c},function(){p||s&&s(e.clientX,e.clientY),u&&u(e.clientX,e.clientY)}))},t.prototype.handleMouseUp=function(e){var t=this;window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&this.setState({dragging:!1},function(){var n=t.props.onDragEnd;n&&n(e.clientX,e.clientY)})},t}(r.PureComponent);f.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,dragAnywhere:!1},f.displayName="Draggable",t.default=f,e.exports=t.default},7193:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(77),s=p(n(9)),u=p(n(7192)),d=n(0),f=p(n(5765)),c=p(n(5569));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){function t(n){h(this,t);var o=y(this,e.call(this,n));return o.ensureIsInPosition=o.ensureIsInPosition.bind(o),o.handleSetInnerDivRef=o.handleSetInnerDivRef.bind(o),o.handleSetDraggableRef=o.handleSetDraggableRef.bind(o),o.handleDragStart=o.handleDragStart.bind(o),o.handleDrag=o.handleDrag.bind(o),o.handleDragEnd=o.handleDragEnd.bind(o),o}return m(t,e),t.prototype.componentDidMount=function(){this.setPosition(this.props.position)},t.prototype.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY||this.ensureIsInPosition()},t.prototype.getPosition=function(e){var t=(0,l.findDOMNode)(this._innerDiv);if(null!=t&&t instanceof Element){var n=t.getBoundingClientRect();this._width=n.width,this._height=n.height}var o=this.props,a=o.edgeOffsetTop,r=o.edgeOffsetLeft,i=o.edgeOffsetBottom,s=o.edgeOffsetRight,u=a,f=window.innerHeight-i-this._height,c=r,p=window.innerWidth-s-this._width;switch(e){case d.PictureInPicturePositions.TOP_LEFT:return{y:u,x:c};case d.PictureInPicturePositions.BOTTOM_LEFT:return{y:f,x:c};case d.PictureInPicturePositions.TOP_RIGHT:return{y:u,x:p};default:return{y:f,x:p}}},t.prototype.setPosition=function(e){var t=this.getPosition(e),n=t.x,o=t.y;null!=this._draggable&&this._draggable.setPosition(n,o)},t.prototype.animateToPosition=function(e,t){var n=this.getPosition(e),o=n.x,a=n.y;null!=this._draggable&&this._draggable.animateToPosition(o,a,{},t)},t.prototype.ensureIsInPosition=function(){this.setPosition(this.props.position)},t.prototype.calculateDecayingPosition=function(e,t,n,o){return{x:e+200*n,y:t+200*o}},t.prototype.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,o=e.edgeOffsetRight;switch(t){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return o}},t.prototype.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,o=e.edgeOffsetBottom;switch(t){case d.PictureInPicturePositions.TOP_LEFT:case d.PictureInPicturePositions.TOP_RIGHT:return-n;default:return o}},t.prototype.render=function(){var e=this.getXOffset(),t=this.getYOffset();return i.createElement(u.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:f.default.pictureInPictureWindow,maxX:window.innerWidth,maxY:window.innerHeight,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},i.createElement("div",{ref:this.handleSetInnerDivRef,className:c.default.elevationHigh,style:{x:e,y:t}},this.props.children))},t.prototype.handleSetInnerDivRef=function(e){this._innerDiv=e},t.prototype.handleSetDraggableRef=function(e){this._draggable=e},t.prototype.handleDragStart=function(e,t){this._velocityX=0,this._velocityY=0,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=new Date},t.prototype.handleDrag=function(e,t){var n=new Date,o=n-this._lastMoveTime;this._velocityX=(e-this._lastMoveX)/o,this._velocityY=(t-this._lastMoveY)/o,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=n},t.prototype.handleDragEnd=function(e,t){var n=this.calculateDecayingPosition(e,t,this._velocityX,this._velocityY),o=!0,a=!0;n.x>window.innerWidth/2&&(a=!1),n.y>window.innerHeight/2&&(o=!1);var r=void 0;if(r=o&&a?d.PictureInPicturePositions.TOP_LEFT:o&&!a?d.PictureInPicturePositions.TOP_RIGHT:!o&&a?d.PictureInPicturePositions.BOTTOM_LEFT:d.PictureInPicturePositions.BOTTOM_RIGHT,this.animateToPosition(r,this.ensureIsInPosition),r!==this.props.position){var i=this.props,l=i.id,s=i.onMove;s&&s(l,r)}},t}(i.PureComponent);v.displayName="Window";var E=function(e){function t(){return h(this,t),y(this,e.apply(this,arguments))}return m(t,e),t.prototype.renderWindows=function(){var e=this.props,t=e.windows,n=e.maxX,o=e.maxY,l=e.onWindowMove,s=e.pictureInPictureComponents,u=[];for(var d in t){var f=t[d],c=f.component;"string"==typeof c&&s[c]&&(c=s[c].component);var p=f.offsets.top,h=f.offsets.bottom,y=f.offsets.left,m=f.offsets.right;u.push(r(v,{position:f.position,id:d,onMove:l,maxX:n,maxY:o,edgeOffsetTop:p,edgeOffsetBottom:h,edgeOffsetLeft:y,edgeOffsetRight:m},d,i.createElement(c,a({pipId:d,pipPosition:f.position},f.props))))}return u},t.prototype.render=function(){return r("div",{className:(0,s.default)(f.default.pictureInPicture,"theme-"+this.props.theme)},void 0,this.renderWindows())},t}(i.PureComponent);E.displayName="PictureInPicture",t.default=E,e.exports=t.default},7194:function(e,t,n){"use strict";t.__esModule=!0;var o=d(n(3)),a=d(n(7)),r=d(n(2)),i=d(n(14)),l=d(n(379)),s=d(n(529)),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var f=void 0,c=void 0;function p(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=void 0;if(null==f)t=null;else if(null==(t=l.default.getSelectedParticipantId(f))){var n=i.default.getId();t=(0,a.default)(l.default.getParticipants(f)).filter(function(e){var t=e.user,o=e.voiceState;return null!=o&&o.selfVideo&&t.id!==n}).sortBy(function(e){var t=e.user;return-s.default.getSpeakingDuration(t.id)}).map(function(e){return e.user.id}).first()}c!==t&&(c=t,e&&m.emitChange())}var h=a.default.debounce(p,300);function y(){return h(),!1}var m=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,u.default,s.default),this.syncWith([l.default],y)},t.prototype.getSpeaker=function(e){return f!==e&&(f=e,p(!1)),null!=c?u.default.getUser(c):u.default.getCurrentUser()},t}(o.default.Store))(r.default,function(){return!1});t.default=m,e.exports=t.default},7195:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(512)),l=y(n(42)),s=y(n(94)),u=y(n(45)),d=y(n(75)),f=n(6654),c=y(n(81)),p=y(n(5766)),h=y(n(6));function y(e){return e&&e.__esModule?e:{default:e}}var m=a(l.default,{grow:1}),v=a(l.default,{grow:1}),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderTopLeft=function(){var e=this.props,t=e.channel,n=e.onJumpToChannel;return a(c.default,{className:p.default.channel,onClick:n},void 0,t.toString())},t.prototype.renderTopRight=function(){var e=this.props.onClose;return null!=e?a(c.default,{onClick:e,className:p.default.iconButtonWrapper},void 0,a(d.default,{name:d.default.Names.REMOVE,className:p.default.iconButton,foreground:p.default.iconButtonForeground})):null},t.prototype.renderScreenShareIcon=function(){var e=this.props,t=e.onStartScreenSharingWhenUnavailable,n=e.onStartScreenSharing,o=e.onChangeScreenSharing,r=e.isScreenShareAvailable,i=e.isScreenShareEnabled,l=void 0,f=void 0,c=void 0;return r?i?(l=o,f=p.default.iconButton,c=h.default.Messages.SCREEN_SHARE_OPTIONS):(l=n,f=p.default.iconButton,c=h.default.Messages.SCREEN_SHARE_ON):(l=t,f=p.default.iconButtonDisabled,c=h.default.Messages.SCREENSHARE_UNAVAILABLE),a(s.default,{text:c},void 0,a(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,onClick:l,className:p.default.iconButtonWrapper},void 0,a(d.default,{name:d.default.Names.SCREENSHARE,className:f,foreground:p.default.iconButtonForeground})))},t.prototype.renderVideoIcon=function(){var e=this.props,t=e.onEnableVideoWhenUnavailable,n=e.onEnableVideo,o=e.onDisableVideo,r=e.isVideoAvailable,i=e.isVideoEnabled,l=void 0,f=void 0,c=void 0,y=void 0;return r?i?(l=d.default.Names.VIDEO_CAMERA,f=o,c=p.default.iconButton,y=h.default.Messages.CAMERA_OFF):(l=d.default.Names.VIDEO_CAMERA_DISABLED,f=n,c=p.default.iconButton,y=h.default.Messages.CAMERA_ON):(l=d.default.Names.VIDEO_CAMERA,f=t,c=p.default.iconButtonDisabled,y=h.default.Messages.CAMERA_UNAVAILABLE),a(s.default,{text:y},void 0,a(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,onClick:f,className:p.default.iconButtonWrapper},void 0,a(d.default,{name:l,width:24,height:24,className:c,foreground:p.default.iconButtonForeground})))},t.prototype.renderBottomLeft=function(){return a(l.default,{align:l.default.Align.CENTER},void 0,this.renderScreenShareIcon(),this.renderVideoIcon())},t.prototype.renderOverlaySide=function(e,t,n){return a(l.default,{grow:0,className:n},void 0,a(l.default,{align:l.default.Align.CENTER,grow:0,className:p.default.overlayLeft},void 0,e),m,a(l.default,{align:l.default.Align.CENTER,grow:0,className:p.default.overlayRight},void 0,t))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.backgroundKey,o=e.onJumpToChannel;return a("div",{className:p.default.pictureInPictureVideo,onDoubleClick:o},void 0,a(i.default,{},void 0,a(f.BackgroundTransition,{},n,t)),a(l.default,{direction:l.default.Direction.VERTICAL,className:p.default.overlay},void 0,this.renderOverlaySide(this.renderTopLeft(),this.renderTopRight(),p.default.overlayTop),v,this.renderOverlaySide(this.renderBottomLeft(),null,p.default.overlayBottom)))},t}(r.PureComponent);E.displayName="PictureInPictureVideo",t.default=E,e.exports=t.default},7196:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=u(n(9)),s=u(n(5767));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={aStreamId:null,aReady:!1,bStreamId:n.streamId,bReady:!0},o.handleReady=o.handleReady.bind(o),o.handleDoubleClick=o.handleDoubleClick.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleReady=function(){this.state.aReady?this.setState({bReady:!0,aStreamId:null,aReady:!1}):this.setState({aReady:!0,bStreamId:null,bReady:!1})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.state.aReady?e.streamId!==this.state.aStreamId&&(null==e.streamId?this.setState({bStreamId:e.streamId,bReady:!0,aStreamId:null,aReady:!1}):this.setState({bStreamId:e.streamId,bReady:!1})):e.streamId!==this.state.bStreamId&&(null==e.streamId?this.setState({aStreamId:e.streamId,aReady:!0,bStreamId:null,bReady:!1}):this.setState({aStreamId:e.streamId,aReady:!1}))},t.prototype.renderVideo=function(e,t){var n=this.props,o=n.children,l=n.mirror,u=n.component;if(null==e){if(null==o)return null;var d=i.Children.only(o);return i.cloneElement(d,r({style:{display:t&&!l?void 0:"none"}},d.props))}return a(u,{className:s.default.media,streamId:e,onReady:t?null:this.handleReady})},t.prototype.render=function(){var e,t=this.props,n=t.mirror,o=t.className;return a("div",{className:(0,l.default)(s.default.video,o,(e={},e[s.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,o=t.id;n&&n(e,o)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,o=t.id;n&&n(e,o)},t}(i.PureComponent);d.displayName="BufferedVideo",t.default=d,e.exports=t.default},7197:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=R(n(7)),s=R(n(3)),u=R(n(6)),d=n(78),f=R(n(380)),c=R(n(7196)),p=R(n(6394)),h=R(n(7195)),y=R(n(6395)),m=n(32),v=R(n(6393)),E=R(n(55)),_=R(n(1211)),g=R(n(7194)),S=R(n(14)),T=R(n(379)),C=R(n(269)),N=R(n(35)),b=R(n(6069)),O=n(270),I=R(n(6148)),A=n(0),M=R(n(41));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=P(this,e.call.apply(e,[this].concat(l))),o.handleEnableVideo=function(){C.default.setVideoEnabled(!0)},o.handleEnableVideoWhenUnavailable=function(){var e=o.props.isCameraGranted;N.default.push(function(t){return i.createElement(p.default,r({},t,{title:u.default.Messages.CAMERA_UNAVAILABLE,description:e?u.default.Messages.CAMERA_NO_DEVICE:u.default.Messages.CAMERA_NO_ACCESS,confirmText:e?u.default.Messages.OKAY:u.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:e?N.default.pop:o.handleEnableVideo}))})},o.handleDisableVideo=function(){C.default.setVideoEnabled(!1)},o.handleStartScreenSharing=function(){I.default.open(o.props.channel)},o.handleStartScreenSharingWhenUnavailable=function(){function e(){N.default.push(f.default,{source:"PiP Screenshare Unavailable"})}N.default.push(function(t){return i.createElement(p.default,r({},t,{title:u.default.Messages.SCREENSHARE_UNAVAILABLE,description:u.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:u.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},o.handleChangeScreenSharing=function(e){if(e.currentTarget instanceof Element){var t=o.props.channel;(0,m.openContextMenu)(e,function(e){return i.createElement(v.default,r({},e,{channel:t}))})}},o.handleJumpToChannel=function(){var e=o.props.channel;(0,O.popAllLayers)();var t=e.getGuildId()||A.ME;b.default.channelListScrollTo(t,e.id),M.default.transitionToGuild(t,e.id)},P(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.streamId,o=e.userOnScreen,r=e.isVideoAvailable,i=e.isVideoEnabled,l=e.isScreenShareAvailable,s=e.isScreenShareEnabled,u=o.id===S.default.getId()&&i&&!s;return a(h.default,{channel:t,backgroundKey:o.id,isVideoAvailable:r,isVideoEnabled:i,isScreenShareAvailable:l,isScreenShareEnabled:s,onEnableVideo:this.handleEnableVideo,onEnableVideoWhenUnavailable:this.handleEnableVideoWhenUnavailable,onDisableVideo:this.handleDisableVideo,onStartScreenSharing:this.handleStartScreenSharing,onStartScreenSharingWhenUnavailable:this.handleStartScreenSharingWhenUnavailable,onChangeScreenSharing:this.handleChangeScreenSharing,onJumpToChannel:this.handleJumpToChannel},void 0,a(c.default,{streamId:n,component:E.default.getMediaEngine().Video,mirror:u},void 0,a(y.default,{avatarSize:y.default.AvatarSizes.XXLARGE,user:o})))},t}(i.PureComponent);L.displayName="PictureInPictureVideoContainer",t.default=s.default.connectStores([g.default,T.default,_.default],function(e){var t=e.channel,n=g.default.getSpeaker(t.id),o=(0,l.default)(E.default.getVideoDevices()).values().first(),a=null==o||o.disabled,r=E.default.isEnabled();return{channel:t,streamId:null!=n?_.default.getStreamId(n.id):null,userOnScreen:n,isVideoAvailable:r||!1===a,isVideoEnabled:r&&!a&&E.default.isVideoEnabled(),isScreenShareEnabled:E.default.isScreenSharing(),isScreenShareAvailable:E.default.supports(d.Features.DESKTOP_CAPTURE),isCameraGranted:r}})(L),e.exports=t.default},7198:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=m(n(1)),l=y(n(3)),s=m(n(6638)),u=y(n(7197)),d=y(n(7193)),f=y(n(6637)),c=y(n(7191)),p=y(n(28)),h=y(n(133));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=((a={})[n(0).PictureInPictureComponents.VIDEO]={component:u.default,store:c.default},a),E=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleWindowMove=o.handleWindowMove.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.windows,n=e.maxX,o=e.maxY,a=e.theme;return r(d.default,{pictureInPictureComponents:v,windows:t,maxX:n,maxY:o,theme:a,onWindowMove:this.handleWindowMove})},t.prototype.handleWindowMove=function(e,t){s.moveTo(e,t)},t}(i.PureComponent);E.displayName="PictureInPictureContainer",t.default=l.default.connectStores([f.default,h.default,p.default],function(){var e=h.default.windowSize();return{windows:f.default.windows,maxX:e.width,maxY:e.height,theme:p.default.theme}})(E),e.exports=t.default},7199:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={move:function(e,t){r.default.dispatch({type:i.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}},e.exports=t.default},7200:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=n(0);var r=Math.pow(3,2),i=Object.freeze({DISABLED:0,DEFAULT:1,OFFSET:2}),l=Object.freeze({TOP:"TOP",BOTTOM:"BOTTOM",RIGHT:"RIGHT",LEFT:"LEFT"});function s(e,t,n,o,a){var r=e.top,i=e.bottom,l=e.left,s=e.right;if(null==r&&null==i?(r=0,i=n-a):null==r&&null!=i?r=n-(i+a):null!=r&&(i=n-(r+a)),null==l&&null==s?(l=0,s=t-o):null==l&&null!=s?l=t-(s+o):null==s&&null!=l&&(s=t-(l+o)),null==r||null==i||null==l||null==s)throw new Error("Logically this can never happen based on our if/else statements");return{top:r,left:l,bottom:i,right:s}}function u(e){return[null==e.bottom?l.TOP:l.BOTTOM,null==e.right?l.LEFT:l.RIGHT]}function d(e){var t=e.top,n=e.left,o=e.bottom,a=e.right;return 0===t||t<=o?o=null:t=null,0===n||n<=a?a=null:n=null,{top:t,left:n,bottom:o,right:a}}function f(e){var t=e.top,n=e.left,o=e.bottom,a=e.right;return o<0&&(t+=o,o=0),t<0&&(o+=t,t=0),a<0&&(n+=a,a=0),n<0&&(a+=n,n=0),{top:t,left:n,bottom:o,right:a}}function c(e){return null!=e?e+"px":"auto"}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));h.call(o);var a,r,i,l,s,d=u(n.initialPosition),f=d[0],c=d[1];return o.position=(a=n.initialPosition,r=a.top,i=a.left,l=a.bottom,s=a.right,null==i&&null==s&&(i=0),null!=i&&null!=s&&(s=null),null==r&&null==l&&(r=0),null!=r&&null!=l&&(l=null),{top:r,left:i,bottom:l,right:s}),o.state={dragging:!1,verticalOrientation:f,horizontalOrientation:c,atTopEdge:0===o.position.top},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.checkBounds(),this.setDOMPositions(this.position)},t.prototype.componentDidUpdate=function(e,t){var n=this.state,o=n.verticalOrientation,a=n.horizontalOrientation,r=n.atTopEdge,i=this.props,l=i.maxX,s=i.maxY,u=i.onRelocated,d=i.snapOrientation;(e.maxX!==l||e.maxY!==s||e.onRelocated!==u||e.snapOrientation!==d||t.verticalOrientation!==o||t.horizontalOrientation!==a||t.atTopEdge!==r)&&this.checkBounds()},t.prototype.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.setDOMPositions=function(e){var t=e.top,n=e.left,o=e.bottom,a=e.right,r=this.draggableRef.current;this.position={top:t,left:n,bottom:o,right:a},null!=r&&(r.style.top=c(t),r.style.bottom=c(o),r.style.left=c(n),r.style.right=c(a))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,r=a.dragging,i=a.verticalOrientation,s=a.horizontalOrientation,u=a.atTopEdge,d=this.position,f=d.top,c=d.left,p=d.right,h=d.bottom,y={pointerEvents:r?"none":"auto",position:"absolute",top:f,left:c,bottom:h,right:p};return o.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:y},o.cloneElement(o.Children.only(t),{flipped:s===l.RIGHT,verticalFlipped:i===l.BOTTOM,checkBounds:this.checkBounds,atTopEdge:u}))},t}(o.PureComponent);p.FlipTypes=i,p.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:i.DISABLED,flipHorizontal:i.DISABLED,dragAnywhere:!1};var h=function(){var e=this;this.draggableRef=o.createRef(),this._dragStart={x:0,y:0},this.handleMouseDown=function(t){var n=e.position,o=n.top,r=n.left,i=n.bottom,l=n.right,u=e.props,d=u.dragAnywhere,f=u.selector,c=u.maxX,p=u.maxY,h=t.target,y=e.draggableRef.current;if(null!=y&&t.button===a.MouseButtons.PRIMARY&&(d||null!=h&&f&&null!=h.closest(f))){var m=function(e){var t=e.top;return{x:e.left,y:t}}(s({top:o,left:r,bottom:i,right:l},c,p,y.clientWidth,y.clientHeight)),v=m.x,E=m.y;e._dragStart={x:t.clientX,y:t.clientY},e._offsetX=t.clientX-v,e._offsetY=t.clientY-E,window.addEventListener("mousemove",e.handleMouseMove),window.addEventListener("mouseup",e.handleMouseUp)}},this.handleMouseMove=function(t){t.preventDefault();var n=t.clientX,o=t.clientY,a=e.draggableRef.current,l=e.props,c=l.maxX,p=l.maxY,h=l.flipVertical,y=l.flipHorizontal,m=l.onDragStart,v=l.onDrag,E=l.onFlip,_=l.snapOrientation,g=e.state,S=g.dragging,T=g.dragging,C=g.verticalOrientation,N=g.horizontalOrientation,b=!1;if(!(null==a||!S&&(O=e._dragStart,I={x:n,y:o},A=O.x,M=O.y,R=I.x,P=I.y,Math.pow(A-R,2)+Math.pow(M-P,2)<r))){var O,I,A,M,R,P;S=!0;var L=a.clientWidth,w=a.clientHeight,D=f(s({top:o-e._offsetY,left:n-e._offsetX},c,p,L,w));if(_){var U=u(D=d(D));C=U[0],N=U[1]}else D={top:D.top,left:D.left};y===i.OFFSET&&N!==e.state.horizontalOrientation&&(e._offsetX=L-e._offsetX,b=!0),h===i.OFFSET&&C!==e.state.verticalOrientation&&(e._offsetY=w-e._offsetY,b=!0),e.setDOMPositions(D),T||m&&m(D,a),v&&v(D,a),b&&E&&E([C,N]),e.setState({dragging:S,verticalOrientation:C,horizontalOrientation:N,atTopEdge:0===D.top})}},this.handleMouseUp=function(){window.removeEventListener("mousemove",e.handleMouseMove),window.removeEventListener("mouseup",e.handleMouseUp),e.state.dragging&&e.setState({dragging:!1},function(){var t=e.props.onDragEnd,n=e.draggableRef.current;null!=n&&null!=t&&t(e.position,n)})},this._checkBoundsRAF=null,this.checkBounds=function(){null!=e._checkBoundsRAF&&cancelAnimationFrame(e._checkBoundsRAF),e._checkBoundsRAF=requestAnimationFrame(e._performCheckBounds)},this._performCheckBounds=function(){var t=e.position,n=e.state,o=e.draggableRef.current,a=e.props,r=a.maxX,i=a.maxY,l=a.onRelocated,c=a.snapOrientation,p=e.state,h=p.verticalOrientation,y=p.horizontalOrientation;if(null!=o){var m=o.clientHeight,v=s(t,r,i,o.clientWidth,m);v=f(v);var E=void 0;if(c){var _=u(E=d(v));h=_[0],y=_[1]}else E={top:v.top,left:v.left,right:null,bottom:null};if(t.left!==E.left||t.right!==E.right||t.top!==E.top||t.bottom!==E.bottom){l&&l(E,o),e.setDOMPositions(E);var g=0===E.top;h===n.verticalOrientation&&y===n.horizontalOrientation&&g===n.atTopEdge||e.setState({verticalOrientation:h,horizontalOrientation:y,atTopEdge:g})}}}};p.displayName="Draggable",t.default=p,e.exports=t.default},7201:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=m(n(45)),s=m(n(6653)),u=m(n(75)),d=m(n(42)),f=n(0),c=m(n(6)),p=m(n(374)),h=m(n(510)),y=m(n(5592));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderAllActions=function(){var e=this.props,t=e.handleAcceptWithAudio,n=e.handleAcceptWithVideo;return a(r.Fragment,{},void 0,a(l.default,{className:h.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:n,color:l.default.Colors.GREEN},void 0,a("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,a(u.default,{name:u.default.Names.VIDEO_CAMERA,className:y.default.actionIcon}),c.default.Messages.VIDEO)),a(l.default,{className:h.default.marginTop4,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.GREEN},void 0,a("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,a(u.default,{name:u.default.Names.MICROPHONE,className:y.default.actionIcon}),c.default.Messages.VOICE)))},t.prototype.renderAudioOnlyActions=function(){var e=this.props.handleAcceptWithAudio;return a(l.default,{className:h.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:e,color:l.default.Colors.GREEN},void 0,a("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,a(u.default,{name:u.default.Names.MICROPHONE,className:y.default.actionIcon}),c.default.Messages.JOIN_CALL))},t.prototype.renderActions=function(){var e=this.props,t=e.handleDeclineCall,n=e.supportsVideo,o=e.mode;return a("div",{className:(0,i.default)((0,i.default)(y.default.actionButtons,h.default.marginTop20))},void 0,n&&o===f.ChannelModes.VIDEO?this.renderAllActions():this.renderAudioOnlyActions(),a(l.default,{className:h.default.marginTop8,size:l.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:l.default.Colors.TRANSPARENT},void 0,a("div",{className:(0,i.default)(p.default.horizontal,p.default.alignCenter)},void 0,c.default.Messages.DECLINE)))},t.prototype.render=function(){var e=this.props,t=e.avatarUrl,n=e.channelId,o=e.channelName,r=e.mode,l=e.shouldAnimate,u=e.className;return a("div",{className:(0,i.default)(y.default.incomingCallInner,u)},void 0,a(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER},void 0,a(s.default,{className:h.default.marginTop20,ringing:l,src:t||"",id:n}),a("div",{className:(0,i.default)(y.default.members,h.default.marginTop20)},void 0,o),a("div",{className:(0,i.default)(y.default.subtitle,h.default.marginTop8)},void 0,r===f.ChannelModes.VOICE?c.default.Messages.INCOMING_CALL_ELLIPSIS:c.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS),this.renderActions()))},t}(r.Component);v.displayName="IncomingCall",t.default=v,e.exports=t.default},7202:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=D(n(54)),s=D(n(9)),u=D(n(3)),d=D(n(66)),f=D(n(7)),c=D(n(512)),p=D(n(224)),h=n(78),y=n(526),m=D(n(41)),v=n(116),E=D(n(7201)),_=D(n(7200)),g=D(n(28)),S=D(n(133)),T=D(n(132)),C=D(n(6640)),N=D(n(942)),b=D(n(379)),O=D(n(55)),I=D(n(7199)),A=D(n(294)),M=D(n(167)),R=n(0),P=D(n(5768)),L=D(n(5592)),w=D(n(5569));function D(e){return e&&e.__esModule?e:{default:e}}var U=(0,l.default)({displayName:"IncomingCallModal",mixins:[u.default.LazyStoreListenerMixin(b.default),d.default],getInitialState:function(){return r({animate:new p.default.Value(0)},this.getStateFromStores())},getStateFromStores:function(){return{mode:b.default.getMode(this.props.channel.id)}},componentDidMount:function(){v.ComponentDispatch.subscribe(R.ComponentActions.CALL_ACCEPT,this.handleAcceptWithAudio),v.ComponentDispatch.subscribe(R.ComponentActions.CALL_DECLINE,this.handleDeclineCall)},componentWillUnmount:function(){v.ComponentDispatch.unsubscribe(R.ComponentActions.CALL_ACCEPT,this.handleAcceptWithAudio),v.ComponentDispatch.unsubscribe(R.ComponentActions.CALL_DECLINE,this.handleDeclineCall)},componentWillEnter:function(e){p.default.timing(this.state.animate,{toValue:1,duration:170,easing:p.default.Easing.inOut(p.default.Easing.back())}).start(e)},componentDidAppear:function(){this.state.animate.setValue(1)},componentWillLeave:function(e){p.default.timing(this.state.animate,{toValue:0,duration:170,easing:p.default.Easing.quad}).start(e)},getStyle:function(){var e=this.state.animate;return this.props.shouldAnimate?p.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:["0.7","1"]})}],opacity:e}):null},render:function(){var e=this.props,t=e.x,n=e.y,o=e.channel,r=e.shouldAnimate,l=o.getIconURL(),u=O.default.supports(h.Features.VIDEO);return a(_.default,{className:(0,s.default)(P.default.incomingCall,w.default.elevationHigh),selector:"."+L.default.incomingCallInner,initialPosition:{top:n,left:t},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:this.handleStop,dragAnywhere:!0},void 0,a(i.Fragment,{},void 0,a(p.default.div,{style:this.getStyle()},void 0,a(E.default,{avatarUrl:l,channelId:o.id,channelName:o.toString(),mode:this.state.mode,shouldAnimate:r,supportsVideo:u,handleDeclineCall:this.handleDeclineCall,handleAcceptWithAudio:this.handleAcceptWithAudio,handleAcceptWithVideo:this.handleAcceptWithVideo}))))},handleStop:function(e){var t=e.top,n=e.left;null!=t&&null!=n&&I.default.move(n,t)},handleDeclineCall:function(){A.default.stopRinging(this.props.channel.id)},handleAcceptWithAudio:function(){M.default.selectVoiceChannel(null,this.props.channel.id)},handleAcceptWithVideo:function(){var e=this.props.channel;M.default.selectVoiceChannel(null,e.id,!0),m.default.transitionToGuild(R.ME,e.id)}}),k=(0,l.default)({displayName:"IncomingCalls",mixins:[u.default.LazyStoreListenerMixin(C.default,T.default,S.default,g.default),d.default],getInitialState:function(){return r({ringingSound:(0,y.createSound)(500===f.default.random(1,1e3)?"call_ringing_beat":"call_ringing")},this.getStateFromStores())},getStateFromStores:function(){return{incomingCalls:C.default.getIncomingCalls(),ringing:C.default.hasIncomingCalls(),isFocused:S.default.isFocused(),disableSounds:T.default.disableSounds,theme:g.default.theme}},UNSAFE_componentWillUpdate:function(e,t){var n=t.ringing;this.state.ringing!==n&&(n?this.startRinging():this.stopRinging())},render:function(){var e=this.state,t=e.incomingCalls,n=e.isFocused,o=e.theme;return a(c.default,{component:"div",className:(0,s.default)("theme-"+o,P.default.container)},void 0,f.default.map(t,function(e){return i.createElement(U,r({key:e.channel.id,shouldAnimate:n},e))}))},startRinging:function(){this.state.disableSounds||N.default.isSoundDisabled("call_ringing")||this.state.ringingSound.loop()},stopRinging:function(){this.state.ringingSound.stop()}});t.default=k,e.exports=t.default},7203:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(6)),l=c(n(81)),s=c(n(189)),u=c(n(17)),d=n(0),f=c(n(5770));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=p(this,e.call.apply(e,[this].concat(r))),o.state={confirmed:!1},o.skipTheTips=function(){u.default.track(d.AnalyticEvents.DISMISS_ALL_TUTORIALS,{tutorial:o.props.tutorialId}),null!=o.props.onSkipAll&&o.props.onSkipAll(),s.default.close(o.props.popoutKey)},o.close=function(){o.setState({confirmed:!0},function(){return s.default.close(o.props.popoutKey)})},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u.default.track(d.AnalyticEvents.SHOW_TUTORIAL,{tutorial:this.props.tutorialId})},t.prototype.componentWillUnmount=function(){u.default.track(d.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:this.props.tutorialId,acknowledged:this.state.confirmed}),null!=this.props.onClose&&this.props.onClose(this.state.confirmed)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.body,o="string"==typeof n?a("p",{},void 0,n):n;return a("div",{className:f.default.tutorialPopout},void 0,a("header",{className:f.default.titleContent},void 0,a("div",{},void 0,t)),a("section",{},void 0,a("span",{className:f.default.content},void 0,o),a("div",{className:f.default.buttonArea},void 0,a("div",{className:f.default.skipTips},void 0,i.default.Messages.TUTORIAL_SKIP.format({onSkipClick:this.skipTheTips})),a(l.default,{className:f.default.button,onClick:this.close},void 0,i.default.Messages.TUTORIAL_CLOSE))))},t}(r.PureComponent);h.defaultProps={tutorialId:null,onClose:null,onSkipAll:null},h.displayName="TutorialPopout",t.default=h,e.exports=t.default},7204:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(3))),i=h(n(935)),l=h(n(25)),s=h(n(18)),u=h(n(13)),d=n(265),f=n(88),c=h(n(6063)),p=h(n(5771));function h(e){return e&&e.__esModule?e:{default:e}}var y=a("g",{fill:"none",fillRule:"evenodd"},void 0,a("path",{fill:"#D3D6ED",d:"M7.6003,3.7337 C7.6003,3.1817 7.1533,2.7337 6.6003,2.7337 C5.7663,2.7337 5.0903,2.0577 5.0903,1.2237 C5.0903,0.6717 4.6423,0.2237 4.0903,0.2237 C3.5383,0.2237 3.0903,0.6717 3.0903,1.2237 C3.0903,2.0577 2.4133,2.7337 1.5803,2.7337 C1.0283,2.7337 0.5803,3.1817 0.5803,3.7337 C0.5803,4.2857 1.0283,4.7337 1.5803,4.7337 C2.4133,4.7337 3.0903,5.4097 3.0903,6.2437 C3.0903,6.7967 3.5383,7.2437 4.0903,7.2437 C4.6423,7.2437 5.0903,6.7967 5.0903,6.2437 C5.0903,5.4097 5.7663,4.7337 6.6003,4.7337 C7.1533,4.7337 7.6003,4.2857 7.6003,3.7337"}),a("path",{fill:"#ACB0FF",d:"M96.6157,5.4263 C96.6157,4.8743 96.1687,4.4263 95.6157,4.4263 C95.0627,4.4263 94.6157,4.8743 94.6157,5.4263 C94.6157,6.2603 93.9397,6.9363 93.1057,6.9363 C92.5537,6.9363 92.1057,7.3843 92.1057,7.9363 C92.1057,8.4883 92.5537,8.9363 93.1057,8.9363 C93.9397,8.9363 94.6157,9.6123 94.6157,10.4463 C94.6157,10.9983 95.0627,11.4463 95.6157,11.4463 C96.1687,11.4463 96.6157,10.9983 96.6157,10.4463 C96.6157,9.6123 97.2917,8.9363 98.1257,8.9363 C98.6787,8.9363 99.1257,8.4883 99.1257,7.9363 C99.1257,7.3843 98.6787,6.9363 98.1257,6.9363 C97.2917,6.9363 96.6157,6.2603 96.6157,5.4263 Z"}),a("path",{fill:"#FFF",d:"M120.7351 14.0452L119.5511 15.2282C119.1611 15.6182 119.1611 16.2512 119.5511 16.6422 119.7471 16.8372 120.0031 16.9352 120.2581 16.9352 120.5141 16.9352 120.7701 16.8372 120.9651 16.6422L122.1491 15.4592C122.5401 15.0682 122.5401 14.4362 122.1491 14.0452 121.7581 13.6542 121.1261 13.6542 120.7351 14.0452zM113.635 21.1452C113.245 21.5352 113.245 22.1682 113.635 22.5592 113.831 22.7542 114.087 22.8522 114.342 22.8522 114.598 22.8522 114.855 22.7542 115.049 22.5592L116.233 21.3752C116.624 20.9842 116.624 20.3522 116.233 19.9612 115.842 19.5702 115.209 19.5702 114.819 19.9612L113.635 21.1452zM120.9655 19.9612C120.5745 19.5702 119.9425 19.5702 119.5515 19.9612 119.1605 20.3522 119.1605 20.9842 119.5515 21.3752L120.7355 22.5592C120.9305 22.7542 121.1865 22.8522 121.4425 22.8522 121.6975 22.8522 121.9535 22.7542 122.1495 22.5592 122.5395 22.1682 122.5395 21.5352 122.1495 21.1452L120.9655 19.9612zM115.0491 14.0449C114.6591 13.6549 114.0251 13.6549 113.6351 14.0449 113.2451 14.4359 113.2451 15.0689 113.6351 15.4589L114.8191 16.6419C115.0141 16.8369 115.2701 16.9349 115.5261 16.9349 115.7821 16.9349 116.0381 16.8369 116.2331 16.6419 116.6241 16.2509 116.6241 15.6189 116.2331 15.2279L115.0491 14.0449z"}),a("rect",{width:"40",height:"25",x:"68",y:"22",fill:"#999CF4",fillRule:"nonzero",rx:"3"}),a("path",{fill:"#999CF4",fillRule:"nonzero",d:"M90,46 L90,53.8100983 C90,54.362383 90.4477153,54.8100983 91,54.8100983 C91.2501917,54.8100983 91.4912948,54.7163131 91.6757246,54.5472524 L101,46 L90,46 Z",transform:"matrix(-1 0 0 1 191 0)"}),a("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(78 32)"},void 0,a("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),a("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),a("circle",{cx:"18.5",cy:"2.5",r:"2.5"})),a("rect",{width:"40",height:"25",x:"13",y:"9",fill:"#7289DA",fillRule:"nonzero",rx:"3"}),a("path",{fill:"#7289DA",fillRule:"nonzero",d:"M20,33 L20,40.8100983 C20,41.362383 20.4477153,41.8100983 21,41.8100983 C21.2501917,41.8100983 21.4912948,41.7163131 21.6757246,41.5472524 L31,33 L20,33 Z"}),a("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(23 19)"},void 0,a("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),a("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),a("circle",{cx:"18.5",cy:"2.5",r:"2.5"}))),m=function(e){var t=e.guild,n=e.channelAvatar,o=e.userAvatar,r=a(d.AvatarImage,{src:o,size:d.AvatarSizes.XLARGE}),i=null;return i=t?a(c.default,{guild:t}):n?a(d.AvatarImage,{src:n}):r,a("div",{className:p.default.container},void 0,a("div",{className:p.default.personAvatar},void 0,r),a("div",{className:p.default.guildAvatar},void 0,i),a("svg",{className:p.default.illustration,xmlns:"http://www.w3.org/2000/svg",width:"156",height:"70",viewBox:"0 0 123 55"},void 0,y))};m.displayName="Media";var v=r.default.connectStores([l.default,i.default,u.default],function(){var e=l.default.getGuild(i.default.getGuildId()),t=null;if(null==e){var n=i.default.getChannelId(null),o=s.default.getChannel(n);t=o&&o.getIconURL()}var a=u.default.getCurrentUser();return{guild:e,channelAvatar:t,userAvatar:a?a.getAvatarURL():f.DEFAULT_AVATARS[0]}})(m),E=a(v,{});t.default=function(){return E},e.exports=t.default},7205:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(3))),i=d(n(13)),l=n(265),s=n(88),u=d(n(5772));function d(e){return e&&e.__esModule?e:{default:e}}var f=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"177",height:"83",viewBox:"0 0 177 83"},void 0,a("g",{fill:"none",fillRule:"evenodd"},void 0,a("path",{fill:"#F6F6F7",d:"M176.723653 37.2763685C176.355191 36.9078772 175.75962 36.9078772 175.391158 37.2763685L174.276347 38.3912668C173.907884 38.7588157 173.907884 39.3553758 174.276347 39.7238671 174.460107 39.9076416 174.701351 40 174.942595 40 175.183839 40 175.425082 39.9076416 175.608842 39.7238671L176.723653 38.6089688C177.092116 38.2404775 177.092116 37.6448598 176.723653 37.2763685M169.391158 43.2762817L168.276347 44.391772C167.907884 44.7592055 167.907884 45.3555782 168.276347 45.7239538 168.460107 45.9076706 168.701351 46 168.942595 46 169.183839 46 169.425082 45.9076706 169.608842 45.7239538L170.723653 44.6084635C171.092116 44.2400879 171.092116 43.6446573 170.723653 43.2762817 170.355191 42.9079061 169.758678 42.9079061 169.391158 43.2762817M175.608842 43.2762817C175.24038 42.9079061 174.644809 42.9079061 174.276347 43.2762817 173.907884 43.6446573 173.907884 44.2400879 174.276347 44.6084635L175.391158 45.7239538C175.574918 45.9076706 175.816161 46 176.057405 46 176.298649 46 176.539893 45.9076706 176.723653 45.7239538 177.092116 45.3555782 177.092116 44.7592055 176.723653 44.391772L175.608842 43.2762817zM170.723653 38.3908877L169.608842 37.2757266C169.24038 36.9080911 168.642924 36.9080911 168.276347 37.2757266 167.907884 37.6443048 167.907884 38.2410055 168.276347 38.608641L169.391158 39.723802C169.574918 39.9076198 169.816161 40 170.057405 40 170.298649 40 170.539893 39.9076198 170.723653 39.723802 171.092116 39.3552239 171.092116 38.7594658 170.723653 38.3908877"}),a("path",{fill:"#ACB0FF",d:"M8.72365321 17.2763685C8.35519083 16.9078772 7.75961992 16.9078772 7.39115753 17.2763685L6.27634679 18.3912668C5.9078844 18.7588157 5.9078844 19.3553758 6.27634679 19.7238671 6.4601068 19.9076416 6.70135071 20 6.94259463 20 7.18383854 20 7.42508246 19.9076416 7.60884247 19.7238671L8.72365321 18.6089688C9.0921156 18.2404775 9.0921156 17.6448598 8.72365321 17.2763685M1.39115753 23.2762817L.276346788 24.391772C-.092115596 24.7592055-.092115596 25.3555782.276346788 25.7239538.460106801 25.9076706.701350715 26 .942594629 26 1.18383854 26 1.42508246 25.9076706 1.60884247 25.7239538L2.72365321 24.6084635C3.0921156 24.2400879 3.0921156 23.6446573 2.72365321 23.2762817 2.35519083 22.9079061 1.75867756 22.9079061 1.39115753 23.2762817M7.60884247 23.2762817C7.24038008 22.9079061 6.64480917 22.9079061 6.27634679 23.2762817 5.9078844 23.6446573 5.9078844 24.2400879 6.27634679 24.6084635L7.39115753 25.7239538C7.57491754 25.9076706 7.81616146 26 8.05740537 26 8.29864929 26 8.5398932 25.9076706 8.72365321 25.7239538 9.0921156 25.3555782 9.0921156 24.7592055 8.72365321 24.391772L7.60884247 23.2762817zM2.72365321 18.3908877L1.60884247 17.2757266C1.24038008 16.9080911.642924454 16.9080911.276346788 17.2757266-.092115596 17.6443048-.092115596 18.2410055.276346788 18.608641L1.39115753 19.723802C1.57491754 19.9076198 1.81616146 20 2.05740537 20 2.29864929 20 2.5398932 19.9076198 2.72365321 19.723802 3.0921156 19.3552239 3.0921156 18.7594658 2.72365321 18.3908877"}),a("path",{fill:"#D3D6ED",d:"M63.502849,0.997150997 C63.502849,1.82877493 62.8287749,2.502849 61.997151,2.502849 C61.4467236,2.502849 61,2.9485755 61,3.5 C61,4.05042735 61.4467236,4.497151 61.997151,4.497151 C62.8287749,4.497151 63.502849,5.17122507 63.502849,6.002849 C63.502849,6.55327635 63.9495726,7 64.5,7 C65.0504274,7 65.497151,6.55327635 65.497151,6.002849 C65.497151,5.17122507 66.1712251,4.497151 67.002849,4.497151 C67.5532764,4.497151 68,4.05042735 68,3.5 C68,2.9485755 67.5532764,2.502849 67.002849,2.502849 C66.1712251,2.502849 65.497151,1.82877493 65.497151,0.997150997 C65.497151,0.445726496 65.0504274,0 64.5,0 C63.9495726,0 63.502849,0.445726496 63.502849,0.997150997"}),a("g",{transform:"translate(81 43)"},void 0,a("mask",{id:"tooltip-voice-panel-b",fill:"#fff"},void 0,a("circle",{id:"tooltip-voice-panel-a",cx:"20",cy:"20",r:"20"})),a("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"20",cy:"20",r:"20"}),a("g",{mask:"url(#tooltip-voice-panel-b)"},void 0,a("g",{transform:"translate(-9 5)"},void 0,a("path",{fill:"#D8B39A",d:"M36.1044358,15.896 C37.5763769,17.368 40.071637,17.368 41.5442185,15.896 L45.8960441,11.544 C47.3679853,10.072 47.3679853,7.57599999 45.8960441,6.104 C44.424103,4.632 41.928203,4.632 40.4562619,6.104 L36.1044358,10.456 C34.6318547,11.928 34.6318547,14.36 36.1044358,15.896"}),a("path",{fill:"#F4D8C6",d:"M37.4090998,13.5909091 C37.9539601,14.1363636 38.9242842,14.1363636 39.4691445,13.5909091 L43.5904457,9.46969696 C44.1365181,8.92424243 44.1365181,7.95454546 43.5904457,7.40909089 C43.0455854,6.86363637 42.0752613,6.86363637 41.530401,7.40909089 L37.4090998,11.530303 C36.8636334,12.0757576 36.8636334,13.0454546 37.4090998,13.5909091"}),a("path",{fill:"#D8B39A",d:"M21.8530678,15.896 C20.3869324,17.368 17.9008764,17.368 16.434741,15.896 L12.1000796,11.544 C10.6333068,10.072 10.6333068,7.57599999 12.1000796,6.104 C13.5662151,4.632 16.0516336,4.632 17.5184064,6.104 L21.8530678,10.456 C23.3823107,11.928 23.3823107,14.36 21.8530678,15.896"}),a("path",{fill:"#F4D8C6",d:"M19.5913636,13.5909091 C19.045909,14.1363636 18.0762122,14.1363636 17.5307577,13.5909091 L13.4095454,9.46969696 C12.8634849,8.92424243 12.8634849,7.95454546 13.4095454,7.40909089 C13.955,6.86363637 14.9246968,6.86363637 15.4701514,7.40909089 L19.5913636,11.530303 C20.1362121,12.0757576 20.1362121,13.0454546 19.5913636,13.5909091"}),a("path",{fill:"#D8B39A",d:"M48.5371708,20.2892322 C47.65102,11.9234177 41.3897756,5.31932388 33.3568625,3.68465342 C34.115878,2.99279598 34.7483908,2.11225014 35.1278984,1.23107533 C35.4441548,0.41405459 34.3682503,-0.341327953 33.6731189,0.162470058 C32.7243497,0.791431376 31.8381993,1.54555599 30.8894297,2.11225013 L30.5105546,2.30093853 C30.7003086,1.98645788 30.8894297,1.67197722 31.0798162,1.42039269 C31.3960726,0.854327488 30.5731734,0.162470032 30.131047,0.665639087 C29.0557751,1.92356171 27.7907496,2.67831529 26.46184,3.37017273 C17.1012825,3.68465339 9.38399329,10.7919163 8.30935384,20.0376476 L0.0866870745,91.2360686 C-0.672328476,97.650845 3.62875889,103.625978 10.0165061,105.009692 L10.9652752,105.198381 C22.6041443,107.651959 34.5586368,107.589063 46.1336218,105.073217 C52.3322478,103.689503 56.5700836,97.9030586 55.9375709,91.5505492 L48.5371708,20.2892322 Z"}),a("path",{fill:"#4F5256",fillRule:"nonzero",d:"M39.7115026,12 C40.9752615,12 42,13.0074764 42,14.2499473 C42,15.4924181 40.9752615,16.4998945 39.7115026,16.4998945 C38.4477436,16.4998945 37.4223695,15.4924181 37.4223695,14.2499473 C37.4223695,13.0074764 38.4477436,12 39.7115026,12 M18.2884974,12 C19.5522564,12 20.5769945,13.0074764 20.5769945,14.2499473 C20.5769945,15.4924181 19.5522564,16.4998945 18.2884974,16.4998945 C17.0247381,16.4998945 16,15.4924181 16,14.2499473 C16,13.0074764 17.0247381,12 18.2884974,12 M25.4083941,20 C24.9634083,20 24.6455615,19.6875073 24.6455615,19.2500176 C24.6455615,18.8125279 24.9634083,18.5000351 25.4083941,18.5000351 C27.8240301,18.5000351 28.2048105,15.9375952 28.2048105,15.8750967 C28.2690159,15.4376069 28.650432,15.1876128 29.0318481,15.2501113 C29.4761982,15.3126099 29.7311114,15.6876011 29.6675417,16.0625923 C29.5404032,17.4375601 28.3961545,20 25.4083941,20"}),a("path",{fill:"#4F5256",d:"M32.3049914,20 C29.3354086,20 28.1981215,17.3071689 28.0079418,15.862235 C27.945391,15.4024834 28.2613041,15.0084105 28.6397678,15.0084105 C29.0820463,14.9427318 29.4617737,15.2711258 29.4617737,15.6651987 C29.5249562,15.9279139 29.9034204,18.4237086 32.2411771,18.4237086 C32.684087,18.4237086 33,18.7521027 33,19.2118543 C33,19.671606 32.7466377,20 32.3049914,20"}),a("path",{fill:"#F4D8C6",d:"M13.37646,39.9181074 L7.06217175,91.8413751 C6.49951238,96.7954065 9.81295095,101.436519 14.689332,102.43924 L15.4395442,102.627368 C24.3170584,104.508646 33.5071615,104.445936 42.3840506,102.501949 C47.1985392,101.436519 50.4494597,96.920825 49.949318,92.0301299 L44.2595816,40.1062354 C43.5725121,32.6438334 37.3207415,27 29.8186169,27 L27.8180503,27 C20.4409609,27 14.2510827,32.5811242 13.37646,39.9181074"}),a("path",{fill:"#4F5256",d:"M27.5485698,14 C27.0827688,14 26.8155495,14.516129 27.1487406,14.9032258 C27.6158747,15.483871 28.2822568,16 29.0146107,16 C29.7482977,16 30.4146799,15.483871 30.8804808,14.9032258 C31.1470338,14.5806452 30.9477857,14 30.4806516,14 L27.5485698,14 Z"})))),a("g",{transform:"translate(114 16)"},void 0,a("mask",{id:"tooltip-voice-panel-d",fill:"#fff"},void 0,a("circle",{id:"tooltip-voice-panel-c",cx:"12",cy:"12",r:"12"})),a("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"12",cy:"12",r:"12"}),a("g",{mask:"url(#tooltip-voice-panel-d)"},void 0,a("g",{transform:"translate(2)"},void 0,a("path",{fill:"#A38069",d:"M2.719586,9.57393518 C2.50247994,9.57393518 2.32879504,9.74759964 2.32879504,9.96468008 L2.32879504,41.5286221 C2.32879504,41.7457026 2.50247994,41.9189328 2.719586,41.9189328 C2.93669206,41.9189328 3.11037696,41.7457026 3.11037696,41.5286221 L3.11037696,9.96468008 C3.11037696,9.74759964 2.93669206,9.57393518 2.719586,9.57393518"}),a("path",{fill:"#FF966C",d:"M2.3881669,11.1338325 L0.694739334,9.44060439 C0.434212116,9.18010796 -7.08988424e-13,9.35377216 -7.08988424e-13,9.70110108 L-7.08988424e-13,10.6562553 C-7.08988424e-13,10.7430876 -7.08988424e-13,10.7865038 0.0434211599,10.8299198 L0.781581913,12.1758189 L-7.01634164e-13,11.5679936 L-7.01634164e-13,12.3494834 C-7.01634164e-13,12.5665641 0.0868423197,12.7402283 0.217106058,12.9138927 L2.34474574,15.041282 L2.34474574,11.1338325 L2.3881669,11.1338325 Z"}),a("path",{fill:"#D8B39A",d:"M0.910073179,44.5285653 L7.2495708,44.5285653 C7.5969406,44.5285653 7.90088897,44.2250868 7.90088897,43.8773237 L7.90088897,15.9177869 C7.90088897,15.5700238 7.5969406,15.2665453 7.2495708,15.2665453 L0.910073179,15.2665453 C0.562703383,15.2665453 0.258755005,15.5700238 0.258755005,15.9177869 L0.258755005,43.8773237 C0.258755005,44.2250868 0.562703383,44.5285653 0.910073179,44.5285653"}),a("polyline",{fill:"#A38069",points:".259 23.451 7.901 23.451 7.901 18.372 .259 18.372"}),a("polyline",{fill:"#937260",points:".259 21.701 7.901 21.701 7.901 20.442 .259 20.442"}),a("path",{fill:"#8FD171",d:"M2.32879504,42.4918014 L20.565706,42.4918014 L19.5235969,25.2985899 C19.3933331,22.9979707 17.4827995,21.2179104 15.1814752,21.2179104 L6.88802278,21.2179104 C5.06433174,21.2179104 3.54458907,22.6506418 3.41432533,24.4741181 L2.32879504,42.4918014 Z"}),a("path",{fill:"#E5D5C7",d:"M11.6129601,23.7344273 C12.611648,23.7344273 13.3498088,22.9529375 13.3498088,21.9977832 L13.3498088,16.7444346 C13.3498088,15.7892803 12.5682269,15.0077903 11.6129601,15.0077903 L11.5695389,15.0077903 C10.6142721,15.0077903 9.83269019,15.7892803 9.83269019,16.7444346 L9.83269019,21.9977832 C9.91953251,22.9529375 10.7011144,23.7344273 11.6129601,23.7344273"}),a("path",{fill:"#F9E2CF",d:"M11.6900548,19.6952366 L12.4716367,19.6952366 C16.2058614,19.6952366 19.2453465,16.6561094 19.2453465,12.9223244 L19.2453465,5.36792234 C19.2453465,3.67469427 17.8992887,2.32879504 16.2058614,2.32879504 L7.95583016,2.32879504 C6.30582402,2.32879504 4.91634509,3.67469427 4.91634509,5.36792234 L4.91634509,12.9223244 C4.91634509,16.6561094 7.95583016,19.6952366 11.6900548,19.6952366"}),a("path",{fill:"#4F5256",d:"M17.4287445,9.83269019 C17.9081148,9.83269019 18.297169,10.2212644 18.297169,10.7010122 C18.297169,11.1803261 17.9081148,11.5693345 17.4287445,11.5693345 C16.9493745,11.5693345 16.5603203,11.1803261 16.5603203,10.7010122 C16.5603203,10.2212644 16.9493745,9.83269019 17.4287445,9.83269019"}),a("path",{fill:"#FFC44D",d:"M7.44718174,1.77635684e-15 L19.3011739,1.77635684e-15 C20.9946012,1.77635684e-15 22.3840801,1.38931534 22.3840801,3.08254341 C22.3840801,4.77577147 20.9946012,6.16508681 19.3011739,6.16508681 L8.61955461,6.16508681 C7.40376058,6.16508681 6.44849377,7.12024106 6.44849377,8.335892 L6.44849377,14.978556 C6.44849377,15.7600458 5.92743907,16.4981196 5.14585716,16.6717841 C4.06032687,16.8888645 3.10506006,16.0639585 3.10506006,15.021972 L3.10506006,4.34161043 C3.10506006,1.9537247 5.05901484,1.77635684e-15 7.44718174,1.77635684e-15"}),a("path",{fill:"#4F5256",d:"M10.9598697,9.83269019 C11.4392397,9.83269019 11.8282939,10.2212644 11.8282939,10.7010122 C11.8282939,11.1803261 11.4392397,11.5693345 10.9598697,11.5693345 C10.4804994,11.5693345 10.0914452,11.1803261 10.0914452,10.7010122 C10.0914452,10.2212644 10.4804994,9.83269019 10.9598697,9.83269019"}),a("path",{fill:"#F9E2CF",d:"M6.31950461,9.83269019 L5.7116076,9.83269019 C4.79976194,9.83269019 3.97475887,10.4839318 3.88791629,11.39567 C3.80107397,12.4376565 4.58265589,13.3059785 5.62476502,13.3059785 L6.31950461,13.3059785 C6.58003183,13.3059785 6.75371673,13.1323141 6.75371673,12.8718177 L6.75371673,10.2668513 C6.75371673,10.0497709 6.58003183,9.83269019 6.31950461,9.83269019"}),a("path",{fill:"#E5D5C7",d:"M6.95182555,10.8677102 L6.3873497,10.8677102 C5.99655874,10.8677102 5.69261011,11.1716229 5.69261011,11.5623678 C5.69261011,11.9531127 5.99655874,12.2570253 6.3873497,12.2570253 L6.95182555,12.2570253 L6.95182555,10.8677102 Z"}),a("path",{fill:"#FFC44D",fillRule:"nonzero",d:"M9.36214602,8.84979429 L11.6634703,8.84979429 C11.967419,8.84979429 12.2279462,8.58929787 12.2279462,8.28538494 L12.2279462,8.15513672 C12.2279462,7.85122405 11.967419,7.59072737 11.6634703,7.59072737 L9.36214602,7.59072737 C9.05819738,7.59072737 8.79767017,7.85122405 8.79767017,8.15513672 L8.79767017,8.24196895 C8.79767017,8.58929787 9.05819738,8.84979429 9.36214602,8.84979429 M17.4817831,8.84979429 L18.7409986,8.84979429 C19.0015258,8.84979429 19.2186318,8.63271385 19.2186318,8.37221717 L19.2186318,7.98147227 C19.2186318,7.72097558 19.0015258,7.50389514 18.7409986,7.50389514 L17.4817831,7.50389514 C17.2212559,7.50389514 17.0041498,7.72097558 17.0041498,7.98147227 L17.0041498,8.37221717 C17.047571,8.63271385 17.2212559,8.84979429 17.4817831,8.84979429"}),a("path",{fill:"#4F5256",d:"M3.28721536,36.8511912 L3.37405794,36.8511912 C16.3570016,34.1598269 16.9648986,21.2652439 16.9648986,21.1345613 C16.9648986,20.8740648 16.7912137,20.7004004 16.5306865,20.7004004 C16.3135804,20.7004004 16.0964743,20.8740648 16.0964743,21.1345613 C16.0964743,21.6555546 15.5319985,33.5085853 3.20037304,36.0267194 C2.98326698,36.0697012 2.80958209,36.2867819 2.85300325,36.5477125 C2.89642441,36.7209428 3.0701093,36.8511912 3.28721536,36.8511912"}),a("path",{fill:"#FFF",d:"M14.3688781,15.0234649 C15.0201963,15.0234649 15.541251,14.5024715 15.541251,13.8512299 C15.541251,13.1999884 15.0201963,12.6789952 14.3688781,12.6789952 C13.7175599,12.6789952 13.1965052,13.1999884 13.1965052,13.8512299 C13.1965052,14.5024715 13.7175599,15.0234649 14.3688781,15.0234649"})))),a("g",{transform:"translate(132 43)"},void 0,a("mask",{id:"tooltip-voice-panel-f",fill:"#fff"},void 0,a("circle",{id:"tooltip-voice-panel-e",cx:"15",cy:"15",r:"15"})),a("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"15",cy:"15",r:"15"}),a("g",{mask:"url(#tooltip-voice-panel-f)"},void 0,a("g",{transform:"translate(-4 -9)"},void 0,a("path",{fill:"#495672",d:"M18.8037601,4.97695346 L12.7382853,8.66539356 C11.5979688,9.36492532 10.1568106,8.91976873 9.49627954,7.77508042 L9.31553454,7.45711145 C8.6556039,6.24882934 9.0759419,4.72257829 10.1568106,4.02304654 L16.2210845,0.334606435 C17.3626019,-0.364925316 18.8037601,0.0802312735 19.4642912,1.22491958 L19.6438353,1.54288855 C20.365015,2.75117066 19.9440765,4.34101551 18.8037601,4.97695346"}),a("path",{fill:"#4F5256",d:"M19,39 C24.4999999,39 29,34.5243244 29,29.0540543 L29,23.4594595 C29,19.356757 25.6249999,16 21.5000001,16 L16.4999999,16 C12.3743751,16 9,19.356757 9,23.4594595 L9,29.0540543 C9,34.5243244 13.5000001,39 19,39"}),a("path",{fill:"#EBEFFC",fillRule:"nonzero",d:"M26.7039394,25.0000025 C27.4182921,24.9985029 27.9987038,25.6690013 27.9999978,26.4977501 C28.0012919,27.3257483 27.4228213,27.9984974 26.7084689,27.9999975 C25.9934691,28.0014976 25.4130575,27.3309987 25.4117634,26.503 C25.4104694,25.6742517 25.9895866,25.0015026 26.7039394,25.0000025 M18.2921781,25.0000025 C19.0065305,24.9985029 19.5869421,25.6690013 19.5882362,26.4977501 C19.5895302,27.3257483 19.01106,27.9984974 18.2967073,27.9999975 C17.5817075,28.0014976 17.0012962,27.3309987 17.0000022,26.5022499 C16.9987077,25.6742517 17.5778253,25.0015026 18.2921781,25.0000025"}),a("path",{fill:"#5D6989",d:"M18.9362105,0 C17.4210526,0 16.0309473,0.862170099 15.3993684,2.27859238 L7,21 L31,20.9384162 L22.5362107,2.27859238 C21.8421051,0.92375369 20.4519998,5.21582512e-15 18.9362105,5.21582512e-15"}),a("path",{fill:"#495672",fillRule:"nonzero",d:"M9.7162639,16.0601818 L7,21.9861096 L31,21.9255674 L28.2841125,16 M9.08467853,29 L11.7366836,29 C11.8004735,28.879068 11.8629999,28.8186022 11.8629999,28.6372041 L11.8629999,25.0092462 C11.8629999,24.6464507 11.6109993,24.4045868 11.2314194,24.4045868 L10.3478387,24.4045868 C9.02088905,24.4045868 7.82151834,25.3115763 7.6952021,26.5813613 C7.63141261,27.6697489 8.20046632,28.5767383 9.08467853,29"}),a("path",{fill:"#FFF24A",d:"M22.0812225,14.9629012 C21.3470286,14.1979998 20.9793194,13.3693566 20.7352001,12.4769717 C20.6128342,12.0307792 20.0615768,11.8395538 19.6950916,12.1582627 C18.1043373,13.7518073 17.4925089,16.2377368 18.4714343,18.532441 C19.5115429,21.0821123 22.2029766,22.4844314 24.7726563,21.8470135 C27.0976045,21.2733375 28.6889705,19.2973423 28.9948847,17.0026382 C29.0554557,16.4927039 28.566605,16.1102533 28.137713,16.3014786 C27.3429477,16.6201875 26.485776,16.8114128 25.4462793,16.6201875 C24.1608278,16.5564457 22.9989656,15.9190279 22.0812225,14.9629012"}),a("path",{fill:"#5D6989",fillRule:"nonzero",d:"M31.7916208,23.5208431 L5.45941283,23.5838644 C4.76913299,23.5838644 4.20549831,23.0166747 4.20549831,22.3234428 C4.20549831,21.6302106 4.76913299,21.0630209 5.45941283,21.0630209 L31.7916208,21 C32.4812741,21 33.0455357,21.5671897 33.0455357,22.2604216 C33.0455357,22.9536534 32.4812741,23.5208431 31.7916208,23.5208431 Z M35.7413266,89 C36.4936755,89 37.0579371,88.3061379 36.9952415,87.550515 L30.9137551,41.1039772 C30.4748851,38.0159444 27.8416644,35.6841644 24.7068777,35.6841644 L11.8542523,35.6841644 C8.65677001,35.6841644 6.02354891,38.0789653 5.64737463,41.2300194 L0.0047585194,87.550515 C-0.0579371321,88.3061379 0.506324479,88.9363488 1.25867342,88.9363488 L35.7413266,88.9363488 L35.7413266,89 Z"}),a("path",{fill:"#495672",d:"M27.8662395,61.7493215 C27.9911638,61.0614484 28.1801201,60.3735752 28.5567768,59.7482358 C29.0583582,58.872761 29.498419,57.9972858 30,57.121811 C17.4447739,54.5579199 15.3110134,43.1767452 15.2476096,42.6139399 C14.9971327,40.9255237 13.3643255,39.7373793 11.66937,40.0500489 C9.97504215,40.3001846 8.78229574,41.9260667 9.03340031,43.6144826 C9.97504215,49.4301379 14.9971327,59.8733037 27.5523589,63 C27.6151349,62.5622626 27.7406874,62.1245252 27.8662395,61.7493215"}),a("path",{fill:"#5D6989",d:"M28.7565605,30 L26.3684234,30 C25.7560802,30 25.2662061,30.4549333 25.1437373,31.1048373 L24.4089261,35.8491387 L22.4494287,35.8491387 L21.9595543,31.169828 C21.8983201,30.5199235 21.3472115,30 20.7348686,30 L9.22282158,30 C8.24307311,30 7.69196447,31.169828 8.18183889,32.0147035 L11.8558963,38.0588133 L19.142777,41.3083347 C19.0815427,42.3481813 20.1225254,43.2580475 21.1022743,42.9330951 C22.0207885,42.6081431 22.694366,42.0882196 23.18424,41.243344 C23.3067088,40.9833823 23.367943,40.7234209 23.367943,40.4634591 L27.9605147,38.0588133 L29.920012,31.7547418 C30.2261834,30.8448756 29.6138406,30 28.7565605,30"}),a("path",{fill:"#495672",d:"M8.62857135,35 L29.3714283,35 C29.7491999,35 30,35.2666664 30,35.6666665 L30,36.3333335 C30,36.7333336 29.7491999,37 29.3714283,37 L8.62857135,37 C8.25142862,37 8,36.7333336 8,36.3333335 L8,35.6666665 C8,35.2666664 8.31428568,35 8.62857135,35"})))),a("g",{transform:"translate(74 6)"},void 0,a("mask",{id:"tooltip-voice-panel-h",fill:"#fff"},void 0,a("circle",{id:"tooltip-voice-panel-g",cx:"15",cy:"15",r:"15"})),a("circle",{fill:"#4e5d94",fillRule:"nonzero",id:"tooltip-voice-panel-g",cx:"15",cy:"15",r:"15"}),a("g",{mask:"url(#tooltip-voice-panel-h)"},void 0,a("g",{transform:"translate(1)"},void 0,a("path",{fill:"#5C8F9E",d:"M10.8000001,28 L9,28 C5.70000004,28 3,30.5961539 3,33.7692307 L3,35.8461539 C3,36.4807693 3.54000001,37 4.20000021,37 L12,37 L12,29.1538461 C12,28.5192307 11.46,28 10.8000001,28"}),a("path",{fill:"#E5D5C7",d:"M15.9753085,33 C14.839506,33 14,31.9199998 14,30.5999999 L14,23.4000001 C14,22.0799999 14.888889,21 15.9753085,21 L16.0246915,21 C17.111111,21 18,22.0799999 18,23.4000001 L18,30.66 C17.9506173,31.9199998 17.0617284,33 15.9753085,33"}),a("path",{fill:"#5C8F9E",d:"M6.21666659,27 C4.99166678,27 4,26.04375 4,24.8624999 L4,9 L11,9 L8.37499991,25.1999999 C8.20000014,26.26875 7.26666662,27 6.21666659,27"}),a("path",{fill:"#F9E2CF",d:"M16.5454547,27 L15.4545456,27 C10.2424244,27 6,22.7999998 6,17.6399999 L6,9.59999997 C6,5.94000001 9.03030301,3 12.6666669,3 L19.3333335,3 C22.969697,3 26,5.94000001 26,9.59999997 L26,17.6399999 C26,22.7999998 21.7575756,27 16.5454547,27"}),a("path",{fill:"#80B1C7",d:"M29,8.21739129 L29,24.7695651 C29,26.0021739 27.9744779,27 26.7076564,27 L24.2946636,27 C23.1484917,27 22.2436194,26.1782607 22.0626451,25.1217391 L20.1322504,13.147826 C19.9512761,12.0326087 18.925754,11.1521739 17.7192576,11.1521739 L3,11.1521739 L3,8.21739129 C3,3.69782608 6.80046408,0 11.4454757,0 L20.4941996,0 C25.1995359,0 29,3.69782608 29,8.21739129"}),a("path",{fill:"#E5D5C7",d:"M14.2051284,17 L10.7948716,17 C9.7777775,17 9,16.1860465 9,15.255814 L9,13.7441861 C9,12.755814 9.7777775,12 10.7948716,12 L14.2051284,12 C15.2222221,12 16,12.755814 16,13.7441861 L16,15.255814 C16,16.244186 15.1623932,17 14.2051284,17"}),a("path",{fill:"#A2C9D6",d:"M26,16 L4.16751289,16 C3.52538072,16 3,15.4508087 3,14.7795749 L3,10.6301294 C3,8.49438551 4.05076143,6.54170531 5.74365504,5.44332271 L9.24619302,3.18553623 C9.53807116,3.00247249 9.88832485,2.94145122 10.180203,3.06349373 L21.7969543,6.54170531 C24.3071064,7.27396041 26,9.71481062 26,12.3997459 L26,16 Z"}),a("path",{fill:"#B2DBE8",d:"M25,13 C26.6565997,13 28,14.3434 28,16 C28,17.6572 26.6565997,19 25,19 C23.3428,19 22,17.6572 22,16 C22,14.3434 23.3428,13 25,13"}),a("path",{fill:"#80B1C7",d:"M25.5000002,14 C26.3279999,14 27,14.672 27,15.5 C27,16.32875 26.3279999,17 25.5000002,17 C24.6720001,17 24,16.32875 24,15.5 C24,14.672 24.6720001,14 25.5000002,14"}),a("path",{fill:"#FFF",d:"M14.0435392,21 L10.9514208,21 C10.4162465,21 10,20.5625001 10,20.0000001 C10,19.4375002 10.4162465,19 10.9514208,19 L14.0435392,19 C14.5787135,19 14.9949599,19.4375002 14.9949599,20.0000001 C15.0544237,20.5625001 14.5787135,21 14.0435392,21"}),a("path",{fill:"#80B1C7",fillRule:"nonzero",d:"M4.73758608,15 C4.34042422,15 4,14.6307692 4,14.2 L4,9.64615387 C4,9.21538461 4.34042422,8.84615387 4.73758608,8.84615387 C5.13474761,8.84615387 5.47517216,9.21538461 5.47517216,9.64615387 L5.47517216,14.2 C5.41843485,14.6307692 5.13474761,15 4.73758608,15 M7.63124956,15 C7.23408769,15 6.89366348,14.6307692 6.89366348,14.2 L6.89366348,7.8 C6.89366348,7.36923078 7.23408769,7 7.63124956,7 C8.02841109,7 8.36883564,7.36923078 8.36883564,7.8 L8.36883564,14.2 C8.36883564,14.6307692 8.02841109,15 7.63124956,15 M10.5246294,15 C10.1274675,15 9.78704328,14.6307692 9.78704328,14.2 L9.78704328,7.8 C9.78704328,7.36923078 10.1274675,7 10.5246294,7 C10.9217909,7 11.2622154,7.36923078 11.2622154,7.8 L11.2622154,14.2 C11.2622154,14.6307692 10.9217909,15 10.5246294,15 M13.4182928,15 C13.021131,15 12.6807068,14.6307692 12.6807068,14.2 L12.6807068,9.03076922 C12.6807068,8.6 13.021131,8.23076922 13.4182928,8.23076922 C13.8154544,8.23076922 14.1558789,8.6 14.1558789,9.03076922 L14.1558789,14.2 C14.1558789,14.6307692 13.8154544,15 13.4182928,15 M16.3687504,15 C15.9715886,15 15.6311644,14.6307692 15.6311644,14.2 L15.6311644,9.64615387 C15.6311644,9.21538461 15.9715886,8.84615387 16.3687504,8.84615387 C16.765912,8.84615387 17.1063365,9.21538461 17.1063365,9.64615387 L17.1063365,14.2 C17.0495989,14.6307692 16.765912,15 16.3687504,15 M19.2624139,15 C18.8652521,15 18.5248278,14.6307692 18.5248278,14.2 L18.5248278,10.8769231 C18.5248278,10.4461539 18.8652521,10.0769231 19.2624139,10.0769231 C19.6595754,10.0769231 20,10.4461539 20,10.8769231 L20,14.2 C20,14.6307692 19.6595754,15 19.2624139,15"}),a("path",{fill:"#A2C9D6",d:"M28.3999997,58.0901014 L16.0399998,64.8525333 C15.62,65.0843056 15.08,65.0259292 14.7199998,64.7953129 L5.48000009,58.0901014 C5.18000012,57.8594852 5,57.512116 5,57.1653246 L5,35.7798562 C5,32.6009354 7.70000004,30 11,30 L23,30 C26.3,30 29,32.6009354 29,35.7798562 L29,57.0497274 C29,57.512116 28.76,57.8594852 28.3999997,58.0901014"}),a("path",{fill:"#80B1C7",d:"M2.91125019,62 C2.21592543,62 1.57854406,61.7622661 0.999106569,61.2867982 C-0.217712152,60.2169959 -0.333599636,58.3151248 0.709387824,57.0670221 L23.8868874,30.0247935 C24.9298749,28.7766905 26.7840749,28.6578236 28.0008934,29.7276259 C29.2177122,30.7974286 29.3335996,32.6992994 28.2906121,33.9474023 L5.11311287,60.989631 C4.53367511,61.7028328 3.72246265,62 2.91125019,62"}),a("path",{fill:"#5C8F9E",fillRule:"nonzero",d:"M14.5420405,41.907808 L12,44.8522698 C13.4779305,46.1751438 14.8967438,47.5569193 16.2564399,49 L18.9167151,45.8746273 C17.4979018,44.5517533 16.019971,43.2294803 14.5420405,41.907808 M26.6610717,38.1211187 L20.9858181,33.5532663 C20.2172941,32.952233 20.0990598,31.8102698 20.690232,31.0289267 L21.3996385,30.0672737 C23.2322725,27.7232442 26.542837,27.302521 28.848409,29.1657239 L28.9666433,29.2859305 C31.2722152,31.1491333 31.6860356,34.5149193 29.8534019,36.8589488 L29.1439951,37.8206018 C28.5528229,38.601945 27.4295957,38.7221517 26.6610717,38.1211187"}),a("path",{fill:"#5C8F9E",d:"M21.4135821,45.8841771 L15.9520674,52.2048348 C15.0897227,53.1685849 13.6524821,53.2889781 12.6751582,52.3860273 L11.1804277,51.0009001 C10.9504691,50.7607151 10.9504691,50.3989325 11.1229382,50.1587475 L18.9415281,41.1888313 C19.1714867,40.9480443 19.5164243,40.9480443 19.7463829,41.1292364 L21.2411134,42.5131596 C22.1609474,43.3565158 22.2759268,44.9210291 21.4135821,45.8841771"})))))),c=function(e){var t=e.userAvatar;return a("div",{className:u.default.container},void 0,a("div",{className:u.default.avatar},void 0,a(l.AvatarImage,{src:t,size:l.AvatarSizes.XLARGE})),f)};c.displayName="Media";var p=r.default.connectStores([i.default],function(){var e=i.default.getCurrentUser();return{userAvatar:e?e.getAvatarURL():s.DEFAULT_AVATARS[0]}})(c),h=a(p,{});t.default=function(){return h},e.exports=t.default},7206:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"211",height:"80",viewBox:"0 0 148 56"},void 0,a("g",{fill:"none",fillRule:"evenodd"},void 0,a("path",{fill:"#ACB0FF",d:"M4.51,26 C4.51,25.448 4.063,25 3.51,25 C2.957,25 2.51,25.448 2.51,26 C2.51,26.834 1.834,27.51 1,27.51 C0.448,27.51 0,27.958 0,28.51 C0,29.062 0.448,29.51 1,29.51 C1.834,29.51 2.51,30.186 2.51,31.02 C2.51,31.572 2.957,32.02 3.51,32.02 C4.063,32.02 4.51,31.572 4.51,31.02 C4.51,30.186 5.186,29.51 6.02,29.51 C6.573,29.51 7.02,29.062 7.02,28.51 C7.02,27.958 6.573,27.51 6.02,27.51 C5.186,27.51 4.51,26.834 4.51,26 Z"}),a("path",{fill:"#D3D6ED",d:"M148.02,36.51 C148.02,35.958 147.573,35.51 147.02,35.51 C146.186,35.51 145.51,34.834 145.51,34 C145.51,33.448 145.062,33 144.51,33 C143.958,33 143.51,33.448 143.51,34 C143.51,34.834 142.833,35.51 142,35.51 C141.448,35.51 141,35.958 141,36.51 C141,37.062 141.448,37.51 142,37.51 C142.833,37.51 143.51,38.186 143.51,39.02 C143.51,39.573 143.958,40.02 144.51,40.02 C145.062,40.02 145.51,39.573 145.51,39.02 C145.51,38.186 146.186,37.51 147.02,37.51 C147.573,37.51 148.02,37.062 148.02,36.51"}),a("path",{fill:"#FFF",d:"M127.7351 16.0452L126.5511 17.2282C126.1611 17.6182 126.1611 18.2512 126.5511 18.6422 126.7471 18.8372 127.0031 18.9352 127.2581 18.9352 127.5141 18.9352 127.7701 18.8372 127.9651 18.6422L129.1491 17.4592C129.5401 17.0682 129.5401 16.4362 129.1491 16.0452 128.7581 15.6542 128.1261 15.6542 127.7351 16.0452zM120.635 23.1452C120.245 23.5352 120.245 24.1682 120.635 24.5592 120.831 24.7542 121.087 24.8522 121.342 24.8522 121.598 24.8522 121.855 24.7542 122.049 24.5592L123.233 23.3752C123.624 22.9842 123.624 22.3522 123.233 21.9612 122.842 21.5702 122.209 21.5702 121.819 21.9612L120.635 23.1452zM127.9655 21.9612C127.5745 21.5702 126.9425 21.5702 126.5515 21.9612 126.1605 22.3522 126.1605 22.9842 126.5515 23.3752L127.7355 24.5592C127.9305 24.7542 128.1865 24.8522 128.4425 24.8522 128.6975 24.8522 128.9535 24.7542 129.1495 24.5592 129.5395 24.1682 129.5395 23.5352 129.1495 23.1452L127.9655 21.9612zM122.0491 16.0449C121.6591 15.6549 121.0251 15.6549 120.6351 16.0449 120.2451 16.4359 120.2451 17.0689 120.6351 17.4589L121.8191 18.6419C122.0141 18.8369 122.2701 18.9349 122.5261 18.9349 122.7821 18.9349 123.0381 18.8369 123.2331 18.6419 123.6241 18.2509 123.6241 17.6189 123.2331 17.2279L122.0491 16.0449z"}),a("circle",{cx:"114.5",cy:"42.5",r:"2.5",stroke:"#7289DA",strokeWidth:"1.5"}),a("polygon",{fill:"#FFF",points:"24 38 20 46 28 46"}),a("circle",{cx:"32.5",cy:"18.5",r:"3.5",fill:"#7289DA",fillRule:"nonzero"}),a("circle",{cx:"74",cy:"28",r:"28",fill:"#7289DA",fillRule:"nonzero"}),a("path",{fill:"#FFF",fillRule:"evenodd",d:"M77.6666667,11.5 L77.6666667,15.2766667 C82.965,16.8533333 86.8333333,21.7666667 86.8333333,27.5783333 C86.8333333,33.39 82.965,38.285 77.6666667,39.8616667 L77.6666667,43.6566667 C85,41.9883333 90.5,35.425 90.5,27.5783333 C90.5,19.7316667 85,13.1683333 77.6666667,11.5 L77.6666667,11.5 Z M82.25,27.5783333 C82.25,24.3333333 80.4166667,21.5466667 77.6666667,20.19 L77.6666667,34.9116667 C80.4166667,33.61 82.25,30.805 82.25,27.5783333 L82.25,27.5783333 Z M57.5,22.0783333 L57.5,33.0783333 L64.8333333,33.0783333 L74,42.245 L74,12.9116667 L64.8333333,22.0783333 L57.5,22.0783333 L57.5,22.0783333 Z"})));t.default=function(){return r},e.exports=t.default},7207:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=a("svg",{width:"136px",height:"94px",viewBox:"0 0 136 94",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},void 0,a("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},void 0,a("g",{},void 0,a("path",{d:"M22.6507711,19.9383039 L52,9 L52,79.5700344 L23.3283853,89.5381662 C22.8067282,89.7195284 22.2368184,89.4436649 22.0554562,88.9220077 C22.0187453,88.8164152 22,88.7054144 22,88.5936224 L22,20.8753413 C22,20.4577565 22.2594785,20.0841366 22.6507711,19.9383039 Z",fill:"#ACB0FF",fillRule:"nonzero"}),a("path",{d:"M82,20.9781002 L110.615994,9.07693055 C111.125935,8.86484988 111.71125,9.10631372 111.923331,9.61625512 C111.973944,9.73795364 112,9.86845729 112,10.0002611 L112,78.3708885 C112,78.7914204 111.736901,79.1670193 111.341678,79.3107057 L82,89.9781002 L82,20.9781002 Z",fill:"#ACB0FF",fillRule:"nonzero"}),a("polygon",{fill:"#989CEA",fillRule:"nonzero",points:"52 9 82 21 82 89.7563 52 79.6829034"}),a("circle",{fill:"#18191C",fillRule:"nonzero",cx:"116",cy:"74",r:"20"}),a("circle",{stroke:"#ACB0FF",strokeWidth:"1.5",fill:"#18191C",fillRule:"nonzero",cx:"116",cy:"74",r:"16.4347826"}),a("path",{d:"M120.640409,74 L120.695652,74 L116.886449,80.3862384 C116.603533,80.8605556 115.989673,81.0157168 115.515356,80.7328005 C115.372877,80.6478156 115.253779,80.528718 115.168794,80.3862384 L111.359591,74 L111.304348,74 L115.113551,67.6137616 C115.396467,67.1394444 116.010327,66.9842832 116.484644,67.2671995 C116.627123,67.3521844 116.746221,67.471282 116.831206,67.6137616 L120.640409,74 Z",stroke:"#202225",fill:"#FFFFFF",fillRule:"nonzero"}),a("path",{d:"M0.8561,25.4295 C0.8561,23.2207 2.6465,21.4295 4.8561,21.4295 C7.0657,21.4295 8.8561,23.2207 8.8561,25.4295 C8.8561,27.6383 7.0657,29.4295 4.8561,29.4295 C2.6465,29.4295 0.8561,27.6383 0.8561,25.4295",fill:"#ACB0FF"}),a("path",{d:"M36.6003,3.7337 C36.6003,3.1817 36.1533,2.7337 35.6003,2.7337 C34.7663,2.7337 34.0903,2.0577 34.0903,1.2237 C34.0903,0.6717 33.6423,0.2237 33.0903,0.2237 C32.5383,0.2237 32.0903,0.6717 32.0903,1.2237 C32.0903,2.0577 31.4133,2.7337 30.5803,2.7337 C30.0283,2.7337 29.5803,3.1817 29.5803,3.7337 C29.5803,4.2857 30.0283,4.7337 30.5803,4.7337 C31.4133,4.7337 32.0903,5.4097 32.0903,6.2437 C32.0903,6.7967 32.5383,7.2437 33.0903,7.2437 C33.6423,7.2437 34.0903,6.7967 34.0903,6.2437 C34.0903,5.4097 34.7663,4.7337 35.6003,4.7337 C36.1533,4.7337 36.6003,4.2857 36.6003,3.7337",fill:"#D3D6ED"}),a("path",{d:"M131.51,41 C131.51,40.448 131.063,40 130.51,40 C129.957,40 129.51,40.448 129.51,41 C129.51,41.834 128.834,42.51 128,42.51 C127.448,42.51 127,42.958 127,43.51 C127,44.062 127.448,44.51 128,44.51 C128.834,44.51 129.51,45.186 129.51,46.02 C129.51,46.572 129.957,47.02 130.51,47.02 C131.063,47.02 131.51,46.572 131.51,46.02 C131.51,45.186 132.186,44.51 133.02,44.51 C133.573,44.51 134.02,44.062 134.02,43.51 C134.02,42.958 133.573,42.51 133.02,42.51 C132.186,42.51 131.51,41.834 131.51,41 Z",fill:"#ACB0FF"}),a("path",{d:"M11.1491,77.0452 C10.7581,76.6542 10.1261,76.6542 9.7351,77.0452 L8.5511,78.2282 C8.1611,78.6182 8.1611,79.2512 8.5511,79.6422 C8.7471,79.8372 9.0031,79.9352 9.2581,79.9352 C9.5141,79.9352 9.7701,79.8372 9.9651,79.6422 L11.1491,78.4592 C11.5401,78.0682 11.5401,77.4362 11.1491,77.0452",fill:"#FFFFFF"}),a("path",{d:"M3.819,82.9612 L2.635,84.1452 C2.245,84.5352 2.245,85.1682 2.635,85.5592 C2.831,85.7542 3.087,85.8522 3.342,85.8522 C3.598,85.8522 3.855,85.7542 4.049,85.5592 L5.233,84.3752 C5.624,83.9842 5.624,83.3522 5.233,82.9612 C4.842,82.5702 4.209,82.5702 3.819,82.9612",fill:"#FFFFFF"}),a("path",{d:"M9.9655,82.9612 C9.5745,82.5702 8.9425,82.5702 8.5515,82.9612 C8.1605,83.3522 8.1605,83.9842 8.5515,84.3752 L9.7355,85.5592 C9.9305,85.7542 10.1865,85.8522 10.4425,85.8522 C10.6975,85.8522 10.9535,85.7542 11.1495,85.5592 C11.5395,85.1682 11.5395,84.5352 11.1495,84.1452 L9.9655,82.9612 Z",fill:"#FFFFFF"}),a("path",{d:"M5.2331,78.2279 L4.0491,77.0449 C3.6591,76.6549 3.0251,76.6549 2.6351,77.0449 C2.2451,77.4359 2.2451,78.0689 2.6351,78.4589 L3.8191,79.6419 C4.0141,79.8369 4.2701,79.9349 4.5261,79.9349 C4.7821,79.9349 5.0381,79.8369 5.2331,79.6419 C5.6241,79.2509 5.6241,78.6189 5.2331,78.2279",fill:"#FFFFFF"}))));t.default=function(){return r},e.exports=t.default},7208:function(e,t,n){"use strict";t.__esModule=!0,t.tutorialPopoutAttributesV2=t.tutorialPopoutAttributesV1=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(6639))),i=d(n(7207)),l=d(n(7206)),s=d(n(7205)),u=d(n(7204));function d(e){return e&&e.__esModule?e:{default:e}}var f=a(s.default,{}),c=a(u.default,{}),p=a(i.default,{}),h=(t.tutorialPopoutAttributesV1=Object.freeze({"voice-conversations":{popoutPosition:"top",highPriority:!0,background:r.default.Backgrounds.WAVES,media:function(){return f}},"writing-messages":{popoutPosition:"top",highPriority:!0,background:r.default.Backgrounds.SHAPES,media:function(){return c}},"direct-messages":{popoutPosition:"right",background:r.default.Backgrounds.WAVES},"create-first-server":{popoutPosition:"right",highPriority:!0,background:r.default.Backgrounds.SHAPES},"organize-by-topic":{popoutPosition:"right",background:r.default.Backgrounds.WAVES,media:function(){return p}},"instant-invite":{popoutPosition:"right",highPriority:!0,background:r.default.Backgrounds.SHAPES},"whos-online":{popoutPosition:"left",background:r.default.Backgrounds.WAVES},"server-settings":{popoutPosition:"bottom",background:r.default.Backgrounds.SHAPES},"friends-list":{popoutPosition:"right",background:r.default.Backgrounds.WAVES},"create-more-servers":{popoutPosition:"right",background:r.default.Backgrounds.SHAPES}}),a(u.default,{})),y=a(l.default,{}),m=a(s.default,{}),v=a(i.default,{});t.tutorialPopoutAttributesV2=Object.freeze({"direct-messages":{popoutPosition:"bottom",background:r.default.Backgrounds.WAVES},"writing-messages":{popoutPosition:"top",highPriority:!0,background:r.default.Backgrounds.SHAPES,media:function(){return h}},"voice-channels":{popoutPosition:"right",highPriority:!0,background:r.default.Backgrounds.WAVES,media:function(){return y}},"voice-conversations":{popoutPosition:"top",highPriority:!0,background:r.default.Backgrounds.SHAPES,media:function(){return m}},"organize-by-channel":{popoutPosition:"right",background:r.default.Backgrounds.WAVES,media:function(){return v}},"instant-invite":{popoutPosition:"right",highPriority:!0,background:r.default.Backgrounds.SHAPES},"whos-online":{popoutPosition:"left",background:r.default.Backgrounds.WAVES},"server-settings":{popoutPosition:"bottom",background:r.default.Backgrounds.SHAPES},"friends-list":{popoutPosition:"right",background:r.default.Backgrounds.WAVES},"create-first-server":{popoutPosition:"right",background:r.default.Backgrounds.SHAPES}})},7209:function(e,t,n){"use strict";t.__esModule=!0,t.getTutorialPopoutText=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(3)),l=p(n(6)),s=p(n(187)),u=p(n(25)),d=p(n(75)),f=n(0);n(373);var c=p(n(5774));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.tutorialId,n=e.copyVersion;return l.default.Messages["TIP_"+t+"_BODY"+n].format({shareIcon:d.default.Names.INVITE,shareIconHook:function(){return a(d.default,{name:d.default.Names.INVITE,className:c.default.icon})}})},y=function(e){var t=e.tutorialId,n=e.copyVersion;return l.default.Messages["TIP_"+t+"_BODY"+n].format()},m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.tutorialId,n=e.copyVersion,o=e.serverName;return l.default.Messages["TIP_"+t+"_BODY"+n].format({serverName:o})},t}(r.PureComponent);m.displayName="WritingMessagesBody";var v=i.default.connectStores([s.default],function(){var e=u.default.getGuild(s.default.getGuildId());return{serverName:null!=e?e.name:null}})(m);t.getTutorialPopoutText=function(e,t,n){var o=e.replace(/-/g,"_").toUpperCase(),r=null,i=null,s=!1;if(t!==f.Experiments.TUTORIAL_UI||n!==f.ExperimentBuckets.TREATMENT_1&&n!==f.ExperimentBuckets.TREATMENT_2)r=l.default.Messages["TIP_"+o+"_TITLE"],i=l.default.Messages["TIP_"+o+"_BODY"].format(),s="voice-channels"!==e;else switch(r=l.default.Messages["TIP_"+o+"_TITLE3"],e){case"writing-messages":i=a(v,{tutorialId:o,copyVersion:"3"});break;case"instant-invite":i=a(h,{tutorialId:o,copyVersion:"3"});break;case"organize-by-topic":i=a(y,{tutorialId:o,copyVersion:"3"}),s=!0;break;default:i=l.default.Messages["TIP_"+o+"_BODY3"].format()}return{title:r,body:i,isLongText:s}}},7210:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r=d(n(3)),i=d(n(2)),l=d(n(165)),s=d(n(6054)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return!0}var c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([l.default],f)},t.prototype.getExperimentId=function(){return u.Experiments.TUTORIAL_UI},t.prototype.getMetaData=function(){return{title:"Redesigned Tutorial Tip Experiment",description:["Control: Old Tutorial Tip Popouts","Treatment 1: Old Tutorial Tip Popouts with New Copy","Treatment 2: Redesigned Tutorial Tip Popouts (LIGHT) with New Copy"]}},t.prototype.getExperimentDescriptor=function(){return l.default.getOverrideExperimentDescriptor(this.getExperimentId())||l.default.getEligibleExperiment(this.getExperimentId())},t}(r.default.Store))(i.default);s.default.register(c,((a={})[u.ExperimentTypes.NONE]=function(){return null},a[u.ExperimentTypes.USER]=((o={})[u.ExperimentBuckets.NOT_ELIGIBLE]=function(){return null},o[u.ExperimentBuckets.CONTROL]=function(){return null},o[u.ExperimentBuckets.TREATMENT_1]=function(){return null},o[u.ExperimentBuckets.TREATMENT_2]=function(){return null},o),a)),t.default=c,e.exports=t.default},7211:function(e,t,n){"use strict";(function(o){t.__esModule=!0;var a,r,i,l=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),d=n(77),f=R(n(3)),c=R(n(9)),p=R(n(7)),h=R(n(7210)),y=R(n(6196)),m=R(n(6443)),v=R(n(133)),E=R(n(933)),_=R(n(945)),g=R(n(6701)),S=R(n(6054)),T=R(n(6059)),C=n(7209),N=n(7208),b=R(n(7203)),O=R(n(225)),I=R(n(6639)),A=R(n(5769)),M=n(0);function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=(0,T.default)(h.default,((i={})[M.ExperimentTypes.NONE]=function(e){return u.createElement(O.default,s({},e,{backdrop:!0,ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT}),e.children)},i[M.ExperimentTypes.USER]=((r={})[M.ExperimentBuckets.CONTROL]=function(e){return u.createElement(O.default,s({},e,{backdrop:!0,onOpen:function(){return S.default.trigger(e.redesignedTTExperimentDescriptor)},ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT}),e.children)},r[M.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return u.createElement(O.default,s({},e,{backdrop:!0,ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT}),e.children)},r[M.ExperimentBuckets.TREATMENT_1]=function(e){return u.createElement(O.default,s({},e,{backdrop:!0,ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT,onOpen:function(){return S.default.trigger(e.redesignedTTExperimentDescriptor)}}),e.children)},r[M.ExperimentBuckets.TREATMENT_2]=function(e){return u.createElement(I.default,s({},e,{ref:e.setPopoutRef,forceTheme:M.ThemeTypes.LIGHT,onComplete:e.handleDismiss,onSkipAll:e.handleSkipTips,onOpen:function(){return S.default.trigger(e.redesignedTTExperimentDescriptor)}}),e.children)},r),i),function(){return!1}),U=function(e){function t(n){P(this,t);var o=L(this,e.call(this,n));return o.state={offsetX:null,offsetY:null},o.handlePopoutClose=function(e){e&&o.handleDismiss()},o.handleDismiss=function(){g.default.dismiss(o.props.tutorialId)},p.default.bindAll(o,["handlePopoutRef","handleSkipTips","renderTutorialPopout"]),o}return w(t,e),t.prototype.componentDidMount=function(){this.updateCache()},t.prototype.componentDidUpdate=function(e){var t=e.tutorialId,n=e.x,o=e.y,a=e.targetWidth,r=e.targetHeight,i=e.position,l=e.offset,s=e.offsetPercent;this.props.tutorialId===t&&this.props.x===n&&this.props.y===o&&this.props.targetWidth===a&&this.props.targetHeight===r&&this.props.position===i&&this.props.offset.x===l.x&&this.props.offset.y===l.y&&this.props.offsetPercent.x===s.x&&this.props.offsetPercent.y===s.y||this.updateCache()},t.prototype.updateCache=function(){var e=(0,d.findDOMNode)(this);if(e&&e instanceof HTMLElement){var t=e.offsetWidth,n=e.offsetHeight,o={offsetX:(this.props.targetWidth-t)/2,offsetY:(this.props.targetHeight-n)/2};switch(this.props.position){case"left":o.offsetX=0,o.offsetY=this.props.targetHeight/2;break;case"right":o.offsetX=this.props.targetWidth,o.offsetY=this.props.targetHeight/2;break;case"bottom":o.offsetX=this.props.targetWidth/2,o.offsetY=this.props.targetHeight;break;case"top":default:o.offsetX=this.props.targetWidth/2,o.offsetY=0}var a=this.props.offset.x?this.props.offset.x:0,r=this.props.offset.y?this.props.offset.y:0,i=this.props.offsetPercent.x?this.props.offsetPercent.x:0,l=this.props.offsetPercent.y?this.props.offsetPercent.y:0;o.offsetX+=a+i/100*this.props.targetWidth,o.offsetY+=r+l/100*this.props.targetHeight,this.setState(o)}},t.prototype.handlePopoutRef=function(e){var t=this;this._popout=e,null!=e&&this.props.autoOpen&&o(function(){t._popout&&t._popout.open()})},t.prototype.handleSkipTips=function(){g.default.suppressAll()},t.prototype.getTutorialPopoutText=function(){var e=this.props,t=e.tutorialLogicExperimentDescriptor,n=e.redesignedTTExperimentDescriptor,o=e.tutorialId,a=null,r=null;return(null==t||t.bucket<1)&&null!=n?(a=n.name,r=n.bucket):null!=t&&(a=t.name,r=t.bucket),(0,C.getTutorialPopoutText)(o,a,r)},t.prototype.renderTutorialPopout=function(e){var t=this.getTutorialPopoutText(),n=t.title,o=t.body;return u.createElement(b.default,s({},e,{tutorialId:this.props.tutorialId,onSkipAll:this.handleSkipTips,onClose:this.handlePopoutClose,title:n,body:o}))},t.prototype.render=function(){var e,t,n,o=this.props,a=o.tutorialLogicExperimentDescriptor,r=o.tutorialId,i={};if(!(r in(i=null!=a&&a.bucket===M.ExperimentBuckets.TREATMENT_1?N.tutorialPopoutAttributesV2:N.tutorialPopoutAttributesV1)))return null;var d=i[r],f=d.background,p=d.media,h=d.textAlign,y=d.isLongText,m=d.arrowAlignment,v=d.highPriority,E=d.popoutPosition,_={left:null===this.state.offsetX?null:this.props.x+this.state.offsetX,top:null===this.state.offsetY?null:this.props.y+this.state.offsetY},g=this.props.visible,S=!0!==v?null:l("div",{},void 0,l("div",{className:(0,c.default)(A.default.top,(e={},e[A.default.animating]=g,e[A.default.notAnimating]=!g,e))}),l("div",{className:(0,c.default)(A.default.bottom,(t={},t[A.default.animating]=g,t[A.default.notAnimating]=!g,t))})),T=((n={})[A.default.animating]=g,n[A.default.notAnimating]=!g,n[A.default.highPriority]=v,n),C=this.getTutorialPopoutText();return u.createElement(D,s({render:this.renderTutorialPopout,position:E,background:f,renderMedia:p,textAlign:h,isLongText:y,arrowAlignment:m,uniqueId:r,showArrow:!0,handleSkipTips:this.handleSkipTips,handlePopoutClose:this.handlePopoutClose,handleDismiss:this.handleDismiss,redesignedTTExperimentDescriptor:this.props.redesignedTTExperimentDescriptor,setPopoutRef:this.handlePopoutRef},C),l("div",{className:A.default.indicator,style:_},void 0,l("div",{className:(0,c.default)(A.default.animationContainer,T)},void 0,S,l("div",{className:(0,c.default)(A.default.innerCircle,T)}),l("div",{className:(0,c.default)(A.default.outerCircle,T)}))))},t}(u.PureComponent);U.displayName="TutorialIndicator";var k=f.default.connectStores([m.default,_.default,v.default,E.default,y.default],function(){return{indicators:m.default.getIndicators(),tutorialData:m.default.getData(),shouldShowAny:m.default.shouldShowAnyIndicators()&&!_.default.hasLayers(),isFocused:v.default.isFocused(),tutorialLogicExperimentDescriptor:y.default.getExperimentDescriptor(),redesignedTTExperimentDescriptor:h.default.getExperimentDescriptor()}})(function(e){function t(){return P(this,t),L(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.indicators,n=e.shouldShowAny,o=e.isFocused,a=e.tutorialData,r=e.tutorialLogicExperimentDescriptor,i=e.redesignedTTExperimentDescriptor;return n?p.default.map(t,function(e,t){var n=a[t];return null==n?null:u.createElement(U,s({key:t,tutorialId:t,tutorialDefinition:n,visible:o&&!E.default.isOpen(t),tutorialLogicExperimentDescriptor:r,redesignedTTExperimentDescriptor:i},e))}):null},t}(u.Component));t.default=k,e.exports=t.default}).call(this,n(36).setImmediate)},7212:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=I(n(54)),r=I(n(66)),i=I(n(3)),l=I(n(7)),s=I(n(14)),u=I(n(55)),d=I(n(95)),f=I(n(231)),c=I(n(529)),p=I(n(65)),h=I(n(187)),y=I(n(388)),m=I(n(57)),v=I(n(22)),E=I(n(6648)),_=I(n(6100)),g=I(n(17)),S=n(190),T=I(n(18)),C=I(n(121)),N=n(0),b=n(107),O=I(n(236));function I(e){return e&&e.__esModule?e:{default:e}}var A=(0,a.default)({displayName:"AutoAnalytics",mixins:[i.default.StoreListenerMixin(u.default,c.default,p.default,m.default,h.default,E.default,_.default,f.default,O.default),r.default],getStateFromStores:function(){var e=p.default.getVoiceChannelId(),t=null,n=null;if(e){var o=T.default.getChannel(e);null!=o&&(t=o.getGuildId(),n=o.type)}var a=O.default.getPrimaryActivity(),r=m.default.getCurrentGame();return{selectedChannelId:p.default.getChannelId(),selectedGuildId:h.default.getGuildId(),friendsTabSection:E.default.getState().section,homeLink:_.default.getHomeLink(),connected:y.default.isConnected(),selfMute:u.default.isSelfMute(),selfDeaf:u.default.isSelfDeaf(),videoEnabled:u.default.isVideoEnabled(),isScreenSharing:u.default.isScreenSharing(),currentUserSpeaking:c.default.isCurrentUserSpeaking(),currentUserPrioritySpeaking:c.default.isCurrentUserPrioritySpeaking(),anyoneSpeaking:c.default.isAnyoneSpeaking(),anyonePrioritySpeaking:c.default.isAnyonePrioritySpeaking(),voiceChannelId:e,voiceChannelIdJoined:f.default.getChannelId(),voiceChannelGuildId:t,voiceChannelType:n,runningGame:r,runningGamePid:null!=r?r.pid:null,gamePlatform:(0,b.getGamePlatform)(a),gameName:null!=a?a.name:null,gameId:null!=a?a.application_id:null}},componentDidMount:function(){var e=this.state,t=e.selectedChannelId;e.connected&&null!=t&&(0,S.trackWithMetadata)(N.AnalyticEvents.CHANNEL_OPENED)},componentDidUpdate:function(e,t){var n=this.state,a=n.voiceChannelId,r=n.voiceChannelIdJoined,i=n.voiceChannelGuildId,l=n.voiceChannelType,s=n.videoEnabled,d=n.isScreenSharing,c=n.anyoneSpeaking,p=n.runningGame,h=n.runningGamePid,y=n.selectedChannelId,E=n.selectedGuildId,_=n.connected,T=n.homeLink,b=n.friendsTabSection,O=n.currentUserPrioritySpeaking;if(t.currentUserSpeaking!==this.state.currentUserSpeaking&&this.state.currentUserSpeaking&&(0,S.trackWithMetadata)(N.AnalyticEvents.START_SPEAKING,o({mode:u.default.getMode(),priority:O,channel:a,server:i,channel_id:a,guild_id:i},this.getGameMetadata())),t.voiceChannelId!==a&&null!=t.voiceChannelId){var I=m.default.getCurrentGame(),A=null!=I?I.name:"";g.default.track(N.AnalyticEvents.LEAVE_VOICE_CHANNEL,o({channel_id:t.voiceChannelId,channel_type:t.voiceChannelType,guild_id:t.voiceChannelGuildId,rtc_connection_id:f.default.getRTCConnectionId(),game_name:A,duration:f.default.getDuration(),game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,S.getVoiceStateMetadata)(t.voiceChannelGuildId,t.voiceChannelId,t.videoEnabled||t.isScreenSharing)))}if(t.voiceChannelIdJoined!==r&&null!=r){var M=m.default.getCurrentGame(),R=null!=M?M.name:"";null!=r&&g.default.track(N.AnalyticEvents.JOIN_VOICE_CHANNEL,o({channel_id:a,channel_type:l,guild_id:i,rtc_connection_id:f.default.getRTCConnectionId(),game_name:R,game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,S.getVoiceStateMetadata)(i,a,s||d)))}if(t.anyoneSpeaking!==c&&c&&this.trackStartListening(),t.runningGame!==p&&null!=p){var P=v.default.getGameByName(p.name);if(g.default.track(N.AnalyticEvents.LAUNCH_GAME,{game:p.name,game_id:null==P?null:P.id,verified:null!=P,game_platform:N.AnalyticsGamePlatforms.DESKTOP,distributor:p.distributor}),v.default.shouldReport(p.name)){var L=p.name,w=h;C.default.identifyGame(w,L).then(function(e){return C.default.reportUnverifiedGame(e)}).catch(function(e){return console.error(e)})}}if((t.videoEnabled!==s||t.isScreenSharing!==d)&&a){var D="none",U=void 0,k=void 0,F=void 0,x=void 0,G=void 0;if(d){D="screen";var j=u.default.getDesktopSource();null!=j&&(U=j.resolution,k=j.frameRate,F=j.soundshareSession,x=m.default.getGameNameForPID(j.sourcePid),G=m.default.getGameIdForPID(j.sourcePid))}else s&&(D="camera");g.default.track(N.AnalyticEvents.VIDEO_INPUT_TOGGLED,o({video_input_type:D,video_input_resolution:U,video_input_frame_rate:k,soundshare_session:F,share_game_name:x,share_game_id:G},this.getGameMetadata(),(0,S.collectVoiceAnalyticsMetadata)(a)))}!_||null==E||E===t.selectedGuildId&&t.connected?!_||null!=E||T!==N.Routes.FRIENDS||t.connected&&b===t.friendsTabSection&&T===t.homeLink||g.default.track(N.AnalyticEvents.FRIENDS_LIST_VIEWED,{tab_opened:b}):(0,S.trackWithMetadata)(N.AnalyticEvents.GUILD_VIEWED),!_||null==y||y===t.selectedChannelId&&t.connected||(0,S.trackWithMetadata)(N.AnalyticEvents.CHANNEL_OPENED)},trackStartListening:function(){var e=this;if(null!=this.state.voiceChannelId&&!u.default.isDeaf()){var t=d.default.getVoiceStates(f.default.getGuildId());(0,l.default)(c.default.getSpeakers()).keys().filter(function(e){return e!==s.default.getId()}).map(function(e){return t[e]}).some(function(t){return t&&t.channelId===e.state.voiceChannelId})&&(0,S.trackWithMetadata)(N.AnalyticEvents.START_LISTENING,o({mute:u.default.isMute(),anyone_priority:this.state.anyonePrioritySpeaking,channel:this.state.voiceChannelId,server:this.state.voiceChannelGuildId,channel_id:this.state.voiceChannelId,guild_id:this.state.voiceChannelGuildId},this.getGameMetadata()))}},getGameMetadata:function(){return{game_platform:this.state.gamePlatform,game_name:this.state.gameName,game_id:this.state.gameId}},render:function(){return null}});t.default=A,e.exports=t.default},7213:function(e,t,n){"use strict";t.__esModule=!0;var o=E(n(1)),a=v(n(3)),r=v(n(7)),i=E(n(526)),l=n(0),s=v(n(55)),u=v(n(231)),d=v(n(529)),f=v(n(95)),c=v(n(13)),p=v(n(25)),h=v(n(18)),y=v(n(65)),m=v(n(942));function v(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(e.selfDeaf!==this.props.selfDeaf?this.playSound(this.props.selfDeaf?"deafen":"undeafen"):e.selfMute!==this.props.selfMute&&this.playSound(this.props.selfMute?"mute":"unmute"),e.voiceDisconnected||e.voiceDisconnected===this.props.voiceDisconnected||this.playSound("disconnect"),e.speaking!==this.props.speaking&&(s.default.getMode()!==l.InputModes.PUSH_TO_TALK||this.props.selfMute||this.playSound(this.props.speaking?"ptt_start":"ptt_stop")),e.tempMuted!==this.props.tempMuted&&(s.default.getMode()!==l.InputModes.VOICE_ACTIVITY||this.props.selfMute||this.playSound(this.props.tempMuted?"ptt_stop":"ptt_start")),e.voiceChannelId===this.props.voiceChannelId){var t=e.voiceChannelUserCount||0,n=this.props.voiceChannelUserCount||0;t>n?!this.isAFK()&&this.playSound("user_leave"):t<n&&!this.isAFK()&&this.playSound("user_join")}this.props.userHasBeenMovedVersion!==e.userHasBeenMovedVersion&&this.playSound("user_moved")},t.prototype.isAFK=function(){var e=h.default.getChannel(this.props.voiceChannelId);if(null==e)return!1;var t=e.getGuildId();if(null==t)return!1;var n=p.default.getGuild(t);return null!=n&&n.afkChannelId===e.id},t.prototype.playSound=function(e){m.default.isSoundDisabled(e)||i.playSound(e,.4)},t.prototype.render=function(){return null},t}(o.PureComponent);_.displayName="SoundPlayer",t.default=a.default.connectStores([s.default,u.default,d.default,f.default,y.default],function(){var e=y.default.getVoiceChannelId(),t=0;if(null!=e){var n=h.default.getChannel(e),o=c.default.getCurrentUser();null!=n&&null!=o&&r.default.forEach(f.default.getVoiceStates(n.getGuildId()),function(n,a){a!==o.id&&n.channelId===e&&t++})}return{userHasBeenMovedVersion:f.default.userHasBeenMovedVersion,selfMute:s.default.isSelfMute(),selfDeaf:s.default.isSelfDeaf(),voiceDisconnected:u.default.isDisconnected(),speaking:d.default.isCurrentUserSpeaking(),tempMuted:s.default.isSelfMutedTemporarily(),voiceChannelId:e,voiceChannelUserCount:t}})(_),e.exports=t.default},7214:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=v(n(147)),r=v(n(3)),i=v(n(11)),l=v(n(231)),s=v(n(55)),u=v(n(529)),d=v(n(6083)),f=v(n(61)),c=v(n(6149)),p=v(n(942)),h=v(n(370)),y=v(n(269)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var E=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),_=i.default.isOSX(),g=i.default.isLinux(),S=_?null:E.DEFAULT,T=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={icon:S},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype._updateIcon=function(e){var t=e.deafened,n=e.muted,o=e.speaking,a=e.connected,r=e.unread,i=S;if(!_||a){if(g||!a)return r&&(i=E.UNREAD),void this.setState({icon:i});i=t?E.DEAFENED:n?E.MUTED:o?E.SPEAKING:E.CONNECTED,this.setState({icon:i})}else this.setState({icon:i})},t.prototype.componentDidMount=function(){this._updateIcon(this.props)},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this._updateIcon(e)},t.prototype.componentDidUpdate=function(){i.default.setSystemTrayIcon(this.state.icon)},t.prototype.componentWillUnmount=function(){i.default.setSystemTrayIcon(_?null:S)},t.prototype.render=function(){return null},t}(o.PureComponent);T.displayName="AppTray";var C=function(){return null};i.default.embedded&&(i.default.on("SYSTEM_TRAY_TOGGLE_MUTE",y.default.toggleSelfMute),i.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",y.default.toggleSelfDeaf),i.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",function(){h.default.open(m.UserSettingsSections.VOICE)}),C=r.default.connectStores([l.default,s.default,u.default,d.default,f.default,c.default,p.default],function(){var e=d.default.getTotalMentionCount(),t=d.default.hasAnyUnread(),n=f.default.getPendingCount(),o=c.default.getSuggestionCount(),a=!p.default.getDisableUnreadBadge()&&!!(t||e+n+o>0);return{connected:l.default.isConnected(),speaking:u.default.isCurrentUserSpeaking(),muted:!s.default.isEnabled()||s.default.isSelfMute()||s.default.isSelfMutedTemporarily(),deafened:s.default.isSelfDeaf(),unread:a}})(T)),t.default=C,e.exports=t.default},7216:function(e,t,n){"use strict";t.__esModule=!0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=h(n(39)),r=h(n(7215)),i=h(n(3)),l=h(n(11)),s=h(n(6083)),u=h(n(6640)),d=h(n(61)),f=h(n(6149)),c=h(n(942)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=new Set(["Blink","Gecko","WebKit"]),v=p.NOOP;if(l.default.embedded)v=function(e){return l.default.setBadge(e)};else if(m.has(a.default.layout)){var E=new r.default({animation:"none"});v=function(e){try{E.badge(-1===e?"•":e)}catch(e){}}}var _=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=y(this,e.call.apply(e,[this].concat(r))),o.cancelBounce=null,y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.componentDidUpdate()},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;v(t),n&&!this.cancelBounce?this.cancelBounce=l.default.bounceDock("critical"):!n&&this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},t.prototype.componentWillUnmount=function(){v(0),this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},t.prototype.render=function(){return null},t}(o.PureComponent);_.displayName="AppBadge";var g=function(){return null};v!==p.NOOP&&(g=i.default.connectStores([s.default,u.default,d.default,f.default,c.default],function(){var e=s.default.getTotalMentionCount(),t=d.default.getPendingCount(),n=f.default.getSuggestionCount(),o=s.default.hasAnyUnread(),a=c.default.getDisableUnreadBadge(),r=e+t+n;return 0===r&&o&&!a&&(r=-1),{badge:r,hasIncomingCalls:u.default.hasIncomingCalls()}})(_)),t.default=g,e.exports=t.default},7217:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(P(n(1)),R(n(54))),i=R(n(77)),l=R(n(66)),s=R(n(3)),u=R(n(9)),d=n(0),f=R(n(6188)),c=R(n(65)),p=R(n(187)),h=R(n(234)),y=R(n(18)),m=R(n(945)),v=R(n(13)),E=R(n(6502)),_=R(n(6501)),g=R(n(35)),S=R(n(937)),T=R(n(6)),C=R(n(972)),N=R(n(6758)),b=R(n(6367)),O=P(n(6096)),I=R(n(229)),A=R(n(5582)),M=R(n(5595));function R(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var L=(0,r.default)({displayName:"UploadArea",mixins:[s.default.StoreListenerMixin(y.default,m.default,c.default,p.default),h.default,l.default,C.default],getInitialState:function(){return{dragging:!1,requireConfirm:!0}},getStateFromStores:function(){return{hasLayers:m.default.hasLayers(),channel:c.default.getChannelId()&&y.default.getChannel(c.default.getChannelId())}},componentDidMount:function(){document.body.addEventListener("dragover",this.handleDragOver,!1),document.body.addEventListener("drop",this.handleDragLeave,!1),i.default.findDOMNode(this).addEventListener("dragleave",this.handleDragLeave,!1),i.default.findDOMNode(this).addEventListener("drop",this.handleDrop,!1)},componentWillUnmount:function(){document.body.removeEventListener("dragover",this.handleDragOver,!1),document.body.removeEventListener("drop",this.handleDragLeave,!1),i.default.findDOMNode(this).removeEventListener("dragleave",this.handleDragLeave,!1),i.default.findDOMNode(this).removeEventListener("drop",this.handleDrop,!1)},render:function(){var e,t=this.state.dragging&&this.canDropFile(),n=T.default.Messages.UPLOAD_AREA_TITLE;this.state.requireConfirm||(n=T.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION);var o=null;return t&&(o=a("div",{},void 0,a("div",{className:(0,u.default)(M.default.sparkleWhite,A.default.sparkleOne)}),a("div",{className:(0,u.default)(M.default.sparkleWhite,A.default.sparkleTwo)}),a("div",{className:(0,u.default)(M.default.lightWhite,A.default.lightOne)}),a("div",{className:(0,u.default)(M.default.lightWhite,A.default.lightTwo)}),a("div",{className:(0,u.default)(M.default.crossWhite,A.default.crossOne)}),a("div",{className:(0,u.default)(M.default.crossWhite,A.default.crossTwo)}),a("div",{className:(0,u.default)(M.default.popWhite,A.default.popOne)}))),a("div",{className:(0,u.default)(A.default.uploadArea,(e={},e[A.default.uploadModalIn]=t,e))},void 0,a("div",{className:A.default.uploadDropModal},void 0,o,a("div",{className:A.default.bgScale}),a("div",{className:A.default.inner},void 0,a("div",{className:A.default.icons},void 0,a("div",{className:A.default.wrapOne},void 0,a("div",{className:(0,u.default)(A.default.icon,A.default.one)})),a("div",{className:A.default.wrapThree},void 0,a("div",{className:(0,u.default)(A.default.icon,A.default.three)})),a("div",{className:A.default.wrapTwo},void 0,a("div",{className:(0,u.default)(A.default.icon,A.default.two)}))),a("div",{className:A.default.title},void 0,n),a("div",{className:A.default.instructions},void 0,a("pre",{},void 0,T.default.Messages.UPLOAD_AREA_HELP)))))},canDropFile:function(){var e=this.state,t=e.channel,n=e.hasLayers;return t&&!n&&(t.isPrivate()&&!t.isManaged()||this.can(d.Permissions.ATTACH_FILES,this.state.channel)&&f.default.canChatInGuild(p.default.getGuildId()))},isAllDropFiles:function(e){for(var t=0;t<e.length;t++)try{var n=e[t].webkitGetAsEntry()||e[t].getAsEntry();if(n&&!n.isFile)return!1}catch(e){continue}return!0},dragOverTimeout:null,preventUnwantedDrop:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.dataTransfer,o=n.types instanceof Array&&-1!==n.types.indexOf("text/uri-list")&&-1===n.types.indexOf("application/json"),a=null!=n.items&&!this.isAllDropFiles(n.items);return!o&&!a||(e.stopPropagation(),e.preventDefault(),n.effectAllowed="none",n.dropEffect="none",t&&(this.setState({dragging:!1}),g.default.push(b.default,{title:T.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_TITLE,help:T.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_HELP})),!1)},handleDragOver:function(e){var t=this;if(!this.preventUnwantedDrop(e))return!1;e.dataTransfer.dropEffect="move";var n=S.default.getModal();n&&n.modal===b.default&&g.default.pop(),e.stopPropagation(),e.preventDefault(),this.state.dragging?this.state.dragging&&e.shiftKey!==!this.state.requireConfirm&&this.setState({requireConfirm:!e.shiftKey}):(e.dataTransfer.types instanceof DOMStringList&&e.dataTransfer.types.contains("application/x-moz-file")||e.dataTransfer.types instanceof Array&&-1!==e.dataTransfer.types.indexOf("Files"))&&this.setState(function(t){return t.dragging?{}:{dragging:!0,requireConfirm:!e.shiftKey}}),this.clearTimeout(this.dragOverTimeout),this.dragOverTimeout=this.setTimeout(function(){t.setState({dragging:!1,requireConfirm:!0})},1e3)},handleDragLeave:function(e){this.state.dragging&&(e.stopPropagation(),e.preventDefault(),this.clearDragging())},clearDragging:function(){this.setState({dragging:!1,requireConfirm:!0})},handleDrop:function(e){if(!this.preventUnwantedDrop(e,!0))return!1;this.state.dragging&&(e.preventDefault(),e.stopPropagation(),this.canDropFile()&&this.promptToUpload(e.dataTransfer.files,this.state.channel.id,!0,this.state.requireConfirm),this.clearDragging())},promptToUpload:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(O.anyFileTooLarge(e)){var a=v.default.getCurrentUser();g.default.push(b.default,{title:T.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:T.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:O.sizeString(O.maxFileSize())}),promo:!I.default.canUploadLargeFiles(a)})}else o?(E.default.pushFiles({files:e,channelId:t}),S.default.isModalOpen(N.default)||g.default.push(N.default,{backdropInstant:n})):_.default.instantBatchUpload(t,e)}});t.default=L,e.exports=t.default},7218:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=s(n(3)),r=s(n(2)),i=s(n(165)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([i.default],function(){return!0})},t.prototype.getExperimentId=function(){return l.Experiments.ACTIVITY_FEED_REHAUL},t.prototype.getMetaData=function(){return{title:"AF - 2.0",description:["Completely refactored and redesigned AF","Control: The old stuff","Treatment 1: The good good"]}},t.prototype.getExperimentDescriptor=function(){return i.default.getEligibleExperiment(this.getExperimentId())},o(t,[{key:"inExperiment",get:function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===l.ExperimentBuckets.TREATMENT_1}}]),t}(a.default.Store);t.default=new u(r.default),e.exports=t.default},7219:function(e,t,n){e.exports=n.p+"757e956c407d352bb77320c83e3c6159.png"},7220:function(e,t,n){e.exports=n.p+"76456a67ca3d139def36fd3ba871b230.png"},7221:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=m(n(1229)),s=n(265),u=m(n(75)),d=m(n(81)),f=m(n(45)),c=m(n(94)),p=n(0),h=m(n(6)),y=m(n(5777));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var E=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=v(this,e.call.apply(e,[this].concat(r))),o.state={isMouseOver:!1,loaded:!1},o.onMouseEnter=function(){o.state.isMouseOver||o.setState({isMouseOver:!0})},o.onMouseLeave=function(){o.state.isMouseOver&&o.setState({isMouseOver:!1})},o.handleClickView=function(e){var t=o.props,n=t.onView,a=t.guildId;e.stopPropagation(),null!=n&&n(a)},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t,n=this,o=this.props,r=o.name,m=o.presenceCount,v=o.avatarUrl,E=o.splashUrl,_=o.isVerified,g=o.isLoadingGuild,S=o.className,T=this.state,C=T.isMouseOver,N=T.loaded;return a(d.default,{tag:"div",onClick:this.handleClickView,className:(0,i.default)(S,(e={},e[y.default.loaded]=N,e[y.default.loading]=!N,e))},void 0,a(l.default,{aspectRatio:1.85},void 0,a("div",{className:(0,i.default)(y.default.card,(t={},t[y.default.cardHovered]=C,t)),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},void 0,a("img",{src:E,alt:"",className:y.default.splash,onLoad:function(){return n.setState({loaded:!0})}}),a("div",{className:y.default.fade}),a("div",{className:y.default.guildInfo},void 0,a("div",{className:y.default.guildIcon},void 0,a(s.AvatarImage,{src:v,className:y.default.avatar}),_?a(c.default,{text:h.default.Messages.GUILD_VERIFIED},void 0,a(u.default,{className:y.default.verifiedIcon,name:u.default.Names.VERIFIED,outer:p.Colors.PRIMARY_700,inner:p.Colors.BRAND,checkmark:p.Colors.WHITE})):null),a("div",{className:y.default.text},void 0,a("div",{className:y.default.title},void 0,r),null!=m?a("div",{className:y.default.memberInfo},void 0,a("div",{className:y.default.dotOnline}),h.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:m})):null),a(f.default,{className:C?y.default.viewButtonVisible:y.default.viewButton,color:f.default.Colors.GREEN,size:f.default.Sizes.SMALL,submitting:g,onClick:this.handleClickView},void 0,h.default.Messages.GUILD_DISCOVERY_VIEW_BUTTON)))))},t}(r.PureComponent);E.defaultProps={isLoadingGuild:!1},E.displayName="GuildDiscoveryCard",t.default=E,e.exports=t.default},7222:function(e,t,n){"use strict";t.__esModule=!0,t.search=function(e,t){if(null==t||""===t)return e;var n=t.toLowerCase();return e.filter(function(e){return-1!==e.searchTerms.indexOf(n)})}},7223:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=L(n(1)),i=P(n(522)),l=P(n(3)),s=P(n(224)),u=P(n(9)),d=P(n(108)),f=P(n(7)),c=P(n(6)),p=n(0),h=P(n(88)),y=L(n(7222)),m=P(n(41)),v=P(n(17)),E=P(n(7221)),_=P(n(227)),g=P(n(6392)),S=P(n(144)),T=n(1011),C=n(6174),N=P(n(232)),b=P(n(235)),O=P(n(25)),I=P(n(28)),A=P(n(7220)),M=P(n(7219)),R=P(n(5776));function P(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=Object.freeze({SEARCH:"Search",RECOMMENDED:"Recommended",POPULAR:"Popular"});function F(){return d.default.v4().replace(/-/g,"")}var x=f.default.throttle(function(e){v.default.track(p.AnalyticEvents.SEARCH_RESULT_VIEWED,e)},1e3),G=function(e){function t(){var n,o;w(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=D(this,e.call.apply(e,[this].concat(i))),o.handleViewGuild=function(e){var t=o.props,n=t.guilds,a=t.analyticsContext,r=t.onViewGuild,i=n.findIndex(function(t){return t.id===e});r(e,i,a)},o.renderGuild=function(e){var t=o.props.loadingGuildId,n=h.default.getGuildSplashURL({id:e.id,splash:e.splash,size:1024}),r=h.default.getGuildIconURL({id:e.id,icon:e.icon}),i=e.features.has(p.GuildFeatures.VERIFIED);return null==n||null==r?null:a(E.default,{guildId:e.id,name:e.name,splashUrl:n,avatarUrl:r,presenceCount:e.presenceCount,isVerified:i,isLoadingGuild:e.id===t,onView:o.handleViewGuild,className:R.default.guildCard},e.id)},D(o,n)}return U(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.guilds;return a("div",{},void 0,a("h3",{className:R.default.sectionHeader},void 0,t),a("div",{className:R.default.guildList},void 0,n.map(this.renderGuild)))},t}(r.Component);G.displayName="GuildList";var j=a(i.default,{title:"Discord"}),B=function(e){function t(){var n,o;w(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=D(this,e.call.apply(e,[this].concat(r))),o.state={query:"",animatedValue:new s.default.Value(0),searchId:null,loadingGuildId:null},o.loadId=F(),o.handleChangeSearch=function(e){var t=o.state.query;o.setState({query:e}),0===t.length&&e.length>0&&(o.setState({searchId:F()}),v.default.track(p.AnalyticEvents.SEARCH_STARTED,{search_type:p.SearchTypes.GUILD_DISCOVERY,load_id:o.loadId}))},o.handleClearSearch=function(){o.setState({query:""})},o.handleScroll=function(e){var t=o.state.animatedValue,n=e.getScrollData().scrollTop;t.setValue(Math.min(1,n/200))},o.handleViewGuild=function(e,t,n){if(e!==o.state.loadingGuildId&&(o.setState({loadingGuildId:e}),function(e){var t=O.default.getGuild(e);null!=t&&null!=t.joinedAt?m.default.transitionTo(p.Routes.GUILD(e)):N.default.joinGuild(e,!0).then(function(){N.default.transitionToGuildSync(e)})}(e),v.default.track(p.AnalyticEvents.GUILD_DISCOVERY_GUILD_SELECTED,{location:"Guild Discovery",location_page:"Guild Discovery",location_section:n,location_object:"Card",guild_id:e,load_id:o.loadId,card_index:t}),n===k.SEARCH)){var a=o.state,r=a.query,i=a.searchId,l=y.search(o.props.guilds.all,r);v.default.track(p.AnalyticEvents.SEARCH_RESULT_SELECTED,{search_type:p.SearchTypes.GUILD_DISCOVERY,load_id:o.loadId,search_id:i,total_results:l.length,index_num:t})}},D(o,n)}return U(t,e),t.prototype.componentDidMount=function(){(0,C.fetchActivityStatistics)(),(0,T.fetchGuildDiscoveryMetadata)()},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.isFetching,o=t.guilds,a=o.gamesYouPlay,r=o.all;if(e.isFetching&&!n){var i=a.length,l=r.length;v.default.track(p.AnalyticEvents.GUILD_DISCOVERY_VIEWED,{load_id:this.loadId,num_guilds:i+l,num_guilds_recommended:i,num_guilds_popular:l,recommended_guild_ids:a.map(function(e){return e.id})})}},t.prototype.getAssetStyle=function(){var e=this.state.animatedValue;return{opacity:e.interpolate({inputRange:[0,1],outputRange:[1,0]}),transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%","-10%"]})}]}},t.prototype.renderLoading=function(){return a(S.default,{className:R.default.spinner})},t.prototype.renderSearch=function(){var e=this.state.query;return a("div",{className:R.default.search},void 0,a("h2",{className:R.default.mainHeader},void 0,c.default.Messages.GUILD_DISCOVERY_SEARCH_HEADER),a(g.default,{searchTerm:e,className:R.default.searchBox,inputClassName:R.default.searchBoxInput,label:c.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:c.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER,onChange:this.handleChangeSearch,onClear:this.handleClearSearch,autoFocus:!0}))},t.prototype.renderSearchResults=function(e){return a(G,{title:c.default.Messages.GUILD_DISCOVERY_HEADER_SEARCH_RESULTS,guilds:e,loadingGuildId:this.state.loadingGuildId,analyticsContext:k.SEARCH,onViewGuild:this.handleViewGuild})},t.prototype.renderEmptySearchResults=function(){return a("div",{className:R.default.emptySearchResults},void 0,a("div",{className:R.default.emptySearchImage}),a("h1",{className:R.default.emptySearchTitle},void 0,c.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_TITLE),a("div",{className:R.default.emptySearchDescription},void 0,c.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_DESCRIPTION))},t.prototype.renderGamesYouPlay=function(){var e=this.props.guilds.gamesYouPlay;return null==e||0===e.length?null:a(G,{title:c.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guilds:e,loadingGuildId:this.state.loadingGuildId,analyticsContext:k.RECOMMENDED,onViewGuild:this.handleViewGuild})},t.prototype.renderAll=function(){var e=this.props.guilds.all;return null==e?null:a(G,{title:c.default.Messages.GUILD_DISCOVERY_HEADER_POPULAR_SERVERS,guilds:e,loadingGuildId:this.state.loadingGuildId,analyticsContext:k.POPULAR,onViewGuild:this.handleViewGuild})},t.prototype.renderListings=function(){var e=this.props,t=e.guilds.all,n=e.theme,o=this.state,i=o.query,l=o.searchId,d=i.length>=3,f=d?y.search(t,i):[],c=d&&0===f.length,h=n===p.ThemeTypes.LIGHT?M.default:A.default;return d&&x({search_type:p.SearchTypes.GUILD_DISCOVERY,load_id:this.loadId,search_id:l,total_results:f.length}),a(r.Fragment,{},void 0,a(s.default.img,{className:R.default.bg,style:this.getAssetStyle(),src:h}),a(_.default,{track:!0,onScroll:this.handleScroll},void 0,a("div",{className:(0,u.default)(R.default.pageHeader,R.default.pageHeaderDrag)}),a("div",{className:R.default.body},void 0,this.renderSearch(),d&&!c?this.renderSearchResults(f):null,d&&c?this.renderEmptySearchResults():null,d?null:this.renderGamesYouPlay(),d&&c?null:this.renderAll())))},t.prototype.render=function(){var e=this.props.isFetching;return a("div",{className:R.default.pageWrapper},void 0,j,e?this.renderLoading():this.renderListings())},t}(r.PureComponent);B.displayName="GuildDiscovery",t.default=l.default.connectStores([b.default],function(){return{isFetching:b.default.isFetching(),guilds:b.default.getDiscoverableGuilds(),theme:I.default.theme}})(B),e.exports=t.default},7224:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(9)),l=_(n(371)),s=_(n(265)),u=_(n(42)),d=_(n(81)),f=_(n(75)),c=_(n(225)),p=_(n(145)),h=_(n(94)),y=_(n(958)),m=_(n(6)),v=n(0),E=_(n(5778));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=5,T=4,C=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=g(this,e.call.apply(e,[this].concat(l))),o.renderPartyMember=function(e,t){if(null==e)return null;var n=o.props,r=n.host,l=n.renderUserPopout,u=n.onUserContextMenu,d=void 0;d=r.id===e.id?m.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:m.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;var f=a(s.default,{src:e.getAvatarURL("png"),size:s.default.Sizes.XSMALL,className:(0,i.default)(E.default.clickable,t),onContextMenu:function(t){return null!=u&&null!=e&&u(t,e)}},e.id);return d&&(f=a(h.default,{text:d},void 0,f)),f=a(c.default,{render:function(t){return null!=e&&l(t,e)}},e.id,f)},o.renderPartyMemberOverflow=function(e,t,n){var r=o.props.renderOverflowPopout;return a(c.default,{render:r},n,a(h.default,{text:m.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,a("div",{className:(0,i.default)(t,E.default.clickable)},void 0,e)))},g(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===n.id},t.prototype.renderTitle=function(){return a("div",{className:E.default.textWrap},void 0,a("div",{className:E.default.title},void 0,this.isHost()?m.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):m.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),a("div",{className:E.default.subtitle},void 0,m.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))},t.prototype.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:a(h.default,{text:m.default.Messages.SPOTIFY_LISTEN_ALONG_STOP},void 0,a(d.default,{onClick:e},void 0,a(f.default,{name:f.default.Names.CLOSE,className:E.default.actionIcon})))},t.prototype.renderHelpIcon=function(){return this.isHost()?a(h.default,{text:m.default.Messages.SPOTIFY_LISTEN_ALONG_INFO},void 0,a(p.default,{href:l.default.getArticleURL(v.HelpdeskArticles.SPOTIFY_CONNECTION),className:E.default.iconLink},void 0,a(f.default,{name:f.default.Names.INFO,className:E.default.actionIcon}))):null},t.prototype.render=function(){return a("div",{className:E.default.listeningAlong},void 0,this.renderTitle(),a(u.default,{justify:u.default.Justify.END,className:E.default.party},void 0,a(y.default,{users:this.props.party,max:this.isHost()?S:T,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),a("div",{className:E.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))},t}(r.PureComponent);C.displayName="ListeningAlong",t.default=C,e.exports=t.default},7225:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=C(n(1)),l=T(n(7)),s=T(n(3)),u=n(116),d=T(n(237)),f=T(n(13)),c=T(n(61)),p=T(n(562)),h=C(n(399)),y=T(n(7224)),m=T(n(6544)),v=n(32),E=T(n(929)),_=T(n(521)),g=T(n(6)),S=n(0);function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=N(this,e.call.apply(e,[this].concat(s))),o.handleUserContextMenu=function(e,t){(0,v.openContextMenu)(e,function(e){return i.createElement(E.default,r({},e,{type:S.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},o.renderOverflowPopout=function(){var e=o.props.party;return o.hasParty(e)?a(m.default,{party:e,header:g.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})}):null},N(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){this.hasParty(this.props.party)!==this.hasParty(e.party)&&u.ComponentDispatch.dispatch(S.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE)},t.prototype.hasParty=function(e){return e.length>1},t.prototype.handleStopListening=function(){h.stopSyncing()},t.prototype.renderUserPopout=function(e,t){return i.createElement(_.default,r({},e,{user:t}))},t.prototype.render=function(){var e=this.props,t=e.currentUser,n=e.host,o=e.party;return this.hasParty(o)?a(y.default,{currentUser:t,host:n,party:o,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null},t}(i.PureComponent);b.displayName="ListeningAlong",t.default=s.default.connectStores([d.default,f.default,p.default],function(){var e=d.default.getSyncingWith(),t=d.default.getActivity(),n=f.default.getCurrentUser(),o=void 0,a=[],r=void 0;return null!=e?(o=f.default.getUser(e.userId),r=e.partyId):null!=t&&null!=t.party&&null!=t.party.id&&(o=n,r=t.party.id),null!=r&&(a=(0,l.default)(Array.from(p.default.getParty(r)||[])).map(function(e){return f.default.getUser(e)}).filter(function(e){return null!=e}).orderBy([function(e){return null==o||o.id===e.id},function(e){return c.default.isFriend(e.id)}],["desc","desc"]).value()),{currentUser:n,host:o,party:a}})(b),e.exports=t.default},7227:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=n(226),d=k(n(3)),f=k(n(6)),c=n(78),p=k(n(42)),h=k(n(225)),y=k(n(94)),m=k(n(6644)),v=k(n(81)),E=k(n(6393)),_=k(n(231)),g=k(n(95)),S=k(n(55)),T=k(n(6641)),C=k(n(18)),N=k(n(65)),b=k(n(25)),O=k(n(6441)),I=k(n(57)),A=k(n(167)),M=k(n(6069)),R=k(n(6148)),P=n(32),L=n(0),w=k(n(946)),D=k(n(6059)),U=k(n(5594));function k(e){return e&&e.__esModule?e:{default:e}}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(0,D.default)((0,w.default)(L.Experiments.EXPERIMENTAL_ADM,"Experimental Audio Subsystem","Enable experimental audio subsystem."),((r={})[L.ExperimentTypes.USER]=((a={})[L.ExperimentBuckets.CONTROL]=function(e){return null},a[L.ExperimentBuckets.TREATMENT_1]=function(e){return null},a),r));var x=d.default.connectStores([_.default],function(){return{connectionState:_.default.getState(),hostname:_.default.getHostname(),pings:_.default.getPings(),averagePing:_.default.getAveragePing(),lastPing:_.default.getLastPing(),outboundLossRate:_.default.getOutboundLossRate()}})(m.default),G=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=F(this,e.call.apply(e,[this].concat(r))),o.renderPopout=function(e){return s.createElement(x,e)},o.handleDisconnect=function(){A.default.selectVoiceChannel(null,null)},o.handleScreenShare=function(e){var t=o.props,n=t.isScreenSharing,a=t.channel,r=I.default.getCurrentGame();n||null!=r?e&&(0,P.openContextMenu)(e,function(e){return s.createElement(E.default,l({},e,{channel:a,game:r}))}):R.default.open(a)},F(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.guild,n=e.channel,o=e.rtcConnectionQuality,a=e.rtcConnectionState,r=e.rtcConnectionLastPing,l=e.hasVideo,s=e.hasGuildVideo,d=e.selectedChannelId,c=e.isScreenSharing;if(null==n)return null;var m=n.toString(!0),E=void 0;null!=t?(E=L.Routes.CHANNEL(t.id,s?n.id:d),m=m+" / "+t.name):E=L.Routes.CHANNEL(L.ME,n.id);var _=i(T.default,{className:s?U.default.status:"",quality:o,state:a,lastPing:r,hasVideo:l}),g=void 0,S=void 0;return s?(_=i(h.default,{closeOnScroll:!1,render:this.renderPopout,position:h.default.Positions.TOP,showArrow:!0,containerClass:U.default.popout},void 0,i("div",{},void 0,_)),S=i(y.default,{text:c?f.default.Messages.SCREEN_SHARE_OPTIONS:f.default.Messages.SCREEN_SHARE_ON},void 0,i(v.default,{onClick:this.handleScreenShare},void 0,i("div",{className:U.default.buttonScreenShare})))):g=i(h.default,{closeOnScroll:!1,render:this.renderPopout,position:h.default.Positions.TOP,showArrow:!0,containerClass:U.default.popout},void 0,i(y.default,{text:f.default.Messages.RTC_CONNECTION_INFO},void 0,i("div",{className:U.default.buttonInfo}))),i("div",{className:U.default.container},void 0,i("div",{className:U.default.inner},void 0,_,i(u.Link,{to:E,className:U.default.channel,onClick:function(){return M.default.channelListScrollTo(t?t.id:L.ME,n.id)}},void 0,m)),i(p.default,{grow:0,shrink:0},void 0,g,S,i(y.default,{text:f.default.Messages.DISCONNECT},void 0,i(v.default,{onClick:this.handleDisconnect},void 0,i("div",{className:U.default.buttonDisconnect})))))},t}(s.PureComponent);G.displayName="RTCConnection",t.default=d.default.connectStores([_.default,S.default,b.default,C.default,N.default,g.default,O.default],function(){var e=_.default.getGuildId(),t=_.default.getChannelId();return{rtcConnectionQuality:_.default.getQuality(),rtcConnectionState:_.default.getState(),rtcConnectionLastPing:_.default.getLastPing(),hasVideo:null!=t&&g.default.hasVideo(e,t),isScreenSharing:S.default.isScreenSharing(),guild:b.default.getGuild(e),channel:C.default.getChannel(t),hasGuildVideo:O.default.isAvailable(e)&&S.default.supports(c.Features.DESKTOP_CAPTURE),selectedChannelId:N.default.getChannelId(e)}})(G),e.exports=t.default},7230:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=B(n(3)),d=B(n(6)),f=B(n(9)),c=B(n(6647)),p=n(6646),h=B(p),y=n(6077),m=B(y),v=B(n(6092)),E=B(n(6079)),_=B(n(75)),g=B(n(6703)),S=B(n(6059)),T=B(n(13)),C=B(n(87)),N=B(n(968)),b=B(n(6100)),O=B(n(525)),I=B(n(18)),A=B(n(935)),M=B(n(61)),R=B(n(6149)),P=B(n(28)),L=B(n(6645)),w=B(n(6101)),D=B(n(46)),U=B(n(6450)),k=B(n(6707)),F=B(n(229)),x=n(6124),G=n(0),j=B(n(5780));function B(e){return e&&e.__esModule?e:{default:e}}var H=u.default.connectStores([U.default,T.default],function(e){return{shouldShowBadge:!(e.hideIfUserNotPremium&&!F.default.canInstallPremiumApplications(T.default.getCurrentUser())||U.default.hasViewed(G.ViewHistoryKeys.APPLICATION_LIBRARY_BADGE))}})(function(e){return e.shouldShowBadge?l(E.default,{text:d.default.Messages.NEW,className:j.default.tabBadge}):null}),V=(0,S.default)(k.default,((a={})[G.ExperimentTypes.NONE]=function(e){return null},a[G.ExperimentTypes.USER]=((o={})[G.ExperimentBuckets.CONTROL]=function(e){return null},o[G.ExperimentBuckets.TREATMENT_1]=function(e){return null},o[G.ExperimentBuckets.TREATMENT_2]=function(e){return s.createElement(H,i({},e,{hideIfUserNotPremium:!0}))},o[G.ExperimentBuckets.TREATMENT_3]=function(e){return s.createElement(H,e)},o),a)),Y=u.default.connectStores([w.default],function(){return{hasSeenDirectory:w.default.hasSeenDirectory}})(function(e){return e.hasSeenDirectory?null:l(E.default,{text:d.default.Messages.NEW,className:j.default.tabBadge})}),W=u.default.connectStores([M.default,R.default],function(){return{badge:M.default.getPendingCount()+R.default.getSuggestionCount()}})(function(e){var t=e.selected,n=e.badge;return l(p.LinkButton,{selected:t,route:G.Routes.FRIENDS,iconName:_.default.Names.PERSON_WAVING,text:d.default.Messages.FRIENDS},void 0,l(E.default,{value:n}))}),z=u.default.connectStores([I.default,T.default,C.default,N.default],function(e){var t=e.channel,n=T.default.getUser(t.getRecipientId());return{user:n,status:null!=n?C.default.getStatus(n.id):null,activity:null!=n?C.default.getPrimaryActivity(n.id):null,typing:null!=n?N.default.isTyping(t.id,t.getRecipientId()):null,showMobileIndicator:null!=n&&C.default.isMobileOnline(n.id)}})(h.default);function K(e,t){var n=e.type===G.ChannelTypes.GROUP_DM?h.default:z;return l(n,{channel:e,selected:t},e.id)}K.displayName="renderChannel";var $=u.default.connectStores([P.default,L.default,b.default,D.default,A.default,O.default,I.default],function(){return{shouldShowGamesTab:!P.default.disableGamesTab,hasLibraryApplication:D.default.hasLibraryApplication(),storeLink:L.default.getCurrentPath(),homeLink:b.default.getHomeLink(),selectedChannelId:A.default.getChannelId(G.ME),privateChannelIds:O.default.getPrivateChannelIds(),channels:I.default.getChannels(),version:I.default.getPrivateChannelsVersion()}})(c.default),q=function(){return(0,x.show)("DM_SEARCH","@")};var X=l(V,{}),Q=l(Y,{});t.default=u.default.connectStores([P.default,L.default,b.default,D.default],function(){return{shouldShowGamesTab:!P.default.disableGamesTab,hasLibraryApplication:D.default.hasLibraryApplication(),storeLink:L.default.getCurrentPath(),homeLink:b.default.getHomeLink()}})(function(e){var t,n=e.shouldShowGamesTab,o=e.hasLibraryApplication,a=e.homeLink,r=e.storeLink,u=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["shouldShowGamesTab","hasLibraryApplication","homeLink","storeLink"]);return l("div",{className:j.default.privateChannels},void 0,l(m.default,{tutorialId:"direct-messages",position:y.TutorialIndicatorPositions.RIGHT,offsetY:-18,offsetX:-52},void 0,l("div",{className:j.default.searchBar},void 0,l(v.default,{onFocus:q,onActivate:q,className:j.default.searchBarComponent}))),s.createElement($,i({},u,{renderChannel:K}),n?l(p.LinkButton,{selected:a===G.Routes.ACTIVITY,route:G.Routes.ACTIVITY,iconName:_.default.Names.ACTIVITY,text:d.default.Messages.ACTIVITY}):null,o||n?l(p.LinkButton,{selected:null!=a&&a.startsWith(G.Routes.APPLICATION_LIBRARY),route:G.Routes.APPLICATION_LIBRARY,iconName:_.default.Names.LIBRARY,text:d.default.Messages.LIBRARY},void 0,X,l(g.default,{className:(0,f.default)(j.default.downloadProgressCircle,(t={},t[j.default.hideGameUpdateProgressIndicator]=a===G.Routes.APPLICATION_LIBRARY,t))})):null,n?l(p.LinkButton,{selected:null!=a&&a.startsWith(G.Routes.APPLICATION_STORE),route:null==r||location.pathname.startsWith(G.Routes.APPLICATION_STORE)||location.pathname===G.Routes.APPLICATION_LIBRARY_PREMIUM?G.Routes.APPLICATION_STORE:r,locationState:{analyticsSource:{page:function(e){switch(e){case G.Routes.ACTIVITY:return G.AnalyticsPages.ACTIVITY_FEED;case G.Routes.APPLICATION_LIBRARY:return G.AnalyticsPages.LIBRARY;case G.Routes.APPLICATION_LIBRARY_INVENTORY:return G.AnalyticsPages.LIBRARY_INVENTORY;case G.Routes.FRIENDS:return G.AnalyticsPages.FRIENDS_LIST}return e.startsWith(G.Routes.APPLICATION_STORE)?e===G.Routes.APPLICATION_STORE?G.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(G.Routes.APPLICATION_STORE_BROWSE)?G.AnalyticsPages.STORE_DIRECTORY_BROWSE:G.AnalyticsPages.STORE_LISTING:G.AnalyticsPages.DM_CHANNEL}(a),section:G.AnalyticsSections.NAVIGATION,object:G.AnalyticsObjects.NAVIGATION_LINK}},iconName:_.default.Names.STORE,text:d.default.Messages.STORE},void 0,Q):null,l(W,{selected:a===G.Routes.FRIENDS}),l("header",{},void 0,d.default.Messages.DIRECT_MESSAGES)))}),e.exports=t.default},7231:function(e,t,n){e.exports=n.p+"b669713872b43ca42333264abf9c858e.svg"},7232:function(e,t,n){e.exports=n.p+"c84361b810ca7c10d6e8ddb6ea722ebe.svg"},7233:function(e,t,n){e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},7234:function(e,t,n){e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},7235:function(e,t,n){e.exports=n.p+"a12ff54c4c5c03b41006fd96a4709c29.svg"},7236:function(e,t,n){e.exports=n.p+"d834d700306f3838c0facef39e7d8a38.svg"},7237:function(e,t,n){e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},7238:function(e,t,n){e.exports=n.p+"6b7098de4cc16f7e431ad8f9aae7f6db.svg"},7239:function(e,t,n){e.exports=n.p+"dd9f22c9e2365062db9d5f75c870e5d7.svg"},7240:function(e,t,n){e.exports=n.p+"77abb58874a4aa3b9a6b6efa852430cf.svg"},7241:function(e,t,n){e.exports=n.p+"88ae294007700a195d8ff49d8f5a01ac.svg"},7242:function(e,t,n){e.exports=n.p+"c7e67cd728f25433eb5b7c1f9dba225e.svg"},7243:function(e,t,n){"use strict";t.__esModule=!0,t.validateDiscordTag=function(e){if(/^(.+?@.+?\..+?|.+?#\d{4})$/.test(e))return null;if(/^DiscordTag/i.test(e))return r.default.Messages.ADD_FRIEND_ERROR_DISCORD_TAG_USERNAME;if(/^\d+$/.test(e))return r.default.Messages.ADD_FRIEND_ERROR_NUMBERS_ONLY;if(e.length>0&&-1===e.indexOf("#"))return r.default.Messages.ADD_FRIEND_ERROR_USERNAME_ONLY.format({username:e});return r.default.Messages.ADD_FRIEND_ERROR_OTHER},t.humanizeAbortCode=function(e,t){switch(e){case i.AbortCodes.RELATIONSHIP_INCOMING_DISABLED:return r.default.Messages.ADD_FRIEND_ERROR_INVALID_DISCORD_TAG.format({discordTag:t});case i.AbortCodes.RELATIONSHIP_INCOMING_BLOCKED:case i.AbortCodes.RELATIONSHIP_INVALID_SELF:case i.AbortCodes.RELATIONSHIP_INVALUD_USER_BOT:case i.AbortCodes.RELATIONSHIP_INVALID_DISCORD_TAG:default:return r.default.Messages.ADD_FRIEND_ERROR_OTHER}};var o,a=n(6),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},7244:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(54)),l=h(n(66)),s=h(n(45)),u=h(n(284)),d=n(7243),f=h(n(6)),c=n(0),p=h(n(5785));function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,i.default)({displayName:"AddFriendInput",mixins:[l.default],getInitialState:function(){return{canSend:!1,hint:""}},handleSubmit:function(e){var t=this;e.preventDefault();var n=this.props.onSubmit,o=this.refs.INPUT_REF.value.trim(),a=(0,d.validateDiscordTag)(o);null!=a?n(a):(this.setState({canSend:!1}),u.default.sendRequest(o,{location:"Add Friend"}).then(function(){n(null,f.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:o})),t.refs.INPUT_REF.value="",t.setState(t.getInitialState(),t.focus)},function(e){n((0,d.humanizeAbortCode)(e.body.code,o)),t.setState({canSend:!0})}))},handleChange:function(e){var t=e.currentTarget.value;if(t.length>0){var n=t.split("#")[1];this.setState({hint:t+c.PLACEHOLDER_TAG.slice(null!=n?n.length+1:0),canSend:!0})}else this.setState({hint:"",canSend:!1});this.props.onError&&this.props.onError(null)},handleKeyPress:function(e){var t=e.currentTarget.value;if(13!==e.which){var n=t.indexOf("#");if(n>-1){var o=this.refs.INPUT_REF.selectionStart,a=8===e.which||37===e.which||39===e.which,r=e.which>=48&&e.which<=57;o>n&&/^(.+?#\d{4})$/.test(t)&&!a?e.preventDefault():o>n&&!r&&!a&&e.preventDefault()}}},focus:function(){this.refs.INPUT_REF.focus()},renderHint:function(){return a("div",{className:p.default.addFriendHint,onClick:this.focus},void 0,this.state.hint)},render:function(){var e=this.state.canSend;return a("form",{className:p.default.wrapper,onSubmit:this.handleSubmit},void 0,r.createElement("input",{ref:"INPUT_REF",className:p.default.addFriendInput,placeholder:f.default.Messages.ADD_FRIEND_PLACEHOLDER,onKeyPress:this.handleKeyPress,onChange:this.handleChange,autoFocus:!0,maxLength:37}),this.renderHint(),a(s.default,{size:s.default.Sizes.SMALL,disabled:!e,type:"submit"},void 0,f.default.Messages.ADD_FRIEND_BUTTON))}});t.default=y,e.exports=t.default},7245:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=ve(n(1)),l=n(226),s=me(n(54)),u=me(n(522)),d=me(n(9)),f=me(n(512)),c=me(n(7)),p=me(n(3)),h=me(n(82)),y=n(78),m=me(n(6079)),v=me(n(934)),E=me(n(81)),_=n(265),g=me(n(6195)),S=me(n(6063)),T=n(6072),C=me(T),N=me(n(227)),b=me(n(530)),O=me(n(528)),I=n(32),A=me(n(993)),M=me(n(94)),R=me(n(42)),P=me(n(6056)),L=me(n(75)),w=me(n(45)),D=me(n(380)),U=me(n(929)),k=me(n(166)),F=me(n(71)),x=me(n(6082)),G=me(n(6655)),j=me(n(7244)),B=me(n(6648)),H=me(n(6149)),V=me(n(13)),Y=me(n(18)),W=me(n(28)),z=me(n(61)),K=me(n(132)),$=me(n(297)),q=me(n(970)),X=me(n(55)),Q=me(n(41)),J=me(n(11)),Z=me(n(66)),ee=me(n(269)),te=me(n(1e3)),ne=me(n(284)),oe=me(n(148)),ae=me(n(35)),re=me(n(289)),ie=me(n(6702)),le=me(n(370)),se=ve(n(6175)),ue=n(1018),de=n(107),fe=me(n(6)),ce=me(n(224)),pe=me(n(5784)),he=me(n(510)),ye=n(0);function me(e){return e&&e.__esModule?e:{default:e}}function ve(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Ee(e){switch(e){case"separator":return pe.default.friendsColumnSeparator;case"name":return pe.default.friendsColumnName;case"status":return pe.default.friendsColumnStatus;case"guilds":return pe.default.friendsColumnGuilds;case"actions":return pe.default.friendsColumnActions;case"actions-visible":return pe.default.friendsColumnActionsVisible;default:return null}}var _e={NO_SUGGESTIONS:{lightSrc:n(7242),darkSrc:n(7241),width:403,height:157},NO_CONNECTED_ACCOUNTS:{lightSrc:n(7240),darkSrc:n(7239),width:402,height:201},SECTION_ALL:{lightSrc:n(7238),darkSrc:n(7237),width:376,height:162},SECTION_ONLINE:{lightSrc:n(7236),darkSrc:n(7235),width:421,height:218},SECTION_BLOCKED:{lightSrc:n(7234),darkSrc:n(7233),width:433,height:232},SECTION_PENDING:{lightSrc:n(7232),darkSrc:n(7231),width:415,height:200}},ge=r(u.default,{title:"Discord"}),Se=function(e){var t=e.style,n=e.hasAccounts,o=e.onDownloadApp,a=e.onConnectAccounts,i=e.theme,l=void 0,s=void 0,u=void 0;return n||J.default.embedded?!n&&J.default.embedded?(u=_e.NO_CONNECTED_ACCOUNTS,l=fe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_ACCOUNTS,s=r(w.default,{className:he.default.marginTop20,onClick:a},void 0,fe.default.Messages.CONNECT_ACCOUNTS)):(u=_e.NO_SUGGESTIONS,l=fe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_SUGGESTION):(u=_e.NO_CONNECTED_ACCOUNTS,l=fe.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_DOWNLOAD,s=r(w.default,{className:he.default.marginTop20,onClick:o},void 0,fe.default.Messages.DOWNLOAD)),r(ce.default.div,{className:pe.default.friendsEmpty,style:t},void 0,ge,r(P.default,{theme:i},void 0,r(P.default.Image,{width:u.width,height:u.height,lightSrc:u.lightSrc,darkSrc:u.darkSrc,theme:i}),r(P.default.Text,{note:l}),s))};Se.displayName="AddFriendEmpty";var Te=r(u.default,{title:"Discord"}),Ce=r(u.default,{title:"Discord"}),Ne=r(u.default,{title:"Discord"}),be=r(u.default,{title:"Discord"}),Oe=(0,s.default)({displayName:"FriendsEmptyState",mixins:[Z.default,p.default.StoreListenerMixin(W.default,$.default)],getInitialState:function(){return{opacity:new ce.default.Value(1)}},getStateFromStores:function(){return{hasAccounts:$.default.getUnsafeAccounts().length>0,accounts:$.default.getAccounts(),theme:W.default.theme}},componentWillEnter:function(e){this.state.opacity.setValue(0),ce.default.timing(this.state.opacity,{toValue:1,duration:250}).start(e)},componentWillLeave:function(e){ce.default.timing(this.state.opacity,{toValue:0,duration:250}).start(e)},handleDownloadApp:function(){ae.default.push(D.default,{source:"Suggestions"})},handleConnectAccounts:function(){le.default.open(ye.UserSettingsSections.CONNECTIONS)},render:function(){var e=this.props,t=e.type,n=e.onClick,o=this.state,a=o.theme,i=o.hasAccounts,l=o.accounts,s={opacity:this.state.opacity};switch(t){case ye.FriendsSections.ADD_FRIEND:return r(Se,{hasAccounts:i,accounts:l,style:s,onDownloadApp:this.handleDownloadApp,onConnectAccounts:this.handleConnectAccounts,theme:a});case ye.FriendsSections.ALL:return r(ce.default.div,{className:pe.default.friendsEmpty,style:s},void 0,Te,r(P.default,{theme:a},void 0,r(P.default.Image,{width:_e.SECTION_ALL.width,height:_e.SECTION_ALL.height,lightSrc:_e.SECTION_ALL.lightSrc,darkSrc:_e.SECTION_ALL.darkSrc,theme:a}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_ALL}),r(w.default,{className:he.default.marginTop20,onClick:n},void 0,fe.default.Messages.ADD_FRIEND)));case ye.FriendsSections.ONLINE:return r(ce.default.div,{className:pe.default.friendsEmpty,style:s},void 0,Ce,r(P.default,{theme:a},void 0,r(P.default.Image,{width:_e.SECTION_ONLINE.width,height:_e.SECTION_ONLINE.height,lightSrc:_e.SECTION_ONLINE.lightSrc,darkSrc:_e.SECTION_ONLINE.darkSrc,theme:a}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})));case ye.FriendsSections.PENDING:return r(ce.default.div,{className:pe.default.friendsEmpty,style:s},void 0,Ne,r(P.default,{theme:a},void 0,r(P.default.Image,{width:_e.SECTION_PENDING.width,height:_e.SECTION_PENDING.height,lightSrc:_e.SECTION_PENDING.lightSrc,darkSrc:_e.SECTION_PENDING.darkSrc,theme:a}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_PENDING})));case ye.FriendsSections.BLOCKED:return r(ce.default.div,{className:pe.default.friendsEmpty,style:s},void 0,be,r(P.default,{theme:a},void 0,r(P.default.Image,{width:_e.SECTION_BLOCKED.width,height:_e.SECTION_BLOCKED.height,lightSrc:_e.SECTION_BLOCKED.lightSrc,darkSrc:_e.SECTION_BLOCKED.darkSrc,theme:a}),r(P.default.Text,{note:fe.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})));default:return null}}}),Ie=function(e){var t=e.guild;return r(M.default,{text:t.toString()},void 0,r(l.Link,{to:ye.Routes.GUILD(t.id),onClick:function(e){return e.stopPropagation()}},void 0,r(S.default,{guild:t,textScale:.8,size:S.default.Sizes.SMALL})))};Ie.displayName="MutualGuild";var Ae=function(e){var t=e.num,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["num"]);return i.createElement("div",a({className:pe.default.moreMutualGuildsBtn},n),"+",t)};Ae.displayName="MoreMutualGuildsButton";var Me=function(e){return r("div",{className:(0,d.default)(pe.default.friendsColumn,Ee(e.column))},void 0,e.children)};Me.displayName="FriendsColumn";var Re=function(){return r("div",{className:Ee("separator")})};Re.displayName="FriendsColumnSeparator";var Pe={getInitialState:function(){return{height:new ce.default.Value(62),opacity:new ce.default.Value(1)}},componentWillEnter:function(e){this.state.opacity.setValue(0),this.state.height.setValue(0),ce.default.parallel([ce.default.timing(this.state.opacity,{toValue:1,duration:200}),ce.default.timing(this.state.height,{toValue:62,duration:200})]).start(e)},componentWillLeave:function(e){ce.default.parallel([ce.default.timing(this.state.opacity,{toValue:0,duration:200}),ce.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)}};function Le(e){var t=e.type,n=e.tooltip,o=e.onClick,a=r(E.default,{onClick:o,className:(0,d.default)(pe.default.friendsAction,function(e){switch(e){case"add":return pe.default.friendsActionAdd;case"remove":return pe.default.friendsActionRemove;case"voice-call":return pe.default.friendsActionVoiceCall;case"video-call":return pe.default.friendsActionVideoCall;case"accept":return pe.default.friendsActionAccept;case"ignore":return pe.default.friendsActionIgnore;case"cancel":return pe.default.friendsActionCancel;default:return null}}(t),null==o?pe.default.disabled:null)});return r(M.default,{text:n},void 0,a)}Le.displayName="Action";var we=(0,s.default)({displayName:"FriendSuggestionRow",mixins:[Pe,Z.default,p.default.StoreListenerMixin(W.default,K.default)],getStateFromStores:function(){return{theme:W.default.theme,hide:K.default.hidePersonalInformation}},handleOpenProfile:function(e){e.stopPropagation();var t=this.props.user;re.default.open(t.id)},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;ne.default.addRelationship(t.id,{location:"Friend Suggestion"})},handleIgnoreFriendSuggestion:function(e){e.stopPropagation();var t=this.props.user;ie.default.ignore(t.id)},render:function(){var e=this.props,t=e.user,n=e.reasons,o=this.state,a=o.hide,i=o.theme,l=void 0;return a||(l=n.map(function(e,t){var n=e.name,o=e.platform_type,a=h.default.get(o);return r("div",{className:pe.default.friendsSuggestionPlatform},t,r("img",{alt:fe.default.Messages.IMG_ALT_LOGO.format({name:a.icon}),className:pe.default.friendsSuggestionPlatformIcon,src:i===ye.ThemeTypes.DARK?a.icon.white:a.icon.grey}),r("span",{className:pe.default.friendsSuggestionPlatformName},void 0,n))})),r(ce.default.div,{className:pe.default.friendsRow,onClick:this.handleOpenProfile,style:{height:this.state.height,opacity:this.state.opacity}},void 0,r("div",{className:pe.default.friendsSuggestionInner},void 0,r(v.default,{user:t,size:_.AvatarSizes.LARGE,outerClassName:pe.default.avatarLarge}),r("div",{className:pe.default.friendsSuggestionInfo},void 0,r(O.default,{user:t}),r("div",{className:pe.default.friendsSuggestionPlatforms},void 0,l))),r("div",{className:(0,d.default)(pe.default.friendsColumn,Ee("actions"),Ee("actions-visible"))},void 0,r(Le,{type:"add",tooltip:fe.default.Messages.SEND_FRIEND_REQUEST,onClick:this.handleAddRelationship}),r(Le,{type:"ignore",tooltip:fe.default.Messages.FRIEND_REQUEST_IGNORE,onClick:this.handleIgnoreFriendSuggestion})))}}),De=(0,s.default)({displayName:"FriendRow",mixins:[Pe,Z.default],handleOpenProfile:function(e){e.stopPropagation(),re.default.open(this.props.user.id)},handleOpenPrivateChannel:function(e){e.stopPropagation();var t=this.props.user,n=c.default.find(Y.default.getChannels(),function(e){return e.type===ye.ChannelTypes.DM&&e.getRecipientId()===t.id});null!=n?Q.default.transitionTo(ye.Routes.CHANNEL(ye.ME,n.id)):oe.default.openPrivateChannel(V.default.getCurrentUser().id,t.id)},handleRemoveFriend:function(e){var t=this;e.stopPropagation(),ae.default.push(function(e){return i.createElement(k.default,a({header:fe.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.props.user.toString()}),confirmText:fe.default.Messages.REMOVE_FRIEND,cancelText:fe.default.Messages.CANCEL,onConfirm:t.handleRemoveRelationship},e),r(F.default,{size:F.default.Sizes.MEDIUM,color:F.default.Colors.PRIMARY},void 0,fe.default.Messages.REMOVE_FRIEND_BODY.format({name:t.props.user.toString()})))})},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;ne.default.addRelationship(t.id,{location:"Friends"})},handleRemoveRelationship:function(e){e&&e.stopPropagation(),ne.default.removeRelationship(this.props.user.id,{location:"Friends"})},handleContextMenu:function(e,t){(0,I.openContextMenu)(e,function(e){return i.createElement(U.default,a({},e,{type:ye.ContextMenuTypes.USER_FRIEND_LIST,user:t}))})},handleVideoCall:function(e){ee.default.setVideoEnabled(!0),this.handleVoiceCall(e)},handleVoiceCall:function(e){e.stopPropagation(),oe.default.openPrivateChannel(V.default.getCurrentUser().id,this.props.user.id,!0)},renderActivity:function(e){return r(R.default,{align:R.default.Align.CENTER},void 0,r("div",{className:pe.default.friendActivityText},void 0,(0,de.renderActivity)(e)),(0,de.hasRichActivity)(e)&&r(L.default,{name:L.default.Names.RICH_ACTIVITY,className:pe.default.friendActivityIcon,foreground:pe.default.friendActivityIconForeground}))},render:function(){var e,t=this,n=this.props,o=n.user,a=n.type,i=n.mutualGuilds,l=n.mutualGuildsLength,s=n.activity,u=n.video,f=[],c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f.push(r(Le,{type:e,tooltip:t,onClick:n},f.length))},p=this.props.status,h=null!=s?this.renderActivity(s):(0,ue.humanizeStatus)(this.props.status),y=!0;switch(a){case ye.RelationshipTypes.FRIEND:y=!1,u&&c("video-call",fe.default.Messages.START_VIDEO_CALL,this.handleVideoCall),c("voice-call",fe.default.Messages.START_VOICE_CALL,this.handleVoiceCall),c("remove",fe.default.Messages.REMOVE_FRIEND,this.handleRemoveFriend);break;case ye.RelationshipTypes.BLOCKED:p=ye.StatusTypes.UNKNOWN,h=fe.default.Messages.BLOCKED,c("remove",fe.default.Messages.UNBLOCK,this.handleRemoveRelationship);break;case ye.RelationshipTypes.PENDING_INCOMING:p=p===ye.StatusTypes.OFFLINE?ye.StatusTypes.UNKNOWN:p,h=fe.default.Messages.INCOMING_FRIEND_REQUEST,c("accept",fe.default.Messages.FRIEND_REQUEST_ACCEPT,this.handleAddRelationship),c("ignore",fe.default.Messages.FRIEND_REQUEST_IGNORE,this.handleRemoveRelationship);break;case ye.RelationshipTypes.PENDING_OUTGOING:y=!1,p=p===ye.StatusTypes.OFFLINE?ye.StatusTypes.UNKNOWN:p,h=fe.default.Messages.OUTGOING_FRIEND_REQUEST,c("cancel",fe.default.Messages.FRIEND_REQUEST_CANCEL,this.handleRemoveRelationship)}var m=void 0;return l>ye.MAX_MUTUAL_GUILDS&&(m=r(Ae,{num:l-ye.MAX_MUTUAL_GUILDS,onClick:this.handleOpenProfile})),r(ce.default.div,{className:pe.default.friendsRow,onClick:this.handleOpenPrivateChannel,onContextMenu:function(e){return t.handleContextMenu(e,o)},style:{height:this.state.height,opacity:this.state.opacity}},void 0,r("div",{className:(0,d.default)(pe.default.friendsColumn,Ee("name"))},void 0,r(v.default,{user:o,outerClassName:pe.default.avatarSmall}),r(O.default,{user:o})),r("div",{className:(0,d.default)(pe.default.friendsColumn,Ee("status"))},void 0,r(g.default,{className:pe.default.status,defaultStatus:(0,de.isStreaming)(this.props.activity)?ye.StatusTypes.STREAMING:p}),r("span",{className:pe.default.statusText},void 0,h)),r("div",{className:(0,d.default)(pe.default.friendsColumn,Ee("guilds"))},void 0,i.map(function(e){return r(Ie,{guild:e},e.id)}),m),r("div",{className:(0,d.default)(pe.default.friendsColumn,Ee("actions"),(e={},e[Ee("actions-visible")]=y,e))},void 0,f))}}),Ue=r(Re,{}),ke=r(Re,{}),Fe=r(Re,{}),xe=r(Me,{column:"actions"}),Ge=function(){return r("div",{className:pe.default.friendsTableHeader},void 0,r(Me,{column:"name"},void 0,fe.default.Messages.FRIENDS_COLUMN_NAME),Ue,r(Me,{column:"status"},void 0,fe.default.Messages.FRIENDS_COLUMN_STATUS),ke,r(Me,{column:"guilds"},void 0,fe.default.Messages.MUTUAL_GUILDS),Fe,xe)};Ge.displayName="FriendsTableHeader";var je=(0,s.default)({displayName:"AddFriendHeader",mixins:[p.default.StoreListenerMixin(q.default)],getInitialState:function(){return{addFriendError:null,addFriendSuccess:null}},getStateFromStores:function(){return{availablePlatformTypes:q.default.getAvailablePlatformTypes().filter(function(e){return e!==ye.PlatformTypes.FACEBOOK})}},handleAddFriendSubmit:function(e,t){this.setState({addFriendError:e,addFriendSuccess:t})},render:function(){var e,t=this.state,n=t.availablePlatformTypes,o=t.addFriendSuccess,a=t.addFriendError,i=void 0;n.length>0&&(i=r("div",{className:pe.default.connectAccounts},void 0,r("h2",{className:pe.default.oldH2},void 0,fe.default.Messages.CONNECT_ACCOUNTS_TITLE),r("h3",{},void 0,fe.default.Messages.CONNECT_ACCOUNTS_DESCRIPTION),r("div",{className:pe.default.connectAccountBtnGroup},void 0,n.slice(0,4).map(function(e){return r(A.default,{type:e,location:"Friends"},e)}))));var l=!1,s=!1,u=fe.default.Messages.ADD_FRIEND_DESCRIPTION;return null!=o?(l=!0,u=o):null!=a&&(s=!0,u=a),r("div",{className:pe.default.friendTableAddWrapper},void 0,r("div",{className:pe.default.friendTableAddHeader},void 0,r("div",{className:pe.default.friendsTableAdd},void 0,r("h2",{className:pe.default.oldH2},void 0,fe.default.Messages.ADD_FRIEND),r("div",{className:(0,d.default)(pe.default.friendTableAddDescription,(e={},e[pe.default.success]=l,e[pe.default.error]=s,e))},void 0,u),r(j.default,{onSubmit:this.handleAddFriendSubmit})),i),r("div",{className:pe.default.friendTableSuggestionsHeader},void 0,r("h2",{className:pe.default.oldH2},void 0,fe.default.Messages.FRIEND_SUGGESTIONS)))}}),Be=r(je,{}),He=r(Ge,{}),Ve=r(T.Separator,{}),Ye=r(T.Separator,{}),We=(0,s.default)({displayName:"Friends",mixins:[Z.default,p.default.StoreListenerMixin(B.default,H.default,z.default)],getStateFromStores:function(){return a({suggestionCount:H.default.getSuggestionCount(),relationshipCount:z.default.getRelationshipCount(),suggestions:H.default.getSuggestions(),video:X.default.supports(y.Features.VIDEO)},B.default.getState())},componentDidMount:function(){se.setHomeLink(ye.Routes.FRIENDS)},handleItemSelect:function(e){te.default.setSection(e)},handleAddFriend:function(){te.default.setSection(ye.FriendsSections.ADD_FRIEND)},renderHeaderToolbar:function(){return r(G.default,{tooltip:fe.default.Messages.NEW_GROUP_DM})},render:function(){var e,t=this.state,n=t.section,o=t.suggestions,l=t.rows,s=t.video,u=t.suggestionCount,c=t.pendingCount,p=t.relationshipCount,h=void 0,y=void 0;n===ye.FriendsSections.ADD_FRIEND?(h=o.map(function(e){return i.createElement(we,e)}),y=Be):(h=l.filter(n).map(function(e){return i.createElement(De,a({},e.toJS(),{video:s}))}),y=He);var v=0===h.length?[r(Oe,{type:n,onClick:this.handleAddFriend},n)]:h;return v=p>=64?r(b.default,{className:pe.default.friendsTableBody,elementHeight:62,theme:N.default.Themes.MESSAGES_THEMED_WITH_TRACK},void 0,v):r(N.default,{className:pe.default.friendsTableBody,theme:N.default.Themes.MESSAGES_THEMED_WITH_TRACK},void 0,r(f.default,{transitionAppear:!1,component:"div"},void 0,v)),r("div",{className:pe.default.container},void 0,r(x.default,{renderToolbar:this.renderHeaderToolbar},void 0,r(C.default,{selectedItem:n,type:T.Types.TOP_PILL,onItemSelect:this.handleItemSelect,className:pe.default.tabBar},void 0,r(T.Item,{className:(0,d.default)(pe.default.item,(e={},e[pe.default.primary]=n!==ye.FriendsSections.ADD_FRIEND,e[pe.default.primarySelected]=n===ye.FriendsSections.ADD_FRIEND,e)),id:ye.FriendsSections.ADD_FRIEND},void 0,fe.default.Messages.FRIENDS_SECTION_ADD_FRIEND," ",r(m.default,{value:u,className:pe.default.badge})),Ve,r(T.Item,{id:ye.FriendsSections.ALL,className:pe.default.item},void 0,fe.default.Messages.FRIENDS_SECTION_ALL),r(T.Item,{id:ye.FriendsSections.ONLINE,className:pe.default.item},void 0,fe.default.Messages.FRIENDS_SECTION_ONLINE),r(T.Item,{id:ye.FriendsSections.PENDING,className:pe.default.item},void 0,fe.default.Messages.FRIENDS_SECTION_PENDING," ",r(m.default,{value:c,className:pe.default.badge})),Ye,r(T.Item,{id:ye.FriendsSections.BLOCKED,className:pe.default.item},void 0,fe.default.Messages.BLOCKED))),r("div",{className:pe.default.friendsTable},void 0,y,v))}});t.default=We,e.exports=t.default},7246:function(e,t,n){e.exports=n.p+"25613a647083f6b2b196f40f58732de6.svg"},7247:function(e,t,n){e.exports=n.p+"94b5558353f1d01035a874f6eddf6d70.svg"},7248:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r=d(n(3)),i=d(n(2)),l=d(n(165)),s=d(n(6054)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(){return!0}var c=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([l.default],f)},t.prototype.getExperimentId=function(){return u.Experiments.CHAT_CLAIM_MODAL},t.prototype.getMetaData=function(){return{title:"Chat Claim Experiment",description:["Control: Off","Treatment 1: On"]}},t.prototype.getExperimentDescriptor=function(){return l.default.getEligibleExperiment(this.getExperimentId())},t.prototype.shouldAllowUnclaimedChat=function(){var e=this.getExperimentDescriptor();return null!=e&&(e.override||s.default.trigger(e),e.bucket===u.ExperimentBuckets.TREATMENT_1)},t}(r.default.Store))(i.default);s.default.register(c,((a={})[u.ExperimentTypes.USER]=((o={})[u.ExperimentBuckets.CONTROL]=function(){return null},o[u.ExperimentBuckets.TREATMENT_1]=function(){return null},o),a)),t.default=c,e.exports=t.default},7249:function(e,t,n){e.exports=n.p+"6793e022dc1b065b21f12d6df02f91bd.svg"},7250:function(e,t,n){e.exports=n.p+"03c7541028afafafd1a9f6a81cb7f149.svg"},7251:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=v(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),v(n(54))),l=v(n(66)),s=v(n(3)),u=v(n(6745)),d=v(n(6336)),f=v(n(6)),c=v(n(6335)),p=v(n(375)),h=v(n(6345)),y=v(n(13)),m=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var E=(0,i.default)({displayName:"ChannelPins",propTypes:{channel:r.default.object.isRequired,onJump:r.default.func},mixins:[s.default.StoreListenerMixin(u.default,p.default),l.default],fetchPins:function(e){d.default.ackPins(e.id),d.default.fetchPins(e.id)},UNSAFE_componentWillUpdate:function(e,t){t.hasUnreadPins&&!this.state.hasUnreadPins&&d.default.ackPins(this.props.channel.id)},getStateFromStores:function(){var e=u.default.getPinnedMessages(this.props.channel.id),t=p.default.hasUnreadPins(this.props.channel.id);return{messages:e&&e.messages,loading:!e||!e.messages||e.loading,hasUnreadPins:t}},handleUnpin:function(e,t){null!=e&&(t.shiftKey?d.default.unpinMessage(this.props.channel,e.id):c.default.confirmUnpin(this.props.channel,e))},getProTip:function(){var e=this.props.channel,t=f.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL;if(e.isPrivate())if(e.type===m.ChannelTypes.DM){var n=y.default.getUser(e.getRecipientId()).username;t=f.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:n})}else t=f.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM;return t},renderEmptyState:function(e){var t=f.default.Messages.NO_PINS_IN_CHANNEL;this.props.channel.isPrivate()&&(t=f.default.Messages.NO_PINS_IN_DM);var o=e===m.ThemeTypes.LIGHT?n(7250):n(7249);return a(h.default.EmptyStateCenter,{msg:t,image:o})},renderHeader:function(){return a(h.default.Header,{title:f.default.Messages.PINNED_MESSAGES})},render:function(){var e=this.state,t=e.messages,n=e.loading;return a(h.default,{onFetch:this.fetchPins,channel:this.props.channel,messages:t,loading:n,analyticsName:"Channel Pins",onCloseMessage:this.handleUnpin,onJump:this.props.onJump,getProTip:this.getProTip,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})}});t.default=E,e.exports=t.default},7252:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(54)),s=C(n(66)),u=C(n(3)),d=C(n(6)),f=C(n(18)),c=C(n(65)),p=C(n(6107)),h=C(n(225)),y=C(n(6089)),m=C(n(75)),v=C(n(94)),E=C(n(7251)),_=C(n(933)),g=C(n(189)),S=C(n(375)),T=n(0);function C(e){return e&&e.__esModule?e:{default:e}}var N="CHANNEL_PINS_POPOUT",b=(0,l.default)({displayName:"ChannelPinsButtons",mixins:[s.default,u.default.StoreListenerMixin(_.default,f.default,S.default,c.default,p.default)],getStateFromStores:function(){var e=c.default.getChannelId(),t=f.default.getChannel(e);return{disabled:null==t||t.isNSFW()&&!p.default.didAgree(t.getGuildId()),open:_.default.isOpen(N),hasUnread:S.default.hasUnreadPins(e),channelId:e}},UNSAFE_componentWillUpdate:function(e,t){this.state.open&&t.channelId!==this.state.channelId&&g.default.close(N)},onJump:function(e){e.shiftKey||g.default.close(N)},renderChannelPinsPopout:function(e){return i.createElement(E.default,r({},e,{onJump:this.onJump,channel:f.default.getChannel(this.state.channelId)}))},render:function(){var e=this.state.disabled,t=a(v.default,{text:d.default.Messages.PINNED_MESSAGES,position:v.default.Positions.BOTTOM},void 0,a(y.default.Icon,{name:m.default.Names.PIN,disabled:e,showBadge:this.state.hasUnread}));return e?t:a(h.default,{animationType:h.default.Animations.NONE,uniqueId:N,position:h.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderChannelPinsPopout,subscribeTo:T.ComponentActions.TOGGLE_CHANNEL_PINS,closeOnScroll:!1,zIndexBoost:-1},void 0,t)}});t.default=b,e.exports=t.default},7253:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(54))),i=h(n(3)),l=h(n(6)),s=n(0),u=h(n(6089)),d=h(n(75)),f=h(n(94)),c=h(n(6129)),p=h(n(6652));function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,r.default)({displayName:"ChannelMembersButton",mixins:[i.default.StoreListenerMixin(c.default)],getStateFromStores:function(){return{section:c.default.getSection()}},handleClick:function(){p.default.toggleSection(s.ChannelSections.MEMBERS)},render:function(){return a(f.default,{text:l.default.Messages.MEMBER_LIST,position:f.default.Positions.BOTTOM},void 0,a(u.default.Icon,{name:d.default.Names.PEOPLE,onClick:this.handleClick,active:this.state.section===s.ChannelSections.MEMBERS}))}});t.default=y,e.exports=t.default},7254:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(39)),l=u(n(224)),s=u(n(5790));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var c=a("defs",{},void 0,a("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),p=a("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,a("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),a("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),a("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),a("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),a("path",{fill:"#FFD773",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),a("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),a("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),a("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#5871B7",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),a("path",{fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#7289DA",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),a("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),a("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),h=a("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),y=a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),m=a("path",{fill:"#9F7373",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),v=a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),E=a("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),_=a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),g=a("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),S=a("path",{d:"M84 66h130v130H84z"}),T=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=d(this,e.call.apply(e,[this].concat(r))),o.state={x:new l.default.Value(0),y:new l.default.Value(0)},o._isMounted=!1,o.shouldLoop=function(){return o._isMounted},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;"Firefox"!==i.default.name&&(l.default.animate(t,{loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}),l.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}))},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.render=function(){return a("div",{className:s.default.searchIndexAnimation},void 0,a("div",{className:s.default.searchIndexBackground}),a("svg",{className:s.default.searchIndexForeground,width:"320",height:"280"},void 0,c,a("g",{fill:"none",fillRule:"evenodd"},void 0,a("g",{transform:"translate(120 80)"},void 0,a("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,a(l.default.use,{style:f(this.state),className:s.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),p),a(l.default.g,{className:s.default.magnifyingGlass,style:f(this.state)},void 0,h,y,m,v,E,_,g,S))))},t}(r.Component);T.displayName="SearchIndexForeground",t.default=T,e.exports=t.default},7255:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=F(n(60)),l=k(n(1)),s=F(n(54)),u=F(n(66)),d=F(n(9)),f=F(n(18)),c=F(n(41)),p=F(n(225)),h=F(n(94)),y=F(n(227)),m=F(n(145)),v=F(n(81)),E=F(n(144)),_=F(n(6131)),g=F(n(6)),S=F(n(3)),T=F(n(146)),C=k(n(6128)),N=F(n(233)),b=F(n(271)),O=F(n(6062)),I=F(n(65)),A=F(n(28)),M=F(n(61)),R=F(n(190)),P=F(n(371)),L=F(n(7)),w=F(n(7254)),D=n(0),U=F(n(5789));function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function F(e){return e&&e.__esModule?e:{default:e}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B="HIT_REF",H=function(e){var t,n,o=e.searchNext,a=e.searchPrevious,i=e.offset,l=e.totalResults,s=e.pageLength,u=Math.ceil(l/s),f=i/s+1,c=f.toLocaleString(),p=u.toLocaleString();if(1===u)return null;var h=f>1,y=f<u;return r("div",{className:U.default.pagination},void 0,r(v.default,{onClick:h?a:null,className:(0,d.default)(U.default.paginationPrevious,(t={},t[U.default.disabled]=!h,t)),"aria-label":g.default.Messages.PAGINATION_PREVIOUS}),g.default.Messages.PAGINATION_PAGE_OF.format({page:c,totalPages:p}),r(v.default,{onClick:y?o:null,className:(0,d.default)(U.default.paginationNext,(n={},n[U.default.disabled]=!y,n)),"aria-label":g.default.Messages.PAGINATION_NEXT}))};H.displayName="Pagination";var V=function(e){var t=e.searchMode,n=e.searchByMode,o=e.totalResults,a=e.isSearching,i=e.isIndexing,l=e.documentsIndexed,s=(0,L.default)(D.SearchModes).values().map(function(e){var o,a=void 0;switch(e){case D.SearchModes.RECENT:a=g.default.Messages.SEARCH_RECENT;break;case D.SearchModes.RELEVANT:a=g.default.Messages.SEARCH_RELEVANT;break;default:a=null}return r(v.default,{className:(0,d.default)(U.default.tab,(o={},o[U.default.selected]=t===e,o)),onClick:n.bind(null,e)},e,a)}).value(),u=void 0;if(a)u=g.default.Messages.SEARCHING;else if(i)u=r(m.default,{href:P.default.getArticleURL(D.HelpdeskArticles.SEARCH_INDEXING)},void 0,g.default.Messages.STILL_INDEXING);else{var f=o.toLocaleString();u=g.default.Messages.TOTAL_RESULTS.format({count:f})}var c=void 0;return(i||a)&&(c=r("div",{className:U.default.spinnerWrapper},void 0,r(E.default,{type:E.default.Type.SPINNING_CIRCLE,className:U.default.spinner,itemClassName:U.default.spinnerPath}))),i&&!a&&(u=r(h.default,{text:g.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:l})},void 0,r("div",{className:U.default.totalResultsWrapper},void 0,u,c)),c=null),r("div",{className:U.default.searchHeader},void 0,r("div",{className:U.default.totalResults},void 0,u,c),s)};V.displayName="SearchHeader";var Y=function(e){function t(){var n,o;x(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=G(this,e.call.apply(e,[this].concat(r))),o.autoAnalytics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(null!=o.props.searchAnalyticsId){var t=0,n=0,a=0,r=0;o.props.searchResults&&(0,L.default)(o.props.searchResults).flatten().filter(function(e){return e.hit}).forEach(function(e){var o=e.message;o.content&&(t++,/https?:\/\/[^\s]+/.test(o.content)&&r++),o.embeds&&o.embeds.length&&a++,o.attachments&&o.attachments.length&&n++}),R.default.trackWithMetadata(D.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:o.props.searchType,search_id:o.props.searchAnalyticsId,prev_search_id:e!==o.props.searchAnalyticsId?e:null,is_error:o.props.searchHasError,limit:o.props.searchLimit,offset:o.props.searchOffset,page:Math.floor(o.props.searchOffset/o.props.searchLimit)+1,total_results:o.props.searchTotalResults,page_results:o.props.searchResults?o.props.searchResults.length:null,is_indexing:o.props.searchIsIndexing,page_num_messages:t,page_num_links:r,page_num_embeds:a,page_num_attach:n})}},G(o,n)}return j(t,e),t.prototype.componentDidMount=function(){this.autoAnalytics()},t.prototype.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)},t.prototype.render=function(){return null},t}(l.Component);Y.displayName="SearchResultsViewedAutoAnalytics";var W=function(e){var t=e.children;return r("div",{className:U.default.emptyResultsWrap},void 0,r("div",{className:U.default.emptyResultsContent},void 0,t))};W.displayName="EmptyResults";var z=function(e){function t(){var n,o;x(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=G(this,e.call.apply(e,[this].concat(i))),o.state={expanded:!1},o.getDOMRect=function(e){return e.getClientRects()[0]},o.fixScroll=function(){o.state.expanded;var e=o._height;o._height=o.getDOMRect(o.refs[B]).top;var t=o.props.scrollTo;t(e-o._height)},o.renderControlButtons=function(e){var t=e.messages[0];return r("div",{className:U.default.actionButtons},void 0,r(v.default,{className:U.default.jumpButton,onClick:o.props.onJump.bind(null,t)},void 0,g.default.Messages.JUMP))},o.expand=function(){o.setState(function(e){var t=!e.expanded;return t&&R.default.trackWithMetadata(D.AnalyticEvents.SEARCH_RESULT_EXPANDED,{message_id:o.props.result.filter(function(e){return e.hit})[0].message.id,search_id:O.default.getAnalyticsId(o.props.searchId),limit:D.SEARCH_PAGE_SIZE,offset:o.props.searchOffset,page:Math.floor(o.props.searchOffset/D.SEARCH_PAGE_SIZE)+1,page_results:o.props.pageResultsLength,result_index:o.props.index}),{expanded:t}})},G(o,n)}return j(t,e),t.prototype.UNSAFE_componentWillUpdate=function(e,t){this.state.expanded!==t.expanded&&(this._height=this.getDOMRect(this.refs[B]).top)},t.prototype.componentDidUpdate=function(e,t){this.state.expanded!==t.expanded&&this.fixScroll()},t.prototype.render=function(){var e,t=this,n=this.state.expanded,o=this.props,a=o.result,i=o.developerMode,s=o.renderEmbeds,u=!0,c=a.map(function(e,n){var o,c=e.message,h=e.hit,y=f.default.getChannel(c.channel_id),m=!(u=u&&!h)&&!h,v=void 0;return!h&&u&&a[n+1].hit?v=!0:h||u||!a[n-1].hit||(v=!0),null==y?null:l.createElement("div",{ref:h?B:null,className:(0,d.default)(U.default.searchResultMessage,(o={},o[U.default.hit]=h,o[U.default.sibling]=v,o[U.default.before]=u,o[U.default.after]=m,o)),key:c.id},r(_.default,{className:U.default.messageGroupCozy,messages:[c],channel:y,inlineAttachmentMedia:!0,inlineEmbedMedia:!0,renderEmbeds:s,renderEmbedsSmall:!0,developerMode:i,popoutPosition:p.default.Positions.LEFT,groupOption:h?t.renderControlButtons:null,onClickAnywhere:t.expand,disableInteractionLabel:g.default.Messages.VIEW_SURROUNDING_MESSAGES,canEdit:!1}))});return l.createElement("div",{ref:"MESSAGE_REF",className:(0,d.default)(U.default.searchResult,(e={},e[U.default.expanded]=n,e))},c)},t}(l.PureComponent);z.displayName="SearchResult";var K=r(w.default,{}),$=(0,s.default)({displayName:"SearchResults",mixins:[u.default,S.default.LazyStoreListenerMixin(O.default,A.default)],propTypes:{searchId:i.default.string.isRequired},getInitialState:function(){return a({searchMode:D.SearchModes.RECENT},this.getStateFromStores())},getStateFromStores:function(){var e=this.props.searchId;return this.getStateForSearchId(e)},UNSAFE_componentWillReceiveProps:function(e){var t=this.props.searchId;e.searchId!==t&&this.setState(this.getStateForSearchId(e.searchId))},componentDidUpdate:function(e,t){var n=t.showBlockedResults;if(this.state.showBlockedResults!==n){var o=this.refs.SCROLLER_REF;if(!o)return;o.scrollToBottom()}},getStateForSearchId:function(e){return a({searchId:e,theme:A.default.theme,renderEmbeds:A.default.renderEmbeds,developerMode:A.default.developerMode,searchAnalyticsId:O.default.getAnalyticsId(e),searchType:O.default.getSearchType()},O.default.getResultsState(e))},jumpToMessage:function(e){if(e.blocked)N.default.show({title:g.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:g.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:g.default.Messages.OKAY});else{var t=f.default.getChannel(e.channel_id),n=t?t.getGuildId():null;T.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:O.default.getAnalyticsId(this.state.searchId)}),c.default.transitionTo(D.Routes.MESSAGE(n,e.channel_id,e.id))}},selectChannel:function(e){e!==I.default.getChannelId()&&b.default.transitionToInviteChannelSync(e)},searchPrevious:function(){var e=this.props.searchId;this.state.isSearching||C.searchPreviousPage(e)},searchNext:function(){var e=this.props.searchId;this.state.isSearching||C.searchNextPage(e)},searchByMode:function(e){var t=this.props.searchId,n=this.state,o=n.searchMode,a=n.isSearching;e===o||a||(R.default.trackWithMetadata(D.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:O.default.getAnalyticsId(this.props.searchId),new_sort_type:e}),C.searchByMode(t,e),this.setState({searchMode:e}))},toggleShowBlockedMessages:function(){var e=this.state,t=e.searchId,n=e.showBlockedResults;C.setShowBlockedResults(t,!n)},renderHeader:function(){var e=this.state,t=e.searchMode,n=e.totalResults,o=e.isSearching,a=e.isHistoricalIndexing,i=e.documentsIndexed;return r(V,{searchMode:t,searchByMode:this.searchByMode,totalResults:n,isSearching:o,isIndexing:a,documentsIndexed:i})},renderResults:function(){var e=this,t=this.state,n=t.results,o=t.offset,a=t.renderEmbeds,i=t.developerMode,l=t.totalResults,s=t.isSearching,u=t.showBlockedResults;if(!n)return null;var d=[],c=void 0,p=n.length;n.forEach(function(t,n){var o=t.find(function(e){return e.hit});if(u||!o||!M.default.isBlocked(o.message.author.id)){var l=f.default.getChannel(t[0].message.channel_id),s=void 0;!l||c&&c.id===l.id||(s=r("div",{className:U.default.channelSeparator},"channel-separator-"+n,r(v.default,{tag:"span",className:U.default.channelName,onClick:e.selectChannel.bind(null,l.id)},void 0,l?l.toString(!0):"???")));var h=r(z,{scrollTo:e.scrollTo,searchId:e.props.searchId,renderEmbeds:a,developerMode:i,searchOffset:e.state.offset,pageResultsLength:p,result:t,index:n,onJump:e.jumpToMessage},"search-result-"+n);d.push(s,h),c=l}});var h=void 0;return s||(h=r(H,{searchPrevious:this.searchPrevious,searchNext:this.searchNext,offset:o,totalResults:l,pageLength:D.SEARCH_PAGE_SIZE})),r("div",{className:U.default.resultsWrapper},void 0,r("div",{className:U.default.searchResults},void 0,d,this.renderResultsBlocked()),h)},renderResultsBlocked:function(){var e=this.state,t=e.resultsBlocked,n=e.showBlockedResults;if(!t)return null;var o=n?g.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:t}):g.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:t});return r("button",{className:U.default.resultsBlocked,onClick:this.toggleShowBlockedMessages},void 0,r("div",{className:U.default.resultsBlockedImage}),r("div",{className:U.default.resultsBlockedText},void 0,o))},renderIndexing:function(){var e=O.default.getSearchType(this.props.searchId)===D.SearchTypes.GUILD?g.default.Messages.SEARCH_GUILD_STILL_INDEXING:g.default.Messages.SEARCH_DM_STILL_INDEXING;return r(W,{},void 0,K,r("div",{className:(U.default.emptyResultsText,U.default.stillIndexing)},void 0,e))},renderNoResults:function(){var e,t,n=this.state.showNoResultsAlt,o=n?g.default.Messages.SEARCH_NO_RESULTS_ALT:g.default.Messages.SEARCH_NO_RESULTS;return r(W,{},void 0,r("div",{className:(0,d.default)(U.default.noResultsImage,(e={},e[U.default.alt]=n,e))}),r("div",{className:(0,d.default)(U.default.emptyResultsText,U.default.noResults,(t={},t[U.default.alt]=n,t))},void 0,o))},renderError:function(){return r(W,{},void 0,r("div",{className:U.default.errorImage}),r("div",{className:(0,d.default)(U.default.emptyResultsText,U.default.errorMessage)},void 0,g.default.Messages.SEARCH_ERROR))},renderContent:function(){var e=this.state,t=e.totalResults,n=e.isSearching,o=e.isIndexing;return e.hasError?this.renderError():o?this.renderIndexing():n?null:t?this.renderResults():this.renderNoResults()},render:function(){return r("div",{className:U.default.searchResultsWrap},void 0,this.renderHeader(),l.createElement(y.default,{ref:"SCROLLER_REF",theme:y.default.Themes.GHOST,backgroundColor:this.state.theme===D.ThemeTypes.LIGHT?D.Colors.PRIMARY_DARK_100:D.Colors.PRIMARY_DARK_630,track:!0},this.renderContent()),r(Y,{searchType:this.state.searchType,searchAnalyticsId:this.state.searchAnalyticsId,searchResults:this.state.results,searchOffset:this.state.offset,searchLimit:D.SEARCH_PAGE_SIZE,searchHasError:this.state.hasError,searchTotalResults:this.state.totalResults,searchIsIndexing:this.state.isHistoricalIndexing}))},scrollTo:function(e){var t=this.refs.SCROLLER_REF;if(t){var n=t.getScrollData().scrollTop-e;t.scrollTo(n)}}});t.default=$,e.exports=t.default},7256:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=O(n(6344)),u=n(78),d=O(n(7)),f=O(n(390)),c=O(n(95)),p=O(n(55)),h=O(n(61)),y=O(n(379)),m=O(n(294)),v=O(n(167)),E=O(n(35)),_=n(0),g=O(n(6394)),S=O(n(6)),T=O(n(6089)),C=O(n(75)),N=O(n(94)),b=O(n(380));function O(e){return e&&e.__esModule?e:{default:e}}var I=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return d.default.bindAll(o,["handleStartCall","handleJoinCall","handleVoiceClick","handleStartVideoCall","handleJoinVideoCall","handleBrowserNotSupported","handleDownloadApps"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,o=e.callUnavailable,a=e.channel,i=e.mode;if(t||n&&i===_.ChannelModes.VOICE)return null;var l=a.isManaged(),s=void 0,d=!1,f=void 0;return p.default.supports(u.Features.VIDEO)?n&&i===_.ChannelModes.VIDEO?(f=this.handleJoinVideoCall,s=l?S.default.Messages.CONNECT:S.default.Messages.JOIN_VIDEO_CALL):(f=this.handleStartVideoCall,s=l?S.default.Messages.CONNECT:S.default.Messages.START_VIDEO_CALL):(d=!0,f=this.handleBrowserNotSupported,s=S.default.Messages.BROWSER_NOT_SUPPORTED),r(N.default,{text:s,position:N.default.Positions.BOTTOM},void 0,r(T.default.Icon,{name:C.default.Names.VIDEO_CAMERA,onClick:f,disabled:d||o}))},t.prototype.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,o=e.callUnavailable,a=e.channel;if(t)return null;var i=a.isManaged(),l=void 0,s=void 0,u=!1;return o?(l=i?S.default.Messages.VOICE_UNAVAILABLE:S.default.Messages.CALL_UNAVAILABLE,s=N.default.Colors.RED,u=!0):l=n?i?S.default.Messages.CONNECT:S.default.Messages.JOIN_VOICE_CALL:i?S.default.Messages.CONNECT:S.default.Messages.START_VOICE_CALL,r(N.default,{text:l,color:s,position:N.default.Positions.BOTTOM},void 0,r(T.default.Icon,{name:C.default.Names.PHONE,onClick:this.handleVoiceClick,disabled:u}))},t.prototype.render=function(){return r("div",{},void 0,this.renderVideoCallButton(),this.renderVoiceCallButton())},t.prototype.handleStartCall=function(e,t){var n=this.props,o=n.channel,a=n.notFriend,r=a?o.getRecipientId():null;m.default.call(o.id,t,!a&&!o.isManaged()&&e&&!e.shiftKey,r)},t.prototype.handleJoinCall=function(e){v.default.selectVoiceChannel(null,this.props.channel.id,e)},t.prototype.handleVoiceClick=function(e){var t=this.props,n=t.callUnavailable,o=t.callActive;if(!n)return o?this.handleJoinCall(!1):this.handleStartCall(e,!1)},t.prototype.handleStartVideoCall=function(e){this.handleStartCall(e,!0)},t.prototype.handleJoinVideoCall=function(){this.handleJoinCall(!0)},t.prototype.handleBrowserNotSupported=function(){var e=this;E.default.push(function(t){return i.createElement(g.default,a({},t,{title:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,description:S.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:S.default.Messages.DOWNLOAD_APP,onConfirm:e.handleDownloadApps}))})},t.prototype.handleDownloadApps=function(){E.default.push(b.default,{source:"Video unsupported browser"})},t}(i.PureComponent);I.displayName="PrivateChannelCallButton";var A=(0,s.default)(function(e,t){var n;return(n={})[_.ComponentActions.CALL_START]=t.handleVoiceClick.bind(t),n})(I);t.default=l.default.connectStores([f.default,c.default,h.default,y.default],function(e){var t=e.channel,n=c.default.isInChannel(t.getGuildId(),t.id),o=t.getRecipientId();return{channel:t,mode:y.default.getMode(t.id),inCall:n,callActive:f.default.isCallActive(t.id),callUnavailable:f.default.isCallUnavailable(t.id),notFriend:t.type===_.ChannelTypes.DM&&null!=o&&!h.default.isFriend(o)}})(A),e.exports=t.default},7257:function(e,t,n){e.exports=n.p+"d47d2c5ce2dd7d5bdaee2ebd8fde61f2.svg"},7258:function(e,t,n){e.exports=n.p+"990826f372c3d1d1792e3f1df06609bb.svg"},7259:function(e,t,n){e.exports=n.p+"24d0c1e0be789c08a641e29b113c3d61.svg"},7260:function(e,t,n){e.exports=n.p+"37d23346ca73770fda04fbdcc54336e5.svg"},7261:function(e,t,n){e.exports=n.p+"18e22cc758cd6dd220ac88b554519482.svg"},7262:function(e,t,n){e.exports=n.p+"ea5bf2e8b48cfe21ea60588e1568aad6.svg"},7263:function(e,t,n){e.exports=n.p+"f67374a8fd6b116362596d65cc516747.svg"},7264:function(e,t,n){e.exports=n.p+"b0aeca4d2129dcbf73f05feb6bb6e61f.svg"},7265:function(e,t,n){e.exports=n.p+"e58c46a89a6d0e207363ed2c26fef144.svg"},7266:function(e,t,n){e.exports=n.p+"39aa9582008741a5582b87b2336f746d.svg"},7267:function(e,t,n){e.exports=n.p+"9bef291f60e3cd3531073c12a365a87d.svg"},7268:function(e,t,n){e.exports=n.p+"7a2984b632f742b95882d387736c7bd0.svg"},7269:function(e,t,n){e.exports=n.p+"89f266ed023aab0906a402fe580f862a.svg"},7270:function(e,t,n){e.exports=n.p+"1c1683551c9d43dd700b1d650f30c6f6.svg"},7271:function(e,t,n){e.exports=n.p+"9f1cc64606c82356a646c04d46b0f4b4.svg"},7272:function(e,t,n){e.exports=n.p+"da80b49568f5b282cd97f54f2f813441.svg"},7273:function(e,t,n){e.exports=n.p+"894d33a7990cc82c6c470285c45f1e70.svg"},7274:function(e,t,n){e.exports=n.p+"3a773ef164b13d6a5bf37083bc1bc7f6.svg"},7275:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(6837),s=f(l),u=f(n(189)),d=f(n(225));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,s=Array(a),d=0;d<a;d++)s[d]=arguments[d];return n=o=c(this,e.call.apply(e,[this].concat(s))),o.renderPopout=function(e){var t=o.props,n=t.options,a=t.value,s=t.renderOption,u=t.popoutClassName,d=t.scroller;return i.createElement(l.QuickSelectPopout,r({},e,{scroller:d,className:u,options:n,value:a,renderOption:s,onChange:o.handleChange}))},o.handleChange=function(e){var t=o.props,n=t.popoutId,a=t.onChange;u.default.close(n),a&&a(e)},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,o=e.renderValue,l=e.className,u=e.popoutId,f=e.popoutProps;return i.createElement(d.default,r({},f,{uniqueId:u,render:this.renderPopout}),a("div",{className:l},void 0,a(s.default,{label:t,value:n,renderValue:o})))},t}(i.PureComponent);p.displayName="QuickSelectWrapper",t.default=p,e.exports=t.default},7276:function(e,t,n){"use strict";t.__esModule=!0,t.QUICK_REGION_SELECT_KEY=void 0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(3)),l=m(n(6)),s=m(n(9)),u=n(6366),d=m(n(7275)),f=m(n(6095)),c=m(n(6170)),p=m(n(42)),h=n(225),y=m(n(5792));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g={position:h.Positions.BOTTOM,preventInvert:!0},S=t.QUICK_REGION_SELECT_KEY="quick-region-select",T=function(e){function t(){return v(this,t),E(this,e.apply(this,arguments))}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return a(p.default,{align:p.default.Align.CENTER,className:(0,s.default)({selected:n})},void 0,a(u.RegionFlag,{region:t,className:y.default.regionSelectFlag}),a(u.RegionName,{region:t,className:y.default.regionSelectName}),n?a("i",{className:y.default.check}):null)},t}(r.PureComponent);T.displayName="RegionItem";var C=function(e){function t(){var n,o;v(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=E(this,e.call.apply(e,[this].concat(i))),o.renderOption=function(e,t){return a(T,{region:e.value,selected:t},e.value.id)},o.handleChangeVoiceRegion=function(e){var t=e.value,n=o.props.call.channelId;c.default.changeCallRegion(n,t.id)},E(o,n)}return _(t,e),t.prototype.componentDidMount=function(){null==this.props.regions&&c.default.fetchRegions(null)},t.prototype.render=function(){var e=this.props,t=e.regions,n=e.call;if(null==t)return null;var o=t.find(function(e){return e.id===n.region})||{id:"unknown",name:l.default.Messages.UNKNOWN_REGION,vip:!1,deprecated:!1},r={label:o.name,value:o},i=t.filter(function(e){return!e.deprecated}).map(function(e){return{label:e.name,value:e,key:e.id}});return a(d.default,{label:l.default.Messages.REGION,options:i,value:r,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:g,popoutId:S,popoutClassName:y.default.regionSelectPopout})},t}(r.PureComponent);C.displayName="QuickRegionSelect",t.default=i.default.connectStores([f.default],function(){return{regions:f.default.getRegions(null)}})(C)},7277:function(e,t,n){e.exports=n.p+"261873897d8899d4e2e724efdfa21ee3.svg"},7278:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(117)),l=n(45),s=d(l),u=d(n(5793));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,o=e.description,r=e.confirmText,d=e.onConfirm;return a(i.default,{size:u.default.size},void 0,a("div",{className:u.default.container},void 0,a("img",{className:u.default.image,src:n(7277),alt:""}),a("div",{className:u.default.title},void 0,t),a("div",{className:u.default.description},void 0,o)),a("div",{className:u.default.footer},void 0,a(s.default,{className:u.default.button,size:l.ButtonSizes.LARGE,onClick:d},void 0,r)))},t}(r.PureComponent);f.displayName="VideoDevicesWarningModal",t.default=f,e.exports=t.default},7279:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(5794)),s=n(0),u=c(n(75)),d=c(n(6395)),f=c(n(6396));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=p(this,e.call.apply(e,[this].concat(r))),o.handleDoubleClick=function(e){var t=o.props,n=t.onDoubleClick,a=t.user;n&&n(e,a.id)},o.handleContextMenu=function(e){var t=o.props,n=t.onContextMenu,a=t.user;n&&n(e,a.id)},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.streamId,n=e.videoComponent,o=e.mirror,r=e.user;return e.hasVideo&&null!=n?a(f.default,{className:(0,i.default)(l.default.content,l.default.video),mirror:o,streamId:t,videoComponent:n,fit:f.default.Fit.COVER}):null!=r?a("div",{className:l.default.content},void 0,a(d.default,{user:r,avatarSize:d.default.AvatarSizes.XXLARGE})):null},t.prototype.renderOverlay=function(){var e=this.props,t=e.muted,n=e.deafen;return e.poorConnection?a("div",{className:l.default.overlay},void 0,a(u.default,{className:l.default.poorConnection,width:24,height:24,color:s.Colors.WHITE,name:u.default.Names.CAMERA_OFF})):n||t?a(u.default,{className:l.default.status,width:20,height:20,color:s.Colors.WHITE,name:n?u.default.Names.DEAFENED:u.default.Names.MUTED}):null},t.prototype.render=function(){return a("div",{style:this.props.style,className:(0,i.default)(l.default.wrapper,this.props.className),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderContent(),this.renderOverlay())},t}(r.PureComponent);h.defaultProps={ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,poorConnection:!1},h.displayName="VideoTile",t.default=h,e.exports=t.default},7280:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(9)),l=u(n(5795)),s=u(n(510));function u(e){return e&&e.__esModule?e:{default:e}}var d={LANDSCAPE:"landscape",PORTRAIT:"portrait"},f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.mode,n=e.children;if(null==n)return null;for(var o=t===d.LANDSCAPE?l.default.horizontal:l.default.vertical,r=t===d.LANDSCAPE?l.default.vertical:l.default.horizontal,u=n.length,f=u>3&&u%2>0?Math.floor(u/2):-1,c=[],p=[],h=u>3?2:1,y=0;y<u;y++)y===f?c.push(a("div",{style:{flex:2},className:l.default.flex},y,n[y])):p.push(n[y]),p.length===h&&(c.push(a("div",{style:{flex:1},className:(0,i.default)(r,s.default.marginReset)},y,p)),p=[]);return a("div",{className:(0,i.default)(o,l.default.content)},void 0,c)},t.prototype.render=function(){var e=this.props,t=e.style,n=e.className;return a("div",{className:(0,i.default)(l.default.wrapper,n),style:t},void 0,this.renderContent())},t}(r.PureComponent);f.Mode=d,f.defaultProps={mode:d.LANDSCAPE},f.displayName="VideoGrid",t.default=f,e.exports=t.default},7281:function(e,t,n){e.exports=n.p+"8b47456a037cc496c55ae8f871274018.svg"},7282:function(e,t,n){e.exports=n.p+"0682cf612d4fed39efb57e0a1bcc8544.svg"},7283:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=y(n(7)),s=n(77),u=y(n(6)),d=y(n(42)),f=y(n(224)),c=n(45),p=y(c),h=y(n(5796));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _={VOICE:"voice",VIDEO:"video"},g={friction:16,tension:400},S=function(e){function t(n){m(this,t);var o=v(this,e.call(this,n));return o.handleClick=o.handleClick.bind(o),o}return E(t,e),t.prototype.render=function(){return r(d.default,{className:h.default.callButton,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER,onClick:this.handleClick},void 0,this.props.children)},t.prototype.handleClick=function(){var e=this.props,t=e.type,n=e.onClick;n&&n(t)},t}(i.PureComponent);S.displayName="CallButton";var T=function(e){function t(n){m(this,t);var o=v(this,e.call(this,n));return o._width=0,o._left=0,o.state={hovered:!1,offsetX:new f.default.Value(0)},l.default.bindAll(o,["handleMouseMove","handleMouseLeave","handleVoiceButtonClick"]),o}return E(t,e),t.prototype.renderVoiceButton=function(){return r(p.default,{className:h.default.joinVoiceCallButton,size:c.ButtonSizes.SMALL,color:c.ButtonColors.GREEN,onClick:this.handleVoiceButtonClick},void 0,this.props.text)},t.prototype.renderUnderlay=function(){var e=this.state,t=e.hovered,n={transform:[{translateX:e.offsetX.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}],opacity:t?1:0};return r(f.default.div,{className:h.default.underlay,style:n})},t.prototype.renderVideoButton=function(){return r("div",{className:h.default.joinVideoCallButton,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnderlay(),r(d.default,{className:h.default.inner,align:d.default.Align.CENTER,justify:d.default.Justify.CENTER},void 0,r(S,{type:_.VIDEO,onClick:this.props.onClick},void 0,r("img",{alt:"",className:h.default.icon,src:n(7282)}),r("div",{className:h.default.buttonText},void 0,u.default.Messages.VIDEO)),r("div",{className:h.default.callDivider}),r(S,{type:_.VOICE,onClick:this.props.onClick},void 0,r("div",{className:h.default.buttonText},void 0,u.default.Messages.VOICE),r("img",{alt:"",className:h.default.icon,src:n(7281)}))))},t.prototype.render=function(){return this.props.type===_.VOICE?this.renderVoiceButton():this.renderVideoButton()},t.prototype.handleVoiceButtonClick=function(){var e=this.props.onClick;e&&e(_.VOICE)},t.prototype.handleMouseMove=function(e){var t=e.clientX;if(0===this._width){var n=(0,s.findDOMNode)(this);if(null==n||n instanceof Text)throw new Error("[UIKit]JoinCallButton.handleMouseOver(): assert failed: domNode instanceof Element");this._left=n.getBoundingClientRect().left,this._width=n.getBoundingClientRect().width}var o=Math.min(this._width/2-4,Math.max(0,t-this._left-this._width/4));f.default.spring(this.state.offsetX,a({toValue:o},g)).start(),this.state.hovered||this.setState({hovered:!0})},t.prototype.handleMouseLeave=function(){this.setState({hovered:!1})},t}(i.PureComponent);T.defaultProps={type:_.VOICE,text:u.default.Messages.JOIN_CALL},T.Type=_,T.displayName="JoinCallButton",t.default=T,e.exports=t.default},7284:function(e,t,n){e.exports=n.p+"a8fd82cc52f43902aa1113fdda7c1ef7.svg"},7285:function(e,t,n){e.exports=n.p+"7d12b6a6565c106a587c1d1f06690ca9.svg"},7286:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(77),s=d(n(5798)),u=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(n){f(this,t);var o=c(this,e.call(this,n));return o.handleMouseEnter=o.handleMouseEnter.bind(o),o.handleMouseLeave=o.handleMouseLeave.bind(o),o}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.children,o=e.offset,i=r({},t,{transform:"translate3d(0, "+o+"px, 0)"});return a("div",{className:s.default.card,style:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,n)},t.prototype.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},t.prototype.handleMouseLeave=function(){var e=this.props.onHover;e&&e(null)},t}(i.PureComponent);h.displayName="Card";var y=function(e){function t(n){f(this,t);var o=c(this,e.call(this,n));return o.state={hoverIndex:null,width:0,height:0},o.handleHover=o.handleHover.bind(o),o.setRef=o.setRef.bind(o),o.resize=o.resize.bind(o),o}return p(t,e),t.prototype.renderCards=function(){var e=this,t=this.props,n=t.cardWidth,o=t.cardHeight,r=t.children,i=this.state.height,l=r.length,s=this.state.hoverIndex,u=l-1,d=l>1?(i-o)/(l-1):o,f=o*l;return r.map(function(t,r){var l=i>f?o*r:i-o-function(e){if(null==s||e===s)return d*(u-e);var t=d*(u-s);if(e>s){var n=Math.max(t-o,20);return(u-s-1>0?n/(u-s-1):0)*(u-e)}var a=i-t-2*o,r=Math.max(a,20);return i-(s>1?r/(s-1):0)*e-o-(a<20?Math.min(a,-20):0)}(r);return a(h,{index:r,offset:l,style:{width:n,height:o},onHover:e.handleHover},r,t)}).reverse()},t.prototype.render=function(){var e=this.props,t=e.className,n=e.style,o=this.state,a=o.width,r=o.height;return 0===a||0===r?i.createElement("div",{ref:this.setRef,className:t,style:n}):i.createElement("div",{ref:this.setRef,className:(0,u.default)(s.default.wrapper,t),style:n},this.renderCards())},t.prototype.handleHover=function(e){this.setState({hoverIndex:e})},t.prototype.setRef=function(e){this._ref=e,this.resize()},t.prototype.resize=function(){if(null!=this._ref){var e=(0,l.findDOMNode)(this._ref);null!=e&&e instanceof HTMLElement&&this.setState({width:e.clientWidth,height:e.clientHeight})}},t}(i.PureComponent);y.displayName="CardStack",t.default=y,e.exports=t.default},7287:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(9)),s=O(n(3)),u=O(n(224)),d=n(56),f=O(n(512)),c=O(n(133)),p=O(n(14)),h=O(n(28)),y=O(n(379)),m=O(n(55)),v=O(n(987)),E=n(6653),_=O(E),g=O(n(6056)),S=O(n(7286)),T=n(0),C=O(n(5797)),N=O(n(374)),b=O(n(5595));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=23,P=17,L=26,w={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:u.default.Easing.inOut(u.default.Easing.back()),EASING_OUT:u.default.Easing.quad},D=200,U=125,k=function(e){function t(n){I(this,t);var o=A(this,e.call(this,n));return o.state={scaleAnimation:new u.default.Value(0),spriteAnimation:new u.default.Value(0),spriteOpacity:new u.default.Value(0),widthAnimation:new u.default.Value(0)},o}return M(t,e),t.prototype.componentDidMount=function(){this.componentDidAppear()},t.prototype.componentDidAppear=function(){var e=this.state,t=e.scaleAnimation,n=e.widthAnimation;t.setValue(1),n.setValue(1)},t.prototype.componentWillEnter=function(e){var t=this.state,n=t.scaleAnimation,o=t.widthAnimation;n.setValue(0),o.setValue(0),u.default.parallel([u.default.timing(n,{toValue:1,duration:w.DURATION_IN,easing:w.EASING_IN}),u.default.timing(o,{toValue:1,duration:D})]).start(e)},t.prototype.componentWillLeave=function(e){var t=this.state,n=t.scaleAnimation,o=t.spriteAnimation,a=t.spriteOpacity,r=t.widthAnimation;a.setValue(1),o.setValue(0);for(var i=[],l=0;l<R;l++)i.push(u.default.timing(o,{toValue:-L*l,duration:P}));u.default.sequence([u.default.timing(n,{toValue:0,duration:w.DURATION_OUT,easing:w.EASING_OUT}),u.default.sequence(i),u.default.timing(r,{toValue:0,duration:U})]).start(e)},t.prototype.getScaleStyle=function(){var e=this.state.scaleAnimation;return u.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[w.SCALE_MIN,w.SCALE_MAX]})}],opacity:e})},t.prototype.getSpriteStyle=function(){var e=this.state;return{backgroundPosition:e.spriteAnimation,opacity:e.spriteOpacity}},t.prototype.getWidthStyle=function(){return{width:this.state.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}},t.prototype.render=function(){var e,t=this.props,n=t.theme,o=t.children,a=t.className,i=n===T.ThemeTypes.DARK,s=(0,l.default)(C.default.sprite,((e={})[b.default.crossWhite]=i,e[b.default.crossGrey]=!i,e));return r(u.default.div,{className:(0,l.default)(C.default.transition,a),style:this.getWidthStyle()},void 0,r("div",{className:(0,l.default)(C.default.spriteWrapper,N.default.horizontal,N.default.justifyCenter,N.default.alignCenter)},void 0,r(u.default.div,{className:s,style:this.getSpriteStyle()})),r(u.default.div,{style:this.getScaleStyle()},void 0,o))},t}(i.PureComponent);k.displayName="AvatarTransition";var F={friction:10,tension:200},x=function(e){function t(n){I(this,t);var o=A(this,e.call(this,n));return o.state={opacity:new u.default.Value(0),scale:new u.default.Value(0)},o}return M(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=e.opacity,n=e.scale;t.setValue(1),n.setValue(1)},t.prototype.animateTo=function(e,t){var n=this.state,o=n.opacity,r=n.scale;u.default.parallel([u.default.spring(o,a({toValue:e},F)),u.default.spring(r,a({toValue:e},F))]).start(t)},t.prototype.componentWillEnter=function(e){var t=this,n=this.state,o=n.opacity,a=n.scale;o.setValue(0),a.setValue(0),clearTimeout(this._timer),this._timer=setTimeout(function(){return t.animateTo(1,e)},400)},t.prototype.componentWillLeave=function(e){var t=this.state,n=t.opacity,o=t.scale;n.setValue(1),o.setValue(1),this.animateTo(0,e)},t.prototype.componentWillUnmount=function(){clearTimeout(this._timer)},t.prototype.render=function(){var e=this.props.theme,t=this.state,o=t.opacity,a=t.scale;return r(u.default.div,{className:C.default.emptyContainer,style:{opacity:o,transform:[{scale:a},{translateZ:0}]}},void 0,r(g.default,{theme:e},void 0,r(g.default.Image,{style:{margin:0},width:210,height:92,lightSrc:n(7285),darkSrc:n(7284)})))},t}(i.Component);x.displayName="CallEmpty";var G=function(e){function t(n){I(this,t);var o=A(this,e.call(this,n));return o._timeout=new d.Timeout,o.setRef=o.setRef.bind(o),o}return M(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.windowHeight,o=t.layout;n===e.windowHeight&&o===e.layout||this.delayResize()},t.prototype.componentDidMount=function(){this.delayResize()},t.prototype.componentWillUnmount=function(){this._timeout.stop()},t.prototype.render=function(){return i.createElement(S.default,a({ref:this.setRef},this.props))},t.prototype.setRef=function(e){this._ref=e},t.prototype.delayResize=function(){var e=this;this._timeout.start(400,function(){e._ref&&e._ref.resize()})},t}(i.PureComponent);G.displayName="CardStackContainer";var j=s.default.connectStores([c.default,y.default],function(){return{windowHeight:c.default.windowSize().height}})(G),B=function(e){function t(n){I(this,t);var o=A(this,e.call(this,n));return o.handleSelectParticipant=o.handleSelectParticipant.bind(o),o}return M(t,e),t.prototype.handleSelectParticipant=function(e){var t=this.props,n=t.mode,o=t.layout,a=t.selectedParticipantId,r=t.channelId;t.inCall&&n===T.ChannelModes.VIDEO&&(v.default.selectParticipant(r,a===e?null:e),o===T.ChannelLayouts.MINIMUM&&v.default.updateLayout(r,T.ChannelLayouts.NORMAL))},t.prototype.calculateAvatarSize=function(){var e=this.props,t=e.layout,n=e.windowWidth,o=e.participants,a=e.mode;if(null!=e.selectedParticipantId&&a===T.ChannelModes.VIDEO&&t!==T.ChannelLayouts.MINIMUM)return E.CallAvatarSizes.XLARGE;for(var r=t===T.ChannelLayouts.FULL_SCREEN||t===T.ChannelLayouts.NORMAL?E.CallAvatarSizes.XLARGE:E.CallAvatarSizes.XXLARGE,i=n-T.LEFT_PANEL_WIDTH,l=o?o.length:0,s=Object.keys(E.CallAvatarPixelSizes),u=0;u<s.length;u++){var d=E.CallAvatarPixelSizes[s[u]];if(!(d>E.CallAvatarPixelSizes[r])&&(a===T.ChannelModes.VIDEO&&(d*=E.CALL_AVATAR_VIDEO_RATIO),i>l*(d+=16)))return s[u]}return E.CallAvatarSizes.SMALL},t.prototype.render=function(){var e=this,t=this.props,n=t.participants,o=t.selectedParticipantId,a=t.theme,i=t.mode,s=t.inCall,u=t.layout,d=t.videoEnabled,c=t.onContextMenu,h=this.calculateAvatarSize(),y=n.find(function(e){return e.user.id===p.default.getId()}),v=null==y||y.ringing,g=i===T.ChannelModes.VIDEO&&v?E.CallAvatarPixelSizes[h]*E.CALL_AVATAR_VIDEO_RATIO:E.CallAvatarPixelSizes[h],S=n.map(function(t){var n,f=t.speaking,y=t.soundsharing,E=t.user,S=t.streamId,N=t.voiceState,b=t.ringing,O=E.id===p.default.getId()&&d,I=m.default.getMediaEngine().Video;return r(k,{width:g,theme:a,className:(0,l.default)((n={},n[C.default.avatarMargin]=i===T.ChannelModes.VOICE||v,n))},E.id,r(_.default,{id:E.id,name:E.username,selected:u!==T.ChannelLayouts.MINIMUM&&o===E.id,speaking:f,soundsharing:y,mode:i,muted:N&&(N.mute||N.selfMute),deafen:N&&(N.deaf||N.selfDeaf),ringing:b,src:E.getAvatarURL(),hasVideo:N&&N.selfVideo,streamId:s&&S,mirror:O,size:h,onClick:e.handleSelectParticipant,onContextMenu:c,videoComponent:I,disabled:v}))});if(0===S.length&&S.push(r(x,{theme:a},"empty")),i===T.ChannelModes.VIDEO&&!v){var b=g+8;return r(f.default,{component:j,layout:u,style:{width:b},cardWidth:b,cardHeight:b,className:(0,l.default)(C.default.wrapper,N.default.vertical,N.default.alignEnd,N.default.spacer)},void 0,S)}return r(f.default,{component:"div",className:(0,l.default)(C.default.wrapper,N.default.alignEnd,N.default.spacer,u===T.ChannelLayouts.MINIMUM?N.default.horizontal+" "+N.default.justifyCenter:N.default.vertical)},void 0,S)},t}(i.PureComponent);B.displayName="PrivateChannelCallParticipants",t.default=s.default.connectStores([c.default,y.default,h.default],function(e){return a({windowWidth:c.default.windowSize().width,selectedParticipantId:y.default.getSelectedParticipantId(e.channelId),theme:h.default.theme},e)})(B),e.exports=t.default},7288:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=n(77),u=ue(n(7)),d=ue(n(9)),f=ue(n(3)),c=n(56),p=n(78),h=ue(n(379)),y=ue(n(132)),m=ue(n(390)),v=ue(n(95)),E=ue(n(375)),_=ue(n(55)),g=ue(n(942)),S=ue(n(28)),T=ue(n(13)),C=ue(n(14)),N=ue(n(933)),b=ue(n(133)),O=ue(n(57)),I=ue(n(269)),A=ue(n(167)),M=ue(n(370)),R=ue(n(987)),P=ue(n(6148)),L=ue(n(35)),w=n(526),D=n(32),U=ue(n(929)),k=ue(n(6079)),F=ue(n(1200)),x=n(0),G=ue(n(6)),j=n(6340),B=n(116),H=ue(n(6438)),V=ue(n(6137)),Y=ue(n(75)),W=ue(n(81)),z=n(45),K=ue(z),$=ue(n(6654)),q=ue(n(6396)),X=ue(n(6395)),Q=ue(n(42)),J=ue(n(7287)),Z=ue(n(7283)),ee=ue(n(94)),te=ue(n(7280)),ne=ue(n(7279)),oe=ue(n(380)),ae=ue(n(6394)),re=n(7276),ie=ue(re),le=ue(n(6393)),se=ue(n(5791));function ue(e){return e&&e.__esModule?e:{default:e}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pe=((a={})[x.ChannelLayouts.NORMAL]=se.default.normal,a[x.ChannelLayouts.MINIMUM]=se.default.minimum,a[x.ChannelLayouts.NO_CHAT]=se.default.noChat,a[x.ChannelLayouts.FULL_SCREEN]=se.default.fullScreen,a),he={grey:{screenshare:n(7274),camera:n(7273),cameraOff:n(7272),cameraOffHover:n(7271),fullScreen:n(7270),fullScreenOff:n(7269),mute:n(7268),muteHover:n(7267),muteOff:n(7266),settings:n(7265)},white:{screenshare:n(7264),camera:n(7263),cameraOff:n(7262),cameraOffHover:n(7261),fullScreen:n(7260),fullScreenOff:n(7259),mute:n(7258),muteHover:n(6397),muteOff:n(6398),settings:n(7257)}},ye=function(e){var t=e.value,n=e.activeTooltip,o=e.inactiveTooltip,a=e.activeSrc,r=e.inactiveSrc,l=e.activeSrcHover,s=e.inactiveSrcHover,u=e.onChange;return i(ee.default,{text:t?n:o},void 0,i(H.default,{className:se.default.toggleButton,value:t,activeSrc:a,inactiveSrc:r,activeSrcHover:l,inactiveSrcHover:s,onChange:u}))};ye.displayName="ToggleButton";var me=function(e){function t(){return de(this,t),fe(this,e.apply(this,arguments))}return ce(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.muted,o=e.onChange;return i(ye,{value:n,activeTooltip:G.default.Messages.UNMUTE,inactiveTooltip:G.default.Messages.MUTE,activeSrc:he[t].mute,activeSrcHover:he[t].muteHover,inactiveSrc:he[t].muteOff,onChange:o})},t}(l.PureComponent);me.displayName="MuteButton";var ve=f.default.connectStores([_.default],function(){return{muted:_.default.isSelfMute()||_.default.isSelfMutedTemporarily()}})(me),Ee=function(e){var t=e.color,n=e.onClick;return i(ee.default,{text:G.default.Messages.USER_SETTINGS},void 0,i(V.default,{className:se.default.actionButton,src:he[t].settings,onClick:n}))};Ee.displayName="SettingsButton";var _e=function(e){function t(n){de(this,t);var o=fe(this,e.call(this,n));return o.handleDoubleClick=o.handleDoubleClick.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o}return ce(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return i("div",{className:t,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,n)},t.prototype.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,o=t.id;n&&n(e,o)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,o=t.id;n&&n(e,o)},t}(l.PureComponent);_e.displayName="VideoWrapper";var ge=function(e){function t(n){de(this,t);var o=fe(this,e.call(this,n));return o._ringingSound=(0,w.createSound)("call_calling"),o._prevLayout=x.ChannelLayouts.MINIMUM,o._callRef=null,o._timeout=new c.Timeout,u.default.bindAll(o,["handleToggleCamera","handleStartVideo","handleStartScreenShare","handleToggleSelfMute","handleConnect","handleDisconnect","handleOpenSettings","handleChangeLayout","handleToggleLayout","handleFullScreen","handleDoubleClick","handleOpenUserContextMenu","handleCameraUnavailable","handleScreenshareUnavailable","setCallRef","handleFullScreenChange"]),o}return ce(t,e),t.prototype.componentDidMount=function(){document.addEventListener(j.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},t.prototype.componentWillUnmount=function(){this.stopRinging(),this._timeout.stop(),document.removeEventListener(j.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.onResize,o=t.call,a=t.participants,r=t.inCall,i=t.mode,l=t.layout;if(e.mode===x.ChannelModes.VIDEO&&i===x.ChannelModes.VOICE&&(0,j.isFullScreen)()){var u=(0,s.findDOMNode)(this._callRef);(0,j.exitFullScreen)(u,F.default.resized)}null!=n&&e.participants!==a&&n(),null!=n&&e.layout!==l&&(this._timeout.stop(),this._timeout.start(350,n)),null!=o&&o.ringing.length>0&&r&&1===a.filter(function(e){return!e.ringing}).length?this.startRinging():this.stopRinging()},t.prototype.handleFullScreenChange=function(){(0,j.isFullScreen)()||this.props.layout!==x.ChannelLayouts.FULL_SCREEN||this.handleFullScreen()},t.prototype.handleFullScreen=function(){var e=(0,s.findDOMNode)(this._callRef);this.props.layout!==x.ChannelLayouts.FULL_SCREEN?(this._prevLayout=this.props.layout,this.handleChangeLayout(x.ChannelLayouts.FULL_SCREEN),(0,j.requestFullScreen)(e,F.default.resized)):(this.handleChangeLayout(this._prevLayout),(0,j.exitFullScreen)(e,F.default.resized))},t.prototype.handleStartVideo=function(){I.default.setVideoEnabled(!0)},t.prototype.handleToggleCamera=function(e){e!==this.props.videoEnabled&&(I.default.setVideoEnabled(e),this.handleStartScreenShare(!1))},t.prototype.handleStartScreenShare=function(e,t){if(e!==this.props.screenSharingEnabled){var n=this.props.channel,o=O.default.getCurrentGame();e&&null==o?P.default.open(n):t?(0,D.openContextMenu)(t,function(e){return l.createElement(le.default,r({},e,{channel:n,game:o}))}):I.default.setDesktopSource(null)}},t.prototype.handleToggleLayout=function(){this.handleChangeLayout(this.props.layout===x.ChannelLayouts.NORMAL?x.ChannelLayouts.NO_CHAT:x.ChannelLayouts.NORMAL)},t.prototype.handleChangeLayout=function(e){this.props.layout!==e&&(R.default.updateLayout(this.props.channel.id,e),e===x.ChannelLayouts.FULL_SCREEN&&B.ComponentDispatch.dispatch(x.ComponentActions.TEXTAREA_BLUR))},t.prototype.handleToggleSelfMute=function(){I.default.toggleSelfMute()},t.prototype.handleDisconnect=function(){this.props.layout===x.ChannelLayouts.FULL_SCREEN&&this.handleFullScreen(),A.default.selectVoiceChannel(null,null)},t.prototype.handleConnect=function(e){var t=this.props.channel;A.default.selectVoiceChannel(t.getGuildId(),t.id,e===Z.default.Type.VIDEO)},t.prototype.handleOpenSettings=function(){M.default.open(x.UserSettingsSections.VOICE)},t.prototype.handleOpenUserContextMenu=function(e,t){var n=this;(0,D.openContextMenu)(e,function(e){return l.createElement(U.default,r({},e,{type:x.ContextMenuTypes.USER_GROUP_DM,user:T.default.getUser(t),channelId:n.props.channel.id}))})},t.prototype.handleDoubleClick=function(e,t){var n=this.props,o=n.channel,a=n.selectedParticipantId;null==a?R.default.selectParticipant(o.id,t):a===t&&R.default.selectParticipant(o.id,null)},t.prototype.handleCameraUnavailable=function(){var e=this,t=this.props.cameraGranted;L.default.push(function(n){return l.createElement(ae.default,r({},n,{title:G.default.Messages.CAMERA_UNAVAILABLE,description:t?G.default.Messages.CAMERA_NO_DEVICE:G.default.Messages.CAMERA_NO_ACCESS,confirmText:t?G.default.Messages.OKAY:G.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:t?L.default.pop:e.handleStartVideo}))})},t.prototype.handleScreenshareUnavailable=function(){function e(){L.default.push(oe.default,{source:"Screenshare Unavailable"})}L.default.push(function(t){return l.createElement(ae.default,r({},t,{title:G.default.Messages.SCREENSHARE_UNAVAILABLE,description:G.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:G.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},t.prototype.renderRegionSelect=function(){var e=this.props,t=e.call,n=e.channel,o=void 0;return e.layout===x.ChannelLayouts.FULL_SCREEN||null==t||n.isManaged()||(o=i(ie.default,{call:t})),i(Q.default,{justify:Q.default.Justify.END,className:se.default.info},void 0,o)},t.prototype.renderParticipants=function(){var e=this.props,t=e.selectedParticipantId,n=e.participants,o=e.mode,a=e.layout,r=e.channel,l=e.inCall,s=e.videoEnabled;return a!==x.ChannelLayouts.MINIMUM&&null==t?null:i(J.default,{channelId:r.id,participants:n,mode:o,layout:a,inCall:l,videoEnabled:s,onContextMenu:this.handleOpenUserContextMenu})},t.prototype.renderLeftButtonGroups=function(){var e=this,t=this.props,n=t.channel,o=t.mode,a=t.layout,r=t.mentionCount;if(o===x.ChannelModes.VOICE||!n.isPrivate())return null;var l=void 0;if(a!==x.ChannelLayouts.FULL_SCREEN&&a!==x.ChannelLayouts.NO_CHAT||(l=i(k.default,{className:se.default.badge,value:r})),a===x.ChannelLayouts.FULL_SCREEN){return i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.side),align:Q.default.Align.CENTER,grow:0},void 0,i(W.default,{onClick:function(){e._prevLayout=x.ChannelLayouts.NORMAL,e.handleFullScreen()}},void 0,i(Y.default,{className:se.default.iconButton,color:x.Colors.WHITE,name:Y.default.Names.ARROW_UP})),l)}return i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.side),align:Q.default.Align.CENTER,grow:0},void 0,i(W.default,{onClick:this.handleToggleLayout},void 0,i(Y.default,{className:se.default.iconButton,color:x.Colors.WHITE,name:a===x.ChannelLayouts.NO_CHAT?Y.default.Names.ARROW_UP:Y.default.Names.ARROW_DOWN})),l)},t.prototype.renderRightButtonGroups=function(e){var t=this.props,n=t.mode,o=t.layout;return n===x.ChannelModes.VOICE?null:i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.side),align:Q.default.Align.CENTER,grow:0},void 0,i(V.default,{className:se.default.actionButton,src:o===x.ChannelLayouts.FULL_SCREEN?he[e].fullScreenOff:he[e].fullScreen,onClick:this.handleFullScreen}))},t.prototype.renderVideoButton=function(e){var t=this.props,n=t.videoEnabled,o=t.cameraGranted,a=t.cameraDisabled;return!1===o||!0===a?i(ee.default,{text:o?G.default.Messages.CAMERA_UNAVAILABLE:G.default.Messages.CAMERA_NOT_ENABLED},void 0,i(V.default,{className:(0,d.default)(se.default.actionButton,se.default.unavailable),src:he[e].camera,onClick:this.handleCameraUnavailable})):i(ye,{value:n,activeTooltip:G.default.Messages.CAMERA_OFF,inactiveTooltip:G.default.Messages.CAMERA_ON,activeSrc:he[e].camera,inactiveSrc:he[e].cameraOff,inactiveSrcHover:he[e].cameraOffHover,onChange:this.handleToggleCamera})},t.prototype.renderScreenshareButton=function(e){var t=this.props,n=t.screenSharingEnabled,o=t.screenshareUnavailable;return t.layout===x.ChannelLayouts.FULL_SCREEN?null:o?i(ee.default,{text:G.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,i(V.default,{className:(0,d.default)(se.default.actionButton,se.default.unavailable),src:he[e].screenshare,onClick:this.handleScreenshareUnavailable})):i(ye,{value:n,activeTooltip:G.default.Messages.SCREEN_SHARE_OPTIONS,inactiveTooltip:G.default.Messages.SCREEN_SHARE_ON,activeSrc:he[e].screenshare,inactiveSrc:he[e].screenshare,onChange:this.handleStartScreenShare})},t.prototype.renderSettingsButton=function(e){return this.props.layout!==x.ChannelLayouts.FULL_SCREEN?i(Ee,{color:e,onClick:this.handleOpenSettings}):null},t.prototype.renderActionButtonGroups=function(){var e=this.props,t=e.channel,n=e.mode,o=e.layout,a=e.inCall,r=e.theme,l=e.cameraGranted,s=e.cameraDisabled,u=e.video,f=t.isManaged()||!t.isPrivate();if(!a){var c=n===x.ChannelModes.VIDEO&&l&&!s?Z.default.Type.VIDEO:Z.default.Type.VOICE;return i(Q.default,{className:se.default.actions,justify:Q.default.Justify.CENTER},void 0,i(Z.default,{type:c,onClick:this.handleConnect,text:f?G.default.Messages.CONNECT:G.default.Messages.JOIN_CALL}))}var p=r===x.ThemeTypes.LIGHT&&o===x.ChannelLayouts.MINIMUM?"grey":"white";return u?i(Q.default,{className:se.default.actions,justify:Q.default.Justify.BETWEEN},void 0,i(Q.default,{basis:"50%"},void 0,this.renderLeftButtonGroups()),i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.center),align:Q.default.Align.CENTER,justify:Q.default.Justify.CENTER,grow:0},void 0,this.renderScreenshareButton(p),this.renderVideoButton(p),i(K.default,{className:se.default.exitButton,color:z.ButtonColors.RED,size:z.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,f?G.default.Messages.DISCONNECT:G.default.Messages.LEAVE_CALL),i(ve,{color:p,onChange:this.handleToggleSelfMute}),this.renderSettingsButton(p)),i(Q.default,{justify:Q.default.Justify.END,basis:"50%"},void 0,this.renderRightButtonGroups(p))):i(Q.default,{className:se.default.actions,justify:Q.default.Justify.CENTER},void 0,i(Q.default,{className:(0,d.default)(se.default.iconsWrapper,se.default.center),align:Q.default.Align.CENTER,justify:Q.default.Justify.CENTER,grow:0},void 0,i(ve,{color:p,onChange:this.handleToggleSelfMute}),i(K.default,{className:(0,d.default)(se.default.exitButton,se.default.voice),color:z.ButtonColors.RED,size:z.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,f?G.default.Messages.DISCONNECT:G.default.Messages.LEAVE_CALL),this.renderSettingsButton(p)))},t.prototype.calculateGridSize=function(e){var t=this.props,n=t.windowSize,o=t.layout,a=n.width,r=n.height;switch(o){case x.ChannelLayouts.NORMAL:a-=x.LEFT_PANEL_WIDTH,r/=2;break;case x.ChannelLayouts.NO_CHAT:a-=x.LEFT_PANEL_WIDTH}r=Math.max(r,275),r-=120;var i=e<4?1:2,l=Math.floor(e/i)+(i>1&&e%2!=0?2:0),s=a>r?te.default.Mode.LANDSCAPE:te.default.Mode.PORTRAIT;if(s===te.default.Mode.PORTRAIT){var u=i;i=l,l=u}var d=1*l/i,f=r*(16/9*l/i);return f<a?{mode:s,style:{width:f/a*100+"%",height:"100%"}}:(f=r*d)<a?{mode:s,style:{width:"100%",height:"100%"}}:{mode:s,style:{width:"100%",height:a/d/r*100+"%"}}},t.prototype.renderBackground=function(){var e=this,t=this.props,n=t.layout,o=t.selectedParticipantId,a=t.videoEnabled,s=t.participants,u=_.default.getMediaEngine().Video,d=C.default.getId();if(n===x.ChannelLayouts.MINIMUM)return null;if(null==o){var f=s.map(function(t){var n=t.user,o=t.voiceState,r=t.streamId,l=n.id===d&&a;return i(ne.default,{user:n,mirror:l,streamId:r,videoComponent:u,muted:o&&(o.mute||o.selfMute)||!1,deafen:o&&(o.deaf||o.selfDeaf)||!1,hasVideo:o&&o.selfVideo||!1,onDoubleClick:e.handleDoubleClick,onContextMenu:e.handleOpenUserContextMenu},n.id)});return i(Q.default,{justify:Q.default.Justify.CENTER,align:Q.default.Align.CENTER,className:se.default.videoBackgroundWrapper},void 0,l.createElement(te.default,r({className:se.default.videoBackground},this.calculateGridSize(f.length)),f))}var c=s.find(function(e){return e.user.id===o});if(null==c)return null;var p=c.voiceState,h=c.user,y=c.streamId,m=void 0;return m=p&&p.selfVideo&&null!=u?i(q.default,{streamId:y,mirror:o===d&&a,videoComponent:u}):i(X.default,{user:h,avatarSize:X.default.AvatarSizes.PROFILE}),i(_e,{className:se.default.videoBackground,id:o,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleOpenUserContextMenu},void 0,m)},t.prototype.render=function(){var e=this.props,t=e.participants,n=e.layout,o=e.selectedParticipantId,a=e.inCall,r=e.focused;return t&&t.length?l.createElement($.default,{ref:this.setCallRef,className:(0,d.default)(se.default.wrapper,pe[n]),animated:a,layout:n,focused:r,backgroundKey:o,background:this.renderBackground(),top:this.renderRegionSelect(),center:this.renderParticipants(),bottom:this.renderActionButtonGroups()}):null},t.prototype.setCallRef=function(e){this._callRef=e},t.prototype.startRinging=function(){this.props.disableSounds||g.default.isSoundDisabled("call_calling")||this._ringingSound.loop()},t.prototype.stopRinging=function(){this._ringingSound.stop()},t}(l.PureComponent);ge.displayName="PrivateChannelCall",t.default=f.default.connectStores([h.default,y.default,m.default,_.default,v.default,S.default,N.default,E.default,b.default],function(e){var t=e.channel,n=_.default.supports(p.Features.VIDEO),o=h.default.getParticipants(t.id),a=v.default.isInChannel(t.getGuildId(),t.id),r=n?h.default.getMode(t.id):x.ChannelModes.VOICE,i=(0,u.default)(_.default.getVideoDevices()).values().first(),l=null==i||i.disabled,s=a&&r===x.ChannelModes.VIDEO?h.default.getLayout(t.id):x.ChannelLayouts.MINIMUM;return s!==x.ChannelLayouts.FULL_SCREEN&&t.type===x.ChannelTypes.GUILD_VOICE&&(s=x.ChannelLayouts.NO_CHAT),s===x.ChannelLayouts.NO_CHAT&&(r=x.ChannelModes.VIDEO),{channel:t,video:n,mode:r,participants:o,selectedParticipantId:h.default.getSelectedParticipantId(t.id),call:m.default.getCall(t.id),inCall:a,layout:s,disableSounds:y.default.disableSounds,videoEnabled:_.default.isVideoEnabled(),screenSharingEnabled:_.default.isScreenSharing(),theme:S.default.theme,cameraGranted:_.default.isEnabled(),cameraDisabled:l||!_.default.isEnabled(),screenshareUnavailable:!_.default.supports(p.Features.DESKTOP_CAPTURE),focused:N.default.isOpen(re.QUICK_REGION_SELECT_KEY),mentionCount:E.default.getMentionCount(t.id),windowSize:b.default.windowSize()}})(ge),e.exports=t.default},7289:function(e,t,n){"use strict";t.__esModule=!0,t.getRecipients=function(e){return(0,o.default)(e).map(a.default.getUser).filter(function(e){return null!=e}).unshift(a.default.getCurrentUser()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return{key:e.id,user:e}}).value()};var o=r(n(7)),a=r(n(13));function r(e){return e&&e.__esModule?e:{default:e}}},7290:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=I(n(60)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=I(n(54)),u=I(n(66)),d=I(n(6)),f=I(n(3)),c=n(32),p=I(n(227)),h=I(n(521)),y=I(n(929)),m=I(n(225)),v=I(n(13)),E=I(n(87)),_=I(n(61)),g=I(n(968)),S=I(n(275)),T=n(0),C=n(7289),N=I(n(6664)),b=I(n(133)),O=I(n(5598));function I(e){return e&&e.__esModule?e:{default:e}}var A=(0,s.default)({displayName:"PrivateChannelRecipient",mixins:[f.default.LazyStoreListenerMixin(E.default,_.default,g.default,b.default),u.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props,t=e.user,n=e.channel,o=void 0,a=void 0;return(_.default.isFriend(t.id)||t===v.default.getCurrentUser())&&(o=E.default.getStatus(t.id),a=E.default.getPrimaryActivity(t.id)),{typing:null!=g.default.getTypingUsers(n.id)[t.id],isFocused:b.default.isFocused(),status:o,activity:a,showMobileIndicator:E.default.isMobileOnline(t.id)}},handleContextMenu:function(e){var t=this.props,n=t.user,o=t.channel;(0,c.openContextMenu)(e,function(e){return l.createElement(y.default,r({},e,{type:T.ContextMenuTypes.USER_GROUP_DM,user:n,channelId:o.id}))})},renderUserPopout:function(e){var t=this.props,n=t.user,o=t.channel;return l.createElement(h.default,r({},e,{user:n,channelId:o.id}))},render:function(){var e=this.props,t=e.user,n=e.channel,o=this.state,r=o.status,i=o.activity,l=o.typing,s=o.isFocused,u=o.showMobileIndicator;return a(m.default,{closeOnScroll:!1,render:this.renderUserPopout,position:m.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,a(N.default,{user:t,isOwner:t.id===n.ownerId,ownerTooltipText:d.default.Messages.GROUP_OWNER,shouldAnimateTypingIndicator:s,isTyping:l,status:r,activity:i,onContextMenu:this.handleContextMenu,showMobileIndicator:u},t.id))}}),M=(0,s.default)({displayName:"PrivateChannelRecipients",mixins:[f.default.LazyStoreListenerMixin(v.default)],propTypes:{channel:i.default.instanceOf(S.default).isRequired,theme:i.default.string.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{recipients:(0,C.getRecipients)(this.props.channel.recipients)}},UNSAFE_componentWillReceiveProps:function(e){var t=e.channel;this.setState({recipients:(0,C.getRecipients)(t.recipients)})},renderMembers:function(){var e=this.props.channel;return this.state.recipients.map(function(t){return l.createElement(A,r({},t,{channel:e}))})},render:function(){var e=this.state.recipients,t=this.props.theme;return a("div",{className:O.default.membersWrap},void 0,a(p.default,{className:O.default.members,fade:!0,theme:p.default.Themes.GHOST_HAIRLINE,backgroundColor:t===T.ThemeTypes.LIGHT?"#f3f3f3":T.Colors.PRIMARY_DARK_630,outerClassName:O.default.scrollerWrap},void 0,a("h2",{className:O.default.membersGroup},void 0,d.default.Messages.MEMBERS,"—",e.length),this.renderMembers()))}});t.default=M,e.exports=t.default},7291:function(e,t,n){"use strict";t.__esModule=!0;var o=h(n(3)),a=h(n(2)),r=h(n(7)),i=n(0),l=h(n(13)),s=h(n(65)),u=h(n(18)),d=h(n(6331)),f=h(n(6690)),c=h(n(61)),p=h(n(275));function h(e){return e&&e.__esModule?e:{default:e}}var y=1e3,m=void 0,v=!1,E="",_=0,g=[],S=!1,T=new Set;function C(){E="",_=0,g=[],T=new Set,v=!1}function N(e){E=e,_=0,O()}function b(){var e=s.default.getChannelId();return null!=e?u.default.getChannel(e):null}function O(){if(!v)return!1;if(0===E.trim().length)return null!=m&&m.clearQuery(),g=function(){var e=c.default.getFriendIDs(),t=b();null!=t&&(e=e.filter(function(e){return!t.recipients.includes(e)}));return e=e.reduce(function(e,t){var n=l.default.getUser(t);return null==n?e:(e.push({user:n}),e)},[]).sort(A)}(),!0;var e,t,n,o=b(),a=null!=o?o.recipients:[];return null!=m&&m.setQuery(E,{friends:!0},a,null,(e=f.default.getFrequently().filter(function(e){return e instanceof p.default&&e.type===i.ChannelTypes.DM}),t=Math.max.apply(Math,e.map(function(e){var t=e.id;return f.default.getScore(t)})),n={},e.forEach(function(e){var o=f.default.getScore(e.id),a=e.getRecipientId(),r=c.default.isFriend(a)?.2:0,i=u.default.getDMFromUserId(a)?.1:0;n[a]=1+o/t+r+i}),n)),!1}function I(){if(!v)return!1;var e=S;return(S=r.default.some(c.default.getRelationships(),function(e){return e===i.RelationshipTypes.FRIEND}))!==e}function A(e,t){return e.user.usernameLowerCase.localeCompare(t.user.usernameLowerCase)}function M(e){var t=e.results;v&&""!==E&&(g=t.map(function(e){var t=e.user,n=e.id,o=e.score,a=e.comparator;return{user:null!=t?t:l.default.getUser(n),score:o,comparator:a}}),L.emitChange())}function R(e){if((e.type===i.ActionTypes.POPOUT_OPEN?e.popout.key:e.key)!==i.NEW_GROUP_DM_POPOUT_ID)return!1;v=!0,I(),m=d.default.getSearchContext(M,y),N("")}function P(e){if(e.key!==i.NEW_GROUP_DM_POPOUT_ID)return!1;null!=m&&(m.destroy(),m=null),C()}var L=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,u.default,c.default),this.syncWith([l.default,u.default],O),this.syncWith([c.default],I)},t.prototype.getState=function(){return{query:E,selectedRow:_,selectedUsers:T,results:g,hasFriends:S}},t}(o.default.Store))(a.default,{CONNECTION_OPEN:function(e){C()},CHANNEL_SELECT:function(e){if(null!=e.guildId)return!1;var t=v;C(),v=t,O()},POPOUT_OPEN:R,MODAL_PUSH:R,POPOUT_CLOSE:P,MODAL_POP:P,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){N(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){_=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){var t=e.userId;T.add(t),T=new Set(T)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){var t=e.userId;T.delete(t),T=new Set(T)}});t.default=L,e.exports=t.default},7292:function(e,t,n){"use strict";t.__esModule=!0;var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0);t.default={search:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:e})},clear:function(){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:""})},select:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT,row:e})},addUser:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_ADD_USER,userId:e})},removeUser:function(e){r.default.dispatch({type:i.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER,userId:e})}},e.exports=t.default},7293:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=h(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(54))),l=h(n(3)),s=h(n(94)),u=h(n(6089)),d=h(n(75)),f=h(n(272)),c=h(n(6138)),p=h(n(6));function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,i.default)({displayName:"ChannelMuteButton",mixins:[l.default.StoreListenerMixin(f.default)],propTypes:{channel:r.default.object.isRequired,legacy:r.default.bool},getDefaultProps:function(){return{legacy:!1,channel:r.default.object.isRequired}},getStateFromStores:function(){return{isMuted:f.default.isChannelMuted(this.props.channel.getGuildId(),this.props.channel.id)}},UNSAFE_componentWillReceiveProps:function(e){this.setState({isMuted:f.default.isChannelMuted(e.channel.getGuildId(),e.channel.id)})},handleClick:function(){c.default.updateChannelOverrideSettings(this.props.channel.getGuildId(),this.props.channel.id,{muted:!this.state.isMuted})},render:function(){return a(s.default,{text:p.default.Messages.CHANNEL_MUTE_TOOLTIP,position:s.default.Positions.BOTTOM},void 0,a(u.default.Icon,{name:this.state.isMuted?d.default.Names.NOTIFICATION_BELL_OFF:d.default.Names.NOTIFICATION_BELL,onClick:this.handleClick}))}});t.default=y,e.exports=t.default},7296:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(7)),l=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={focused:!1,lastGoodValue:n.value,value:n.value},i.default.bindAll(o,["handleChange","handleFocus","handleBlur","handleKeyPress"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){null!=e.value&&e.value!==this.props.value&&this.verifyLength(e.value)&&this.setState({value:e.value})},t.prototype.componentDidUpdate=function(e,t){t.focused!==this.state.focused&&this.state.focused&&this.refs.INPUT_REF.focus()},t.prototype.handleChange=function(e){this.setState({value:e.currentTarget.value});var t=this.props.onChange;t&&t(e)},t.prototype.handleFocus=function(e){this.setState({focused:!0,lastGoodValue:e.currentTarget.value});var t=this.props.onFocus;t&&t(e)},t.prototype.handleBlur=function(e){if(this.verifyLength()){this.setState({focused:!1});var t=this.props.onBlur;t&&t(e)}else this.setState({focused:!1,value:this.state.lastGoodValue})},t.prototype.handleKeyPress=function(e){13===e.which&&this.refs.INPUT_REF.blur()},t.prototype.render=function(){var e=void 0,t={position:"absolute",left:0,width:"100%",opacity:1};return this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:t.opacity=0,a("div",{className:(0,l.default)("input-autosize",{focus:this.state.focused},this.props.className)},void 0,a("div",{className:"input-autosize-inner",style:{position:"relative"}},void 0,r.createElement("input",{className:"input-autosize-input",ref:"INPUT_REF",style:t,key:this.props.value,value:this.state.value,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),r.createElement("div",{className:"input-autosize-input",style:e,ref:"VALUE_REF"},this.state.value)))},t.prototype.verifyLength=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||this.state.value||"";return!(this.props.minLen&&e.length<this.props.minLen||this.props.maxLen&&e.length>this.props.maxLen)},t}(r.Component);u.displayName="InputAutosize",t.default=u,e.exports=t.default},7303:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(42)),u=n(265),d=f(n(5810));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=Object.freeze({SINGLE_AVATAR:"1",MULTIPLE_AVATAR:"2"}),h=((a={})[u.AvatarSizes.SMALL]=d.default.avatarSmall,a[u.AvatarSizes.LARGE]=d.default.avatarLarge,a),y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=c(this,e.call.apply(e,[this].concat(r))),o.placeholderMaxWidth=Math.floor(40*Math.random())+40+"%",c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.type,n=e.avatarSize,o=e.className;return t===p.MULTIPLE_AVATAR?r("div",{className:(0,l.default)(d.default.multiplePlaceholder,o)},void 0,r(s.default,{},void 0,r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n],d.default.avatarMasked)}),r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n],d.default.avatarMasked)}),r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n])})),r(s.default,{grow:1,className:d.default.mulitplePlaceholderUsername,style:{maxWidth:this.placeholderMaxWidth}})):r(s.default,{className:(0,l.default)(d.default.placeholder,o)},void 0,r("div",{className:(0,l.default)(d.default.placeholderAvatar,h[n])}),r(s.default,{grow:1,className:d.default.placeholderUsername,style:{maxWidth:this.placeholderMaxWidth}}))},t}(i.Component);y.defaultProps={type:p.SINGLE_AVATAR},y.Types=p,y.displayName="PlaceholderAvatarWithMessage",t.default=y,e.exports=t.default},7304:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=M(n(60)),l=M(n(7)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=M(n(54)),d=M(n(6697)),f=M(n(276)),c=M(n(929)),p=M(n(521)),h=n(32),y=n(1213),m=M(n(225)),v=M(n(6664)),E=n(1012),_=M(E),g=M(n(968)),S=M(n(133)),T=M(n(87)),C=M(n(3)),N=n(6077),b=M(N),O=n(0),I=M(n(190)),A=M(n(5598));function M(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=(0,u.default)({displayName:"ChannelMember",mixins:[C.default.StoreListenerMixin(g.default,S.default,T.default)],propTypes:{colorString:i.default.any,user:i.default.object.isRequired,channelId:i.default.string.isRequired,guildId:i.default.string.isRequired,status:i.default.oneOf(Object.values(O.StatusTypes))},shouldComponentUpdate:function(e,t){return!(0,f.default)(this.props,e,["channelId"])||!(0,f.default)(this.state,t)},getStateFromStores:function(){return{isTyping:g.default.isTyping(this.props.channelId,this.props.user.id),isFocused:S.default.isFocused(),showMobileIndicator:T.default.isMobileOnline(this.props.user.id)}},renderUserContextMenu:function(e){var t=this;(0,h.openContextMenu)(e,function(e){return s.createElement(c.default,r({},e,{type:O.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channelId}))})},renderUserPopout:function(e){return s.createElement(p.default,r({},e,{user:this.props.user,guildId:this.props.guildId,channelId:this.props.channelId}))},render:function(){var e=this.state,t=e.isFocused,n=e.isTyping,o=e.showMobileIndicator,r=this.props,i=r.colorString,l=r.isOwner,s=r.nick,u=r.user,d=r.activity,f=r.status;return a(m.default,{closeOnScroll:!1,render:this.renderUserPopout,position:m.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,a(v.default,{onContextMenu:this.renderUserContextMenu,shouldAnimateTypingIndicator:t,user:u,nick:s,status:f,activity:d,isOwner:l,colorString:i,darkenColor:f===O.StatusTypes.OFFLINE,isTyping:n,showMobileIndicator:o}))}}),L=function(e){var t=e.id,n=e.title,o=e.count;return t===O.StatusTypes.UNKNOWN?a("div",{className:A.default.membersGroup},void 0,a("div",{className:A.default.memberGroupsPlaceholder})):a("div",{className:A.default.membersGroup},void 0,n,"—",o)},w=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,u=Array(i),d=0;d<i;d++)u[d]=arguments[d];return n=o=R(this,e.call.apply(e,[this].concat(u))),o.setList=function(e){o._list=e},o.renderSection=function(e){var t=o.props.groups[e];return s.createElement(L,r({},t,{key:e}))},o.getRowProps=function(e,t){var n=o.props,a=n.groups;return n.rows[a[e].index+1+t]},o.renderRow=function(e,t){var n=o.props.channel,i=o.getRowProps(e,t);return null!=i&&i.type===E.MemberListRowTypes.MEMBER?s.createElement(P,r({key:i.user.id},i,{channelId:n.id,guildId:n.guild_id})):a(v.default,{},e+":"+t)},o.handleScroll=function(){return o.updateSubscription()},o.getDimensions=function(){var e=o._list;if(null==e)return{};var t=e.props.rowHeight,n=e.getContainerHeight();return{height:n,rowHeight:t,rowsVisible:Math.floor(n/t),y:e.getScrollTop()}},o.updateSubscription=l.default.debounce(function(){if(null!=o._list){var e=o.props.channel,t=o.getDimensions(),n=t.rowHeight,a=t.y,r=t.height;(0,y.subscribeChannelDimensions)(e.guild_id,e.id,a,r,n)}},50),o.handleScrollerStateUpdate=function(e){var t=e.items;if(o.lastReportedAnalyticsChannel!==o.props.channel.id){var n=o.getDimensions().rowsVisible;if(0!==n){var a=t.map(function(e){var t=e.section,n=e.row;return o.getRowProps(t,n)}).slice(0,n+1).filter(Boolean);if(0!==a.length){var i=a.reduce(function(e,t){return t.type!==E.MemberListRowTypes.MEMBER?e:(e.num_users_visible++,T.default.isMobileOnline(t.userId)&&e.num_users_visible_with_mobile_indicator++,e)},{num_users_visible:0,num_users_visible_with_mobile_indicator:0});o.lastReportedAnalyticsChannel=o.props.channel.id,I.default.trackWithMetadata(O.AnalyticEvents.MEMBER_LIST_VIEWED,r({},i))}}}},R(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version},t.prototype.componentDidMount=function(){this.updateSubscription()},t.prototype.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription()},t.prototype.render=function(){var e=this.props,t=e.groups,n=e.listId,o=e.theme;return a(b.default,{tutorialId:"whos-online",position:N.TutorialIndicatorPositions.LEFT,offsetYPercent:-50,offsetX:16,offsetY:16},void 0,a("div",{className:A.default.membersWrap},void 0,s.createElement(d.default,{key:n,ref:this.setList,className:A.default.members,fade:!0,paddingTop:0,theme:d.default.Themes.GHOST_HAIRLINE,sectionHeight:40,rowHeight:40,renderSection:this.renderSection,renderRow:this.renderRow,sections:t.map(function(e){return e.count}),onScroll:this.handleScroll,onScrollerStateUpdate:this.handleScrollerStateUpdate,outerClassName:A.default.scrollerWrap,backgroundColor:o===O.ThemeTypes.LIGHT?"#f3f3f3":O.Colors.PRIMARY_DARK_630})))},t}(s.Component);w.displayName="ChannelMembers",t.default=C.default.connectStores([_.default],function(e){var t=e.channel;return _.default.getProps(t.guild_id,t.id)})(w),e.exports=t.default},7305:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(226),s=Re(n(9)),u=Re(n(522)),d=Re(n(7304)),f=Re(n(6663)),c=Re(n(6661)),p=Re(n(6195)),h=n(6056),y=Re(h),m=Re(n(6140)),v=Re(n(929)),E=n(32),_=Re(n(7296)),g=Re(n(376)),S=Re(n(6660)),T=Re(n(6082)),C=Re(n(6658)),N=Re(n(7293)),b=Re(n(6656)),O=Re(n(6655)),I=Re(n(7290)),A=Re(n(7288)),M=Re(n(7256)),R=Re(n(7255)),P=Re(n(7253)),L=Re(n(7252)),w=Re(n(6164)),D=Re(n(71)),U=Re(n(75)),k=Re(n(81)),F=Re(n(563)),x=Re(n(18)),G=Re(n(28)),j=Re(n(65)),B=Re(n(187)),H=Re(n(25)),V=Re(n(235)),Y=Re(n(6746)),W=Re(n(6129)),z=Re(n(274)),K=Re(n(937)),$=Re(n(13)),q=Re(n(6342)),X=Re(n(6062)),Q=Re(n(6332)),J=Re(n(379)),Z=Re(n(6188)),ee=Re(n(118)),te=Re(n(87)),ne=Re(n(7248)),oe=Re(n(3)),ae=Re(n(290)),re=Re(n(978)),ie=n(6340),le=Re(n(6)),se=Re(n(279)),ue=n(116),de=Re(n(148)),fe=Re(n(289)),ce=n(531),pe=Re(n(35)),he=Re(n(146)),ye=Re(n(987)),me=n(6077),ve=Re(me),Ee=Re(n(6651)),_e=Re(n(6180)),ge=n(969),Se=Re(n(144)),Te=Re(n(76)),Ce=Re(n(6650)),Ne=Re(n(6107)),be=Re(n(95)),Oe=Re(n(119)),Ie=n(0),Ae=Re(n(5596)),Me=Re(n(374));function Re(e){return e&&e.__esModule?e:{default:e}}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function we(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function De(e){e.preventDefault()}var Ue=/^\+(?!\w+):?(?!:)(\w+)?:?$/,ke=function(e){function t(){var n,o;Pe(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=Le(this,e.call.apply(e,[this].concat(r))),o.handleBlur=function(e){o.props.channel.toString()!==e.currentTarget.value&&de.default.setName(o.props.channel.id,e.currentTarget.value)},Le(o,n)}return we(t,e),t.prototype.render=function(){return r(_.default,{minLen:1,maxLen:100,className:Ae.default.channelName,value:this.props.channel.toString(),onBlur:this.handleBlur})},t}(i.Component);ke.displayName="ChannelName";var Fe=function(e){function t(){var n,o;Pe(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=Le(this,e.call.apply(e,[this].concat(i))),o.renderHeader=function(){return r(Te.default,{tag:Te.default.Tags.H4},void 0,o.props.channel.toString(!0))},Le(o,n)}return we(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.onClose;return r(Ee.default,{selectable:!0,onClose:n,renderHeader:this.renderHeader},void 0,r(D.default,{selectable:!0,size:D.default.Sizes.MEDIUM,color:D.default.Colors.PRIMARY,style:{paddingBottom:20}},void 0,ae.default.parseTopic(t.topic,!0,{channelId:t.id})))},t}(i.Component);Fe.displayName="ChannelTopicModal";var xe=function(e){function t(){var n,o;Pe(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=Le(this,e.call.apply(e,[this].concat(r))),o._mouseDown=!1,o.handleOpenTopic=function(e){!(e.target.matches("a")||e.target.parentNode.matches("a")||"highlight"===e.target.className||"highlight"===e.target.parentNode.className)&&pe.default.push(Fe,o.props)},o.onMouseDown=function(){o._mouseDown=!0},o.onMouseMove=function(){o._mouseDown&&(o._mouseDown=!1)},o.onMouseUp=function(e){o._mouseDown&&e.button!==Ie.MouseButtons.SECONDARY&&o.handleOpenTopic(e),o._mouseDown=!1},Le(o,n)}return we(t,e),t.prototype.render=function(){var e=this,t=this.props.channel;return null==t.topic||0===t.topic.length?r("div",{className:Ae.default.noTopic}):t.type===Ie.ChannelTypes.GROUP_DM?null:r("div",{className:(0,s.default)(Ae.default.topic,Ae.default.expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:function(t){return e.props.onContextMenu(t,Ie.ContextMenuTypes.CHANNEL_TOPIC)}},void 0,ae.default.parseTopic(t.topic,!0,{channelId:t.id}))},t}(i.Component);xe.displayName="ChannelTopic";var Ge=function(e){function t(n){Pe(this,t);var o=Le(this,e.call(this,n));return je.call(o),o.state={textValue:q.default.getDraft(n.channel.id),value:""},o}return we(t,e),t.prototype.componentDidMount=function(){q.default.addChangeListener(this.draftDidChange)},t.prototype.componentWillUnmount=function(){q.default.removeChangeListener(this.draftDidChange)},t.prototype.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(this.props)},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.focused,o=e.onResize,a=e.onBlur,l=e.onFocus,s=e.allowUnclaimed,u=le.default.Messages.TEXTAREA_PLACEHOLDER.format({channel:t.toString(!0)}),d=t.isPrivate()?S.default:C.default;return r("form",{onSubmit:De},void 0,r(d,{channel:t,allowUnclaimed:s},t.id,r(ve.default,{tutorialId:"writing-messages",position:me.TutorialIndicatorPositions.LEFT,offsetY:-50,offsetX:90},void 0,i.createElement(w.default,{ref:this.channelTextAreaRef,value:this.state.textValue,focused:n,className:Ae.default.channelTextArea,channel:t,placeholder:u,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:o,onFocus:l,onBlur:a,onKeyDown:this.handleKeyDown,disableAttachments:s,disableActivity:s,disableInvites:s,shouldRenderPremiumGiftButton:!0}))),r(c.default,{channel:t}))},t}(i.PureComponent),je=function(){var e=this;this.channelTextAreaRef=i.createRef(),this.draftDidChange=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,n=e.state.textValue,o=q.default.getDraft(t.channel.id);n!==o&&e.setState({textValue:o},function(){if(n!==o){var t=e.props.onFocus;t&&t()}})},this.handleKeyDown=function(t){if(!(t.which!==Ie.KeyboardKeys.ARROW_UP||t.shiftKey||t.altKey||t.ctrlKey||t.metaKey)&&0===e.state.textValue.length){t.preventDefault();var n=e.props.channel,o=z.default.getLastEditableMessage(n.id);o&&he.default.startEditMessage(n.id,o.id,o.content)}},this.handleTextareaChange=function(t,n){var o=e.props.channel.id;_e.default.changeDraft(o,e.state.value),""===n||Ue.test(n)?re.default.clear(o):re.default.typing(o),J.default.getLayout(o)===Ie.ChannelLayouts.NO_CHAT&&ye.default.updateLayout(o,Ie.ChannelLayouts.NORMAL),e.setState({textValue:n})},this.handleSendMessage=function(t){if(0===t.length)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var n=e.props,o=n.allowUnclaimed,a=n.channel;return o?((0,ce.open)(!0),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):null!=e.channelTextAreaRef.current?(0,ge.applyChatRestrictions)(e.channelTextAreaRef.current,t,a).then(function(n){var o=n.valid,r=n.failureReason;return o?(re.default.clear(a.id),null!=e.props.handleJumpToChat&&e.props.handleJumpToChat(),he.default.sendMessage(a.id,se.default.parse(a,t)),e.setState({textValue:""}),{shouldClear:!0,shouldRefocus:!0}):r===Ie.MessageRestrictionTypes.SLOWMODE_COOLDOWN?(ue.ComponentDispatch.dispatch(Ie.ComponentActions.SHAKE_APP,{duration:200,intensity:2}),ue.ComponentDispatch.dispatch(Ie.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1}}):Promise.resolve({shouldClear:!1,shouldRefocus:!1})}};Ge.displayName="ChannelTextAreaForm";var Be=oe.default.connectStores([ne.default,Z.default,ee.default],function(e){var t=e.guild,n=e.channel,o=!1;if(null!=t&&t.verificationLevel===Ie.VerificationLevels.LOW){var a=Z.default.getCheck(t.id);null!=a&&a.notClaimed&&ee.default.can(Ie.Permissions.SEND_MESSAGES,n)&&(o=ne.default.shouldAllowUnclaimedChat())}return{allowUnclaimed:o}})(Ge),He=function(e){function t(n){Pe(this,t);var o=Le(this,e.call(this,n));return $e.call(o),o.state={topicExpanded:!1,textAreaFocused:!1},o}return we(t,e),t.prototype.componentDidMount=function(){ue.ComponentDispatch.subscribe(Ie.ComponentActions.TEXTAREA_FOCUS,this.handleInputFocus),ue.ComponentDispatch.subscribe(Ie.ComponentActions.TEXTAREA_BLUR,this.handleInputBlur)},t.prototype.componentDidUpdate=function(e){this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus()),this.props.channel&&e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1}),this.props.section!==e.section&&this.resizeChat()},t.prototype.componentWillUnmount=function(){ue.ComponentDispatch.unsubscribe(Ie.ComponentActions.TEXTAREA_FOCUS,this.handleInputFocus),ue.ComponentDispatch.unsubscribe(Ie.ComponentActions.TEXTAREA_BLUR,this.handleInputBlur)},t.prototype.render=function(){var e=this.props,t=e.channel,n=e.hasCall;if(!t)return this.renderEmptyChannel();if(t.type===Ie.ChannelTypes.GUILD_VOICE&&!n){var o=Oe.default.getDefaultChannel(t.guild_id);return r(l.Redirect,{to:Ie.Routes.CHANNEL(t.guild_id,null!=o?o.id:null)})}return r("div",{className:Ae.default.chat},void 0,r(u.default,{title:t.toString(!0)}),this.renderHeaderBar(),this.renderCall(),r("div",{className:Ae.default.content},void 0,this.renderChat(),this.renderSidebar()))},t}(i.PureComponent),Ve=r(L.default,{},"pins"),Ye=r(L.default,{},"pins"),We=r(P.default,{},"members"),ze=r(L.default,{},"pins"),Ke=r(P.default,{},"members"),$e=function(){var e=this;this.getAnalyticsPage=function(){var t=e.props.channel;if(null==t)return null;switch(t.type){case Ie.ChannelTypes.GUILD_TEXT:return g.default.Pages.GUILD_CHANNEL;case Ie.ChannelTypes.GROUP_DM:case Ie.ChannelTypes.DM:return g.default.Pages.DM_CHANNEL;default:return null}},this.resizeChat=function(){ue.ComponentDispatch.dispatch(Ie.ComponentActions.CHAT_RESIZE)},this.handleInputFocus=function(){(0,ie.isFullScreen)()||e.setState({textAreaFocused:!0})},this.handleInputBlur=function(){(document.hasFocus()||e.props.hasModalOpen)&&e.setState({textAreaFocused:!1})},this.handleOpenProfile=function(){fe.default.open(e.props.channel.getRecipientId(),e.props.channel.guild_id)},this.handleChannelContextMenu=function(t,n){var o=e.props,r=o.guild,l=o.channel;(0,E.openContextMenu)(t,function(e){return i.createElement(m.default,a({},e,{type:n,channel:l,guild:r}))})},this.handleUserContextMenu=function(t){var n=e.props.channel;(0,E.openContextMenu)(t,function(e){return i.createElement(v.default,a({},e,{type:Ie.ContextMenuTypes.USER_CHANNEL_TITLE,user:$.default.getUser(n.getRecipientId()),selected:!0,channelId:n.id}))})},this.handleJumpToPresent=function(){z.default.getMessages(e.props.channel.id).hasMoreAfter&&ue.ComponentDispatch.dispatch(Ie.ComponentActions.SCROLLTO_PRESENT)},this.renderTitle=function(){var t,n=e.props,o=n.channel,a=n.hasVideo,i=n.showMobileIndicator,l=o.toString(),u=o.getTitleIcon(a);switch(o.type){case Ie.ChannelTypes.DM:var d=o.getRecipientId();return r("div",{className:Ae.default.titleText,onContextMenu:e.handleUserContextMenu},void 0,r(k.default,{tag:"span",className:(0,s.default)(Ae.default.channelName,Ae.default.private),onClick:e.handleOpenProfile},void 0,r(U.default,{name:u,width:16,height:16,className:Ae.default.channelIcon,background:Ae.default.background}),l),r(p.default,{userId:d,className:(0,s.default)(Ae.default.status,(t={},t[Ae.default.statusWithMobile]=i,t)),hideTooltip:!0}),i?r(F.default,{className:Ae.default.mobileIndicator,invertTooltip:!0}):null);case Ie.ChannelTypes.GROUP_DM:return o.isManaged()?r("div",{className:(0,s.default)(Ae.default.titleText,Ae.default.groupDMManaged)},void 0,r("span",{className:Ae.default.channelName},void 0,l)):r("div",{className:(0,s.default)(Ae.default.titleText,Ae.default.groupDM)},void 0,r(ke,{channel:o},"channel-"+o.id));case Ie.ChannelTypes.GUILD_TEXT:case Ie.ChannelTypes.GUILD_VOICE:return r("div",{className:Ae.default.titleText,onContextMenu:function(t){return e.handleChannelContextMenu(t,Ie.ContextMenuTypes.CHANNEL_TITLE)}},void 0,r("span",{className:Ae.default.channelName},void 0,r(U.default,{name:u,width:16,height:16,className:Ae.default.channelIcon,background:Ae.default.background}),l));default:return null}},this.renderTopic=function(){var t=e.props,n=t.channel,o=t.guild;switch(n.type){case Ie.ChannelTypes.DM:return r(b.default,{channel:n},n.id);case Ie.ChannelTypes.GUILD_TEXT:case Ie.ChannelTypes.GUILD_VOICE:case Ie.ChannelTypes.GROUP_DM:return r(xe,{channel:n,guild:o,onContextMenu:e.handleChannelContextMenu},n.id);default:return null}},this.renderHeaderToolbar=function(){var t=e.props,n=t.channel,o=t.isLurking,a=[];switch(n.type){case Ie.ChannelTypes.DM:a.push(r(M.default,{channel:n},"calls")),a.push(Ve),a.push(r(O.default,{channel:n,tooltip:le.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case Ie.ChannelTypes.GROUP_DM:if(a.push(r(M.default,{channel:n},"calls")),a.push(Ye),!n.isManaged()){var i=le.default.Messages.GROUP_DM_ADD_FRIENDS;a.push(r(O.default,{channel:n,tooltip:i},"invite"))}a.push(We);break;case Ie.ChannelTypes.GUILD_TEXT:o||a.push(r(N.default,{channel:n},"mute")),a.push(ze),a.push(Ke)}return a},this.renderHeaderBar=function(){var t=e.props,n=t.channel,o=t.theme,a=t.hasCall,l=t.guildId;return r("div",{className:(0,s.default)(Ae.default.titleWrapper,"theme-"+o)},void 0,r(T.default,{title:r(i.Fragment,{},void 0,e.renderTitle(),e.renderTopic()),guildId:l,channelId:n.id,renderToolbar:e.renderHeaderToolbar,className:a?Ae.default.titleCall:Ae.default.title}))},this.renderCall=function(){var t=e.props.channel;switch(t.type){case Ie.ChannelTypes.DM:case Ie.ChannelTypes.GROUP_DM:case Ie.ChannelTypes.GUILD_VOICE:return r(A.default,{channel:t,onResize:e.resizeChat},t.id);default:return null}},this.renderChat=function(){var t=e.props,n=t.channel,o=t.nsfwAgree,a=t.guild,i=e.state.textAreaFocused;return n.type===Ie.ChannelTypes.GUILD_VOICE?null:!o&&n.isNSFW()?r(Ce.default,{guild:a}):r(g.default,{page:e.getAnalyticsPage()},void 0,r("div",{className:(0,s.default)(Me.default.spacer,Me.default.vertical),style:{position:"relative"}},void 0,r(f.default,{channel:n},n.id),r(Be,{focused:i,channel:n,guild:a,onResize:e.resizeChat,handleJumpToPresent:e.handleJumpToPresent,onFocus:e.handleInputFocus,onBlur:e.handleInputBlur})))},this.renderSidebar=function(){var t=e.props,n=t.searchId,o=t.channel,a=t.section,i=t.appTheme;if(a===Ie.ChannelSections.MEMBERS)switch(o.type){case Ie.ChannelTypes.GROUP_DM:return r(I.default,{channel:o,theme:i});case Ie.ChannelTypes.GUILD_TEXT:return r(d.default,{channel:o,theme:i})}else if(a===Ie.ChannelSections.SEARCH)return r(R.default,{searchId:n});return null},this.renderEmptyChannel=function(){var t=void 0;return t=null!=e.props.channelId?r(h.EmptyStateText,{},void 0,r(Se.default,{type:Se.default.Type.SPINNING_CIRCLE})):r(h.EmptyStateText,{note:le.default.Messages.CHANNELS_UNAVAILABLE_BODY},void 0,le.default.Messages.CHANNELS_UNAVAILABLE_TITLE),r("div",{className:Ae.default.noChannel},void 0,r(y.default,{theme:e.props.theme},void 0,r(h.EmptyStateImage,{darkSrc:n(7247),lightSrc:n(7246),width:272,height:222}),t))}};He.displayName="Channel",t.default=oe.default.connectStores([x.default,H.default,j.default,B.default,Y.default,K.default,W.default,X.default,J.default,Ne.default,Q.default,be.default,te.default,G.default,V.default],function(){var e=j.default.getChannelId(),t=Y.default.getEditingMessageId(),n=B.default.getGuildId(),o=J.default.getParticipants(e),a=x.default.getChannel(e),r=null!=a&&a.type===Ie.ChannelTypes.DM&&te.default.isMobileOnline(a.getRecipientId());return{appTheme:G.default.theme,guildId:n,channelId:e,channel:a,isEditing:null!=t,hasModalOpen:K.default.hasModalOpen(),section:W.default.getSection(),guild:H.default.getGuild(n),searchId:X.default.getCurrentSearchId(),hasCall:o&&o.length>0,nsfwAgree:Ne.default.didAgree(n),theme:Q.default.theme,hasVideo:null!=a&&be.default.hasVideo(n,a.id),showMobileIndicator:r,isLurking:null!=n&&V.default.isLurking(n)}})(He),e.exports=t.default},7306:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(6)),s=n(0),u=c(n(517)),d=n(6699),f=c(d);function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=r(d.PopoutMenuSeparator,{}),y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=p(this,e.call.apply(e,[this].concat(r))),o.handleSelect=function(e){u.default.updateRemoteSettings({status:e}),o.props.onClose()},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(this.props,[]);return i.createElement(f.default,a({alt:!0},e),r(d.StatusItem,{status:s.StatusTypes.ONLINE,onSelect:this.handleSelect}),h,r(d.StatusItem,{status:s.StatusTypes.IDLE,onSelect:this.handleSelect}),r(d.StatusItem,{status:s.StatusTypes.DND,onSelect:this.handleSelect},void 0,l.default.Messages.STATUS_DND_HELP),r(d.StatusItem,{status:s.StatusTypes.INVISIBLE,onSelect:this.handleSelect},void 0,l.default.Messages.STATUS_INVISIBLE_HELPER))},t}(i.PureComponent);y.displayName="StatusPickerPopout",t.default=y,e.exports=t.default},7307:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(3)),l=c(n(6086)),s=c(n(165)),u=c(n(6054)),d=c(n(193)),f=c(n(292));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=o=p(this,e.call.apply(e,[this].concat(i))),o.renderBuckets=function(e,t){var n=o.props,r=n.currentBucket,i=n.currentType;return t.map(function(t){var n=l.default.getExperimentBucketName(t);return a(d.default,{label:n,action:function(){return o.handleOverrideSelect(e,t)},active:e===i&&t===r},t)})},o.renderOverrideTypes=function(){var e=o.props.experiment;return Object.keys(e.experiments).map(function(t){var n=e.experiments[t];return a(f.default,{invertChildY:!0,label:t,render:function(){return o.renderBuckets(t,n)}},t)})},o.handleOverrideSelect=function(e,t){var n=o.props.id;u.default.overrideType(n,e),u.default.overrideBucket(n,t)},o.handleResetOverride=function(){var e=o.props.id;u.default.overrideType(e,null),u.default.overrideBucket(e,null)},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.experiment;return a(f.default,{invertChildY:!0,label:e.title,render:this.renderOverrideTypes,action:this.handleResetOverride})},t}(r.PureComponent);h.displayName="ExperimentSettingsItem",t.default=i.default.connectStores([s.default],function(e){var t=e.id,n=s.default.getExperimentOverrides()[t],o=-1,a="";return n&&(o=n.bucket,a=n.type),{experiment:s.default.getRegisteredExperiments()[t],bucket:s.default.getExperimentBucket(t),currentBucket:o,currentType:a}})(h),e.exports=t.default},7308:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=p(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(54))),l=p(n(66)),s=p(n(3)),u=p(n(6)),d=p(n(1009)),f=p(n(55)),c=p(n(269));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,i.default)({displayName:"VoiceSettingsVolumeItem",mixins:[s.default.LazyStoreListenerMixin(f.default),l.default],propTypes:{type:r.default.oneOf(["input","output"])},getVolume:function(){switch(this.props.type){case"input":return f.default.getInputVolume();case"output":return f.default.getOutputVolume()/2;default:return 0}},setVolume:function(e){switch(this.props.type){case"input":c.default.setInputVolume(e);break;case"output":c.default.setOutputVolume(2*e)}},renderVolume:function(e){switch(this.props.type){case"input":return e.toFixed(0)+"%";case"output":return(2*e).toFixed(0)+"%";default:return""}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{volume:this.getVolume()}},render:function(){return a(d.default,{label:"input"===this.props.type?u.default.Messages.FORM_LABEL_INPUT_VOLUME:u.default.Messages.FORM_LABEL_OUTPUT_VOLUME,defaultValue:this.state.volume,onValueChange:this.setVolume,onValueRender:this.renderVolume})}});t.default=h,e.exports=t.default},7309:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(54))),i=p(n(66)),l=p(n(3)),s=p(n(6)),u=p(n(33)),d=p(n(55)),f=p(n(269)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,r.default)({displayName:"VoiceSettingsInputModeItem",mixins:[l.default.StoreListenerMixin(d.default),i.default],getStateFromStores:function(){return{inputMode:d.default.getMode()}},render:function(){return a(u.default,{label:this.state.inputMode===c.InputModes.PUSH_TO_TALK?s.default.Messages.SWITCH_TO_VOICE_ACTIVITY:s.default.Messages.SWITCH_TO_PUSH_TO_TALK,action:this.handleAction})},handleAction:function(){f.default.setMode(this.state.inputMode===c.InputModes.PUSH_TO_TALK?c.InputModes.VOICE_ACTIVITY:c.InputModes.PUSH_TO_TALK)}});t.default=h,e.exports=t.default},7310:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(54))),i=c(n(66)),l=c(n(3)),s=c(n(6)),u=c(n(33)),d=c(n(28)),f=c(n(517));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,r.default)({displayName:"AppearanceMessageDisplayMenuItem",mixins:[l.default.LazyStoreListenerMixin(d.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isCompact:d.default.messageDisplayCompact}},render:function(){return a(u.default,{label:this.state.isCompact?s.default.Messages.SWITCH_TO_COZY_MODE:s.default.Messages.SWITCH_TO_COMPACT_MODE,action:this.handleAction})},handleAction:function(){f.default.updateRemoteSettings({messageDisplayCompact:!this.state.isCompact})}});t.default=p,e.exports=t.default},7311:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),p(n(54))),i=p(n(66)),l=p(n(3)),s=p(n(6)),u=p(n(33)),d=p(n(28)),f=p(n(517)),c=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,r.default)({displayName:"AppearanceThemeMenuItem",mixins:[l.default.StoreListenerMixin(d.default),i.default],getStateFromStores:function(){return{theme:d.default.theme}},render:function(){return a(u.default,{label:this.state.theme===c.ThemeTypes.LIGHT?s.default.Messages.SWITCH_TO_DARK_THEME:s.default.Messages.SWITCH_TO_LIGHT_THEME,action:this.handleAction})},handleAction:function(){f.default.updateRemoteSettings({theme:this.state.theme===c.ThemeTypes.LIGHT?c.ThemeTypes.DARK:c.ThemeTypes.LIGHT})}});t.default=h,e.exports=t.default},7312:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(54))),i=c(n(66)),l=c(n(3)),s=c(n(6)),u=c(n(193)),d=c(n(132)),f=c(n(6207));function c(e){return e&&e.__esModule?e:{default:e}}var p=(0,r.default)({displayName:"StreamerModeToggleItem",mixins:[l.default.LazyStoreListenerMixin(d.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{enabled:d.default.enabled}},render:function(){return a(u.default,{label:s.default.Messages.ENABLE_STREAMER_MODE_LABEL,action:this.handleToggle,active:this.state.enabled})},handleToggle:function(){f.default.setEnabled(!this.state.enabled)}});t.default=p,e.exports=t.default},7313:function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=u(n(7)),r=u(n(3)),i=u(n(2)),l=u(n(13)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=s.FormStates.CLOSED,f=void 0,c={},p={},h=void 0,y=void 0,m=!1;function v(e){var t,n=l.default.getCurrentUser();if(null==n)return E();f=e.section||f,e.subsection&&null!=f&&(c[f]=e.subsection),d=s.FormStates.OPEN,p={},(t={})[s.UserSettingsSections.ACCOUNT]={userId:n.id,username:n.username,discriminator:n.discriminator,email:n.email,avatar:n.avatar,password:"",newPassword:null,claimed:null!=n.email},y=o({},h=t)}function E(){d=s.FormStates.CLOSED,m=!1,h=null,y=null,f=null,c={}}var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default)},t.prototype.hasChanges=function(){return null!=y&&null!=h&&(!!this.isOpen()&&!a.default.isEqual(y,h))},t.prototype.isOpen=function(){return m},t.prototype.getSection=function(){return f},t.prototype.getProps=function(){return{submitting:d===s.FormStates.SUBMITTING,section:f,subsection:null!=c&&null!=f?c[f]:null,settings:y,errors:p,hasChanges:this.hasChanges()}},t}(r.default.Store);t.default=new _(i.default,{USER_SETTINGS_MODAL_OPEN:function(e){m=!0,v(e)},USER_SETTINGS_MODAL_INIT:v,USER_SETTINGS_MODAL_CLOSE:function(e){return E()},LOGOUT:function(e){return E()},USER_SETTINGS_MODAL_SUBMIT:function(e){d=s.FormStates.SUBMITTING},USER_SETTINGS_MODAL_SUBMIT_FAILURE:function(e){if(d!==s.FormStates.SUBMITTING)return!1;d=s.FormStates.OPEN,f=s.UserSettingsSections.ACCOUNT,p=e.errors||{}},USER_SETTINGS_MODAL_SET_SECTION:function(e){f=e.section,e.subsection&&(c[f]=e.subsection)},USER_SETTINGS_MODAL_UPDATE_ACCOUNT:function(e){var t=e.settings;null==y&&(y={});var n=y[s.UserSettingsSections.ACCOUNT];y[s.UserSettingsSections.ACCOUNT]=o({},n,t)}}),e.exports=t.default},7314:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),u(n(75))),i=u(n(145)),l=u(n(5811)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return a("div",{className:l.default.socialLinks},void 0,a(i.default,{target:"_blank",rel:"author",title:"Twitter",href:s.SOCIAL_LINKS.TWITTER_URL,className:l.default.link},void 0,a(r.default,{name:r.default.Names.TWITTER,foreground:l.default.foreground})),a(i.default,{target:"_blank",rel:"author",title:"Facebook",href:s.SOCIAL_LINKS.FACEBOOK_URL,className:l.default.link},void 0,a(r.default,{name:r.default.Names.FACEBOOK,foreground:l.default.foreground})),a(i.default,{target:"_blank",rel:"author",title:"Instagram",href:s.SOCIAL_LINKS.INSTAGRAM_URL,className:l.default.link},void 0,a(r.default,{name:r.default.Names.INSTAGRAM,foreground:l.default.foreground})))},e.exports=t.default},7315:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6667)),l=f(n(45)),s=f(n(71)),u=f(n(6)),d=f(n(5813));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=c(this,e.call.apply(e,[this].concat(r))),o.state={isRequestPending:!1,hasError:!1},o.handleLeaveHypeSquadError=function(){o.setState({hasError:!0})},o.handleLeaveHypeSquadClick=function(){o.setState({isRequestPending:!0},function(){i.default.leaveHypeSquadOnline().then(function(){o.setState({isRequestPending:!1})}).catch(function(){o.setState({hasError:!0,isRequestPending:!1})})})},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderErrorMessage=function(){return this.state.hasError?a("div",{className:d.default.error},void 0,u.default.Messages.HYPESQUAD_LEAVE_ERROR):null},t.prototype.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?a("div",{className:d.default.leaveActionWrapper},void 0,this.renderErrorMessage(),a(s.default,{className:d.default.leaveActionCopy,color:s.default.Colors.PRIMARY},void 0,u.default.Messages.HYPESQUAD_LEAVE_PROMPT,a(l.default,{className:d.default.leaveButton,color:l.default.Colors.LINK,look:l.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:l.default.Sizes.NONE,submitting:e},void 0,u.default.Messages.HYPESQUAD_LEAVE_ACTION))):null},t}(r.PureComponent);p.displayName="UserSettingsHypeSquad",t.default=p,e.exports=t.default},7316:function(e,t,n){e.exports=n.p+"ac89ab7dd6f700d02b0ac958b98a3309.svg"},7317:function(e,t,n){e.exports=n.p+"0f1eadc1ec3616e0b1c9ce515ee5683a.svg"},7318:function(e,t,n){e.exports=n.p+"59419b0683ef50f5e8ecd8748ecbcfeb.svg"},7319:function(e,t,n){e.exports=n.p+"07ed671b6c823a6cae5be39860ac8bf0.svg"},7320:function(e,t,n){e.exports=n.p+"8c59bddd746488fe8acf23d8d36c1a60.svg"},7321:function(e,t,n){e.exports=n.p+"a359371246d6353de6bc32715e092eba.svg"},7322:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(71)),l=d(n(6057)),s=d(n(6)),u=d(n(5816));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.state={selectedValue:null},o.handleOptionChange=function(e){var t=o.props.onSelect;o.setState({selectedValue:e.value}),t(e.value)},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getQuestionOptions=function(){return this.props.options.map(function(e){return{name:e.copy,value:e.house}})},t.prototype.render=function(){var e=this.state.selectedValue;return a(r.Fragment,{},void 0,a(i.default,{className:u.default.prompt,size:i.default.Sizes.MEDIUM,weight:i.default.Weights.SEMIBOLD},void 0,this.props.prompt),a("hr",{className:u.default.separator}),a(i.default,{className:u.default.selectYourAnswer,size:i.default.Sizes.SMALL},void 0,s.default.Messages.HYPESQUAD_QUIZ_SELECT_ANSWER),a(l.default,{options:this.getQuestionOptions(),onChange:this.handleOptionChange,value:e}))},t}(r.Component);c.displayName="QuestionGroup",t.default=c,e.exports=t.default},7323:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=u(n(224)),i=u(n(117)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=u(n(5817));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=d(this,e.call.apply(e,[this].concat(i))),o.state={isExiting:!1,offset:new r.default.Value(0),selectedValue:null},d(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillEnter=function(e){var t=this.state.offset;t.setValue(1),r.default.spring(t,{toValue:0,duration:75}).start(e)},t.prototype.componentWillLeave=function(e){var t=this.state.offset;t.setValue(0),this.setState({isExiting:!0},function(){r.default.spring(t,{toValue:-1,duration:75}).start(e)})},t.prototype.render=function(){var e=this.state,t=e.isExiting,n=e.offset;return a(r.default.div,{className:s.default.wrapper,style:{left:0,position:t?"absolute":"relative",top:0,transform:[{translateX:n.interpolate({inputRange:[-1,1],outputRange:["-100%","100%"]})}]}},void 0,a(i.default.Content,{className:s.default.contentWrapper},void 0,this.props.children))},t}(l.Component);f.displayName="HouseSelectionContent",t.default=f,e.exports=t.default},7324:function(e,t,n){"use strict";t.__esModule=!0,t.getQuestions=t.getRandomHouse=void 0;var o,a=n(0),r=n(6),i=(o=r)&&o.__esModule?o:{default:o};t.getRandomHouse=function(){var e=Object.keys(a.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]},t.getQuestions=function(){return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map(function(e){return{prompt:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_PROMPT"],options:[{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_A"],house:a.HypeSquadHouses.HOUSE_1},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_B"],house:a.HypeSquadHouses.HOUSE_2},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_C"],house:a.HypeSquadHouses.HOUSE_3},{copy:i.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_D"],house:a.RANDOM_HYPESQUAD_HOUSE}]}})}},7325:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=C(n(9)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),d=C(n(512)),f=C(n(6667)),c=n(7324),p=C(n(45)),h=C(n(76)),y=C(n(7323)),m=C(n(7322)),v=C(n(117)),E=C(n(71)),_=C(n(6)),g=n(0),S=C(n(510)),T=C(n(5815));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){return l("div",{className:T.default.innerContentWrapper},void 0,e.children)};b.displayName="innerContentWrapper";var O=((o={})[g.HypeSquadHouses.HOUSE_1]=n(7321),o[g.HypeSquadHouses.HOUSE_2]=n(7320),o[g.HypeSquadHouses.HOUSE_3]=n(7319),o),I=((a={})[g.HypeSquadHouses.HOUSE_1]=T.default.quizResultLogoWrapperHouse1,a[g.HypeSquadHouses.HOUSE_2]=T.default.quizResultLogoWrapperHouse2,a[g.HypeSquadHouses.HOUSE_3]=T.default.quizResultLogoWrapperHouse3,a),A=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=N(this,e.call.apply(e,[this].concat(r))),o.state={currentStep:0,hasSubmittedHouse:!1,hasUnknownError:!1,isRequestPending:!1,questions:(0,c.getQuestions)(),responses:{},selectedHouse:null},o.handleQuestionSelect=function(e){o.setState(function(t){var n;return{responses:i({},t.responses,(n={},n[t.currentStep]=e,n))}})},o.handleSubmitButtonClick=function(){var e=o.getSelectedHouseID();o.setState({isRequestPending:!0},function(){f.default.joinHypeSquadOnline({houseID:e}).then(function(){o.setState({hasUnknownError:!1,hasSubmittedHouse:!0,isRequestPending:!1,selectedHouse:e})}).catch(function(){o.setState({hasUnknownError:!0,hasSubmittedHouse:!1,isRequestPending:!1})})})},o.handleKeyDown=function(e){e.keyCode===g.KeyboardKeys.ENTER&&o.handleSubmitButtonClick()},o.handleNextQuestionButtonClick=function(){o.setState(function(e){return{currentStep:e.currentStep+1}})},N(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSelectedHouseID=function(){var e=this.state.responses,t={},n=void 0,o=0;return Object.keys(e).forEach(function(a){var r=e[a];null==t[r]&&(t[r]=0),t[r]++,t[r]>o&&(n=r,o=t[r])}),null==n||n===g.RANDOM_HYPESQUAD_HOUSE?(0,c.getRandomHouse)():n},t.prototype.renderUnknownErrorMessage=function(){return l(y.default,{},"error",l(u.Fragment,{},void 0,l(E.default,{className:T.default.quizResultHeading,color:E.default.Colors.PRIMARY,size:E.default.Sizes.LARGE,weight:E.default.Weights.SEMIBOLD},void 0,_.default.Messages.HYPESQUAD_ERROR_HEADING),l(E.default,{color:E.default.Colors.PRIMARY},void 0,_.default.Messages.HYPESQUAD_ERROR_BODY.format({emailAddress:"hypesquad@discordapp.com",emailAddressLink:"mailto:hypesquad@discordapp.com"}))))},t.prototype.renderQuizResult=function(){var e=this.state.selectedHouse;if(null==e)return null;var t,n,o=_.default.Messages.HYPESQUAD_QUIZ_TITLE.format({house:_.default.Messages["HYPESQUAD_"+e]});return l(y.default,{},"submit-step",l(u.Fragment,{},void 0,l("div",{className:(0,s.default)(T.default.quizResultLogoWrapper,I[e],S.default.marginBottom20)},void 0,l("img",{alt:o,className:T.default.quizResultLogo,src:O[e]})),l(E.default,{className:T.default.quizResultHeading,color:E.default.Colors.PRIMARY,size:E.default.Sizes.LARGE,weight:E.default.Weights.SEMIBOLD},void 0,o),l(E.default,{className:T.default.quizResultBody,color:E.default.Colors.PRIMARY},void 0,(t=e,((n={})[g.HypeSquadHouses.HOUSE_1]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_1,n[g.HypeSquadHouses.HOUSE_2]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_2,n[g.HypeSquadHouses.HOUSE_3]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_3,n)[t]))))},t.prototype.renderContent=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,o=e.hasSubmittedHouse,a=e.questions;if(n)return this.renderUnknownErrorMessage();if(o)return this.renderQuizResult();var r=a[t];return l(y.default,{},t,l(m.default,{onSelect:this.handleQuestionSelect,options:r.options,prompt:r.prompt},t))},t.prototype.renderHeaderCopy=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,o=e.hasSubmittedHouse,a=e.questions;return n?_.default.Messages.HYPESQUAD_QUIZ_ERROR_MODAL_TITLE:o?_.default.Messages.HYPESQUAD_QUIZ_COMPLETED_MODAL_TITLE:_.default.Messages.HYPESQUAD_QUIZ_ONGOING_MODAL_TITLE.format({currentQuestion:t+1,questionCount:a.length})},t.prototype.renderNewsletterWarning=function(){return l(y.default,{},void 0,l(E.default,{className:T.default.nameFormPreface,color:E.default.Colors.PRIMARY,size:E.default.Sizes.MEDIUM},void 0,_.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},t.prototype.renderPrimaryAction=function(){var e=this.state,t=e.currentStep,n=e.responses,o=e.hasUnknownError,a=e.hasSubmittedHouse,r=e.isRequestPending,i=e.questions,s=null==n[t];return o?l(p.default,{type:"submit",color:p.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:r},void 0,_.default.Messages.HYPESQUAD_QUIZ_RETRY):a?l(p.default,{type:"submit",color:p.default.Colors.BRAND,onClick:this.props.onClose},void 0,_.default.Messages.HYPESQUAD_QUIZ_CLOSE):t===i.length-1?l(p.default,{disabled:s,type:"submit",color:p.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:r},void 0,_.default.Messages.HYPESQUAD_QUIZ_SHOW_MY_HOUSE):l(p.default,{disabled:s,type:"submit",color:p.default.Colors.BRAND,onClick:this.handleNextQuestionButtonClick},void 0,_.default.Messages.HYPESQUAD_QUIZ_NEXT_QUESTION)},t.prototype.renderSecondaryAction=function(){return this.state.hasSubmittedHouse?null:l(p.default,{type:"button",look:p.default.Looks.LINK,color:p.default.Colors.PRIMARY,onClick:this.props.onClose},void 0,_.default.Messages.HYPESQUAD_QUIZ_CANCEL)},t.prototype.render=function(){var e=this.state.selectedHouse;return l(v.default,{size:null==e?v.default.Sizes.MEDIUM:v.default.Sizes.SMALL},void 0,l(v.default.Header,{separator:!1},void 0,l(h.default,{tag:h.default.Tags.H4},void 0,this.renderHeaderCopy())),l("div",{className:T.default.outerContentWrapper},void 0,l(d.default,{component:b},void 0,this.renderContent())),l(v.default.Footer,{},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))},t}(u.Component);A.displayName="HouseSelectionModal",t.default=A,e.exports=t.default},7326:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i,l=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=_(n(9)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),d=_(n(35)),f=_(n(45)),c=_(n(81)),p=_(n(42)),h=_(n(7325)),y=_(n(71)),m=_(n(6)),v=n(0),E=_(n(5814));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=((a={})[v.HypeSquadHouses.HOUSE_1]=E.default.membershipDialogHouse1,a[v.HypeSquadHouses.HOUSE_2]=E.default.membershipDialogHouse2,a[v.HypeSquadHouses.HOUSE_3]=E.default.membershipDialogHouse3,a),T=((r={})[v.HypeSquadHouses.HOUSE_1]=E.default.houseLogoHouse1,r[v.HypeSquadHouses.HOUSE_2]=E.default.houseLogoHouse2,r[v.HypeSquadHouses.HOUSE_3]=E.default.houseLogoHouse3,r),C=((i={})[v.HypeSquadHouses.HOUSE_1]=n(7318),i[v.HypeSquadHouses.HOUSE_2]=n(7317),i[v.HypeSquadHouses.HOUSE_3]=n(7316),i),N=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=g(this,e.call.apply(e,[this].concat(r))),o.handleJoinHypeSquadClick=function(){d.default.push(function(e){return u.createElement(h.default,e)})},g(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,o=e.isVerified;if(!n||!o)return null;if(null!=t){var a=m.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:m.default.Messages["HYPESQUAD_"+t]});return l("div",{className:(0,s.default)(E.default.membershipDialog,S[t])},void 0,l("div",{className:E.default.membershipDialogContent},void 0,l(p.default,{},void 0,l(p.default.Child,{grow:1,shrink:1},void 0,l(y.default,{className:E.default.membershipDialogHeading,color:y.default.Colors.WHITE,size:y.default.Sizes.SMALL},void 0,m.default.Messages.HYPESQUAD_YOUR_HOUSE),l(y.default,{className:E.default.membershipDialogHouseName,color:y.default.Colors.WHITE,weight:y.default.Weights.SEMIBOLD},void 0,a),l(y.default,{className:E.default.membershipDialogHouseDescription,color:y.default.Colors.WHITE,size:y.default.Sizes.MEDIUM},void 0,m.default.Messages["HYPESQUAD_DESCRIPTION_"+t])),l(p.default.Child,{className:E.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,l("img",{className:(0,s.default)(E.default.houseLogo,T[t]),src:C[t],alt:a}))),l(y.default,{className:E.default.membershipDialogSwitchHouses,color:y.default.Colors.WHITE,size:y.default.Sizes.MEDIUM},void 0,m.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,l(c.default,{className:E.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,m.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return l("div",{className:E.default.joinCTAWrapper},void 0,l(p.default,{className:E.default.joinCTA,align:p.default.Align.CENTER,justify:p.default.Justify.CENTER,direction:p.default.Direction.HORIZONTAL},void 0,l(p.default.Child,{grow:0,shrink:0},void 0,l(y.default,{color:y.default.Colors.PRIMARY},void 0,m.default.Messages.HYPESQUAD_READY_TO_REP)),l(p.default.Child,{grow:0,shrink:0},void 0,l(f.default,{onClick:this.handleJoinHypeSquadClick},void 0,m.default.Messages.HYPESQUAD_JOIN))),l(y.default,{className:E.default.newsletterWarning,color:y.default.Colors.PRIMARY},void 0,m.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},t}(u.Component);N.displayName="JoinHypeSquadCTA",t.default=N,e.exports=t.default},7327:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=s(n(9)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=s(n(5819));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID;return a("div",{className:(0,r.default)(t,l.default.videoWrapper)},void 0,a("iframe",{type:"text/html",className:l.default.video,src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://discordapp.com"}))},t}(i.Component);u.displayName="PromoVideo",t.default=u,e.exports=t.default},7328:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=d(n(9)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=d(n(42)),s=d(n(510)),u=d(n(5820));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.features,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["features"]);return t.map(function(e,t){var o;return null==e.predicate||e.predicate(n)?a(l.default,{align:l.default.Align.CENTER,className:(0,r.default)(s.default.marginTop20,u.default.feature,(o={},o[u.default.featureBorder]=0!==t,o))},t,null!=e.icon?a("div",{className:(0,r.default)(u.default.icon,e.icon)}):null,a("div",{},void 0,null!=e.title?a("div",{className:(0,r.default)(s.default.marginBottom8,u.default.title)},void 0,e.title):null,a("div",{className:u.default.description},void 0,e.description))):null})},t}(i.Component);f.displayName="FeatureList",t.default=f,e.exports=t.default},7329:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(7328)),l=f(n(7327)),s=f(n(71)),u=f(n(6)),d=f(n(5818));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("div",{className:d.default.features},void 0,a(l.default,{className:d.default.video,videoID:"SWzB1mx2o5k"}),a(s.default,{className:d.default.perksHeading,color:s.default.Colors.PRIMARY,weight:s.default.Weights.BOLD},void 0,u.default.Messages.HYPESQUAD_PERKS_HEADING),a(i.default,{features:[{icon:d.default.perkNewsletter,title:u.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:d.default.perkBadge,title:u.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:d.default.perkChallenges,title:u.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:u.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))},t}(r.Component);c.displayName="HypeSquadPerks",t.default=c,e.exports=t.default},7330:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=_(n(9)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(3)),s=_(n(13)),u=n(944),d=_(n(370)),f=_(n(45)),c=_(n(513)),p=_(n(42)),h=_(n(6434)),y=_(n(71)),m=_(n(6)),v=n(0),E=_(n(5821));function _(e){return e&&e.__esModule?e:{default:e}}var g=a(p.default.Child,{grow:0,shrink:0},void 0,a(h.default,{})),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,o=e.unverifiedNotice;return t?o:n},t.prototype.renderPrimaryAction=function(){return this.props.isClaimed?g:a(p.default.Child,{grow:0,shrink:0},void 0,a(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.BRAND,onClick:this.routeToEmailSettings},void 0,m.default.Messages.CLAIM_ACCOUNT))},t.prototype.renderSecondaryAction=function(){return this.props.isClaimed?a(p.default.Child,{grow:0,shrink:0},void 0,a(f.default,{color:f.default.Colors.GREY,look:f.default.Looks.LINK,onClick:this.routeToEmailSettings},void 0,m.default.Messages.CHANGE_EMAIL_SHORT)):null},t.prototype.routeToEmailSettings=function(){d.default.setSection(v.UserSettingsSections.ACCOUNT),(0,u.toggleEditingProfile)(!0)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.isClaimed,o=e.isVerified;return n&&o?null:a(c.default,{className:(0,r.default)(E.default.wrapper,t)},void 0,a(p.default,{align:p.default.Align.CENTER},void 0,a(p.default.Child,{className:E.default.image,grow:0,shrink:0}),a(p.default.Child,{},void 0,a(y.default,{color:y.default.Colors.PRIMARY},void 0,this.renderNotice()),a(p.default,{justify:p.default.Justify.CENTER,className:E.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))},t}(i.Component);S.defaultProps={unclaimedNotice:m.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,unverifiedNotice:m.default.Messages.NOTICE_UNVERIFIED_ACCOUNT},S.displayName="EmailNotice",t.default=l.default.connectStores([s.default],function(){var e=s.default.getCurrentUser();return{isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(S),e.exports=t.default},7331:function(e,t,n){"use strict";t.__esModule=!0;var o=l(n(13)),a=l(n(3)),r=l(n(2)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=null;var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getHouseMembership=function(){return s},t}(a.default.Store);t.default=new u(r.default,{CONNECTION_OPEN:function(e){var t;(t=o.default.getCurrentUser()).hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?s=i.HypeSquadHouses.HOUSE_1:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?s=i.HypeSquadHouses.HOUSE_2:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(s=i.HypeSquadHouses.HOUSE_3)},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(e){s=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){s=e.houseID}}),e.exports=t.default},7332:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=E(n(3)),l=E(n(7331)),s=E(n(13)),u=E(n(28)),d=E(n(513)),f=E(n(7330)),c=E(n(7329)),p=E(n(7326)),h=E(n(7315)),y=E(n(6)),m=n(0),v=E(n(5812));function E(e){return e&&e.__esModule?e:{default:e}}var _=a(c.default,{}),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderIntroHeader=function(){return null==this.props.houseMembership?y.default.Messages.HYPESQUAD_HEADING:y.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER},t.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,o=e.isVerified;return a(r.Fragment,{},void 0,a("div",{className:v.default.intro},void 0,a("div",{className:v.default.introHeader},void 0,this.renderIntroHeader()),a("div",{className:v.default.introBlurb},void 0,y.default.Messages.HYPESQUAD_SUBHEADING)),a(f.default,{className:v.default.verificationNotice,unclaimedNotice:y.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:y.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),a(p.default,{houseMembership:t,isClaimed:n,isVerified:o}),_,a(h.default,{isHypeSquadOnlineMember:null!=t}),a(d.default,{className:v.default.attendeeCTA},void 0,y.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:m.MarketingURLs.HYPESQUAD})))},t}(r.PureComponent);g.displayName="UserSettingsHypeSquad",t.default=i.default.connectStores([l.default,u.default,s.default],function(){var e=s.default.getCurrentUser();return{houseMembership:l.default.getHouseMembership(),isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(g),e.exports=t.default},7333:function(e,t,n){"use strict";t.__esModule=!0;var o,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=I(n(3)),s=I(n(9)),u=I(n(5)),d=I(n(147)),f=n(523),c=n(520),p=I(n(22)),h=I(n(394)),y=I(n(145)),m=I(n(42)),v=I(n(75)),E=I(n(94)),_=I(n(378)),g=I(n(952)),S=I(n(6121)),T=I(n(6400)),C=(I(n(6405)),n(936)),N=n(0),b=I(n(6)),O=I(n(5600));function I(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var M=14,R=5,P=2,L=function(e){return"https://support.discordapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},w=(0,d.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),D=[N.PaymentStatusTypes.FAILED,N.PaymentStatusTypes.REVERSED],U=function(e){var t=e.description,n=e.cost;return r("li",{className:O.default.paymentDetail},void 0,r(m.default,{justify:m.default.Justify.BETWEEN},void 0,r("div",{},void 0,t),r("div",{},void 0,n)))};U.displayName="PaymentDetail";var k=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=A(this,e.call.apply(e,[this].concat(r))),o.state={expanded:!1},o.refundRules=[{rule:w.TIME_PLAYED,canRefund:function(){var e=o.timePlayed;return null==e||e.asMilliseconds()<u.default.duration(P,"hours").asMilliseconds()}},{rule:w.PURCHASE_DATE,canRefund:function(){return o.props.payment.isPremiumSubscription?o.daysSincePurchase<=R:o.daysSincePurchase<=M}},{rule:w.SKU_TYPE,canRefund:function(){var e=o.props.payment;return null==e.sku||e.sku.type!==N.SKUTypes.CONSUMABLE}},{rule:w.ALREADY_REFUNDED,canRefund:function(){var e=o.props.payment;return e.amountRefunded<e.amount}},{rule:w.PAYMENT_STATUS,canRefund:function(){var e=o.props.payment;return!D.includes(e.status)}}],o.handleExpandInfo=function(){o.setState({expanded:!o.state.expanded})},A(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},t.prototype.renderStatus=function(){switch(this.props.payment.status){case N.PaymentStatusTypes.PENDING:return r("span",{className:O.default.statusTagGrey},void 0,b.default.Messages.BILLING_TAG_PENDING);case N.PaymentStatusTypes.FAILED:return r("span",{className:O.default.statusTagRed},void 0,b.default.Messages.BILLING_TAG_FAILED);case N.PaymentStatusTypes.REFUNDED:return r("span",{className:O.default.statusTagGreen},void 0,b.default.Messages.BILLING_TAG_REFUNDED);case N.PaymentStatusTypes.REVERSED:return r("span",{className:O.default.statusTagRed},void 0,b.default.Messages.BILLING_TAG_REVERSED);default:return null}},t.prototype.renderPrice=function(){var e=this.props.payment;return r("span",{},void 0,(0,c.formatPrice)(e.amount,e.currency))},t.prototype.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,o=t.taxInclusive,a=t.tax,l=t.amount,u=t.currency;return r("div",{className:(0,s.default)(O.default.paymentText,O.default.paymentBreakdown)},void 0,null!=t.paymentSource?r(T.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:O.default.paymentText}):null,r("ul",{},void 0,!o&&a>0?r(i.Fragment,{},void 0,r(U,{description:t.description,cost:(0,c.formatPrice)(l-a,u)}),r(U,{description:b.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,c.formatPrice)(a,u)})):null,r(U,{description:b.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,c.formatPrice)(l,u)})))},t.prototype.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,o=this.validateRefundRules();if(o.includes(w.PAYMENT_STATUS)||o.includes(w.ALREADY_REFUNDED))return null;var a=0===o.length,l=L(t),s=void 0;return s=o.includes(w.SKU_TYPE)?b.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:l}):a?n.isPremiumSubscription?b.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:R,supportURL:l}):n.isGift?b.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:M,supportURL:l}):b.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:M,playtimeLimit:P,supportURL:l}):n.isGift?b.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:M}):n.isPremiumSubscription?b.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:R,supportURL:l}):b.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:M,playtimeLimit:P}),r(i.Fragment,{},void 0,r("h2",{className:O.default.paymentHeader},void 0,b.default.Messages.BILLING_REFUND_HEADER),r("div",{className:O.default.paymentText},void 0,r("div",{},void 0,s),this.renderRefundActions(o)))},t.prototype.renderRefundActions=function(e){var t=this.props,n=t.locale,o=t.payment;return e.includes(w.SKU_TYPE)?null:r(m.default,{justify:m.default.Justify.BETWEEN,align:m.default.Align.END},void 0,r(m.default,{},void 0,r("div",{className:O.default.refundCriteria},void 0,r("h3",{className:O.default.refundSubHeader},void 0,b.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),r(m.default,{align:m.default.Align.CENTER},void 0,r(v.default,{name:e.includes(w.PURCHASE_DATE)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:O.default.refundCriteriaIcon}),r("div",{},void 0,b.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),o.isPremiumSubscription||o.isGift?null:r("div",{className:O.default.refundCriteria},void 0,r("h3",{className:O.default.refundSubHeader},void 0,b.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),r(m.default,{},void 0,r(v.default,{name:e.includes(w.TIME_PLAYED)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:O.default.refundCriteriaIcon}),r("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():b.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),r(y.default,{href:L(n)},void 0,b.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},t.prototype.renderDescription=function(){var e=this.props.payment,t=void 0,n=void 0,o=e.sku;return null!=o?(n=o.name,t=r(_.default,{className:O.default.descriptionIcon,game:p.default.getGame(o.applicationId),size:_.default.Sizes.XSMALL,skuId:o.id})):(t=r(v.default,{className:O.default.descriptionIcon,name:v.default.Names.NITRO_WHEEL}),n=e.description),r("div",{className:O.default.description},void 0,t,n,e.isGift?r(E.default,{text:b.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,r(v.default,{className:O.default.giftIcon,name:v.default.Names.GIFT})):null)},t.prototype.renderExpandedSection=function(){return r("div",{className:O.default.expandedInfo},void 0,r("h2",{className:O.default.paymentHeader},void 0,b.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},t.prototype.render=function(){var e=this.state.expanded,t=this.props,n=t.payment,o=t.className;return r("div",{className:(0,s.default)(e?O.default.payment:O.default.hoverablePayment,o)},void 0,r(m.default,{onClick:this.handleExpandInfo,className:O.default.summaryInfo,align:m.default.Align.CENTER},void 0,r(m.default.Child,{className:O.default.date},void 0,(0,f.dateFormat)((0,u.default)(n.createdAt),"MM/DD/YYYY")),this.renderDescription(),r("div",{className:O.default.amount},void 0,this.renderStatus(),this.renderPrice()),r(v.default,{name:v.default.Names.CARET,className:O.default.expand,direction:e?g.default.Directions.UP:g.default.Directions.DOWN})),e?this.renderExpandedSection():null)},a(t,[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?u.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment;return(0,u.default)().diff(e.createdAt,"days")}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof C.PaypalSourceRecord?S.default.Types.PAYPAL:e instanceof C.CreditCardSourceRecord?S.default.getType(e.brand):S.default.Types.UNKNOWN}}]),t}(i.PureComponent);k.displayName="PaymentHistoryRow",t.default=l.default.connectStores([h.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===N.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?h.default.getCurrentUserStatisticsForApplication(n):null}})(k),e.exports=t.default},7334:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(9))),i=d(n(42)),l=d(n(75)),s=d(n(6)),u=d(n(5824));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n,o=e.currentPageIndex,d=e.numPages,f=e.onChangePage,c=e.children,p=e.className;return a("div",{className:(0,r.default)(u.default.paginator,p)},void 0,c,a(i.default,{justify:i.default.Justify.CENTER,className:u.default.pageActions},void 0,a(l.default,{name:l.default.Names.LEFT_CARET,onClick:function(){o>0&&f(o-1)},className:(0,r.default)(u.default.pageButtonPrev,(t={},t[u.default.disabled]=0===o,t))}),a("div",{className:u.default.pageIndicator},void 0,s.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:o+1,numPages:d})),a(l.default,{name:l.default.Names.RIGHT_CARET,onClick:function(){o<d-1&&f(o+1)},className:(0,r.default)(u.default.pageButtonNext,(n={},n[u.default.disabled]=o>=d-1,n))})))};f.displayName="Paginator",t.default=f,e.exports=t.default},7335:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=S(n(7)),u=S(n(3)),d=S(n(6675)),f=n(6174),c=(S(n(6405)),S(n(7334))),p=S(n(6072)),h=S(n(42)),y=S(n(76)),m=S(n(7333)),v=S(n(6)),E=n(0),_=S(n(5823)),g=S(n(5600));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=Object.freeze({ALL:"0",STORE:"1",PREMIUM:"2",REFUNDED:"3"}),N=((a={})[C.ALL]=v.default.Messages.BILLING_PAYMENT_FILTER_TAB_ALL,a[C.STORE]=v.default.Messages.BILLING_PAYMENT_FILTER_TAB_STORE,a[C.PREMIUM]=v.default.Messages.BILLING_PAYMENT_FILTER_TAB_NITRO,a[C.REFUNDED]=v.default.Messages.BILLING_PAYMENT_FILTER_TAB_REFUNDED,a);function b(e,t){switch(t){case C.ALL:return e;case C.STORE:return e.filter(function(e){return null!=e.skuId&&!e.isPremiumGift});case C.PREMIUM:return e.filter(function(e){return e.isPremiumGift||e.isPremiumSubscription});case C.REFUNDED:return e.filter(function(e){return e.status===E.PaymentStatusTypes.REFUNDED})}throw new Error("Unknown filter type")}var O=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=T(this,e.call.apply(e,[this].concat(r))),o.state={pageIndex:0,filter:C.ALL},o.handlePageChange=function(e){o.setState({pageIndex:e})},o.handleSelectTab=function(e){o.setState({filter:e,pageIndex:0})},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){(0,f.fetchActivityStatistics)()},t.prototype.renderPage=function(){var e=this.props.locale,t=this.state.pageIndex,n=this.filteredPayments.slice(20*t,20*(t+1));return r(l.Fragment,{},void 0,n.map(function(t,n){return r(m.default,{className:_.default.paymentRow,payment:t,locale:e},n)}))},t.prototype.renderFilters=function(){var e=this.props.payments,t=this.state.filter;return r(p.default,{type:p.default.Types.TOP,selectedItem:t,onItemSelect:this.handleSelectTab},void 0,s.default.values(C).map(function(t,n){return b(e,t).length>0?r(p.default.Item,{id:t,className:_.default.tab},n,N[t]):null}))},t.prototype.render=function(){var e=this.props,t=e.payments,n=e.className,o=this.state.pageIndex;return 0===t.length?null:r("div",{className:n},void 0,r(y.default,{tag:y.default.Tags.H2},void 0,r(h.default,{align:h.default.Align.CENTER},void 0,v.default.Messages.BILLING_PAYMENT_HISTORY)),this.renderFilters(),r("div",{className:_.default.paymentPane},void 0,r("div",{className:_.default.paymentRow},void 0,r(h.default,{className:_.default.paymentRowHeader},void 0,r("div",{className:g.default.date},void 0,v.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),r("div",{className:g.default.description},void 0,v.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),r("div",{className:g.default.amount},void 0,v.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),r(c.default,{className:_.default.paginator,currentPageIndex:o,onChangePage:this.handlePageChange,numPages:Math.max(Math.ceil(this.filteredPayments.length/20),1)},void 0,this.renderPage())))},i(t,[{key:"filteredPayments",get:function(){return b(this.props.payments,this.state.filter)}}]),t}(l.PureComponent);O.displayName="PaymentHistory",t.default=u.default.connectStores([d.default],function(){return{payments:d.default.getPayments()}})(O),e.exports=t.default},7336:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},7337:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(9)),s=O(n(3)),u=O(n(2)),d=(n(515),O(n(6123))),f=n(278),c=O(n(6400)),p=O(n(6402)),h=O(n(6088)),y=O(n(511)),m=O(n(513)),v=O(n(932)),E=O(n(71)),_=O(n(94)),g=O(n(42)),S=O(n(45)),T=n(936),C=(O(T),O(n(6))),N=n(0),b=O(n(5826));function O(e){return e&&e.__esModule?e:{default:e}}var I="isDefault",A=r(y.default.FormDivider,{}),M=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));R.call(o);var a=n.paymentSource,r=n.isDefault,i=a.billingAddress;return o.state={billingAddress:{name:i.name||"",line1:i.line1||"",line2:i.line2||"",country:i.country||"",state:i.state||"",city:i.city||"",postalCode:i.postalCode||""},billingAddressValid:!1,isDefault:r,dirtyFields:{}},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){u.default.wait(function(){(0,f.clearUpdatePaymentSourceError)(),(0,f.clearRemovePaymentSourceError)()})},t.prototype.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?r(h.default,{className:b.default.formError},void 0,n.message):null:r(h.default,{className:b.default.formError},void 0,t.message)},t.prototype.renderBillingAddressSection=function(){var e=this.state.billingAddress;return r("div",{className:b.default.addressSection},void 0,r(E.default,{color:E.default.Colors.PRIMARY,className:b.default.sectionHeader},void 0,C.default.Messages.BILLING_ADDRESS),i.createElement(p.default,a({},e,{mode:p.default.Modes.EDIT,layout:p.default.Layouts.SETTINGS,onBillingAddressChange:this.handleAddressUpdate,error:this.props.updateError})))},t.prototype.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,o=e.isPremium,a=this.state.billingAddressValid;return r(g.default,{justify:g.default.Justify.BETWEEN,className:b.default.formActions},void 0,r("div",{className:b.default.disabledTooltipWrapper},void 0,o?r(_.default,{text:C.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,r("div",{"aria-hidden":!0,className:b.default.disabledTooltipTarget})):null,r(S.default,{type:"button",disabled:o||t,submitting:n,onClick:this.handleDelete,look:S.default.Looks.OUTLINED,color:S.default.Colors.RED},void 0,C.default.Messages.PAYMENT_SOURCE_DELETE)),r(g.default,{grow:0},void 0,r(S.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:S.default.Looks.LINK,color:S.default.Colors.PRIMARY},void 0,C.default.Messages.CANCEL),r(S.default,{submitting:t,disabled:!a||n,type:"submit",color:S.default.Colors.GREEN},void 0,C.default.Messages.SAVE)))},t.prototype.render=function(){var e=this,t=this.props,n=t.paymentSource,o=t.isDefault,a=t.locale,i=t.className,s=t.isPremium,u=this.state.isDefault,d=n instanceof T.CreditCardSourceRecord;return r(m.default,{editable:!0,className:(0,l.default)(b.default.card,i)},void 0,r("form",{onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),r("div",{className:b.default.paymentSection},void 0,r(c.default,{paymentSource:n,isDefault:o,isPremium:s,locale:a}),n.invalid?r("div",{className:b.default.errorSubText},void 0,C.default.Messages.PAYMENT_SOURCE_INVALID_HELP):null,r("div",{className:b.default.subText},void 0,d?C.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD:C.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:N.PAYPAL_URL}))),this.renderBillingAddressSection(),r(v.default,{name:I,value:u,onChange:function(t,n){return e.handleFieldChange(n,I)},type:v.default.Types.INVERTED,className:b.default.defaultSection},void 0,r(E.default,{className:b.default.defaultCheckboxLabel,color:E.default.Colors.PRIMARY},void 0,C.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),A,this.renderActions()))},t}(i.PureComponent);M.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};var R=function(){var e=this;this.handleSubmit=function(t){if(t.preventDefault(),t.stopPropagation(),0===Object.values(e.state.dirtyFields).filter(Boolean).length)e.props.onCancel();else{var n=e.state,o=n.billingAddress,a=n.isDefault;e.props.onSubmit(e.props.paymentSource.id,{billingAddress:o,isDefault:a})}},this.handleCancel=function(){e.props.onCancel()},this.handleDelete=function(){var t=e.props;(0,t.onDelete)(t.paymentSource.id)},this.handleAddressUpdate=function(t,n,o){e.setState({billingAddress:t,billingAddressValid:n,dirtyFields:a({},e.state.dirtyFields,{billingAddress:o})})},this.handleFieldChange=function(t,n){var o,r;null!=n&&e.setState(((r={})[n]=t,r.dirtyFields=a({},e.state.dirtyFields,((o={})[n]=!0,o)),r))}};M.displayName="EditPaymentSourceForm",t.default=s.default.connectStores([d.default],function(){return{updateError:d.default.editSourceError,removeError:d.default.removeSourceError}})(M),e.exports=t.default},7338:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=N(n(1)),l=C(n(7)),s=N(n(278)),u=C(n(35)),d=C(n(7337)),f=C(n(6400)),c=C(n(6672)),p=n(75),h=C(p),y=C(n(45)),m=C(n(42)),v=C(n(94)),E=C(n(71)),_=C(n(76)),g=C(n(514)),S=(C(n(936)),C(n(6))),T=C(n(5825));function C(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=function(e){function t(){var n,o;O(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=I(this,e.call.apply(e,[this].concat(r))),o.handleEditClick=function(){o.props.onEditClick(o.props.paymentSource.id)},I(o,n)}return A(t,e),t.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,o=e.isEditing,l=e.index,s=e.hideDivider,u=(e.onEditClick,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["paymentSource","isDefault","isEditing","index","hideDivider","onEditClick"]));return o?i.createElement(d.default,r({},u,{paymentSource:t,isDefault:n})):a("div",{className:T.default.paymentSourceItem},void 0,l>0&&!s?a(g.default,{className:T.default.sourceDivider}):null,a(m.default,{align:m.default.Align.CENTER,justify:m.default.Justify.BETWEEN,className:T.default.paymentSourceRow},void 0,i.createElement(f.default,r({},this.props,{showSubtext:!0})),o?null:a(y.default,{color:y.default.Colors.PRIMARY,onClick:this.handleEditClick,size:y.default.Sizes.SMALL},void 0,S.default.Messages.EDIT)))},t}(i.PureComponent);M.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}},M.displayName="PaymentSourceItem";var R=function(e){function t(){var n,o,a,r,i=this;O(this,t);for(var l=arguments.length,u=Array(l),d=0;d<l;d++)u[d]=arguments[d];return n=o=I(this,e.call.apply(e,[this].concat(u))),o.state={editingPayment:null},o.handleEditClick=function(e){o.setState({editingPayment:e})},o.handleCancel=function(){o.setState({editingPayment:null})},o.handleDelete=(r=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.deletePaymentSource(t);case 3:o.setState({editingPayment:null}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,i,[[0,6]])})),function(e){return r.apply(this,arguments)}),o.handleSubmit=(a=b(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=9;break}return e.prev=1,e.next=4,s.updatePaymentSource(t,n);case 4:o.setState({editingPayment:null}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,i,[[1,7]])})),function(e,t){return a.apply(this,arguments)}),I(o,n)}return A(t,e),t.prototype.handleAddPaymentMethod=function(){u.default.push(function(e){return i.createElement(c.default,e)})},t.prototype.renderFooter=function(){var e=this.props.paymentSources;return a(m.default,{justify:m.default.Justify.END,className:T.default.footer},void 0,0===Object.keys(e).length?a(m.default.Child,{},void 0,a(E.default,{color:E.default.Colors.PRIMARY},void 0,S.default.Messages.BILLING_NO_PAYMENT_METHOD),a("div",{className:T.default.subText},void 0,S.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,a(y.default,{onClick:this.handleAddPaymentMethod},void 0,S.default.Messages.BILLING_ADD_PAYMENT_METHOD))},t.prototype.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,o=t.paymentSources,r=t.locale,i=t.removing,s=t.submitting,u=t.premiumSubscriptionPaymentSourceId,d=l.default.values(o).sort(function(e,t){return e.id===n?-1:t.id===n?1:e.id>t.id?1:-1}),f=this.state.editingPayment,c=d.findIndex(function(e){return e.id===f}),y=d.map(function(t,o){return a(M,{locale:r,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isPremium:t.id===u,hideDivider:c===o-1,onSubmit:e.handleSubmit,index:o,submitting:s,removing:i,isEditing:f===t.id,onEditClick:e.handleEditClick},t.id)});return a("div",{},void 0,a(_.default,{tag:_.default.Tags.H2},void 0,a(m.default,{align:m.default.Align.CENTER},void 0,a(v.default,{position:v.default.Positions.LEFT,text:S.default.Messages.BILLING_SECURE_TOOLTIP},void 0,a(h.default,{name:p.IconNames.SECURE_LOCK,className:T.default.lockIcon})),S.default.Messages.BILLING_PAYMENT_SOURCES)),y,c!==d.length-1?a(g.default,{className:T.default.sourceDivider}):null,this.renderFooter())},t}(i.PureComponent);R.displayName="PaymentMethods",t.default=R,e.exports=t.default},7339:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=O(n(1)),i=b(n(3)),l=b(n(2)),s=b(n(41)),u=b(n(6123)),d=b(n(13)),f=b(n(28)),c=b(n(132)),p=b(n(283)),h=b(n(527)),y=O(n(278)),m=n(270),v=b(n(6075)),E=b(n(7338)),_=b(n(7335)),g=b(n(144)),S=b(n(513)),T=n(0),C=b(n(6)),N=b(n(5822));function b(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var I=a(v.default,{}),A=a(g.default,{}),M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){l.default.wait(function(){y.fetchPaymentSources(),y.fetchPayments(),y.fetchSubscriptions()})},t.prototype.handleRedemptionRedirect=function(){(0,m.popLayer)(),s.default.transitionTo(T.Routes.APPLICATION_LIBRARY_INVENTORY)},t.prototype.render=function(){var e=this.props,t=e.syncing,n=e.hide,o=e.paymentSources,r=e.defaultPaymentSourceId,i=e.locale,l=e.premiumSubscription,s=e.isRemovingPaymentSource,u=e.isUpdatingPaymentSource;return n?I:a("div",{className:N.default.userSettingsBilling},void 0,t&&0===o.length?a("div",{className:N.default.syncing},void 0,A):a(E.default,{paymentSources:o,defaultPaymentSourceId:r,premiumSubscriptionPaymentSourceId:null!=l&&l.status!==T.SubscriptionStatusTypes.CANCELED?l.paymentSourceId:null,locale:i,removing:s,submitting:u}),a(_.default,{locale:i,className:N.default.paymentHistory}),a(S.default,{className:N.default.codeRedemptionRedirect,type:S.default.Types.CUSTOM},void 0,C.default.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})))},t}(r.PureComponent);M.displayName="UserSettingsBilling",t.default=i.default.connectStores([f.default,u.default,p.default,d.default,c.default,h.default],function(){var e=h.default.getPremiumSubscription(),t=d.default.getCurrentUser();return{locale:f.default.locale,hide:c.default.enabled,isClaimed:t.email,isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:p.default.defaultPaymentSourceId,paymentSources:p.default.paymentSources,syncing:u.default.isSyncing,isRemovingPaymentSource:u.default.isRemovingPaymentSource,isUpdatingPaymentSource:u.default.isUpdatingPaymentSource}})(M),e.exports=t.default},7340:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=c;var r=d(n(9)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(42))),l=n(511),s=d(n(6)),u=d(n(5830));function d(e){return e&&e.__esModule?e:{default:e}}var f=[{icon:u.default.discriminatorIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_DISCRIMINATOR,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_DISCRIMINATOR},{icon:u.default.animatedIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_ANIMATED_AVATAR_AND_EMOJI,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_ANIMATED_AVATAR_AND_EMOJI},{icon:u.default.screenshareIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_SCREENSHARE,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_SCREENSHARE},{icon:u.default.emojiIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_CUSTOM_EMOJI,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_CUSTOM_EMOJI},{icon:u.default.uploadIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_UPLOAD_LIMIT,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_UPLOAD_LIMIT.format({maxUploadStandard:s.default.Messages.FILE_UPLOAD_LIMIT_STANDARD,maxUploadPremium:s.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM})},{icon:u.default.badgeIcon,title:s.default.Messages.PREMIUM_CHAT_PERKS_TITLE_BADGE,description:s.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_BADGE}];function c(){return a("div",{className:u.default.container},void 0,f.map(function(e,t){return a(i.default,{align:i.default.Align.CENTER,className:u.default.feature},t,a("div",{className:(0,r.default)(e.icon)}),a("div",{},void 0,a(l.FormTitle,{className:u.default.title},void 0,e.title),a("div",{className:u.default.description},void 0,e.description)))}))}c.displayName="PremiumFeatureList",e.exports=t.default},7341:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(9)),l=n(226),s=_(n(524)),u=n(188),d=n(270),f=_(n(45)),c=_(n(75)),p=_(n(144)),h=_(n(952)),y=_(n(228)),m=n(0),v=_(n(6)),E=_(n(5831));function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.isFetching,n=e.applicationIds,o=e.skuMap,y=e.storeListingMap,_=e.analyticsContext.location;return a(r.Fragment,{},void 0,a("div",{className:E.default.applications},void 0,a("div",{className:E.default.mechaWumpus}),t?a(p.default,{className:E.default.loading}):null,t?Array.from(Array(n.length)).map(function(e,t){return a("div",{className:(0,i.default)(E.default.thumbnailContainer,E.default.loadingThumbnail)},t)}):n.map(function(e){var t=y[e],n=o[e];return null==t.thumbnail?null:a(l.Link,{to:{pathname:m.Routes.APPLICATION_STORE_LISTING_SKU(n.id),state:{analyticsSource:_}},onClick:d.popLayer,className:E.default.thumbnailContainer},e,a("img",{src:(0,u.getAssetURL)(e,t.thumbnail,200),alt:n.name,className:E.default.thumbnail}))})),a("div",{className:E.default.viewAllButton},void 0,a(f.default.Link,{look:f.default.Looks.OUTLINED,color:f.default.Colors.TRANSPARENT,innerClassName:E.default.viewAllButtonInner,to:{pathname:m.Routes.APPLICATION_STORE_BROWSE,search:s.default.formatSearch({type:m.StoreApplicationCategorySelector.PREMIUM}),state:{analyticsSource:_}},onClick:d.popLayer},void 0,a("div",{},void 0,v.default.Messages.PREMIUM_FEATURE_VIEW_APPLICATIONS),a(c.default,{name:c.default.Names.CARET,className:E.default.viewAllIcon,direction:h.default.Directions.RIGHT}))))},t}(r.PureComponent);g.displayName="PremiumApplicationsPerk",t.default=(0,y.default)(g),e.exports=t.default},7342:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=S(n(1)),i=g(n(3)),l=n(188),s=n(520),u=g(n(22)),d=g(n(6101)),f=g(n(164)),c=g(n(927)),p=S(n(277)),h=g(n(75)),y=g(n(7341)),m=g(n(7340)),v=n(0),E=g(n(6)),_=g(n(5829));function g(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var T=["363414030188150801","425777385103949834","425442388270645248","467979045179752448","451541581778911262","360541292578471937","363412675650125825","425470408322449418"],C=a(m.default,{}),N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.applicationIds;p.fetchStoreListingsForApplications(e)},t.prototype.render=function(){var e=this.props,t=e.isFetching,n=e.applicationIds,o=e.skuMap,r=e.storeListingMap;return a("section",{className:_.default.section},void 0,a("h4",{className:_.default.sectionHeader},void 0,a(h.default,{name:h.default.Names.NITRO,className:_.default.premiumPlanName})),a("div",{className:_.default.subsection},void 0,a("h4",{className:_.default.subsectionHeader},void 0,E.default.Messages.PREMIUM_FEATURE_NEW_PREMIUM_APPLICATIONS_HEADER.format({gamesPrice:(0,s.formatPrice)(1e5,v.CurrencyCodes.USD,{minimumFractionDigits:0,maximumFractionDigits:0})})),a(y.default,{isFetching:t,applicationIds:n,skuMap:o,storeListingMap:r})),a("div",{className:_.default.subsection},void 0,a("h4",{className:_.default.subsectionHeader},void 0,E.default.Messages.PREMIUM_FEATURE_NEW_CHAT_PERKS_HEADER),C))},t}(r.PureComponent);N.displayName="PremiumFeatures",t.default=i.default.connectStores([d.default,u.default,f.default,c.default],function(){var e=!0,t={},n={},o=T,a=Array.isArray(o),r=0;for(o=a?o:o[Symbol.iterator]();;){var i;if(a){if(r>=o.length)break;i=o[r++]}else{if((r=o.next()).done)break;i=r.value}var s=i,d=(0,l.getPrimarySKUForApplication)(s,u.default,f.default);if(null==d){e=!1;break}var p=c.default.getForSKU(d.id);if(null==p){e=!1;break}t[s]=d,n[s]=p}return{skuMap:t,storeListingMap:n,applicationIds:T,isFetching:!e}})(N),e.exports=t.default},7343:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6122)),l=f(n(370)),s=n(944),u=n(0),d=f(n(6));function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=c(this,e.call.apply(e,[this].concat(r))),o.cancel=function(){var e=o.props.onClose;e&&e()},o.claimAccount=function(){var e=o.props.onClose;e&&e(),l.default.setSection(u.UserSettingsSections.ACCOUNT),(0,s.toggleEditingProfile)(!0)},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(i.default,{},void 0,a(i.default.Header,{},void 0,d.default.Messages.PREMIUM_NOT_CLAIMED),a(i.default.Content,{type:i.default.Types.UNCLAIMED},void 0,d.default.Messages.PREMIUM_NOT_CLAIMED_BODY),a(i.default.Footer,{secondary:{onClick:this.cancel,label:d.default.Messages.NEVERMIND},primary:{onClick:this.claimAccount,label:d.default.Messages.CLAIM_ACCOUNT}}))},t}(r.Component);p.displayName="UnclaimedAccountModal",t.default=p,e.exports=t.default},7344:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(45)),l=p(n(6122)),s=p(n(6434)),u=p(n(370)),d=n(944),f=n(0),c=p(n(6));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(r))),o.changeEmail=function(){var e=o.props.onClose;e&&e(),u.default.setSection(f.UserSettingsSections.ACCOUNT),(0,d.toggleEditingProfile)(!0)},o.closeModal=function(){var e=o.props.onClose;e&&e()},h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(l.default,{},void 0,a(l.default.Header,{},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED),a(l.default.Content,{type:l.default.Types.UNVERIFIED},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED_BODY),a(l.default.Footer,{secondary:{onClick:this.changeEmail,label:c.default.Messages.CHANGE_EMAIL_SHORT},primaryRenderer:a(s.default,{color:i.default.Colors.BRAND,onClick:this.closeModal})}))},t}(r.Component);y.displayName="UnverifiedEmailModal",t.default=y,e.exports=t.default},7352:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=g(n(1)),l=_(n(3)),s=_(n(45)),u=_(n(511)),d=_(n(6673)),f=_(n(6672)),c=_(n(132)),p=_(n(283)),h=_(n(527)),y=g(n(956)),m=_(n(35)),v=_(n(5833)),E=_(n(6));_(n(936)),_(n(973));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=S(this,e.call.apply(e,[this].concat(l))),o.setSubscriptionPaymentSource=function(e){var t=o.props,n=t.subscription,a=t.paymentSources;if(null!=n){var r=a.find(function(t){return t.id===e});null!=r&&y.changePaymentSource(n,r)}},o.handlePaymentSourceChange=function(e,t){var n=e.value;t?m.default.push(function(e){return i.createElement(f.default,r({},e,{onAddPaymentSource:o.handlePaymentSourceAdded}))}):o.setSubscriptionPaymentSource(n)},o.handlePaymentSourceAdded=function(e){var t=e.id;o.setSubscriptionPaymentSource(t)},o.handleAddPaymentSource=function(){m.default.push(function(e){return i.createElement(f.default,e)})},S(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDropdown=function(){var e=this.props,t=e.paymentSources,n=e.hidePersonalInformation,o=e.defaultPaymentSourceId,r=e.premiumSubscriptionPaymentSourceId;return a(i.Fragment,{},void 0,a(u.default.FormTitle,{},void 0,E.default.Messages.BILLING_PAY_FOR_IT_WITH),a("div",{className:v.default.dropdown},void 0,a(d.default,{showEmptyPromptOption:!0,paymentSources:t,hidePersonalInformation:n,selectedPaymentSourceId:r,defaultPaymentSourceId:o,onChange:this.handlePaymentSourceChange})))},t.prototype.renderAddButton=function(){return a(s.default,{look:s.default.Looks.FILLED,color:s.default.Colors.PRIMARY,onClick:this.handleAddPaymentSource},void 0,E.default.Messages.BILLING_ADD_PAYMENT_METHOD)},t.prototype.render=function(){var e=this.props.paymentSources;return a("div",{className:v.default.container},void 0,e.length>0?this.renderDropdown():this.renderAddButton())},t}(i.Component);T.displayName="SubscriptionPaymentSource",t.default=l.default.connectStores([c.default,p.default,h.default],function(){var e=h.default.getPremiumSubscription(),t=null!=e?e.paymentSourceId:null;return{paymentSources:Object.values(p.default.paymentSources).filter(function(e){return!e.invalid}),hidePersonalInformation:c.default.hidePersonalInformation,premiumSubscriptionPaymentSourceId:t,defaultPaymentSourceId:p.default.defaultPaymentSourceId}})(T),e.exports=t.default},7353:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=c(n(1)),i=c(n(956)),l=f(n(229)),s=f(n(6122)),u=f(n(6)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=p(this,e.call.apply(e,[this].concat(r))),o.abort=function(){var e=o.props.onClose;e&&e()},o.continue=function(){var e=o.props,t=e.subscription,n=e.onClose;i.cancel(t.id),n&&n()},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.subscription,t=e.plan;if(null==t)return null;var n=l.default.getDisplayPremiumType(t),o=l.default.getPremiumType(t);return a(s.default,{},void 0,a(s.default.Header,{},void 0,u.default.Messages.PREMIUM_CANCEL_CONFIRM_TITLE.format({planPremiumType:n})),a(s.default.Content,{type:s.default.Types.CANCEL},void 0,o===d.PremiumTypes.TIER_1?u.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_1.format({date:e.currentPeriodEnd}):u.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_2.format({date:e.currentPeriodEnd})),a(s.default.Footer,{secondary:{onClick:this.abort,label:u.default.Messages.NEVERMIND},primary:{onClick:this.continue,label:u.default.Messages.PREMIUM_CANCEL_CONFIRM_NEW.format({planPremiumType:n})}}))},t}(r.Component);h.displayName="CancelConfirmModal",t.default=h,e.exports=t.default},7354:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=N(n(1)),l=C(n(9)),s=C(n(5)),u=n(523),d=C(n(229)),f=n(520),c=C(n(35)),p=N(n(956)),h=n(45),y=C(h),m=C(n(75)),v=C(n(7353)),E=C(n(6674)),_=n(0),g=n(973),S=C(n(5843)),T=C(n(6));function C(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var O=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=b(this,e.call.apply(e,[this].concat(l))),o.unsubscribe=function(){var e=o.props.subscription,t=null!=e.plan&&d.default.isGrandfathered(e.plan);e.status!==_.SubscriptionStatusTypes.PAST_DUE?t?c.default.push(function(e){return i.createElement(E.default,r({},e,{onConfirm:o.showCancelModal}))}):o.showCancelModal():p.cancel(e.id)},o.showCancelModal=function(){var e=o.props.subscription;c.default.push(function(t){return i.createElement(v.default,r({},t,{subscription:e}))})},o.resubscribe=function(){var e=o.props,t=e.paymentSource,n=e.subscription;if(null!=n){if(null==t){if(null==n.plan)throw new Error("Unexpected missing plan");return p.openModal({mode:_.PremiumPaymentSubscriptionModes.RESUBSCRIBE,skuId:_.SubscriptionPlanInfo[n.plan].skuId,plan:n.plan,analyticsLocation:{page:_.AnalyticsPages.USER_SETTINGS,section:_.AnalyticsSections.SETTINGS_PREMIUM,object:_.AnalyticsObjects.BUTTON_CTA}})}p.resubscribe(n,t)}},b(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSubscriptionInfo=function(){var e=this.props.subscription,t=e.plan,n=e.currentPeriodEnd,o=e.status;if(null==t)return null;if(o===_.SubscriptionStatusTypes.PAST_DUE)return T.default.Messages.PREMIUM_PAST_DUE;if(o===_.SubscriptionStatusTypes.CANCELED||null==e.paymentSourceId)return T.default.Messages.PREMIUM_CANCELED.format({date:n});var a=d.default.getPrice(t),r=(0,f.formatPrice)(a.amount,a.currency);return d.default.getInterval(t)===_.SubscriptionIntervalTypes.YEAR?T.default.Messages.PREMIUM_INFO_YEARLY.format({price:r,date:n}):T.default.Messages.PREMIUM_INFO_MONTHLY.format({price:r,date:n})},t.prototype.renderButtons=function(){var e=this.props,t=e.busy,n=e.subscription.status===_.SubscriptionStatusTypes.CANCELED;return a(i.Fragment,{},void 0,n?a(y.default,{className:S.default.toolsButton,size:y.default.Sizes.SMALL,look:h.ButtonLooks.INVERTED,color:h.ButtonColors.YELLOW,submitting:t,onClick:this.resubscribe},void 0,T.default.Messages.RESUBSCRIBE):a(y.default,{className:S.default.toolsButton,size:y.default.Sizes.SMALL,look:h.ButtonLooks.OUTLINED,color:h.ButtonColors.WHITE,submitting:t,onClick:this.unsubscribe},void 0,T.default.Messages.CANCEL))},t.prototype.renderPremiumCodeSub=function(){var e=this.props.subscription,t=T.default.Messages.PREMIUM_CODE_ACTIVE_UNTIL.format({date:(0,u.dateFormat)((0,s.default)(e.currentPeriodEnd),"LL")});return a("div",{className:(0,l.default)(S.default.banner,S.default.premiumCodeBanner,S.default.tier2)},void 0,a("div",{className:(0,l.default)(S.default.image,S.default.tier2)}),a("div",{className:S.default.details},void 0,a(m.default,{name:m.default.Names.NITRO,className:(0,l.default)(S.default.planName,S.default.tier2)}),a("div",{className:S.default.periodInfo},void 0,t)))},t.prototype.render=function(){var e,t=this.props.subscription,n=t.status,o=t.plan;if(t.id===g.PREMIUM_CODE_SUBSCRIPTION_ID)return this.renderPremiumCodeSub();if(null==o)return null;var r=n===_.SubscriptionStatusTypes.UNPAID||n===_.SubscriptionStatusTypes.ACTIVE,i=d.default.getPremiumType(o),s=d.default.isGrandfathered(o),u=((e={})[S.default.tierGrandfathered]=r&&s,e[S.default.tier1]=r&&!s&&i===_.PremiumTypes.TIER_1,e[S.default.tier2]=r&&!s&&i===_.PremiumTypes.TIER_2,e[S.default.canceled]=n===_.SubscriptionStatusTypes.CANCELED,e[S.default.pastDue]=n===_.SubscriptionStatusTypes.PAST_DUE,e);return a("div",{className:(0,l.default)(S.default.banner,u)},void 0,a("div",{className:(0,l.default)(S.default.image,u)}),a("div",{className:S.default.details},void 0,i===_.PremiumTypes.TIER_2||s?a(m.default,{name:m.default.Names.NITRO,className:(0,l.default)(S.default.planName,u)}):a(m.default,{name:m.default.Names.NITRO_CLASSIC,className:(0,l.default)(S.default.planName,u)}),a("div",{className:S.default.periodInfo},void 0,this.renderSubscriptionInfo())),a("div",{className:S.default.buttons},void 0,this.renderButtons()))},t}(i.Component);O.displayName="SubscriptionHeader",t.default=O,e.exports=t.default},7355:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(229)),l=n(520),s=v(n(75)),u=v(n(71)),d=n(511),f=v(n(7354)),c=v(n(7352)),p=n(973),h=n(0),y=v(n(6)),m=v(n(5832));function v(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderGrandfathered=function(){var e=this.props.subscription.plan;if(null==e)return null;var t=i.default.getGrandfatheredEndDate(e),n=y.default.Messages.PREMIUM_APPLICATIONS_GRANDFATHERED_YEARLY.format({date:t}),o=y.default.Messages.PREMIUM_APPLICATIONS_GRANDFATHERED_MONTHLY.format({date:t});return a("div",{className:m.default.grandfatheredMessage},void 0,a(s.default,{name:s.default.Names.NITRO_WHEEL,className:m.default.grandfatheredIcon}),a("span",{},void 0,i.default.getInterval(e)===h.SubscriptionIntervalTypes.YEAR?n:o))},t.prototype.renderPremiumCodeSub=function(){var e=this.props.subscription;return a("div",{className:m.default.headerOnlySection},void 0,a("div",{className:m.default.details},void 0,a(f.default,{subscription:e,paymentSource:null,busy:!1})))},t.prototype.render=function(){var e=this.props,t=e.subscription,n=e.paymentSource,o=e.busy,r=t.plan;if(t.id===p.PREMIUM_CODE_SUBSCRIPTION_ID)return this.renderPremiumCodeSub();if(null==r)return null;var s=i.default.getInterval(r)===h.SubscriptionIntervalTypes.YEAR,v=i.default.getPrice(r),E=(0,l.formatPrice)(v.amount,v.currency),_=i.default.getDisplayPremiumType(r),g=i.default.isGrandfathered(r);return a("div",{className:m.default.section},void 0,a(d.FormTitle,{tag:d.FormTitle.Tags.H2},void 0,y.default.Messages.BILLING_PAYMENT_PREMIUM),g?this.renderGrandfathered():null,a("div",{className:m.default.details},void 0,a(f.default,{subscription:t,paymentSource:n,busy:o}),a(c.default,{subscription:t})),t.status!==h.SubscriptionStatusTypes.CANCELED?a(u.default,{className:m.default.finePrint,size:u.default.Sizes.SMALL},void 0,s?y.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_YEARLY.format({price:E,url:h.MarketingURLs.TERMS,planPremiumType:_}):y.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_MONTHLY.format({price:E,url:h.MarketingURLs.TERMS,planPremiumType:_})):null)},t}(r.Component);E.displayName="SubscriptionDetails",t.default=E,e.exports=t.default},7356:function(e,t,n){"use strict";t.__esModule=!0,t.fetchUserTrialEligibility=void 0;t.fetchUserTrialEligibility=(o=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.default.get(l.Endpoints.USER_TRIAL_ELIGIBILITY(t));case 3:i.default.dispatch({type:l.ActionTypes.BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS,trialId:t,eligible:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),404===e.t0.status&&i.default.dispatch({type:l.ActionTypes.BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS,trialId:t,eligible:!1});case 9:case"end":return e.stop()}},e,this,[[0,6]])}),a=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})},function(e){return a.apply(this,arguments)});var o,a,r=s(n(12)),i=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}},7357:function(e,t,n){"use strict";t.__esModule=!0;var o=r(n(3)),a=r(n(2));n(0);function r(e){return e&&e.__esModule?e:{default:e}}var i={};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isUserEligible=function(e){return i[e]},t}(o.default.Store);t.default=new l(a.default,{BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS:function(e){var t=e.trialId,n=e.eligible;i[t]=n},LOGOUT:function(e){i={}}}),e.exports=t.default},7358:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=W(n(1)),u=Y(n(9)),d=Y(n(3)),f=Y(n(229)),c=n(520),p=Y(n(132)),h=Y(n(13)),y=Y(n(6123)),m=Y(n(283)),v=Y(n(6675)),E=Y(n(527)),_=Y(n(28)),g=Y(n(7357)),S=Y(n(946)),T=W(n(278)),C=W(n(956)),N=W(n(7356)),b=W(n(1015)),O=Y(n(35)),I=Y(n(45)),A=Y(n(75)),M=Y(n(144)),R=n(511),P=Y(n(94)),L=Y(n(536)),w=Y(n(6075)),D=Y(n(7355)),U=Y(n(7344)),k=Y(n(7343)),F=Y(n(6674)),x=Y(n(7342)),G=Y(n(6059)),j=(Y(n(973)),n(0)),B=Y(n(6)),H=Y(n(510)),V=Y(n(5828));function Y(e){return e&&e.__esModule?e:{default:e}}function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{page:j.AnalyticsPages.USER_SETTINGS,section:j.AnalyticsSections.SETTINGS_PREMIUM,object:j.AnalyticsObjects.BUTTON_CTA,objectType:e}}var $=function(e){var t=e.handlePremiumTrial,n=e.handleGift;return l("div",{className:V.default.tier2TrialButtons},void 0,l(L.default,{color:I.default.Colors.GREEN,size:I.default.Sizes.LARGE,onClick:t,className:V.default.trialButton,innerClassName:V.default.trialButtonInner},void 0,l(A.default,{name:A.default.Names.NITRO_WHEEL,className:V.default.trialButtonIcon}),B.default.Messages.PREMIUM_TRIAL_BUTTON),l(I.default,{look:I.default.Looks.LINK,color:I.default.Colors.PRIMARY,size:I.default.Sizes.MEDIUM,className:V.default.giftButton,onClick:n},void 0,B.default.Messages.BILLING_PREMIUM_GIFT_FRIEND))};$.displayName="PremiumTier2ButtonsWithTrial";var q=function(e){var t=e.renderPlanOption;return l("div",{className:V.default.horizontalButtons},void 0,l("div",{className:V.default.horizontalButton},void 0,t(j.SubscriptionPlans.PREMIUM_YEAR_TIER_2,I.default.Sizes.LARGE)),l("div",{className:V.default.horizontalButton},void 0,t(j.SubscriptionPlans.PREMIUM_MONTH_TIER_2,I.default.Sizes.LARGE)))};q.displayName="PremiumTier2ButtonsWithoutTrial";var X=(0,G.default)((0,S.default)(j.Experiments.PREMIUM_TRIAL,"Premium Trial Experiment",["Premium subscription trial","Control: No trial","Treatment 1: With trial"]),((a={})[j.ExperimentTypes.NONE]=function(e){return s.createElement(q,e)},a[j.ExperimentTypes.USER]=((o={})[j.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return s.createElement(q,e)},o[j.ExperimentBuckets.CONTROL]=function(e){return s.createElement(q,e)},o[j.ExperimentBuckets.TREATMENT_1]=function(e){return s.createElement($,i({},e,{withPremiumTrial:!0}))},o),a)),Q=l(w.default,{}),J=l(M.default,{}),Z=l(x.default,{}),ee=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=z(this,e.call.apply(e,[this].concat(r))),o.renderPlanOption=function(e,t){var n,a=o.props,r=a.premiumSubscription,i=a.upgradeEligibilities,s=f.default.getInterval(e),d=f.default.getPrice(e),c=!i.has(e)||null!=r&&null!=r.trialEndsAt,p=null!=r&&!c,h=s===j.SubscriptionIntervalTypes.MONTH?o.renderMonthly(e,d,c,p,r,t):o.renderYearly(e,d,c,p,r,t);return l("div",{className:(0,u.default)(V.default.planOption,(n={},n[V.default.newSubscriptionButton]=!p,n[V.default.upgradeSubscriptionButton]=p,n))},void 0,h)},z(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){T.fetchSubscriptions(),T.fetchPaymentSources(),null==this.props.isUserEligibleForPremiumTrial&&N.fetchUserTrialEligibility(j.PREMIUM_SUBSCRIPTION_TRIAL_ID)},t.prototype.handleUpgrade=function(e){var t=this,n=this.props,o=n.premiumSubscription,a=n.paymentSource,r=n.isClaimed,l=n.isVerified;r?l?null!=a&&null!=o?null!=o.plan&&f.default.isGrandfathered(o.plan)?O.default.push(function(n){return s.createElement(F.default,i({},n,{onConfirm:function(){return t.showUpgradeModal(e)}}))}):this.showUpgradeModal(e):C.openModal({mode:j.PremiumPaymentSubscriptionModes.NEW,skuId:j.SubscriptionPlanInfo[e].skuId,plan:e,analyticsLocation:K(j.AnalyticsObjectTypes.BUY)}).catch(j.NOOP_NULL):O.default.push(function(e){return s.createElement(U.default,e)}):O.default.push(function(e){return s.createElement(k.default,e)})},t.prototype.handlePremiumTrial=function(){C.openModal({mode:j.PremiumPaymentSubscriptionModes.NEW,skuId:j.PremiumSubscriptionSKUs.TIER_2,trialId:j.PREMIUM_SUBSCRIPTION_TRIAL_ID,analyticsLocation:K()}).catch(j.NOOP_NULL)},t.prototype.handleGiftWithPlan=function(e){C.openModal({mode:j.PremiumPaymentSubscriptionModes.NEW,skuId:j.SubscriptionPlanInfo[e].skuId,plan:e,isGift:!0,analyticsLocation:K(j.AnalyticsObjectTypes.GIFT)}).catch(j.NOOP_NULL)},t.prototype.handleGiftWithSku=function(e){C.openModal({mode:j.PremiumPaymentSubscriptionModes.NEW,skuId:e,isGift:!0,analyticsLocation:K(j.AnalyticsObjectTypes.GIFT)}).catch(j.NOOP_NULL)},t.prototype.showUpgradeModal=function(e){var t=this.props,n=t.premiumSubscription,o=t.paymentSource;b.openModal({selectedPlan:e,paymentSource:o,currentSubscription:n})},t.prototype.renderMonthly=function(e,t,n,o,a,r){var i=this;return l(s.Fragment,{},void 0,this.renderButtonTooltip(l(I.default,{look:I.default.Looks.FILLED,color:I.default.Colors.PRIMARY,size:r,className:V.default.subscribeButton,onClick:function(){return i.handleUpgrade(e)},disabled:n},void 0,o?B.default.Messages.BILLING_PRICE_PER_MONTH_UPGRADE.format({price:(0,c.formatPrice)(t.amount,t.currency)}):B.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,c.formatPrice)(t.amount,t.currency)})),e,a,n),l(I.default,{look:I.default.Looks.LINK,color:I.default.Colors.PRIMARY,size:r,className:V.default.giftButton,onClick:function(){return i.handleGiftWithPlan(e)}},void 0,B.default.Messages.BILLING_PREMIUM_GIFT_MONTH))},t.prototype.renderYearly=function(e,t,n,o,a,r){var i=this;return l(s.Fragment,{},void 0,this.renderButtonTooltip(l(I.default,{look:I.default.Looks.FILLED,color:I.default.Colors.GREEN,size:r,onClick:function(){return i.handleUpgrade(e)},className:V.default.subscribeButton,innerClassName:V.default.yearlyButtonInner,disabled:n},void 0,o?B.default.Messages.BILLING_PRICE_PER_YEAR_UPGRADE.format({price:(0,c.formatPrice)(t.amount,t.currency)}):B.default.Messages.BILLING_PRICE_PER_YEAR.format({price:(0,c.formatPrice)(t.amount,t.currency)}),l("div",{className:V.default.yearlyButtonDiscount},void 0,"-16%")),e,a,n),l(I.default,{look:I.default.Looks.LINK,color:I.default.Colors.PRIMARY,size:r,className:V.default.giftButton,onClick:function(){return i.handleGiftWithPlan(e)}},void 0,B.default.Messages.BILLING_PREMIUM_GIFT_YEAR))},t.prototype.renderButtonTooltip=function(e,t,n,o){var a=void 0;return o&&(a=null!=n?n.plan===t||n.plan===j.SubscriptionPlans.PREMIUM_MONTH_LEGACY&&t===j.SubscriptionPlans.PREMIUM_MONTH_TIER_2||n.plan===j.SubscriptionPlans.PREMIUM_YEAR_LEGACY&&t===j.SubscriptionPlans.PREMIUM_YEAR_TIER_2?B.default.Messages.PREMIUM_UPGRADE_DISABLED_CURRENT_TOOLTIP:t===j.SubscriptionPlans.PREMIUM_YEAR_TIER_2&&null!=n.trialEndsAt?B.default.Messages.PREMIUM_UPGRADE_DISABLED_IN_TRIAL:B.default.Messages.PREMIUM_UPGRADE_DISABLED_LOWER_TIER_TOOLTIP:B.default.Messages.PREMIUM_UPGRADE_DISABLED_ALREADY_PREMIUM),null!=a?l("div",{className:V.default.disabledButtonWrapper},void 0,e,l(P.default,{text:a},void 0,l("div",{className:V.default.disabledButtonOverlay}))):e},t.prototype.renderTier2Subscription=function(){var e=this,t=this.props,n=t.premiumSubscription,o=t.isUserEligibleForPremiumTrial;return l("section",{className:V.default.sectionTier2},void 0,l("div",{className:V.default.title},void 0,B.default.Messages.PREMIUM_APPLICATIONS_TITLE),l("div",{className:V.default.subtitle},void 0,B.default.Messages.PREMIUM_APPLICATIONS_SUBTITLE),null!=n||!0!==o?l(q,{renderPlanOption:this.renderPlanOption}):l(X,{handlePremiumTrial:function(){return e.handlePremiumTrial()},handleGift:function(){return e.handleGiftWithSku(j.PremiumSubscriptionSKUs.TIER_2)},renderPlanOption:this.renderPlanOption}))},t.prototype.renderTier1Subscription=function(){return l("section",{className:V.default.sectionTier1},void 0,l("h3",{className:V.default.sectionHeader},void 0,B.default.Messages.PREMIUM_CHAT_PERKS_ONLY_TITLE),l("div",{className:V.default.tier1Banner},void 0,l("div",{className:V.default.tier1Image}),l("div",{className:V.default.planInfo},void 0,l(A.default,{name:A.default.Names.NITRO_CLASSIC,className:V.default.headerIcon}),l("div",{className:V.default.planDescription},void 0,B.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION,l("div",{className:V.default.planFeatures},void 0,l("div",{className:(0,u.default)(V.default.planFeature,V.default.featureNotIncluded)},void 0,l(A.default,{name:A.default.Names.CLOSE,className:(0,u.default)(V.default.planFeatureIcon)}),B.default.Messages.PREMIUM_FEATURES_PREMIUM_APPLICATIONS),l("div",{className:(0,u.default)(V.default.planFeature)},void 0,l(A.default,{name:A.default.Names.CHECKMARK,className:(0,u.default)(V.default.planFeatureIcon,V.default.iconIncluded)}),B.default.Messages.PREMIUM_FEATURES_CHAT_PERKS)))),l("div",{className:V.default.verticalButtons},void 0,this.renderPlanOption(j.SubscriptionPlans.PREMIUM_YEAR_TIER_1,I.default.Sizes.SMALL),this.renderPlanOption(j.SubscriptionPlans.PREMIUM_MONTH_TIER_1,I.default.Sizes.SMALL))))},t.prototype.render=function(){var e=this.props,t=e.hide,n=e.syncing,o=e.premiumSubscription,a=e.busy,r=e.paymentSource;return t?Q:n?l("div",{className:(0,u.default)(V.default.container,V.default.loading)},void 0,J):l("div",{className:V.default.container},void 0,l("div",{className:V.default.background}),l("div",{className:V.default.content},void 0,null!=o?l(s.Fragment,{},void 0,l(D.default,{subscription:o,paymentSource:r,busy:a}),l(R.FormDivider,{className:(0,u.default)(H.default.marginBottom20,H.default.marginTop20)})):null,this.renderTier2Subscription(),Z,this.renderTier1Subscription()))},t}(s.PureComponent);ee.displayName="UserSettingsPremium",t.default=d.default.connectStores([E.default,y.default,v.default,m.default,h.default,p.default,_.default,g.default],function(){var e=E.default.getPremiumSubscription(),t=h.default.getCurrentUser(),n=null!=e?new Set(f.default.getUpgradeEligibilities(e.plan)):new Set(f.default.getUpgradeEligibilities(null));return{locale:_.default.locale,hide:p.default.enabled,isClaimed:null!=t.email&&""!==t.email,isVerified:t.verified,syncing:y.default.isSyncing,busy:y.default.isBusy,premiumSubscription:e,paymentSource:null!=e&&null!=e.paymentSourceId?m.default.getPaymentSource(e.paymentSourceId):null,upgradeEligibilities:n,isUserEligibleForPremiumTrial:g.default.isUserEligible(j.PREMIUM_SUBSCRIPTION_TRIAL_ID)}})(ee),e.exports=t.default},7359:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=H(n(9)),s=H(n(3)),u=H(n(6)),d=H(n(5)),f=H(n(28)),c=H(n(25)),p=H(n(13)),h=H(n(1025)),y=H(n(928)),m=H(n(926)),v=H(n(45)),E=H(n(94)),_=H(n(517)),g=H(n(370)),S=n(944),T=H(n(35)),C=H(n(233)),N=n(6856),b=H(n(514)),O=n(76),I=H(O),A=H(n(1022)),M=H(n(6057)),R=n(266),P=H(R),L=H(n(166)),w=H(n(71)),D=H(n(513)),U=H(n(42)),k=H(n(510)),F=H(n(5845)),x=n(6841),G=H(n(371)),j=n(6676),B=n(0);function H(e){return e&&e.__esModule?e:{default:e}}function V(e){var t=e.body,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["body"]);T.default.push(function(e){return i.createElement(L.default,a({},e,n),r(w.default,{size:w.default.Sizes.MEDIUM,color:w.default.Colors.PRIMARY},void 0,t))})}function Y(e){var t=e.message;V({header:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:u.default.Messages.OKAY,red:!0,body:t})}var W=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.handleUsageStatisticsChange=function(){!o.props.usageStatistics?(0,N.setConsents)([B.Consents.USAGE_STATISTICS],[]).catch(Y):V({header:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,confirmText:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:u.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,N.setConsents)([],[B.Consents.USAGE_STATISTICS]).catch(Y)}})},o.handlePersonalizationChange=function(){!o.props.personalization?(0,N.setConsents)([B.Consents.PERSONALIZATION],[]).catch(Y):V({header:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,N.setConsents)([],[B.Consents.PERSONALIZATION]).catch(Y)},body:u.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})},o.handleDataDownloadRequest=function(){V({header:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){o.setState({requestingHarvest:!0},function(){(0,S.requestHarvest)().then(function(e){null!=e&&null!=e.body?(o.setState({currentHarvestRequest:e.body}),C.default.show({body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})):C.default.show({title:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})},function(){return C.default.show({title:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}).finally(function(){return o.setState({requestingHarvest:!1})})})}})},o.handleChangeDefaultGuildsRestricted=o.handleChangeDefaultGuildsRestricted.bind(o);var a=n.defaultGuildsRestricted;return o.state={defaultGuildsRestricted:a,currentHarvestRequest:null,requestingHarvest:!0},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;(0,N.fetchConsents)(),(0,S.getHarvestStatus)().then(function(t){console.log("getHarvestStatus",t);var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)},function(t){console.log("getHarvestStatus error",t),e.setState({requestingHarvest:!1})})},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.defaultGuildsRestricted;t!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:t})},t.prototype.hasPermittedSourceFlag=function(e){var t=this.props.friendSourceFlags,n=function(e){return!0===t[e]};return!!n(B.FriendSourceFlagKeys.ALL)||n(e)},t.prototype.onFieldChange=function(e,t){var n,o,r=this.props.friendSourceFlags,i=void 0;if(e===B.FriendSourceFlagKeys.ALL)t?((n={})[B.FriendSourceFlagKeys.ALL]=!0,n[B.FriendSourceFlagKeys.FRIENDS]=!0,n[B.FriendSourceFlagKeys.GUILDS]=!0,i=n):((o={})[B.FriendSourceFlagKeys.ALL]=!1,o[B.FriendSourceFlagKeys.FRIENDS]=!0,o[B.FriendSourceFlagKeys.GUILDS]=!0,i=o);else if(t){var l,s=!1;switch(e){case B.FriendSourceFlagKeys.FRIENDS:s=!0===r[B.FriendSourceFlagKeys.GUILDS];break;default:s=!0===r[B.FriendSourceFlagKeys.FRIENDS]}i=a({},r,((l={})[B.FriendSourceFlagKeys.ALL]=s,l[e]=!0,l))}else{var u;i=a({},r,((u={})[B.FriendSourceFlagKeys.ALL]=!1,u[e]=!1,u))}this.updatePermittedFriendSourceFlags(i)},t.prototype.updatePermittedFriendSourceFlags=function(e){_.default.updateRemoteSettings({friendSourceFlags:e})},t.prototype.handleExplicitContentFilterChange=function(e){var t=e.value;_.default.updateRemoteSettings({explicitContentFilter:t})},t.prototype.handleChangeDefaultGuildsRestricted=function(e){var t=this,n=e.currentTarget.checked;n=!n,this.setState({defaultGuildsRestricted:n},function(){return t.showGuildRestrictionModal(n)})},t.prototype.showGuildRestrictionModal=function(e){V({header:u.default.Messages.USER_DM_SETTINGS,body:u.default.Messages.USER_DM_SETTINGS_QUESTION,confirmText:u.default.Messages.YES_TEXT,cancelText:u.default.Messages.NO_TEXT,onConfirm:function(){_.default.updateRemoteSettings({defaultGuildsRestricted:e,restrictedGuilds:e?Object.keys(c.default.getGuilds()):[]})},onCancel:function(){_.default.updateRemoteSettings({defaultGuildsRestricted:e})}})},t.prototype.renderFriendSettings=function(){var e=this;return r(y.default,{title:u.default.Messages.FRIEND_PERMITTED_SOURCE,className:k.default.marginBottom40},void 0,r(m.default,{className:(0,l.default)(k.default.marginTop8,k.default.marginBottom20),value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.ALL),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.ALL,t.currentTarget.checked)}},void 0,u.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),r(m.default,{value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.FRIENDS),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.FRIENDS,t.currentTarget.checked)}},void 0,u.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),r(m.default,{className:k.default.marginReset,value:this.hasPermittedSourceFlag(B.FriendSourceFlagKeys.GUILDS),onChange:function(t){return e.onFieldChange(B.FriendSourceFlagKeys.GUILDS,t.currentTarget.checked)}},void 0,u.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS))},t.prototype.renderDMSafety=function(){return r(y.default,{className:k.default.marginBottom40},void 0,r(I.default,{tag:O.Tags.H5,className:k.default.marginBottom4},void 0,u.default.Messages.USER_EXPLICIT_CONTENT_FILTER),r(P.default,{type:R.Types.DESCRIPTION,className:k.default.marginBottom8},void 0,u.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),r(M.default,{value:this.props.explicitContentFilter,options:(0,x.generateDMSafetyOptions)(),onChange:this.handleExplicitContentFilterChange}))},t.prototype.renderServerPrivacy=function(){return r(y.default,{className:k.default.marginBottom40},void 0,r(I.default,{tag:O.Tags.H5,className:k.default.marginBottom8},void 0,u.default.Messages.USER_DM_SETTINGS),r(m.default,{className:k.default.marginReset,value:!this.state.defaultGuildsRestricted,note:u.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,u.default.Messages.NEW_GUILDS_DM_ALLOWED))},t.prototype.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization;return r(y.default,{className:k.default.marginBottom40},void 0,r(I.default,{tag:O.Tags.H5,className:k.default.marginBottom8},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS),r(m.default,{value:t,note:u.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE,onChange:this.handleUsageStatisticsChange},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),r(m.default,{value:n,note:u.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:G.default.getArticleURL(B.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handlePersonalizationChange},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),r(I.default,{tag:O.Tags.H3,className:(0,l.default)(k.default.marginTop20,k.default.marginBottom8)},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),r(P.default,{type:R.Types.DESCRIPTION,className:k.default.marginBottom20},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){g.default.setSection(B.UserSettingsSections.ACCOUNT),(0,S.toggleEditingProfile)(!0)}})),this.renderHarvestRequest())},t.prototype.renderHarvestRequest=function(){var e=this.props.currentUser,t=this.state,n=t.requestingHarvest,o=t.currentHarvestRequest,a=(0,j.harvestDisabled)(o,e),l=r(v.default,{disabled:a,onClick:this.handleDataDownloadRequest,look:v.default.Looks.OUTLINED,color:v.default.Colors.BRAND,submitting:n},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD);e.verified||(l=r(E.default,{text:u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,l));var s=void 0;return a&&null!=o&&(s=r(D.default,{className:F.default.card},void 0,r(w.default,{size:w.default.Sizes.MEDIUM,color:w.default.Colors.PRIMARY},void 0,u.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,d.default)(o.created_at).add(B.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")}))),l=null),null!=l&&(l=r(U.default,{},void 0,l)),r(i.Fragment,{},void 0,r(b.default,{className:k.default.marginBottom20}),r(I.default,{tag:O.Tags.H3},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),r(P.default,{type:R.Types.DESCRIPTION,className:k.default.marginBottom20},void 0,u.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:G.default.getArticleURL(B.HelpdeskArticles.GDPR_REQUEST_DATA)})),s,l)},t.prototype.renderPrivacyAndTermsNote=function(){return r(y.default,{className:k.default.marginBottom40},void 0,r(A.default,{type:A.default.Types.PRIMARY,body:u.default.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:B.MarketingURLs.TERMS,privacyLink:B.MarketingURLs.PRIVACY})}))},t.prototype.render=function(){var e=this.props.fetchedConsents;return r(y.default,{tag:O.Tags.H2,title:u.default.Messages.PRIVACY_AND_SAFETY},void 0,this.renderDMSafety(),this.renderServerPrivacy(),this.renderFriendSettings(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote())},t}(i.PureComponent);W.displayName="UserSettingsPrivacySafety",t.default=s.default.connectStores([f.default,p.default,h.default],function(){return{currentUser:p.default.getCurrentUser(),friendSourceFlags:(0,j.computeFlags)(),explicitContentFilter:f.default.explicitContentFilter,defaultGuildsRestricted:f.default.defaultGuildsRestricted,fetchedConsents:h.default.fetchedConsents,usageStatistics:h.default.hasConsented(B.Consents.USAGE_STATISTICS),personalization:h.default.hasConsented(B.Consents.PERSONALIZATION)}})(W),e.exports=t.default},7360:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(6)),l=h(n(9)),s=h(n(928)),u=n(76),d=h(u),f=h(n(926)),c=h(n(11)),p=h(n(510));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.handleToggleOpenOnStartup=function(){var e=!o.state.openOnStartup;o.setState({openOnStartup:e}),c.default.send("TOGGLE_OPEN_ON_STARTUP",e)},o.handleToggleStartMinimized=function(){var e=!o.state.startMinimized;o.setState({startMinimized:e}),c.default.send("TOGGLE_START_MINIMIZED",e)},o.handleToggleMinimizeToTray=function(){var e=!o.state.minimizeToTray;o.setState({minimizeToTray:e}),c.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};var a=c.default.getGlobal("appSettings");return o.state={openOnStartup:a.get("OPEN_ON_STARTUP",!0),startMinimized:a.get("START_MINIMIZED",!1),minimizeToTray:a.get("MINIMIZE_TO_TRAY",!0)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,o=e.minimizeToTray,r=c.default.isLinux()?i.default.Messages.USER_SETTINGS_LINUX_SETTINGS:i.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return a(s.default,{tag:u.Tags.H2,title:r},void 0,a(d.default,{},void 0,i.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),a(f.default,{className:p.default.marginBottom20,value:t,note:i.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,i.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),c.default.isWindows()?a(f.default,{disabled:!t,className:(0,l.default)(p.default.marginTop8,p.default.marginBottom20),value:!!t&&n,note:i.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,i.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,a(d.default,{className:(0,l.default)(p.default.marginTop20,p.default.marginBottom8)},void 0,i.default.Messages.USER_SETTINGS_CLOSE_BUTTON),a(f.default,{className:p.default.marginBottom20,value:o,note:i.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,i.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))},t}(r.PureComponent);y.displayName="UserSettingsWindows",t.default=y,e.exports=t.default},7361:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=O(n(230)),u=O(n(533)),d=O(n(6106)),f=O(n(372)),c=O(n(6679)),p=O(n(17)),h=(O(n(371)),n(280)),y=n(511),m=O(n(6677)),v=O(n(42)),E=O(n(268)),_=O(n(926)),g=O(n(6191)),S=O(n(6057)),T=O(n(6)),C=n(0),N=O(n(510)),b=O(n(5846));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(){var e=s.default.getNotificationPositionMode(),t=e!==C.OverlayNotificationPositions.DISABLED,n=d.default.getOverlayKeybind(),o=d.default.getOverlayChatKeybind();p.default.track(C.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:u.default.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:s.default.getTextChatNotificationMode(),hotkey:null!=n?(0,h.toString)(n.shortcut):null,text_activation_hotkey:null!=o?(0,h.toString)(o.shortcut):null,text_opacity_slider:s.default.getTextWidgetOpacity()})}var M=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=I(this,e.call.apply(e,[this].concat(i))),o.handleChangeEnabled=function(e){f.default.setEnabled(e.currentTarget.checked),A(),p.default.track(C.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e.currentTarget.checked,setting_type:"overlay toggled - global"})},o.handleChangeDisplayNameMode=function(e){var t=e.value;f.default.setDisplayNameMode(t)},o.handleChangeAvatarSizeMode=function(e){var t=e.value;f.default.setAvatarSizeMode(t)},o.handleChangeDisplayUserMode=function(e){var t=e.value;f.default.setDisplayUserMode(t)},o.handleChangeTextNotificationMode=function(){var e=C.OverlayNotificationTextChatTypes.ENABLED,t=C.OverlayNotificationTextChatTypes.DISABLED,n=o.props.textChatNotificationMode===e?t:e;f.default.setTextChatNotificationMode(n),A()},o.handleChangeNotificationPositionMode=function(e,t){f.default.setNotificationPositionMode(t),A()},o.handleInputLockShortcutChange=function(e){c.default.setKeybind(r({},o.props.inputLockKeybind,{shortcut:e})),A()},I(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderExplanation=function(){return null},t.prototype.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind;return a(v.default,{className:N.default.marginBottom20},void 0,a(v.default.Child,{basis:"50%"},void 0,a(E.default,{},void 0,a(y.FormTitle,{tag:y.FormTitleTags.H5},void 0,T.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),a(_.default,{className:N.default.marginBottom20,style:{marginTop:16},value:t,hideBorder:!0,onChange:this.handleChangeEnabled},void 0,T.default.Messages.ENABLE_INGAME_OVERLAY))),a(v.default.Child,{basis:"50%"},void 0,a(E.default,{title:T.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,a(g.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))},t.prototype.renderAvatarSize=function(){return a(v.default,{className:N.default.marginBottom20},void 0,a(v.default.Child,{},void 0,a(E.default,{title:T.default.Messages.FORM_LABEL_AVATAR_SIZE},void 0,a(S.default,{options:[{name:T.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:C.OverlayAvatarSizes.LARGE},{name:T.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:C.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))},t.prototype.renderDisplayNames=function(){return a(v.default,{className:N.default.marginBottom20},void 0,a(v.default.Child,{},void 0,a(E.default,{title:T.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,a(S.default,{options:[{name:T.default.Messages.DISPLAY_OPTION_ALWAYS,value:C.OverlayDisplayNames.ALWAYS},{name:T.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:C.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:T.default.Messages.DISPLAY_OPTION_NEVER,value:C.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))},t.prototype.renderDisplayUsers=function(){return a(v.default,{className:N.default.marginBottom20},void 0,a(v.default.Child,{},void 0,a(E.default,{title:T.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,a(S.default,{options:[{name:T.default.Messages.DISPLAY_OPTION_ALWAYS,value:C.OverlayDisplayUsers.ALWAYS},{name:T.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:C.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))},t.prototype.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==C.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===C.OverlayNotificationTextChatTypes.ENABLED;return a(v.default,{className:N.default.marginBottom20},void 0,a(v.default.Child,{},void 0,a(E.default,{},void 0,a(_.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,T.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))},t.prototype.renderNotificationPosition=function(){return a(v.default,{className:N.default.marginBottom20},void 0,a(v.default.Child,{},void 0,a(E.default,{title:T.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,a("div",{className:b.default.notificationSettings},void 0,a(m.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))},t.prototype.render=function(){return a(i.Fragment,{},void 0,a(y.FormSection,{tag:y.FormTitleTags.H2,title:T.default.Messages.OVERLAY},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),a(y.FormSection,{tag:y.FormTitleTags.H2,title:T.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:N.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))},t}(i.PureComponent);M.displayName="UserSettingsOverlay",t.default=l.default.connectStores([u.default,s.default,d.default],function(){return{enabled:u.default.enabled,avatarSizeMode:s.default.getAvatarSizeMode(),displayNameMode:s.default.getDisplayNameMode(),displayUserMode:s.default.getDisplayUserMode(),notificationPositionMode:s.default.getNotificationPositionMode(),textChatNotificationMode:s.default.getTextChatNotificationMode(),inputLockKeybind:d.default.getOverlayKeybind()}})(M),e.exports=t.default},7362:function(e,t,n){e.exports=n.p+"e8b66317ab0dc9ba3bf8d41a4f3ec914.png"},7363:function(e,t,n){e.exports=n.p+"8c49c7d4a59675bb6ceaee1bb80b5803.png"},7364:function(e,t,n){e.exports=n.p+"aba3ec7874f7f01fe9a8275a3e5c21a0.svg"},7365:function(e,t,n){e.exports=n.p+"baf6cccc846651d5ca897296163227f5.svg"},7366:function(e,t,n){e.exports=n.p+"f98fe1aef65b144ddb4dbc7eedfac860.svg"},7367:function(e,t,n){e.exports=n.p+"799da7cb8e1aa0bf9588a2d789c03926.svg"},7368:function(e,t,n){e.exports=n.p+"d630d71d5d2a19c1a81607b7b77f8717.svg"},7369:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),l=n(273),s=n(0),u=d(n(5850));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=(0,l.cssValueToNumber)(u.default.notchWidth),p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=f(this,e.call.apply(e,[this].concat(i))),o.state={barWidth:0},o.sizerRef=r.createRef(),o.computeBars=function(){var e=o.sizerRef.current;o.setState({barWidth:null!=e?o.roundToNearestStep(e.clientWidth):0})},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.computeBars(),window.addEventListener("resize",this.computeBars)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)},t.prototype.roundToNearestStep=function(e){return Math.round(e/c)*c},t.prototype.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,o=n*t/100,a=this.roundToNearestStep(o);return{transform:"translateX("+Math.abs(a-n)+"px)"}},t.prototype.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,o=e.progress;return{width:this.state.barWidth+"px",background:o<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}},t.prototype.render=function(){var e=this.props.className;return r.createElement("div",{className:u.default.wrapper,ref:this.sizerRef},a("div",{className:(0,i.default)(u.default.container,e),style:this.getGradientStyles()},void 0,a("div",{className:u.default.progress,style:this.getProgressStyles()}),a("div",{className:u.default.notches})))},t}(r.Component);p.defaultProps={gradientStart:s.Colors.STATUS_YELLOW_400,gradientEnd:s.Colors.STATUS_GREEN},p.displayName="GradientProgress",t.default=p,e.exports=t.default},7370:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=D(n(9)),u=D(n(7)),d=D(n(3)),f=n(56),c=n(78),p=D(n(6)),h=D(n(42)),y=D(n(266)),m=D(n(7369)),v=D(n(145)),E=D(n(94)),_=n(76),g=D(_),S=D(n(45)),T=D(n(6059)),C=D(n(6687)),N=D(n(6686)),b=D(n(55)),O=D(n(231)),I=D(n(269)),A=D(n(371)),M=D(n(17)),R=D(n(11)),P=n(0),L=D(n(5849)),w=D(n(510));function D(e){return e&&e.__esModule?e:{default:e}}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var k=2e3,F=-100,x=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=U(this,e.call.apply(e,[this].concat(r))),o._initTimeout=new f.Timeout,o._silenceTimeout=new f.Timeout,o._messageTimeout=new f.Timeout,o.state={volume:F,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1},o.setupVoiceActivity=function(){b.default.getMediaEngine().on("voiceactivity",o.handleVoiceActivity)},o.handleVoiceActivity=function(e){if(o.state.isMicTesting&&e<=F)return o._silenceTimeout.isStarted()||o._silenceTimeout.start(k,function(){o.setState({isDetectingInput:!1})}),void o.setState({volume:F});o._silenceTimeout.stop(),o.setState({volume:e,isDetectingInput:!0})},o.handleToggleMicTest=function(){o.state.isMicTesting?o._micTestStop():o._micTestStart()},U(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)},t.prototype.componentWillUnmount=function(){this._initTimeout.stop(),this._micTestStop(),b.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity)},t.prototype._micTestStart=function(){var e=this.props,t=e.isDeafened,n=e.isVoiceConnected,o=e.inputDeviceName,a=e.inputVolume,r=e.outputDeviceName,i=e.outputVolume,l=e.inputMode,s=e.vadAutoThreshold,u=e.vadThreshold;b.default.isEnabled()||I.default.enable();var d=!1;n&&!t&&(I.default.toggleSelfDeaf(c.DEFAULT_CONTEXT),d=!0),I.default.setLoopback(!0),this._micTestStartTime=Date.now(),this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:d}),M.default.track(P.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:o,input_device_volume:a,output_device_name:r,output_device_volume:i,input_mode:l,input_sensitivity_is_automatic:s,input_sensitivity_threshold:Math.round(u)})},t.prototype._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,o=this.props,a=o.isDeafened,r=o.isVoiceConnected;n&&(r&&a&&t&&I.default.toggleSelfDeaf(c.DEFAULT_CONTEXT),I.default.setLoopback(!1),this.setState({isMicTesting:!1,didDeafenUser:!1}),M.default.track(P.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)}))},t.prototype.renderCaption=function(){var e=this.state,t=e.isMicTesting,n=e.isDetectingInput,o=void 0;return t&&(o=n?p.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION:i(l.Fragment,{},void 0,p.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,i(v.default,{className:L.default.micTestHelpLink,href:A.default.getArticleURL(P.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,p.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))),i(y.default,{className:L.default.micTestCaption,type:y.default.Types.DESCRIPTION},void 0,o)},t.prototype.render=function(){var e=this.props.isVoiceConnected,t=this.state,n=t.isMicTesting,o=t.volume,a=e&&!n?p.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CHANNEL_WARNING:"";return i(h.default,{direction:h.default.Direction.VERTICAL},void 0,i(g.default,{tag:_.Tags.H5,className:(0,s.default)(w.default.marginBottom4,w.default.marginTop8)},void 0,p.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE),i(y.default,{type:y.default.Types.DESCRIPTION,className:w.default.marginBottom8},void 0,p.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION),i(h.default,{className:L.default.micTest,align:h.default.Align.CENTER},void 0,i(E.default,{text:a},void 0,i(S.default,{grow:!1,onClick:this.handleToggleMicTest,size:S.default.Sizes.SMALL,className:L.default.micTestButton,color:S.default.Colors.BRAND},void 0,n?p.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE:p.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE)),i(m.default,{progress:n?o+100:0}),this.renderCaption()))},t}(l.PureComponent);x.displayName="MicTester";var G=d.default.connectStores([O.default],function(){var e=b.default.getInputDeviceId(),t=b.default.getInputDevices(),n=u.default.find(t,function(t){return t.id===e}),o=b.default.getOutputDeviceId(),a=b.default.getOutputDevices(),r=u.default.find(a,function(e){return e.id===o}),i=b.default.getModeOptions();return{isVoiceConnected:O.default.isConnected(),isDeafened:b.default.isSelfDeaf(),inputVolume:b.default.getInputVolume(),outputVolume:b.default.getOutputVolume(),inputMode:b.default.getMode(),vadThreshold:i.threshold,vadAutoThreshold:i.autoThreshold,inputDeviceName:null!=n?n.name:null,outputDeviceName:null!=r?r.name:null}})(x),j=i(G,{});t.default=(0,T.default)(R.default.embedded?C.default:N.default,((a={})[P.ExperimentTypes.NONE]=P.NOOP_NULL,a[P.ExperimentTypes.USER]=((o={})[P.ExperimentBuckets.NOT_ELIGIBLE]=P.NOOP_NULL,o[P.ExperimentBuckets.CONTROL]=P.NOOP_NULL,o[P.ExperimentBuckets.TREATMENT_1]=function(){return j},o),a)),e.exports=t.default},7371:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=X(n(3)),s=n(56),u=n(532),d=X(n(9)),f=n(78),c=X(n(55)),p=X(n(529)),h=X(n(28)),y=X(n(542)),m=X(n(269)),v=X(n(35)),E=X(n(370)),_=X(n(380)),g=X(n(7370)),S=X(n(11)),T=X(n(6)),C=X(n(7)),N=X(n(928)),b=n(1022),O=X(b),I=n(513),A=X(n(42)),M=X(n(268)),R=X(n(514)),P=X(n(266)),L=X(n(966)),w=X(n(931)),D=X(n(967)),U=X(n(6057)),k=X(n(6191)),F=X(n(926)),x=n(76),G=X(x),j=n(45),B=X(j),H=X(n(381)),V=X(n(166)),Y=X(n(71)),W=n(0),z=X(n(5848)),K=X(n(1210)),$=X(n(374)),q=X(n(510));function X(e){return e&&e.__esModule?e:{default:e}}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ee=r("div",{className:"grow"}),te=function(e){function t(){var n,o;Q(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=J(this,e.call.apply(e,[this].concat(r))),o._timeout=new s.Timeout,o.state={volume:-100,speaking:!1},o.setupVoiceActivity=function(){c.default.getMediaEngine().on("voiceactivity",o.handleVoiceActivity),o._timeout.stop()},o.handleVoiceActivity=function(e,t){o.setState({volume:e,speaking:(t&f.SpeakingFlags.VOICE)===f.SpeakingFlags.VOICE})},o.handleAutoThresholdChange=function(e){var t=o.props,n=t.onThresholdChange,a=t.threshold;n&&n(a,e.currentTarget.checked)},o.handleSensitivityChange=function(e){var t=o.props,n=t.onThresholdChange,a=t.auto;n&&n(-1*(100-e),a)},J(o,n)}return Z(t,e),t.prototype.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)},t.prototype.componentWillUnmount=function(){c.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity),this._timeout.stop()},t.prototype.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},t.prototype.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto;if(c.default.supports(f.Features.AUTOMATIC_VAD))return r(u.SmartUID,{},void 0,function(n){return r("div",{className:(0,d.default)($.default.horizontal,q.default.marginBottom4)},void 0,r(G.default,{tag:x.Tags.H3,className:q.default.marginReset},void 0,r("label",{htmlFor:n},void 0,T.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),r(L.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},t.prototype.renderSlider=function(){var e,t=this.props,n=t.auto,o=t.threshold,a=this.state.speaking;return n?r("section",{className:z.default.inputSensitivityToggle},void 0,r("div",{className:K.default.slider},void 0,r("div",{className:(0,d.default)(K.default.bar,z.default.sliderBar,(e={},e[z.default.speaking]=a||this.state.speaking,e))})),r(P.default,{type:P.default.Types.DESCRIPTION,className:q.default.marginBottom8},void 0,T.default.Messages.FORM_HELP_AUTOMATIC_VAD)):r("section",{className:(0,d.default)(z.default.inputSensitivityToggle,z.default.manual)},void 0,r(D.default,{defaultValue:o+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:W.Colors.STATUS_GREEN_400},fillStyles:{background:W.Colors.STATUS_YELLOW_400}},void 0,r("div",{className:(0,d.default)(z.default.sliderBar,z.default.microphone,K.default.bar)},void 0,r("div",{className:(0,d.default)(z.default.fill,K.default.barFill),style:{width:this.state.volume+100+"%"}}),ee)))},t.prototype.renderInputDisabledWarning=function(){if(!c.default.isEnabled())return r(P.default,{type:P.default.Types.DESCRIPTION,className:(0,d.default)(z.default.inputDisabledWarning,q.default.marginBottom8)},void 0,T.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:m.default.enable}))},t.prototype.render=function(){return r(M.default,{className:z.default.sensitivity},void 0,r(G.default,{tag:x.Tags.H5,className:q.default.marginBottom8},void 0,T.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),r("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())},t}(i.PureComponent);te.displayName="VoiceSensitivity";var ne=l.default.connectStores([p.default],function(){return{speaking:p.default.isCurrentUserSpeaking()}})(te),oe=r(g.default,{}),ae=function(e){function t(){var o,l;Q(this,t);for(var s=arguments.length,u=Array(s),d=0;d<s;d++)u[d]=arguments[d];return o=l=J(this,e.call.apply(e,[this].concat(u))),l.state={showCamera:!1},l.handleInputModeChange=function(e){var t=e.value;t===W.InputModes.PUSH_TO_TALK&&l.props.usePTTLimited&&v.default.push(function(e){return i.createElement(H.default,a({title:T.default.Messages.PTT_LIMITED_TITLE,confirmText:T.default.Messages.DOWNLOAD,cancelText:T.default.Messages.OKAY,onConfirm:l.handleDownload.bind(l,"PTT Limited Modal"),body:T.default.Messages.PTT_LIMITED_BODY,iconUrl:n(7368)},e))}),m.default.setMode(t)},l.handleDelayChange=function(e){m.default.setMode(l.props.inputMode,{delay:e})},l.handleThresholdChange=function(e,t){m.default.setMode(l.props.inputMode,{threshold:e,autoThreshold:t})},l.handleDebugLoggingChange=function(e){var t=e.currentTarget.checked;v.default.push(function(e){return i.createElement(V.default,a({header:T.default.Messages.SET_DEBUG_LOGGING,confirmText:T.default.Messages.OKAY,cancelText:T.default.Messages.CANCEL,onConfirm:function(){return m.default.setDebugLogging(t)},red:!0},e),r(Y.default,{size:Y.default.Sizes.MEDIUM,color:Y.default.Colors.PRIMARY},void 0,T.default.Messages.SET_DEBUG_LOGGING_BODY))})},l.handleAttenuationChange=function(e){m.default.setAttenuation(e,l.props.attenuateWhileSpeakingSelf,l.props.attenuateWhileSpeakingOthers)},l.handleAttenuateSelfChanged=function(e){var t=e.currentTarget.checked;m.default.setAttenuation(l.props.attenuation,t,l.props.attenuateWhileSpeakingOthers)},l.handleAttenuateOthersChanged=function(e){var t=e.currentTarget.checked,n=l.props,o=n.attenuation,a=n.attenuateWhileSpeakingSelf;m.default.setAttenuation(o,a,t)},l.handleShortcutChange=function(e){m.default.setMode(l.props.inputMode,{shortcut:e})},l.handleShowCamera=function(){l.setState({showCamera:!0})},l.renderDevice=function(e){var t=e.label,o=e.value,a=void 0;if(y.default.isCertified(o)){var i=l.props.theme===W.ThemeTypes.LIGHT?n(7367):n(7366);a=r("img",{src:i,alt:"Certified",className:z.default.deviceOptionCertified})}return r("span",{className:z.default.deviceOption},o,r("span",{className:z.default.deviceOptionLabel},void 0,y.default.getCertifiedDeviceName(o,t)),a)},J(l,o)}return Z(t,e),t.prototype.handleInputDeviceChange=function(e){var t=e.value;m.default.setInputDevice(t,"Settings")},t.prototype.handleOutputDeviceChange=function(e){var t=e.value;m.default.setOutputDevice(t,"Settings")},t.prototype.handleDownload=function(e){v.default.push(_.default,{source:e})},t.prototype.handleInputVolumeChange=function(e){m.default.setInputVolume(e)},t.prototype.handleOutputVolumeChange=function(e){var t=2*e;m.default.setOutputVolume(t)},t.prototype.handleOutputRender=function(e){return(2*e).toFixed(0)+"%"},t.prototype.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"},t.prototype.handleVideoDeviceChange=function(e){var t=e.value;m.default.setVideoDevice(t,"Settings")},t.prototype.handleEchoCancellationChange=function(e){var t=e.currentTarget.checked;m.default.setEchoCancellation(t)},t.prototype.handleNoiseSuppressionChange=function(e){var t=e.currentTarget.checked;m.default.setNoiseSuppression(t)},t.prototype.handleAutomaticGainControlChange=function(e){var t=e.currentTarget.checked;m.default.setAutomaticGainControl(t)},t.prototype.handleLoopbackChange=function(e){var t=e.currentTarget.checked;m.default.setLoopback(t)},t.prototype.handleSilenceWarningChange=function(e){var t=e.currentTarget.checked;m.default.setSilenceWarning(t)},t.prototype.handleVideoHookChange=function(e){var t=e.currentTarget.checked;m.default.setVideoHook(t)},t.prototype.handleQoSChanged=function(e){var t=e.currentTarget.checked;m.default.setQoS(t)},t.prototype.handleVoiceReset=function(){v.default.push(function(e){return i.createElement(V.default,a({header:T.default.Messages.RESET_VOICE_SETTINGS,confirmText:T.default.Messages.OKAY,cancelText:T.default.Messages.CANCEL,onConfirm:m.default.reset,red:!0},e),r(Y.default,{size:Y.default.Sizes.MEDIUM,color:Y.default.Colors.PRIMARY},void 0,T.default.Messages.RESET_VOICE_SETTINGS_BODY))})},t.prototype.handleAudioSubsystemChanged=function(e){var t=e.value;v.default.push(function(e){return i.createElement(V.default,a({header:T.default.Messages.SWITCH_SUBSYSTEM,confirmText:T.default.Messages.OKAY,cancelText:T.default.Messages.CANCEL,onConfirm:function(){return m.default.setAudioSubsystem(t)},red:!0},e),r(Y.default,{size:Y.default.Sizes.MEDIUM,color:Y.default.Colors.PRIMARY},void 0,T.default.Messages.SWITCH_SUBSYSTEM_BODY))})},t.prototype.renderDevices=function(){var e=this.props,t=e.inputDevices,n=e.inputDeviceId,o=e.outputDeviceId,a=e.outputDevices,i=e.canSetInputDevice,l=e.canSetOutputDevice,s=void 0;i||(s=r(P.default,{type:P.default.Types.DESCRIPTION,className:q.default.marginTop8},void 0,T.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")})));var u=void 0;l||(u=r(P.default,{type:P.default.Types.DESCRIPTION,className:q.default.marginTop8},void 0,T.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})));var d=(0,C.default)(t).values().first(),f=null!=d?d.disabled:null!=s,c=(0,C.default)(a).values().first(),p=null!=c?c.disabled:null!=u;return r(A.default,{className:q.default.marginBottom20},void 0,r(A.default.Child,{basis:"50%"},void 0,r(G.default,{tag:x.Tags.H5,className:q.default.marginBottom8},void 0,T.default.Messages.FORM_LABEL_INPUT_DEVICE),r(w.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleInputDeviceChange,options:C.default.map(t,function(e){return{value:e.id,label:e.name}}),disabled:f,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),s),r(A.default.Child,{basis:"50%"},void 0,r(G.default,{tag:x.Tags.H5,className:q.default.marginBottom8},void 0,T.default.Messages.FORM_LABEL_OUTPUT_DEVICE),r(w.default,{value:o,clearable:!1,searchable:!1,onChange:this.handleOutputDeviceChange,options:C.default.map(a,function(e){return{value:e.id,label:e.name}}),disabled:p,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),u))},t.prototype.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return r(A.default,{className:"volume"},void 0,r(A.default.Child,{basis:"50%"},void 0,r(G.default,{tag:x.Tags.H5,className:q.default.marginBottom4},void 0,T.default.Messages.FORM_LABEL_INPUT_VOLUME),r(D.default,{defaultValue:t,asValueChanges:this.handleInputVolumeChange})),r(A.default.Child,{basis:"50%"},void 0,r(G.default,{tag:x.Tags.H5,className:q.default.marginBottom4},void 0,T.default.Messages.FORM_LABEL_OUTPUT_VOLUME),r(D.default,{defaultValue:n/2,onValueRender:this.handleOutputRender,asValueChanges:this.handleOutputVolumeChange})))},t.prototype.renderMicTest=function(){return c.default.supports(f.Features.LOOPBACK)?oe:null},t.prototype.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,o=[{value:W.InputModes.VOICE_ACTIVITY,name:T.default.Messages.INPUT_MODE_VAD},{value:W.InputModes.PUSH_TO_TALK,name:t?T.default.Messages.INPUT_MODE_PTT_LIMITED:T.default.Messages.INPUT_MODE_PTT}];return r(M.default,{title:T.default.Messages.FORM_LABEL_INPUT_MODE,className:q.default.marginBottom20},void 0,r(U.default,{onChange:this.handleInputModeChange,options:o,value:n}))},t.prototype.renderPTTTools=function(){var e=this.props,t=e.inputMode,n=e.delay,o=e.shortcut;if(t!==W.InputModes.PUSH_TO_TALK)return null;var a=void 0;return a=S.default.embedded||t!==W.InputModes.PUSH_TO_TALK?r(P.default,{type:P.default.Types.DESCRIPTION,className:(0,d.default)(z.default.pttToolsMessage,q.default.marginBottom8)},void 0,T.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return E.default.setSection(W.UserSettingsSections.KEYBINDS)}})):r(P.default,{type:P.default.Types.DESCRIPTION,className:(0,d.default)(z.default.pttToolsMessage,z.default.pttToolsWarning,q.default.marginBottom8)},void 0,T.default.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")})),r("div",{className:z.default.pttTools},void 0,r(A.default,{},void 0,r(A.default.Child,{basis:"50%"},void 0,r(M.default,{title:T.default.Messages.FORM_LABEL_SHORTCUT},void 0,r(k.default,{defaultValue:o,onChange:this.handleShortcutChange}))),r(A.default.Child,{basis:"50%"},void 0,r(M.default,{title:T.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY},void 0,r(D.default,{defaultValue:n,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:W.MAX_PTT_RELEASE_DELAY})))),a)},t.prototype.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,o=e.vadAutoThreshold;return t!==W.InputModes.VOICE_ACTIVITY?null:r(ne,{inputMode:t,threshold:n,auto:o,onThresholdChange:this.handleThresholdChange})},t.prototype.renderVideoDevices=function(){var e,t,o=this.props,a=o.videoDevices,i=o.videoDeviceId,l=o.theme,s=void 0;c.default.isEnabled()||(s=r(P.default,{type:P.default.Types.DESCRIPTION,className:q.default.marginTop8},void 0,T.default.Messages.FORM_WARNING_VIDEO_PREVIEW.format({onEnableClick:m.default.enable})));var u=(0,C.default)(a).values().first(),f=null!=u?u.disabled:null!=s,p=c.default.getMediaEngine().Camera,h=l===W.ThemeTypes.LIGHT?n(7365):n(7364);return r(A.default,{},void 0,r(A.default.Child,{basis:"50%"},void 0,r(G.default,{tag:x.Tags.H5,className:q.default.marginBottom8},void 0,T.default.Messages.FORM_LABEL_VIDEO_DEVICE),r(w.default,{value:i,clearable:!1,searchable:!1,disabled:f,onChange:this.handleVideoDeviceChange,options:C.default.map(a,function(e){return{value:e.id,label:e.name}}),valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),s),r(A.default.Child,{basis:"50%"},void 0,r(G.default,{tag:x.Tags.H5,className:q.default.marginBottom8},void 0,T.default.Messages.FORM_LABEL_VIDEO_PREVIEW),r("div",{className:z.default.previewContainer},void 0,r(p,{deviceId:i,disabled:!this.state.showCamera||f}),r(A.default,{className:(0,d.default)(z.default.previewOverlay,(e={},e[z.default.dismiss]=this.state.showCamera,e))},void 0,r(A.default,{className:(0,d.default)(z.default.previewOverlayInner,(t={},t[z.default.dismiss]=this.state.showCamera,t)),direction:A.default.Direction.VERTICAL,justify:A.default.Justify.CENTER,align:A.default.Align.CENTER},void 0,r("img",{className:q.default.marginBottom20,alt:"",src:h}),r(B.default,{onClick:this.handleShowCamera,disabled:f},void 0,T.default.Messages.TEST_VIDEO))))))},t.prototype.renderVideoWarnings=function(){return r(O.default,{type:I.Types.PRIMARY,title:T.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:T.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:r(B.default,{size:B.default.Sizes.SMALL,className:q.default.marginTop20,onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,T.default.Messages.DOWNLOAD_APP)})},t.prototype.renderCodec=function(){var e=void 0;return e=this.props.theme===W.ThemeTypes.LIGHT?n(7363):n(7362),r(O.default,{className:q.default.marginBottom40,type:b.Types.PRIMARY,imageData:{src:e,width:70,height:40},title:T.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE,body:T.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION})},t.prototype.renderVoiceProcessing=function(){if(!c.default.supports(f.Features.VOICE_PROCESSING))return null;var e=this.props,t=e.noiseSuppression,n=e.echoCancellation,o=e.automaticGainControl,a=e.inputDeviceId,i=y.default.hasEchoCancellation(a),l=y.default.hasNoiseSuppression(a),s=y.default.hasAutomaticGainControl(a),u=void 0;return(i||i||s)&&(u=r(P.default,{className:q.default.marginBottom20,type:P.default.Types.DESCRIPTION},void 0,T.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING)),r(N.default,{className:q.default.marginBottom40,title:T.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,u,r(F.default,{className:(0,d.default)(q.default.marginTop8,q.default.marginBottom20),value:n,onChange:this.handleEchoCancellationChange,disabled:i},void 0,T.default.Messages.ECHO_CANCELLATION),r(F.default,{value:t,onChange:this.handleNoiseSuppressionChange,disabled:l},void 0,T.default.Messages.NOISE_SUPPRESSION),r(F.default,{className:"",value:o,onChange:this.handleAutomaticGainControlChange,disabled:s},void 0,T.default.Messages.AUTOMATIC_GAIN_CONTROL))},t.prototype.renderQoS=function(){if(!c.default.supports(f.Features.QOS))return null;var e=this.props.qosEnabled;return r(N.default,{className:q.default.marginBottom40,title:T.default.Messages.FORM_LABEL_QOS},void 0,r(F.default,{className:"",value:e,onChange:this.handleQoSChanged,note:T.default.Messages.FORM_HELP_QOS},void 0,T.default.Messages.FORM_CHECKBOX_QOS))},t.prototype.renderAttenutation=function(){if(!c.default.supports(f.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,o=e.attenuateWhileSpeakingOthers;return r(N.default,{className:q.default.marginBottom40,title:T.default.Messages.FORM_LABEL_ATTENUATION},void 0,r(D.default,{defaultValue:t,onValueRender:this.handleOutputRender,onValueChange:this.handleAttenuationChange}),r(P.default,{className:q.default.marginBottom20,type:P.default.Types.DESCRIPTION},void 0,T.default.Messages.FORM_HELP_ATTENUATION),r(R.default,{lineOnly:!0,className:q.default.marginBottom20}),r(F.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,T.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),r(F.default,{className:"",value:o,onChange:this.handleAttenuateOthersChanged},void 0,T.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))},t.prototype.renderAudioSubsystem=function(){if(!c.default.supports(f.Features.LEGACY_AUDIO_SUBSYSTEM)&&!c.default.supports(f.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:f.AudioSubsystems.STANDARD,label:"Standard"}];c.default.supports(f.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:f.AudioSubsystems.LEGACY,label:"Legacy"}),c.default.supports(f.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:f.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props,n=t.audioSubsystem,o=t.disableAudioSubsystem;return r(A.default,{className:q.default.marginBottom20},void 0,r(A.default.Child,{},void 0,r(G.default,{tag:x.Tags.H5,className:q.default.marginBottom8},void 0,T.default.Messages.FORM_LABEL_SUBSYSTEM),r(w.default,{value:n,disabled:o,clearable:!1,searchable:!1,options:e,onChange:this.handleAudioSubsystemChanged})))},t.prototype.renderDiagnostics=function(){if(!S.default.embedded)return null;var e=this.props,t=e.silenceWarning,n=e.debugLogging,o=e.videoHook,a=void 0;c.default.supports(f.Features.DEBUG_LOGGING)&&(a=r(i.Fragment,{},void 0,r(R.default,{lineOnly:!0,className:q.default.marginBottom20}),r(F.default,{value:n,onChange:this.handleDebugLoggingChange,note:T.default.Messages.FORM_HELP_DEBUG_LOGGING},void 0,T.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING)));var l=void 0;return c.default.supports(f.Features.VIDEO_HOOK)&&(l=r(F.default,{value:o,onChange:this.handleVideoHookChange},void 0,T.default.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL)),r(N.default,{className:q.default.marginBottom40,title:T.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,r(F.default,{className:"",value:t,onChange:this.handleSilenceWarningChange},void 0,T.default.Messages.DISPLAY_SILENCE_WARNING),a,l)},t.prototype.renderResetVoiceSettings=function(){return r(M.default,{},void 0,r(B.default,{look:j.ButtonLooks.OUTLINED,color:j.ButtonColors.RED,onClick:this.handleVoiceReset,size:j.ButtonSizes.SMALL},void 0,T.default.Messages.RESET_VOICE_SETTINGS))},t.prototype.renderVideoSettings=function(){var e=c.default.supports(f.Features.VIDEO);return r("div",{},void 0,r(G.default,{tag:x.Tags.H2,className:q.default.marginBottom20},void 0,T.default.Messages.VIDEO_SETTINGS),e?this.renderVideoDevices():this.renderVideoWarnings(),r(R.default,{className:(0,d.default)(q.default.marginBottom40,q.default.marginTop40)}))},t.prototype.render=function(){return r(N.default,{className:z.default.userSettingsVoice,tag:x.Tags.H2,title:T.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),this.renderMicTest(),r(R.default,{className:(0,d.default)(q.default.marginTop8,q.default.marginBottom40)}),this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),r(R.default,{className:q.default.marginBottom40}),this.renderVideoSettings(),r(G.default,{tag:x.Tags.H2,className:q.default.marginBottom20},void 0,T.default.Messages.SETTINGS_ADVANCED),this.renderCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderDiagnostics(),this.renderResetVoiceSettings())},t}(i.PureComponent);ae.displayName="UserSettingsVoice",t.default=l.default.connectStores([h.default,c.default,y.default],function(){return{theme:h.default.theme,canSetInputDevice:c.default.supports(f.Features.AUDIO_INPUT_DEVICE),canSetOutputDevice:c.default.supports(f.Features.AUDIO_OUTPUT_DEVICE),inputVolume:c.default.getInputVolume(),outputVolume:c.default.getOutputVolume(),inputDeviceId:c.default.getInputDeviceId(),inputDevices:c.default.getInputDevices(),outputDevices:c.default.getOutputDevices(),outputDeviceId:c.default.getOutputDeviceId(),videoDevices:c.default.getVideoDevices(),videoDeviceId:c.default.getVideoDeviceId(),echoCancellation:c.default.getEchoCancellation(),loopback:c.default.getLoopback(),noiseSuppression:c.default.getNoiseSuppression(),automaticGainControl:c.default.getAutomaticGainControl(),inputMode:c.default.getMode(),shortcut:c.default.getModeOptions().shortcut,vadThreshold:c.default.getModeOptions().threshold,vadAutoThreshold:c.default.getModeOptions().autoThreshold,delay:c.default.getModeOptions().delay,usePTTLimited:!S.default.embedded,attenuation:c.default.getAttenuation(),attenuateWhileSpeakingSelf:c.default.getAttenuateWhileSpeakingSelf(),attenuateWhileSpeakingOthers:c.default.getAttenuateWhileSpeakingOthers(),silenceWarning:c.default.getEnableSilenceWarning(),debugLogging:c.default.getDebugLogging(),qosEnabled:c.default.getQoS(),audioSubsystem:c.default.getAudioSubsystem(),disableAudioSubsystem:c.default.getDisableAudioSubsystem(),certifiedDeviceRevision:y.default.getRevision(),videoHook:c.default.getVideoHook()}})(ae),e.exports=t.default},7372:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=M(n(1)),i=A(n(7)),l=A(n(9)),s=A(n(3)),u=n(532),d=A(n(6)),f=A(n(1002)),c=M(n(526)),p=n(511),h=A(n(71)),y=A(n(42)),m=A(n(966)),v=A(n(931)),E=A(n(926)),_=A(n(6057)),g=A(n(549)),S=A(n(517)),T=A(n(942)),C=A(n(28)),N=A(n(11)),b=n(0),O=A(n(5851)),I=A(n(510));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var R=a("i",{}),P=a(p.FormDivider,{}),L=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return i.default.bindAll(o,["handlePreviewSound","handleSoundChange","handleToggleShowUnreadBadge","handleToggleShowFlash","renderSounds","renderTTS","handleAFKTimeoutChange"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handlePreviewSound=function(e,t){t.stopPropagation(),null!=this._currentPlayingSound&&this._currentPlayingSound.stop(),this._currentPlayingSound=c.playSound(e)},t.prototype.handleSoundChange=function(e,t){var n=this.props.disabledSounds.filter(function(t){return t!==e});t.currentTarget.checked||n.push(e),g.default.setDisabledSounds(n)},t.prototype.handleDesktopChange=function(e){var t=e.currentTarget.checked?b.DesktopNotificationTypes.ALL:b.DesktopNotificationTypes.NEVER;t!==b.DesktopNotificationTypes.NEVER?g.default.requestPermission("UserSettingsModal"):g.default.setDesktopType(t)},t.prototype.handleTTSChange=function(e){var t=e.value;g.default.setTTSType(t)},t.prototype.handleAFKTimeoutChange=function(e){var t=e.value;S.default.updateRemoteSettings({afkTimeout:t})},t.prototype.handleToggleShowUnreadBadge=function(){g.default.setDisableUnreadBadge(!this.props.disableUnreadBadge)},t.prototype.handleToggleShowFlash=function(){g.default.setTaskbarFlash(!this.props.taskbarFlash)},t.prototype.renderSounds=function(){var e=this,t=[{label:d.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:d.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:d.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:d.default.Messages.MUTE,sound:"mute"},{label:d.default.Messages.UNMUTE,sound:"unmute"},{label:d.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:d.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:d.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:d.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:d.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:d.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:d.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:d.default.Messages.SOUND_INCOMING_RING,sound:"call_ringing"}].map(function(t){var n=t.label,o=t.sound;return a(u.SmartUID,{},o,function(t){return a(y.default,{className:O.default.notificationsSound,justify:y.default.Justify.BETWEEN,align:y.default.Align.CENTER,onClick:e.handlePreviewSound.bind(e,o)},void 0,a(y.default,{className:O.default.notificationsSoundLabel,grow:0},void 0,a(y.default.Child,{className:O.default.notificationsSoundIcon},void 0,R),a(y.default.Child,{},void 0,a(h.default,{tag:"label",htmlFor:t,className:O.default.sound,size:h.default.Sizes.MEDIUM},void 0,n))),a(y.default.Child,{wrap:!0,grow:0},void 0,a(m.default,{id:t,value:-1===e.props.disabledSounds.indexOf(o),onChange:e.handleSoundChange.bind(e,o)})))})});return a(p.FormSection,{title:d.default.Messages.SOUNDS},void 0,t)},t.prototype.renderTTS=function(){if(!f.default.supported)return null;var e=[{name:d.default.Messages.TTS_ALLS,value:b.TTSNotificationTypes.ALL_CHANNELS},{name:d.default.Messages.TTS_CURRENT,value:b.TTSNotificationTypes.SELECTED_CHANNEL},{name:d.default.Messages.TTS_NEVER,value:b.TTSNotificationTypes.NEVER}];return a(p.FormItem,{title:d.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,a(p.FormText,{type:p.FormTextTypes.DESCRIPTION,className:I.default.marginBottom8},void 0,d.default.Messages.FORM_DESCRIPTION_TTS),a(_.default,{options:e,onChange:this.handleTTSChange,value:this.props.ttsType}))},t.prototype.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,o=e.disableUnreadBadge,r=e.taskbarFlash,s=N.default.embedded&&N.default.isWindows(),u=i.default.range(1,11).map(function(e){return{value:60*e,label:d.default.Messages.DURATION_MINUTES.format({minutes:e})}});return a(p.FormSection,{tag:p.FormTitleTags.H2,title:d.default.Messages.NOTIFICATIONS},void 0,a(E.default,{className:I.default.marginBottom20,value:t!==b.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:d.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,d.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),a(E.default,{className:s?I.default.marginBottom20:I.default.marginBottom40,value:!o,note:d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge},void 0,d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),s?a(E.default,{className:I.default.marginBottom40,value:r,note:d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,d.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,a(p.FormItem,{title:d.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,a(v.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleAFKTimeoutChange,options:u}),a(p.FormText,{type:p.FormTextTypes.DESCRIPTION,className:I.default.marginTop8},void 0,d.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),a(p.FormDivider,{className:(0,l.default)(I.default.marginTop40,I.default.marginBottom40)})),this.renderTTS(),a(p.FormDivider,{className:(0,l.default)(I.default.marginTop40,I.default.marginBottom40)}),a(p.FormItem,{},void 0,this.renderSounds()),P)},t}(r.PureComponent);L.displayName="UserSettingsNotifications",t.default=s.default.connectStores([T.default,C.default],function(){return{disableUnreadBadge:T.default.getDisableUnreadBadge(),taskbarFlash:T.default.taskbarFlash,disabledSounds:T.default.getDisabledSounds(),desktopType:T.default.getDesktopType(),ttsType:T.default.getTTSType(),afkTimeout:C.default.afkTimeout}})(L),e.exports=t.default},7373:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(6))),i=s(n(94)),l=s(n(5854));function s(e){return e&&e.__esModule?e:{default:e}}var u=Math.ceil(2*Math.PI*20);var d=function(e){var t=e.total,n=e.used,o=Math.max(0,Math.min(1,n/t)),s=Math.floor(100*o)+"%";return a(i.default,{text:r.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:s})},void 0,a("div",{className:l.default.wrapper,role:"progressbar","aria-label":r.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:s})},void 0,a("svg",{viewBox:"25 25 50 50",className:l.default.svg,"aria-hidden":!0},void 0,a("circle",{className:l.default.background,cx:"50",cy:"50",r:20}),a("circle",{className:l.default.foreground,cx:"50",cy:"50",r:20,stroke:function(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}(o),strokeDasharray:function(e){return Math.floor(u*e)+", "+u}(o)})),a("aside",{className:l.default.usageInfo,"aria-hidden":!0},void 0,s)))};d.displayName="DiskSpaceCircle",t.default=d,e.exports=t.default},7374:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=n(393),u=O(n(11)),d=O(n(201)),f=O(n(35)),c=n(1234),p=O(n(166)),h=O(n(71)),y=O(n(42)),m=O(n(513)),v=O(n(7373)),E=O(n(6678)),_=O(n(45)),g=O(n(932)),S=O(n(925)),T=n(511),C=O(n(6)),N=O(n(5853)),b=O(n(510));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(e){function t(){var n,o;I(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=A(this,e.call.apply(e,[this].concat(s))),o.state={label:null,isDefault:null},o.handleStartEditing=function(){var e=o.props,t=e.path,n=e.label,a=e.isDefault;(0,e.onToggleEditing)(t),o.setState({label:n,isDefault:a})},o.handleStopEditing=function(){(0,o.props.onToggleEditing)(null),o.setState({label:null,isDefault:null})},o.handleRemoveLocation=function(){f.default.push(function(e){return i.createElement(p.default,a({},e,{header:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:C.default.Messages.CANCEL,onConfirm:function(){o.handleStopEditing(),(0,c.removeInstallLocation)(o.props.path)}}),r(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,C.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))})},o.handleSaveChanges=function(){(0,c.updateInstallLocation)(o.props.path,{label:null!=o.state.label?o.state.label:o.props.label,isDefault:null!=o.state.isDefault?o.state.isDefault:o.props.isDefault}),o.handleStopEditing()},o.handleLabelChange=function(e){o.setState({label:e})},o.handleToggleDefault=function(){o.setState({isDefault:!o.state.isDefault})},A(o,n)}return M(t,e),t.prototype.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?r(v.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null},t.prototype.renderViewing=function(){var e=this.props,t=e.path,n=e.label,o=e.editingPath,a=e.isDefault,i=e.metadata,l=void 0,u=void 0;return null!=i&&(l=null!=i.availableKB?(0,s.formatSize)(i.availableKB,{useKibibytes:!0}):null,u=null!=i.totalKB?(0,s.formatSize)(i.totalKB,{useKibibytes:!0}):null),r(y.default,{className:N.default.installationPath,align:y.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),r(y.default,{direction:y.default.Direction.VERTICAL,className:N.default.descriptionWrapper},void 0,r(y.default,{align:y.default.Align.CENTER},void 0,r(h.default,{className:N.default.rowTitle,size:h.default.Sizes.MEDIUM},void 0,null!=n?n:d.default.getLabelFromPath(t)),a?r("span",{className:N.default.defaultIndicator},void 0,C.default.Messages.DEFAULT):null),null!=i&&null!=l&&null!=u?r(E.default,{className:N.default.rowBody,hoverText:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:l,total:u})},void 0,t):r(h.default,{className:N.default.rowBody,size:h.default.Sizes.SMALL},void 0,t)),r(_.default,{size:_.default.Sizes.SMALL,disabled:null!=o,color:_.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,C.default.Messages.EDIT))},t.prototype.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,o=this.state,a=o.label,i=o.isDefault;return r(m.default,{editable:!0,className:N.default.installationPathEditing},void 0,r(y.default,{},void 0,this.renderDiskUsageCircle(),r(y.default.Child,{},void 0,r(T.FormItem,{title:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,r(S.default,{value:a,placeholder:d.default.getLabelFromPath(t),onChange:this.handleLabelChange})),r(T.FormItem,{title:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:b.default.marginTop20},void 0,r(S.default,{disabled:!0,value:t})),r(g.default,{type:g.default.Types.INVERTED,value:null!=i?i:this.props.isDefault,disabled:this.props.isDefault,className:N.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),r("hr",{className:N.default.separator}),r(y.default,{},void 0,r(_.default,{disabled:n||this.props.isDefault,size:_.default.Sizes.SMALL,color:_.default.Colors.RED,look:_.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),r(y.default,{justify:y.default.Justify.END},void 0,r(_.default,{size:_.default.Sizes.SMALL,color:_.default.Colors.PRIMARY,look:_.default.Looks.LINK,onClick:this.handleStopEditing},void 0,C.default.Messages.CANCEL),r(_.default,{disabled:t===this.props.path&&a===this.props.label&&i===this.props.isDefault,size:_.default.Sizes.SMALL,color:_.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,C.default.Messages.SAVE))))))},t.prototype.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()},t}(i.PureComponent);R.displayName="PathItem";var P=function(e){function t(){var n,o;I(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=A(this,e.call.apply(e,[this].concat(r))),o.state={editingPath:null},o.handleAddInstallationLocation=function(){u.default.showOpenDialog(["openDirectory"]).then(function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,c.addInstallLocation)(e[0])})},o.handleToggleEditing=function(e){o.setState({editingPath:e})},A(o,n)}return M(t,e),t.prototype.componentDidMount=function(){(0,c.fetchMetadata)(this.props.installationPaths.map(function(e){return e.path}))},t.prototype.render=function(){var e=this,t=this.props,n=t.installationPaths,o=t.installationPathsMetadata,a=t.defaultInstallationPath,i=this.state.editingPath;return r(T.FormSection,{className:N.default.wrapper,title:C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map(function(t){var n=t.path,l=t.label;return r(R,{path:n,label:l,metadata:o[n],isDefault:a===n,editingPath:i,hasGamesInstalledInPath:d.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)}),r("div",{className:N.default.buttonRowWrapper},void 0,r(_.default,{disabled:!u.default.embedded,onClick:this.handleAddInstallationLocation,size:_.default.Sizes.SMALL},void 0,C.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))},t}(i.PureComponent);P.displayName="GameInstallLocations",t.default=l.default.connectStores([d.default],function(){return{installationPaths:d.default.installationPaths,installationPathsMetadata:d.default.installationPathsMetadata,defaultInstallationPath:d.default.defaultInstallationPath}})(P),e.exports=t.default},7375:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=I(n(1)),l=O(n(3)),s=O(n(11)),u=O(n(17)),d=I(n(152)),f=O(n(28)),c=O(n(963)),p=O(n(517)),h=I(n(135)),y=I(n(291)),m=O(n(926)),v=O(n(81)),E=O(n(75)),_=O(n(42)),g=n(511),S=O(n(7374)),T=n(124),C=(O(T),O(n(6))),N=n(0),b=O(n(5852));function O(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var o=t.map(function(e){var t=e.libraryApplication.getDistributor();return r("div",{className:b.default.hiddenLibraryApplication},e.key,r(_.default,{direction:_.default.Direction.VERTICAL,className:b.default.hiddenLibraryApplicationContent},void 0,r("div",{className:b.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?r("div",{className:b.default.applicationSubText},void 0,N.DistributorNames[t]):null),r(v.default,{className:b.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,r(E.default,{name:E.default.Names.CLOSE,className:b.default.restoreIcon})))});return r(g.FormSection,{className:b.default.hiddenLibraryApplications},void 0,r(g.FormTitle,{className:b.default.hiddenLibraryApplicationsTitle},void 0,C.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),o)}M.displayName="HiddenLibraryApplications";var R=r(S.default,{}),P=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=A(this,e.call.apply(e,[this].concat(r))),o.handleRestoreHiddenLibraryApplication=function(e){var t=d.toggleFlag(e.getFlags(),N.LibraryApplicationFlags.HIDDEN);e instanceof T.LocalApplicationRecord?y.updateFlags(e.id,t):h.updateFlags(e.id,e.branchId,t),o.trackRestoreApplication(e,d.hasFlag(t,N.LibraryApplicationFlags.HIDDEN))},A(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleToggleImportGames=function(e){var t=e.currentTarget.checked;p.default.updateLocalSettings({importGamesEnabled:t}),u.default.track(N.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:t})},t.prototype.handleToggleShortcutDesktop=function(e){var t=e.currentTarget.checked;p.default.updateLocalSettings({installShortcutDesktop:t})},t.prototype.handleToggleShortcutStartMenu=function(e){var t=e.currentTarget.checked;p.default.updateLocalSettings({installShortcutStartMenu:t})},t.prototype.trackRestoreApplication=function(e,t){u.default.track(N.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,a({hidden_enabled:t},e.getAnalyticsData()))},t.prototype.render=function(){var e=this.props,t=e.importGamesEnabled,n=e.hiddenLibraryApplicationViewItems,o=e.installShortcutDesktop,a=e.installShortcutStartMenu,l=s.default.isWindows();return r(i.Fragment,{},void 0,r(g.FormSection,{tag:g.FormTitleTags.H2,title:C.default.Messages.USER_SETTINGS_GAME_LIBRARY},void 0,l?r(i.Fragment,{},void 0,r(m.default,{value:!0===t,onChange:this.handleToggleImportGames,note:C.default.Messages.SETTINGS_GAMES_IMPORT_EXPLANATION},void 0,C.default.Messages.SETTINGS_GAMES_IMPORT_LABEL),r(m.default,{value:o,onChange:this.handleToggleShortcutDesktop,note:C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),r(m.default,{value:a,onChange:this.handleToggleShortcutStartMenu,note:C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,C.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),R):null,r(M,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:n})))},t}(i.PureComponent);P.displayName="UserSettingsGameLibrary",t.default=l.default.connectStores([f.default,c.default],function(){return{importGamesEnabled:f.default.importGamesEnabled,hiddenLibraryApplicationViewItems:c.default.hiddenLibraryApplicationViewItems,installShortcutDesktop:f.default.installShortcutDesktop,installShortcutStartMenu:f.default.installShortcutStartMenu}})(P),e.exports=t.default},7376:function(e,t,n){e.exports=n.p+"bb8e02d970950bdadb649d765f3b8488.svg"},7377:function(e,t,n){e.exports=n.p+"d01c53acda73318e5b39676ef8242eb7.svg"},7378:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=L(n(3)),l=L(n(9)),s=L(n(11)),u=L(n(28)),d=L(n(57)),f=L(n(121)),c=L(n(517)),p=L(n(225)),h=L(n(81)),y=L(n(926)),m=L(n(931)),v=L(n(75)),E=n(45),_=L(E),g=n(511),S=L(n(6678)),T=n(6056),C=L(T),N=L(n(94)),b=L(n(6)),O=L(n(5855)),I=L(n(5568)),A=L(n(5569)),M=L(n(5567)),R=L(n(510)),P=L(n(374));function L(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=i.default.connectStores([u.default],function(){return{theme:u.default.theme}})(C.default),F=s.default.isWindows(),x=function(e){function t(){var n,o;w(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=D(this,e.call.apply(e,[this].concat(r))),o.state={selectedValue:null},o.handleGameChange=function(e){o.setState({selectedValue:e})},o.handleAdd=function(){var e=o.state.selectedValue;null!=e&&(f.default.addGame(e.value),(0,o.props.onClose)())},o.handleClose=function(){(0,o.props.onClose)()},D(o,n)}return U(t,e),t.prototype.render=function(){var e=this.props.candidates,t=this.state.selectedValue,n=e.map(function(e){return{value:e.pid,label:e.name}});return a("div",{className:(0,l.default)(O.default.addGamePopout,A.default.elevationBorderHigh)},void 0,a(m.default,{clearable:!1,options:n,onChange:this.handleGameChange,value:t}),a(g.FormDivider,{className:(0,l.default)(R.default.marginTop8,R.default.marginBottom8)}),a("div",{className:(0,l.default)(O.default.actions,P.default.horizontal)},void 0,a(_.default,{className:O.default.cancelButton,look:E.ButtonLooks.LINK,color:E.ButtonColors.GREY,onClick:this.handleClose},void 0,b.default.Messages.CANCEL),a(_.default,{disabled:null==t,onClick:this.handleAdd},void 0,b.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))},t}(r.PureComponent);x.displayName="AddGamePopout";var G=i.default.connectStores([d.default],function(){return{candidates:d.default.getCandidateGames()}})(x),j=function(e){function t(){var n,o;w(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=D(this,e.call.apply(e,[this].concat(r))),o.state={editingName:null!=o.props.game&&o.props.game.name||""},o.handleRemoveClick=function(){var e=o.props.game;null!=e&&f.default.deleteEntry(e)},o.handleNameEdit=function(){var e=o.props.game,t=o.state.editingName;null!=e&&e.name!==t&&f.default.editName(e,t)},o.handleNameChange=function(e){o.setState({editingName:e.target.value})},o.handleOverlayToggle=function(){var e=o.props.game;null!=e&&f.default.toggleOverlay(e)},D(o,n)}return U(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.nowPlaying&&e.game&&e.game.name!==this.state.editingName&&this.setState({editingName:e.game.name})},t.prototype.renderName=function(){var e=this.props.game;return null==e?a("div",{className:O.default.gameName},void 0,b.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):e.verified?a("div",{className:P.default.horizontal},void 0,a("div",{className:O.default.gameName},void 0,e.name),a(N.default,{text:b.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,a("i",{className:O.default.gameVerifiedIcon}))):a("input",{className:(0,l.default)(O.default.gameName,O.default.gameNameInput),type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})},t.prototype.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return a("div",{className:O.default.lastPlayed},void 0,b.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var o=t.played,r=t.exePath,i=void 0;return n?i=b.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:o&&(i=b.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:o})),a("div",{className:O.default.lastPlayed},void 0,a(S.default,{hoverText:r?r.toUpperCase():""},void 0,i))},t.prototype.renderOverlayToggle=function(){var e=this.props.game;if(!F||null==e)return null;var t=e.overlay,n=e.overlayWarn,o=t?b.default.Messages.SETTINGS_GAMES_OVERLAY_ON:b.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,r=a(v.default,t?{name:v.default.Names.OVERLAY_ON,className:O.default.overlayToggleIconOn,foreground:O.default.fill}:{name:v.default.Names.OVERLAY_OFF,className:O.default.overlayToggleIconOff,foreground:O.default.fill}),i=n?a(N.default,{text:b.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,a("i",{className:O.default.overlayWarningIcon})):null;return a("div",{className:(0,l.default)(P.default.flexCenter,P.default.noWrap,P.default.justifyBetween)},void 0,i,a("div",{className:O.default.overlayStatusText},void 0,o),a(N.default,{text:b.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,a(h.default,{className:O.default.overlayToggleIcon,onClick:this.handleOverlayToggle},void 0,r)))},t.prototype.renderRemove=function(){return a(h.default,{className:(0,l.default)(M.default.button,O.default.removeGame),onClick:this.handleRemoveClick},void 0,b.default.Messages.REMOVE_KEYBIND)},t.prototype.render=function(){var e,t=this.props,n=t.nowPlaying,o=null!=t.game,r=(0,l.default)(P.default.flexCenter,((e={})[O.default.game]=!n,e[I.default.card]=!n,e[O.default.nowPlaying]=o&&n,e[O.default.notDetected]=!o&&n,e));return a("div",{className:r},void 0,a("div",{className:(0,l.default)(O.default.gameNameLastPlayed,P.default.vertical)},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),!n&&o?this.renderRemove():null)},t.prototype.handleEnterKey=function(e){13===e.keyCode&&(e.target.blur(),e.preventDefault())},t}(r.PureComponent);j.defaultProps={nowPlaying:!1},j.displayName="Game";var B=function(e){function t(){return w(this,t),D(this,e.apply(this,arguments))}return U(t,e),t.prototype.componentDidMount=function(){d.default.watchCandidateGames(!0)},t.prototype.componentWillUnmount=function(){d.default.watchCandidateGames(!1)},t.prototype.handleToggleShowCurrentGame=function(e){c.default.updateRemoteSettings({showCurrentGame:e.currentTarget.checked})},t.prototype.renderPopout=function(e){return r.createElement(G,e)},t.prototype.renderGameList=function(){var e=this.props.gameHistory;return e.length?a(g.FormSection,{className:R.default.marginTop40},void 0,a(g.FormTitle,{className:R.default.marginBottom4},void 0,b.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),e.map(function(e){return a(j,{game:e},e.exePath)})):a(k,{className:R.default.marginTop40},void 0,a(T.EmptyStateImage,{darkSrc:n(7377),lightSrc:n(7376),width:430,height:250}),a(T.EmptyStateText,{},void 0,b.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER))},t.prototype.render=function(){var e=this.props,t=e.runningGame,n=e.showCurrentGame;return a(r.Fragment,{},void 0,a(g.FormSection,{tag:g.FormTitle.Tags.H2,title:b.default.Messages.USER_SETTINGS_GAME_ACTIVITY},void 0,a(j,{game:t,nowPlaying:!0}),a("div",{className:(0,l.default)(O.default.nowPlayingAdd,R.default.marginReset,R.default.marginTop8,R.default.marginBottom20)},void 0,a("span",{},void 0,b.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),a(p.default,{closeOnScroll:!1,render:this.renderPopout,shadow:!1,position:p.default.Positions.BOTTOM},void 0,a(_.default,{look:E.ButtonLooks.LINK,size:E.ButtonSizes.MIN,color:E.ButtonColors.LINK},void 0,b.default.Messages.SETTINGS_GAMES_ADD_GAME))),a(y.default,{value:n,onChange:this.handleToggleShowCurrentGame},void 0,b.default.Messages.SHOW_CURRENT_GAME),this.renderGameList()))},t}(r.PureComponent);B.displayName="UserSettingsGameActivity",t.default=i.default.connectStores([u.default,d.default],function(){return{showCurrentGame:u.default.showCurrentGame,gameHistory:d.default.getGamesSeen(!0),runningGame:d.default.getSettingsGame()}})(B),e.exports=t.default},7379:function(e,t,n){e.exports=n.p+"1a7544e1a27a25e87075c01e3fa130e3.png"},7380:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=n(511),s=c(n(42)),u=c(n(932)),d=n(0),f=c(n(5857));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){var n,o;p(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=h(this,e.call.apply(e,[this].concat(r))),o.handleClick=function(){return o.props.onClick(o.props.option)},h(o,n)}return y(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isChecked,o=t.option;return a(s.default,{className:(0,i.default)(f.default.item,(e={},e[f.default.selected]=n,e)),justify:s.default.Justify.BETWEEN,align:s.default.Align.CENTER,onClick:this.handleClick},void 0,a(s.default,{grow:0,className:f.default.label,justify:s.default.Justify.START},void 0,a(s.default.Child,{},void 0,a(u.default,{readOnly:!0,value:n,shape:u.default.Shapes.ROUND,color:d.Colors.STATUS_GREEN,type:u.default.Types.INVERTED,className:f.default.checkbox})),a(s.default.Child,{className:f.default.marginReset},void 0,a(l.FormTitle,{className:f.default.labelText,tag:l.FormTitleTags.H3},void 0,o.name))),a(s.default,{grow:0},void 0,a(s.default.Child,{className:f.default.marginReset},void 0,a(l.FormText,{type:l.FormText.Types.DESCRIPTION},void 0,o.localizedName)),o.image?a(s.default.Child,{},void 0,a("img",{alt:"",src:o.image,className:f.default.image})):null))},t}(r.PureComponent);m.displayName="RadioItem";var v=function(e){function t(){var n,o;p(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=h(this,e.call.apply(e,[this].concat(i))),o.renderRadio=function(e,t){var n=o.props.value===e.value;return a(m,{isChecked:n,option:e,onClick:o.props.onChange},t)},h(o,n)}return y(t,e),t.prototype.render=function(){return a("div",{},void 0,this.props.options.map(this.renderRadio))},t}(r.PureComponent);v.defaultProps={options:[],onChange:d.NOOP,value:null},v.displayName="RadioList",t.default=v,e.exports=t.default},7381:function(e,t,n){"use strict";(function(o){t.__esModule=!0;var a,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=y(n(3)),u=n(511),d=y(n(7380)),f=y(n(517)),c=y(n(28)),p=y(n(6)),h=y(n(510));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,a));return r.handleLocaleChange=function(e){var t=e.value;r.setState({currentLocale:t},function(){return o.nextTick(function(){return f.default.updateRemoteSettings({locale:t})})})},r.state={currentLocale:a.currentLocale,locales:p.default.getAvailableLocales().map(function(e){var t=void 0;try{t=n(6433)("./"+e.value+".png")}catch(e){t=n(7379)}return i({},e,{image:t})})},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.currentLocale,n=e.locales;return r(u.FormSection,{tag:u.FormTitleTags.H2,title:p.default.Messages.LANGUAGE},void 0,r(u.FormSection,{},void 0,r(u.FormTitle,{className:h.default.marginReset},void 0,p.default.Messages.LANGUAGE_SELECT),r(d.default,{options:n,value:t,onChange:this.handleLocaleChange})))},t}(l.Component);m.displayName="UserSettingsLocale",t.default=s.default.connectStores([c.default],function(){return{currentLocale:c.default.locale}})(m),e.exports=t.default}).call(this,n(67))},7382:function(e,t,n){e.exports=n.p+"68b37187aee175514a1402d4088cf90b.svg"},7383:function(e,t,n){e.exports=n.p+"b47564b3086d0d8d941aae95a4b7b78c.svg"},7384:function(e,t,n){"use strict";(function(o){t.__esModule=!0;var a=c(n(3)),r=c(n(2)),i=(n(0),c(n(18))),l=c(n(170)),s=c(n(148)),u=c(n(7)),d=c(n(274)),f=c(n(149));function c(e){return e&&e.__esModule?e:{default:e}}var p=864e5,h=null;function y(){var e=Date.now()-p;(0,u.default)(i.default.getManagedChannels()).filter(function(t){return f.default.extractTimestamp(t.id)<e}).forEach(function(e){return s.default.closePrivateChannel(e.id)})}setInterval(function(){return y()},36e5);var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,l.default,d.default)},t.prototype.getApps=function(){return h},t}(a.default.Store);t.default=new m(r.default,{CONNECTION_OPEN:function(e){return o(y),!1},USER_AUTHORIZED_APPS_UPDATE:function(e){h=e.apps}}),e.exports=t.default}).call(this,n(36).setImmediate)},7385:function(e,t,n){"use strict";t.__esModule=!0;var o=i(n(2)),a=n(0),r=i(n(12));function i(e){return e&&e.__esModule?e:{default:e}}t.default={fetch:function(){r.default.get(a.Endpoints.OAUTH2_TOKENS).then(function(e){return o.default.dispatch({type:a.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:e.body})},function(){return o.default.dispatch({type:a.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:[]})})},delete:function(e){var t=this;r.default.delete(a.Endpoints.OAUTH2_TOKEN(e)).then(function(){t.fetch()})}},e.exports=t.default},7386:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=P(n(7)),s=P(n(3)),u=P(n(9)),d=P(n(381)),f=P(n(6)),c=P(n(28)),p=n(511),h=P(n(42)),y=n(513),m=P(y),v=n(45),E=P(v),_=n(6056),g=P(_),S=P(n(144)),T=P(n(88)),C=P(n(6075)),N=P(n(35)),b=P(n(7385)),O=P(n(7384)),I=P(n(132)),A=n(0),M=P(n(5858)),R=P(n(510));function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=s.default.connectStores([c.default],function(){return{theme:c.default.theme}})(g.default),k=function(e){function t(){var n,o;L(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return n=o=w(this,e.call.apply(e,[this].concat(s))),o.renderPermissions=function(){var e=o.props.scopes.map(function(e){var t=void 0;switch(e){case A.OAuth2Scopes.IDENTIFY:t=f.default.Messages.SCOPE_IDENTIFY;break;case A.OAuth2Scopes.EMAIL:t=f.default.Messages.SCOPE_EMAIL;break;case A.OAuth2Scopes.CONNECTIONS:t=f.default.Messages.SCOPE_CONNECTIONS;break;case A.OAuth2Scopes.GUILDS:t=f.default.Messages.SCOPE_GUILDS;break;case A.OAuth2Scopes.GUILDS_JOIN:t=f.default.Messages.SCOPE_GUILDS_JOIN;break;case A.OAuth2Scopes.GDM_JOIN:t=f.default.Messages.SCOPE_GDM_JOIN;break;case A.OAuth2Scopes.BOT:t=f.default.Messages.SCOPE_BOT;break;case A.OAuth2Scopes.RPC:t=f.default.Messages.SCOPE_RPC;break;case A.OAuth2Scopes.RPC_API:t=f.default.Messages.SCOPE_RPC_API;break;case A.OAuth2Scopes.RPC_NOTIFICATIONS_READ:t=f.default.Messages.SCOPE_RPC_NOTIFICATIONS_READ;break;case A.OAuth2Scopes.MESSAGES_READ:t=f.default.Messages.SCOPE_MESSAGES_READ;break;case A.OAuth2Scopes.APPLICATIONS_BUILDS_UPLOAD:t=f.default.Messages.SCOPE_APPLICATIONS_BUILDS_UPLOAD;break;case A.OAuth2Scopes.APPLICATIONS_BUILDS_READ:t=f.default.Messages.SCOPE_APPLICATIONS_BUILDS_READ;break;case A.OAuth2Scopes.APPLICATIONS_STORE_UPDATE:t=f.default.Messages.SCOPE_APPLICATIONS_STORE_UPDATE;break;case A.OAuth2Scopes.APPLICATIONS_ENTITLEMENTS:t=f.default.Messages.SCOPE_APPLICATIONS_ENTITLEMENTS;break;default:t=e}return r("li",{className:(0,u.default)(M.default.permission,R.default.marginTop8)},e,r("i",{className:M.default.permissionCheckmark}),r(p.FormText,{},void 0,t))});if(e.length)return r(p.FormItem,{faded:!0,title:f.default.Messages.PERMISSIONS,className:R.default.marginTop20},void 0,r("ul",{},void 0,e))},o.renderHeader=function(){var e=o.props.application,t=T.default.getApplicationIconURL({id:e.id,icon:e.icon}),n=t?r(h.default.Child,{className:M.default.appAvatar,grow:0},void 0,r("img",{src:t,alt:""})):null;return r(h.default,{className:(0,u.default)(M.default.header,R.default.marginBottom20)},void 0,r(h.default,{className:M.default.headerInfo},void 0,n,r(h.default.Child,{},void 0,r(p.FormText,{type:p.FormTextTypes.LABEL_BOLD},void 0,r("span",{},void 0,e.name)))),r(h.default.Child,{wrap:!0,grow:0},void 0,r(E.default,{className:M.default.deleteApp,color:v.ButtonColors.RED,look:v.ButtonLooks.OUTLINED,size:v.ButtonSizes.SMALL,onClick:o.handleDeleteApp},void 0,f.default.Messages.DEAUTHORIZE)))},o.handleDeleteApp=function(){N.default.push(function(e){return i.createElement(d.default,a({title:f.default.Messages.DEAUTHORIZE_APP,body:f.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:f.default.Messages.DEAUTHORIZE,cancelText:f.default.Messages.CANCEL,onConfirm:o.props.onDelete},e))})},w(o,n)}return D(t,e),t.prototype.renderDescription=function(){var e=this.props.application;if(e.description)return r(p.FormItem,{faded:!0,title:f.default.Messages.ABOUT_THIS_APP},void 0,r(p.FormText,{},void 0,e.description))},t.prototype.render=function(){return r(m.default,{className:(0,u.default)(M.default.authedApp,R.default.marginBottom8),outline:!0},void 0,this.renderHeader(),this.renderDescription(),this.renderPermissions())},t}(i.PureComponent);k.displayName="AuthorizedApp";var F=r(C.default,{}),x=function(e){function t(n){L(this,t);var o=w(this,e.call(this,n));return l.default.bindAll(o,["handleDelete"]),o}return D(t,e),t.prototype.componentDidMount=function(){b.default.fetch()},t.prototype.handleDelete=function(e){var t=e.id;b.default.delete(t)},t.prototype.renderEmpty=function(){return r(U,{className:M.default.marginTop20},void 0,r(_.EmptyStateImage,{darkSrc:n(7383),lightSrc:n(7382),width:380,height:282}),r(_.EmptyStateText,{note:f.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,f.default.Messages.NO_AUTHORIZED_APPS))},t.prototype.renderContent=function(){var e=this,t=this.props.applications;return t?0===t.length?this.renderEmpty():t.filter(function(e){return!e.scopes.includes(A.OAuth2Scopes.RPC)}).map(function(t){return i.createElement(k,a({key:t.id,onDelete:e.handleDelete.bind(e,t)},t))}):r(S.default,{className:R.default.marginTop20,type:S.default.Type.SPINNING_CIRCLE})},t.prototype.render=function(){return this.props.hide?F:r(p.FormSection,{tag:p.FormTitleTags.H2,title:f.default.Messages.AUTHORIZED_APPS},void 0,r(p.FormNotice,{className:R.default.marginBottom40,type:y.Types.PRIMARY,title:f.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:f.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),this.renderContent())},t}(i.PureComponent);x.displayName="UserSettingsAuthedApps",t.default=s.default.connectStores([O.default,I.default],function(){return{hide:I.default.hidePersonalInformation,applications:O.default.getApps()}})(x),e.exports=t.default},7387:function(e,t,n){e.exports=n.p+"616e078b351d0df460971441949c53a3.svg"},7388:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=g(n(9)),s=g(n(3)),u=g(n(6)),d=g(n(11)),f=n(511),c=g(n(926)),p=g(n(28)),h=g(n(132)),y=g(n(6207)),m=g(n(370)),v=n(0),E=g(n(5859)),_=g(n(510));function g(e){return e&&e.__esModule?e:{default:e}}var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderNotice=function(){return r(f.FormNotice,{className:_.default.marginBottom40,iconClassName:E.default.noticeIcon,type:f.FormNoticeTypes.PRIMARY,imageData:{src:n(7387),width:184,height:110,position:f.FormNoticeImagePositions.RIGHT},title:u.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:u.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:"https://discordapp.com/streamkit"})})},t.prototype.renderAutoToggle=function(){if(d.default.embedded)return r(c.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:u.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,u.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)},t.prototype.render=function(){return r(f.FormSection,{className:E.default.container,tag:f.FormTitleTags.H2,title:u.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),r(c.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),note:u.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,u.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),r(f.FormTitle,{className:(0,l.default)(_.default.marginTop40,_.default.marginBottom8)},void 0,u.default.Messages.OPTIONS),r(c.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:u.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION},void 0,u.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),r(c.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:u.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION},void 0,u.default.Messages.HIDE_INSTANT_INVITES_LABEL),r(c.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:u.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,u.default.Messages.DISABLE_SOUNDS_LABEL),r(c.default,{value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:u.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,u.default.Messages.DISABLE_NOTIFICATIONS_LABEL))},t.prototype.handleChange=function(e,t){var n;y.default.update(((n={})[e]=t.currentTarget.checked,n))},t.prototype.handleGotoKeybinds=function(){m.default.setSection(v.UserSettingsSections.KEYBINDS)},t}(i.PureComponent);S.displayName="UserSettingsModalStreamerMode",t.default=s.default.connectStores([p.default,h.default],function(){return a({},h.default.getSettings(),{theme:p.default.theme})})(S),e.exports=t.default},7389:function(e,t,n){e.exports=n.p+"21b610d45d1f2175431413ad53258aa6.svg"},7390:function(e,t,n){e.exports=n.p+"f3bb89a27e9d102f748da035cd7e5df7.svg"},7392:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=k(n(1)),s=U(n(7)),u=U(n(9)),d=U(n(3)),f=U(n(6106)),c=U(n(533)),p=U(n(6)),h=U(n(28)),y=n(511),m=U(n(42)),v=U(n(81)),E=U(n(931)),_=n(45),g=U(_),S=n(6056),T=U(S),C=U(n(6191)),N=n(266),b=U(N),O=U(n(6679)),I=n(0),A=U(n(6066)),M=k(n(280)),R=U(n(5568)),P=U(n(5567)),L=U(n(1017)),w=U(n(510)),D=U(n(5860));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=d.default.connectStores([h.default],function(){return{theme:h.default.theme}})(T.default),B=((a={})[I.KeybindCustomActions.UNASSIGNED]=p.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,a[I.KeybindCustomActions.PUSH_TO_MUTE]=p.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,a[I.KeybindCustomActions.PUSH_TO_TALK]=p.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,a[I.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]=p.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,a[I.KeybindCustomActions.TOGGLE_MUTE]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,a[I.KeybindCustomActions.TOGGLE_DEAFEN]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,a[I.KeybindCustomActions.TOGGLE_VOICE_MODE]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,a[I.KeybindCustomActions.TOGGLE_STREAMER_MODE]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,a),H=[{value:I.KeybindCustomActions.UNASSIGNED,label:p.default.Messages.KEYBIND_UNASSIGNED},{value:I.KeybindCustomActions.PUSH_TO_TALK,label:p.default.Messages.KEYBIND_PUSH_TO_TALK},{value:I.KeybindCustomActions.PUSH_TO_TALK_PRIORITY,label:p.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:I.KeybindCustomActions.PUSH_TO_MUTE,label:p.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:I.KeybindCustomActions.TOGGLE_MUTE,label:p.default.Messages.KEYBIND_TOGGLE_MUTE},{value:I.KeybindCustomActions.TOGGLE_DEAFEN,label:p.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:I.KeybindCustomActions.TOGGLE_VOICE_MODE,label:p.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:I.KeybindCustomActions.TOGGLE_STREAMER_MODE,label:p.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}],V=function(e){function t(){var n,o;F(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=x(this,e.call.apply(e,[this].concat(r))),o.handleActionChanged=function(e){O.default.setKeybind(i({},o.props.keybind,{action:e.value}))},o.handleShortcutChange=function(e){O.default.setKeybind(i({},o.props.keybind,{shortcut:e}))},o.handleDeleteKeybind=function(){O.default.deleteKeybind(o.props.keybind.id)},x(o,n)}return G(t,e),t.prototype.renderMessage=function(){var e=this.props.keybind;return A.default.hasBind(M.toString(e.shortcut))?r(b.default,{className:D.default.keybindMessage,type:N.Types.DESCRIPTION,style:{color:I.Colors.STATUS_RED}},void 0,p.default.Messages.KEYBIND_CONFLICT):r(b.default,{className:D.default.keybindMessage,type:N.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[e.action])},t.prototype.render=function(){var e=this.props.keybind.managed;return r(m.default,{direction:m.default.Direction.VERTICAL,className:(0,u.default)(D.default.keybindGroup,R.default.card)},void 0,!e&&r(v.default,{className:(0,u.default)(P.default.button,D.default.removeKeybind),onClick:this.handleDeleteKeybind},void 0,p.default.Messages.REMOVE_KEYBIND),r(m.default,{className:w.default.marginBottom8},void 0,r(m.default.Child,{basis:"50%"},void 0,r(y.FormItem,{title:p.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:D.default.item},void 0,r(E.default,{options:this.props.keybindActionTypes,onChange:this.handleActionChanged,value:this.props.keybind.action,clearable:!1,searchable:!1,disabled:e}))),r(m.default.Child,{basis:"50%"},void 0,r(y.FormItem,{title:p.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:D.default.item},void 0,r(C.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})))),r(m.default.Child,{},void 0,this.renderMessage()))},t}(l.PureComponent);V.displayName="KeybindEntry";var Y=r(y.FormDivider,{}),W=function(e){function t(n){F(this,t);var o=x(this,e.call(this,n));o.handleAddKeybind=function(){O.default.addKeybind()};var a=i({},B),r=[].concat(H);return c.default.isSupported()&&(a[I.KeybindCustomActions.TOGGLE_OVERLAY]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY,r.push({value:I.KeybindCustomActions.TOGGLE_OVERLAY,label:p.default.Messages.KEYBIND_TOGGLE_OVERLAY}),a[I.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]=p.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK,r.push({value:I.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,label:p.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK}),r.push({value:I.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:p.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})),o.state={keybindDescriptions:a,keybindActionTypes:r},o}return G(t,e),t.prototype.renderKeybinds=function(e){var t=this;return e.map(function(e){return r("div",{className:D.default.row},e.id,r(V,{keybind:e,keybindDescriptions:t.state.keybindDescriptions,keybindActionTypes:t.state.keybindActionTypes},e.id))})},t.prototype.renderEmpty=function(e){if(0===e.length)return r(j,{className:w.default.marginTop60},void 0,r(S.EmptyStateImage,{darkSrc:n(7390),lightSrc:n(7389),width:320,height:170}))},t.prototype.render=function(){var e=(0,s.default)(this.props.keybinds).reject(function(e){return e.managed&&e.action!==I.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET}).sortBy(function(e){return e.id}).sortBy(function(e){return!0===e.managed?-1:0}).value();return r(y.FormSection,{tag:y.FormTitleTags.H2,title:p.default.Messages.KEYBINDS},void 0,r(m.default,{justify:m.default.Justify.BETWEEN,className:w.default.marginBottom20},void 0,r(m.default.Child,{grow:0},void 0,r("div",{className:(0,u.default)(D.default.ghostPill,L.default.cursorDefault)},void 0,p.default.Messages.ADD_KEYBIND_WARNING)),r(m.default.Child,{wrap:!0,grow:0},void 0,r(g.default,{size:_.ButtonSizes.SMALL,onClick:this.handleAddKeybind},void 0,p.default.Messages.ADD_KEYBIND))),Y,r(y.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e)))},t}(l.PureComponent);W.displayName="UserSettingsKeybinds",t.default=d.default.connectStores([f.default],function(){return{keybinds:f.default.getState()}})(W),e.exports=t.default},7393:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=S(n(1)),i=g(n(3)),l=g(n(2)),s=g(n(195)),u=S(n(995)),d=g(n(35)),f=g(n(45)),c=g(n(925)),p=g(n(117)),h=g(n(42)),y=g(n(76)),m=g(n(266)),v=g(n(6)),E=g(n(510)),_=g(n(5863));function g(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=/^\d+$|^$/,N=function(e){function t(){var n,o,a,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return n=o=T(this,e.call.apply(e,[this].concat(l))),o.state={applicationId:o.props.authorizedApplicationId||"",isValid:!0},o.handleSave=(a=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.authorizeAndSetTestModeApplication(o.state.applicationId);case 2:e.sent&&o.handleClose();case 4:case"end":return e.stop()}},e,r)}),function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})}),o.handleClear=function(){u.reset(),o.setState({applicationId:""})},o.handleInputChange=function(e){u.resetError(),o.setState({applicationId:e,isValid:C.test(e)})},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){l.default.wait(function(){return u.resetError()})},t.prototype.handleClose=function(){l.default.wait(function(){return d.default.pop()})},t.prototype.render=function(){var e=this.props,t=e.authorizedApplicationId,n=e.authorizationError,o=e.authorizing,r=this.state,i=r.applicationId,l=r.isValid,s=null!=t&&t===i,u=s?this.handleClear:this.handleSave,d=null;return n?d=v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_AUTHORIZATION_ERROR:l||(d=v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID),a(p.default,{},void 0,a(p.default.Header,{},void 0,a(h.default,{align:h.default.Align.CENTER},void 0,a(y.default,{tag:y.default.Tags.H2,className:E.default.marginReset},void 0,v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),a(p.default.CloseButton,{onClick:this.handleClose}))),a(p.default.Content,{className:_.default.modalContent},void 0,a(m.default,{className:E.default.marginBottom20,type:m.default.Types.DESCRIPTION},void 0,v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),a("form",{onSubmit:function(e){e.preventDefault(),u()}},void 0,a(h.default,{align:h.default.Align.START},void 0,a("div",{className:_.default.inputWrapper},void 0,a(c.default,{value:i,maxLength:19,error:d,onChange:this.handleInputChange,disabled:o,placeholder:v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER})),a(f.default,{submitting:o,type:"submit",disabled:!l||0===i.length,color:s?f.default.Colors.RED:f.default.Colors.GREEN},void 0,s?v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:v.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))},t}(r.PureComponent);N.displayName="TestModeModal",t.default=i.default.connectStores([s.default],function(){return{authorizedApplicationId:s.default.testModeApplicationId,authorizationError:s.default.error,authorizing:s.default.isFetchingAuthorization}})(N),e.exports=t.default},7394:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=F(n(1)),l=k(n(3)),s=k(n(9)),u=k(n(11)),d=k(n(195)),f=k(n(28)),c=k(n(964)),p=k(n(517)),h=n(1038),y=k(n(35)),m=F(n(995)),v=k(n(166)),E=k(n(7393)),_=k(n(71)),g=n(385),S=n(511),T=k(n(513)),C=k(n(6057)),N=k(n(926)),b=k(n(967)),O=k(n(42)),I=k(n(279)),A=k(n(6066)),M=k(n(6131)),R=n(0),P=k(n(384)),L=k(n(275)),w=k(n(6)),D=k(n(5862)),U=k(n(510));function k(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var x={COZY:"cozy",COMPACT:"compact"},G=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));o.hardwareAccelerationEnabled=u.default.getEnableHardwareAcceleration(),o.handleThemeChange=function(e){var t=e.value;t!==o.props.theme&&p.default.updateRemoteSettings({theme:t})},o.handleMessageDisplayModeChange=function(e){var t=e.value;t!==o.props.messageDisplayCompact&&p.default.updateRemoteSettings({messageDisplayCompact:t===x.COMPACT})},o.handleTestModeChecked=function(e){e.currentTarget.checked?y.default.push(E.default):m.reset()};var a=0;return o.channel=new L.default({id:"1337"}),o.messages=[P.default.create(r({},I.default.createMessage(o.channel.id,w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1),{state:R.MessageStates.SENT,id:""+a++})),P.default.create(r({},I.default.createMessage(o.channel.id,o.getPreviewMessage(n.theme)),{state:R.MessageStates.SENT,id:""+a++})),P.default.create(r({},I.default.createMessage(o.channel.id,w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3),{state:R.MessageStates.SENT,id:""+a++})),P.default.create(r({},I.default.createMessage(o.channel.id,w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4),{state:R.MessageStates.SENT,id:""+a++})),P.default.create(r({},I.default.createMessage(o.channel.id,w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5),{state:R.MessageStates.SENT,id:""+a}))],o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPreviewMessage=function(e){return e===R.ThemeTypes.DARK?w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:w.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT},t.prototype.UNSAFE_componentWillUpdate=function(e){this.props.theme!==e.theme&&(this.messages[1]=P.default.create(r({},I.default.createMessage(this.channel.id,this.getPreviewMessage(e.theme)),{state:"SENT"})))},t.prototype.renderZoomSlider=function(){return u.default.embedded?a(S.FormItem,{title:w.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL,className:U.default.marginTop20},void 0,a(b.default,{className:(0,s.default)(U.default.marginTop20,U.default.marginBottom4),defaultValue:this.props.zoom,markers:R.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender}),a(S.FormText,{type:S.FormText.Types.DESCRIPTION},void 0,w.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:A.default.modKey}))):null},t.prototype.renderFontScaleSlider=function(){return a(S.FormItem,{title:w.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL,className:U.default.marginTop40},void 0,a(O.default,{align:O.default.Align.CENTER},void 0,a(O.default.Child,{className:D.default.fontScaleSmall},void 0,"Aa"),a(O.default.Child,{},void 0,a(b.default,{className:U.default.marginTop4,defaultValue:this.props.fontScale,markers:R.Accessibility.FONT_SCALES,stickToMarkers:!0,equidistant:!0,onValueChange:this.handleFontScaleChange,onValueRender:this.handleSliderRender,onMarkerRender:this.handleRenderFontScale})),a(O.default.Child,{className:D.default.fontScaleLarge},void 0,"Aa")))},t.prototype.renderPreview=function(){var e,t=this,n=this.props.messageDisplayCompact;return a(T.default,{className:D.default.preview,outline:!0},void 0,a("div",{className:(0,s.default)(D.default.previewInner,(e={},e[D.default.previewCompact]=n,e))},void 0,this.messages.map(function(e){return a(M.default,{channel:t.channel,messages:[e],enableInteraction:!1,compact:n},e.id)})))},t.prototype.renderThemePicker=function(){return a(S.FormItem,{title:w.default.Messages.THEME,className:U.default.marginTop40},void 0,a(C.default,{options:[{name:w.default.Messages.THEME_LIGHT,value:R.ThemeTypes.LIGHT},{name:w.default.Messages.THEME_DARK,value:R.ThemeTypes.DARK}],onChange:this.handleThemeChange,value:this.props.theme}))},t.prototype.renderDisplayMode=function(){return a(S.FormItem,{title:w.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:U.default.marginTop40},void 0,a(C.default,{options:[{name:w.default.Messages.COZY_MODE,value:x.COZY},{name:w.default.Messages.COMPACT_MODE,value:x.COMPACT}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?x.COMPACT:x.COZY}))},t.prototype.renderColorblindMode=function(){return a(S.FormItem,{title:w.default.Messages.USER_SETTINGS_APPEARANCE_COLORS,className:U.default.marginTop40},void 0,a(N.default,{onChange:h.toggleColorblindMode,value:this.props.colorblindMode,note:w.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_DESCRIPTION},void 0,w.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_TITLE))},t.prototype.renderDeveloperMode=function(){if(g.SUPPORTS_COPY)return a(N.default,{value:this.props.developerMode,onChange:this.handleDeveloperModeChecked,note:w.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:R.MarketingURLs.API_DOCS})},void 0,w.default.Messages.DEVELOPER_MODE)},t.prototype.renderHardwareAcceleration=function(){if(u.default.embedded)return a(N.default,{value:this.hardwareAccelerationEnabled,onChange:this.handleHardwareAccelerationChecked,note:w.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,w.default.Messages.HARDWARE_ACCELERATION)},t.prototype.renderDisableGamesTab=function(){var e=this.props.disableGamesTab;return a(N.default,{value:!e,note:w.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB_NOTE,onChange:this.handleDisableGamesTabChecked},void 0,w.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB)},t.prototype.renderTestMode=function(){var e=this.props,t=e.developerMode,n=e.testModeApplicationId;return t?a(N.default,{value:null!=n,note:w.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:this.handleTestModeChecked},void 0,w.default.Messages.DEVELOPER_APPLICATION_TEST_MODE):null},t.prototype.render=function(){return a(S.FormSection,{className:D.default.container,tag:S.FormTitleTags.H2,title:w.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderThemePicker(),this.renderDisplayMode(),this.renderFontScaleSlider(),this.renderZoomSlider(),this.renderColorblindMode(),a(S.FormTitle,{tag:S.FormTitleTags.H2,className:(0,s.default)(U.default.marginTop60,U.default.marginBottom20)},void 0,w.default.Messages.SETTINGS_ADVANCED),this.renderDeveloperMode(),this.renderHardwareAcceleration(),this.renderDisableGamesTab(),this.renderTestMode())},t.prototype.handleDeveloperModeChecked=function(e){p.default.updateRemoteSettings({developerMode:e.currentTarget.checked})},t.prototype.handleHardwareAccelerationChecked=function(e){var t=e.currentTarget.checked;y.default.push(function(e){return i.createElement(v.default,r({header:w.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:w.default.Messages.OKAY,cancelText:w.default.Messages.CANCEL,onConfirm:function(){return u.default.setEnableHardwareAcceleration(t)},red:!0},e),a(_.default,{size:_.default.Sizes.MEDIUM,color:_.default.Colors.PRIMARY},void 0,w.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))})},t.prototype.handleDisableGamesTabChecked=function(e){p.default.updateRemoteSettings({disableGamesTab:!e.currentTarget.checked})},t.prototype.handleRenderFontScale=function(e){return 82===e?e=80:92===e&&(e=90),""+e.toFixed(0)},t.prototype.handleSliderRender=function(e){return e.toFixed(0)+"%"},t.prototype.handleFontScaleChange=function(e){(0,h.fontScaleTo)(Math.round(e))},t.prototype.handleZoomChange=function(e){(0,h.zoomTo)(e)},t}(i.Component);G.displayName="UserSettingsAppearance",t.default=l.default.connectStores([c.default,f.default,d.default],function(){return{theme:f.default.theme,messageDisplayCompact:f.default.messageDisplayCompact,developerMode:f.default.developerMode,fontScale:c.default.fontScale,zoom:c.default.zoom,colorblindMode:c.default.colorblindMode,disableGamesTab:f.default.disableGamesTab,testModeApplicationId:d.default.testModeApplicationId}})(G),e.exports=t.default},7395:function(e,t,n){e.exports=n.p+"fffa18d6d66a76c08c500c56afe68a62.svg"},7396:function(e,t,n){e.exports=n.p+"e9aaf1824f17126a7992e5ad98752389.svg"},7397:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=j(n(54)),s=j(n(66)),u=j(n(9)),d=j(n(6)),f=j(n(3)),c=j(n(82)),p=j(n(381)),h=j(n(6063)),y=n(993),m=j(y),v=j(n(6075)),E=n(511),_=j(n(513)),g=j(n(145)),S=j(n(81)),T=j(n(144)),C=n(45),N=j(C),b=j(n(926)),O=n(6056),I=j(O),A=j(n(297)),M=j(n(25)),R=j(n(132)),P=j(n(28)),L=j(n(970)),w=j(n(35)),D=j(n(296)),U=j(n(517)),k=(j(n(1244)),j(n(11))),F=n(0),x=j(n(5864)),G=j(n(510));function j(e){return e&&e.__esModule?e:{default:e}}var B=f.default.connectStores([P.default],function(){return{theme:P.default.theme}})(I.default),H=(0,l.default)({displayName:"Integration",mixins:[s.default,f.default.LazyStoreListenerMixin(M.default,A.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props.integration;return{isJoining:A.default.isJoining(e.id),isMember:M.default.getGuild(e.guild.id)}},render:function(){var e=this.state,t=e.isMember,n=e.isJoining,o=this.props.integration,a=void 0;t||(a=r(N.default,{size:C.ButtonSizes.SMALL,look:C.ButtonLooks.GHOST,color:C.ButtonColors.WHITE,onClick:this.handleJoinGuild,disabled:n},void 0,r("span",{},void 0,n?d.default.Messages.JOINING_SERVER:d.default.Messages.JOIN_SERVER)));var i=void 0,l=void 0;switch(o.type){case"youtube":i=o.account.name,l="gaming.youtube.com/channel/"+o.account.id;break;case"twitch":default:i=l="twitch.tv/"+o.account.name}return r("div",{className:x.default.integration},void 0,r("div",{},void 0,r(h.default,{size:h.default.Sizes.SMALL,guild:o.guild,className:x.default.guildIcon}),r("div",{className:x.default.integrationInner},void 0,r(E.FormText,{className:x.default.integrationName},void 0,o.guild.toString()),r(g.default,{className:x.default.channelLink,href:"//"+l},void 0,i))),a)},handleJoinGuild:function(){D.default.joinServer(this.props.integration.id)}}),V=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));Y.call(o);var a=n.account,r=a.friendSync,i=a.visibility,l=a.verified,s=a.showActivity;return o.state={friendSync:r,visibility:i,verified:l,showActivity:s},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.account,n=t.friendSync,o=t.visibility,a=t.verified,r=t.showActivity;!this.state.verified&&a&&this.handleInProgressVisibilityChange(),this.setState({friendSync:n,visibility:o,verified:a,showActivity:r})},t.prototype.renderHeader=function(e){var t=this.props.account;return r("div",{className:x.default.connectionHeader},void 0,r("img",{alt:"",className:x.default.connectionIcon,src:e.icon.white}),r("div",{},void 0,r(E.FormText,{className:x.default.connectionAccountValue},void 0,t.name),r(E.FormText,{className:x.default.connectionAccountLabel,type:E.FormTextTypes.DESCRIPTION,style:{color:F.Colors.WHITE}},void 0,d.default.Messages.ACCOUNT_NAME)),r(S.default,{className:x.default.connectionDelete,onClick:this.handleDisconnect},void 0,r("span",{},void 0,d.default.Messages.SERVICE_CONNECTIONS_DISCONNECT)))},t.prototype.renderConnectionOptions=function(e){var t=this.state,n=t.visibility,o=t.friendSync,a=t.showActivity,i=this.props.account,l=void 0;F.FRIEND_SYNC_PLATFORM_TYPES.has(i.type)&&(l=r(b.default,{className:x.default.connectionOptionSwitch,theme:b.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:o,onChange:this.handleFriendSyncChange},void 0,d.default.Messages.SYNC_FRIENDS));var s=void 0;return F.ACTIVITY_PLATFORM_TYPES.has(i.type)&&(s=r(b.default,{className:x.default.connectionOptionSwitch,theme:b.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:a,onChange:this.handleShowActivityChange},void 0,d.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name}))),r("div",{className:x.default.connectionOptionsWrapper},void 0,r("div",{className:x.default.connectionOptions},void 0,r(b.default,{className:x.default.connectionOptionSwitch,theme:b.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:1===n,onChange:this.handleVisibilityChange},void 0,d.default.Messages.DISPLAY_ON_PROFILE),s,l))},t.prototype.renderIntegrations=function(e){var t=this.props.account,n=e.name.toUpperCase().replace(/\./g,"");return t.revoked?r(E.FormItem,{className:x.default.integrationsWrapper},void 0,r(E.FormTitle,{tag:E.FormTitleTags.H5},void 0,r("span",{style:{color:F.Colors[n+"_200"]}},void 0,d.default.Messages.SUB_ENABLED_SERVERS)),r(E.FormText,{},void 0,d.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):t.integrations.length>0?r(E.FormItem,{className:x.default.integrationsWrapper},void 0,r(E.FormTitle,{tag:E.FormTitleTags.H5},void 0,r("span",{style:{color:F.Colors[n+"_200"]}},void 0,d.default.Messages.SUB_ENABLED_SERVERS)),r("div",{},void 0,t.integrations.map(function(t){return r(H,{integration:t,color:e.color},t.id)}))):void 0},t.prototype.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return r(E.FormDivider,{className:x.default.connectedAccountSeparator})},t.prototype.render=function(){var e=this.props.account,t=c.default.get(e.type);return r("div",{className:x.default.connection,style:{borderColor:t.color,backgroundColor:t.color}},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations(t))},t}(i.PureComponent),Y=function(){var e=this;this.handleReconnect=function(){(0,y.authorize)(e.props.account.type,"User Settings")},this.handleDisconnect=function(){if(F.UNSAFE_PLATFORM_TYPES.has(e.props.account.type))e.props.onDisconnect();else{var t=c.default.get(e.props.account.type);w.default.push(function(n){return i.createElement(p.default,a({title:d.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:t.name}),body:d.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:d.default.Messages.DISCONNECT_ACCOUNT,cancelText:d.default.Messages.CANCEL,onConfirm:e.props.onDisconnect},n))})}},this.handleVisibilityChange=function(t){var n=e.props.account,o=t.currentTarget.checked?1:0;if(F.SAFE_PLATFORM_TYPES.has(n.type)&&!e.state.verified)return e._inProgressVisibility=o,void(0,y.authorize)(n.type);e.setState({visibility:o}),D.default.setVisibility(n.type,n.id,o)},this.handleInProgressVisibilityChange=function(){if(null!=e._inProgressVisibility){var t=e.props.account;D.default.setVisibility(t.type,t.id,e._inProgressVisibility),e._inProgressVisibility=null}},this.handleFriendSyncChange=function(t){var n=e.props.account,o=t.currentTarget.checked;e.setState({friendSync:o}),D.default.setFriendSync(n.type,n.id,o)},this.handleShowActivityChange=function(t){var n=e.props.account,o=t.currentTarget.checked;e.setState({showActivity:o}),D.default.setShowActivity(n.type,n.id,o)}};V.displayName="ConnectedAccount";var W=r(v.default,{}),z=(0,l.default)({displayName:"UserSettingsConnections",mixins:[s.default,f.default.LazyStoreListenerMixin(A.default,L.default,P.default,R.default)],getInitialState:function(){return a({descriptionWarning:!1},this.getStateFromStores())},getStateFromStores:function(){return{hide:R.default.hidePersonalInformation,fetching:A.default.isFetching(),accounts:A.default.getAccounts(),notDetectedPlatformTypes:L.default.getNotDetectedPlatformTypes(),detectPlatformAccounts:P.default.detectPlatformAccounts}},componentDidUpdate:function(e,t){var n=this.state.notDetectedPlatformTypes;t.notDetectedPlatformTypes!==n&&this.setState({descriptionWarning:!0})},componentDidMount:function(){D.default.fetch()},handleDisconnect:function(e){var t=e.type,n=e.id;D.default.disconnect(t,n)},handleDetectPlatformAccounts:function(e){U.default.updateRemoteSettings({detectPlatformAccounts:e.currentTarget.checked})},renderConnectCard:function(){var e,t=this.state.descriptionWarning,n=d.default.Messages.CONNECT_ACCOUNT_DESCRIPTION;return t&&(n=r("div",{className:x.default.warning},void 0,d.default.Messages.CONNECT_ACCOUNT_NONE_DETECTED)),r(_.default,{className:(0,u.default)(x.default.accountList,(e={},e[G.default.marginBottom20]=!k.default.embedded,e))},void 0,r(E.FormTitle,{faded:!0,className:G.default.marginBottom4},void 0,d.default.Messages.CONNECT_ACCOUNT_TITLE),r(E.FormText,{className:G.default.marginBottom8},void 0,n),r("div",{className:x.default.connectedAccounts},void 0,c.default.filter(function(e){return e.enabled}).map(function(e){return r(m.default,{type:e.type,location:"User Settings",className:x.default.accountBtn,innerClassName:x.default.accountBtnInner},e.type)})))},renderDetectPlatformAccounts:function(){var e=this.state.detectPlatformAccounts;if(k.default.embedded)return r(b.default,{value:e,onChange:this.handleDetectPlatformAccounts,className:(0,u.default)(G.default.marginTop20,G.default.marginBottom20)},void 0,d.default.Messages.DETECT_PLATFORM_ACCOUNTS)},renderConnectionList:function(){var e=this,t=this.state,o=t.fetching,a=t.accounts,i=void 0;return i=o?r(T.default,{className:G.default.marginTop20,type:T.default.Type.SPINNING_CIRCLE}):0===a.length?r(B,{className:G.default.marginTop40},void 0,r(O.EmptyStateImage,{darkSrc:n(7396),lightSrc:n(7395),width:230,height:220}),r(O.EmptyStateText,{note:d.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,d.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):a.map(function(t,n){return r(V,{account:t,onDisconnect:e.handleDisconnect.bind(e,t)},n)}),r(E.FormItem,{},void 0,i)},render:function(){return this.state.hide?W:r(E.FormSection,{className:x.default.connections,tag:E.FormTitleTags.H2,title:d.default.Messages.CONNECTIONS},void 0,this.renderConnectCard(),this.renderDetectPlatformAccounts(),this.renderConnectionList())}});t.default=z,e.exports=t.default},7398:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=T(n(9)),l=T(n(3)),s=n(0),u=T(n(28)),d=T(n(517)),f=T(n(1002)),c=T(n(6)),p=T(n(290)),h=T(n(928)),y=T(n(268)),m=T(n(266)),v=n(76),E=T(v),_=T(n(926)),g=T(n(6057)),S=T(n(510));function T(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onFieldChange=function(e,t){var n;d.default.updateRemoteSettings(((n={})[e]=t,n))},t.prototype.onLocalFieldChanged=function(e,t){var n;d.default.updateLocalSettings(((n={})[e]=t,n))},t.prototype.renderTTSControl=function(){var e=this;if(f.default.supported)return a(h.default,{className:S.default.marginBottom40},void 0,a(E.default,{className:S.default.marginBottom8},void 0,c.default.Messages.FORM_LABEL_TTS),a(_.default,{className:S.default.marginTop8,value:this.props.enableTTSCommand,onChange:function(t){return e.onFieldChange("enableTTSCommand",t.currentTarget.checked)}},void 0,c.default.Messages.ALLOW_TTS_COMMAND))},t.prototype.renderSpoilerSettings=function(){var e=this;return a(y.default,{title:c.default.Messages.SHOW_SPOILER_CONTENT},void 0,a(m.default,{type:m.default.Types.DESCRIPTION,className:S.default.marginBottom8},void 0,c.default.Messages.SHOW_SPOILER_CONTENT_HELP),a(g.default,{options:[{name:c.default.Messages.SHOW_SPOILER_ON_CLICK,value:s.SpoilerRenderSetting.ON_CLICK},{name:c.default.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:s.SpoilerRenderSetting.IF_MODERATOR},{name:c.default.Messages.SHOW_SPOILER_ALWAYS,value:s.SpoilerRenderSetting.ALWAYS}],onChange:function(t){return e.onLocalFieldChanged("renderSpoilers",t.value)},value:this.props.renderSpoilers}))},t.prototype.render=function(){var e=this,t=this.props,n=t.inlineEmbedMedia,o=t.inlineAttachmentMedia,r=t.gifAutoPlay,l=t.renderEmbeds,s=t.renderReactions,u=t.animateEmoji,d=t.convertEmoticons;return a(h.default,{tag:v.Tags.H2,title:c.default.Messages.TEXT_AND_IMAGES},void 0,a(E.default,{className:S.default.marginBottom8},void 0,c.default.Messages.INLINE_MEDIA_LABEL),a(_.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom20),value:n,onChange:function(t){return e.onFieldChange("inlineEmbedMedia",t.currentTarget.checked)}},void 0,c.default.Messages.INLINE_EMBED_MEDIA),a(_.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom20),value:o,note:c.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:function(t){return e.onFieldChange("inlineAttachmentMedia",t.currentTarget.checked)}},void 0,c.default.Messages.INLINE_ATTACHMENT_MEDIA),a(_.default,{className:S.default.marginBottom40,value:r,onChange:function(t){return e.onFieldChange("gifAutoPlay",t.currentTarget.checked)}},void 0,c.default.Messages.GIF_AUTO_PLAY_LABEL),a(E.default,{className:S.default.marginBottom8},void 0,c.default.Messages.RENDER_EMBEDS_LABEL),a(_.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom40),value:l,onChange:function(t){return e.onFieldChange("renderEmbeds",t.currentTarget.checked)}},void 0,c.default.Messages.RENDER_EMBEDS),a(E.default,{className:S.default.marginBottom8},void 0,c.default.Messages.EMOJI),a(_.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom20),value:s,onChange:function(t){return e.onFieldChange("renderReactions",t.currentTarget.checked)}},void 0,c.default.Messages.RENDER_REACTIONS),a(_.default,{className:(0,i.default)(S.default.marginTop8,S.default.marginBottom20),value:u,note:c.default.Messages.ANIMATE_EMOJI_NOTE,onChange:function(t){return e.onFieldChange("animateEmoji",t.currentTarget.checked)}},void 0,c.default.Messages.ANIMATE_EMOJI),a(_.default,{className:S.default.marginBottom40,value:d,note:p.default.parse(c.default.Messages.CONVERT_EMOTICONS_HELP),onChange:function(t){return e.onFieldChange("convertEmoticons",t.currentTarget.checked)}},void 0,c.default.Messages.CONVERT_EMOTICONS),this.renderTTSControl(),this.renderSpoilerSettings())},t}(r.PureComponent);C.displayName="UserSettingsTextImages",t.default=l.default.connectStores([u.default],function(){return{inlineAttachmentMedia:u.default.inlineAttachmentMedia,inlineEmbedMedia:u.default.inlineEmbedMedia,gifAutoPlay:u.default.gifAutoPlay,renderEmbeds:u.default.renderEmbeds,renderReactions:u.default.renderReactions,animateEmoji:u.default.animateEmoji,enableTTSCommand:u.default.enableTTSCommand,convertEmoticons:u.default.convertEmoticons,renderSpoilers:u.default.renderSpoilers}})(C),e.exports=t.default},7399:function(e,t,n){"use strict";t.__esModule=!0,t.setDeveloperOptionSettings=function(e){r.default.dispatch({type:i.ActionTypes.DEVELOPER_OPTIONS_UPDATE_SETTINGS,settings:e})};var o,a=n(2),r=(o=a)&&o.__esModule?o:{default:o},i=n(0)},7400:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=k(n(7)),s=k(n(9)),u=k(n(583)),d=k(n(3)),f=k(n(6685)),c=k(n(302)),p=k(n(28)),h=n(7399),y=k(n(35)),m=n(511),v=n(6056),E=k(v),_=n(45),g=k(_),S=k(n(926)),T=k(n(925)),C=k(n(6536)),N=k(n(144)),b=k(n(931)),O=k(n(117)),I=k(n(42)),A=k(n(513)),M=k(n(71)),R=n(0),P=k(n(5567)),L=k(n(5568)),w=k(n(300)),D=k(n(510)),U=k(n(5865));function k(e){return e&&e.__esModule?e:{default:e}}function F(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=["discord_web","discord_marketing"],H=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function V(e){var t=this;return new Promise(function(n){y.default.push(function(o){var a=function(e){o.onClose(),n(e)};return i.createElement(O.default,o,r(O.default.Header,{},void 0,r(m.FormTitle,{tag:m.FormTitle.Tags.H4},void 0,"Choose A Project to Override")),r(O.default.Content,{},void 0,r(I.default,{},void 0,e.map(function(e){return r(I.default.Child,{grow:0},e,r(g.default,{value:e,look:g.default.Looks.GHOST,color:g.default.Colors.GREEN,onClick:a.bind(t,e)},void 0,e))}))),r(O.default.Footer,{},void 0,r(g.default,{color:g.default.Colors.PRIMARY,look:g.default.Looks.LINK,onClick:a.bind(t,null)},void 0,"Nevermind")))})})}var Y=function(e){function t(){var n,o;x(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=G(this,e.call.apply(e,[this].concat(r))),o.handleRemoveBuildOverride=function(){o.props.onBuildOverrideRemoved(o.props.project)},o.handleOverrideIdChanged=function(e){o.props.onBuildOverrideUpdated(o.props.project,{id:e})},o.handleOverrideTypeChanged=function(e){o.props.onBuildOverrideUpdated(o.props.project,{type:e.value,id:""})},G(o,n)}return j(t,e),t.prototype.render=function(){var e,t=this.props,n=t.project,o=t.overrideType,a=t.overrideId,i=t.disabled,l=t.error,u="branch"===o?"Branch Name":"Build ID";return r(I.default,{direction:I.default.Direction.VERTICAL,className:(0,s.default)(U.default.buildOverrideGroup,D.default.marginBottom20,L.default.card,U.default.row)},void 0,r("button",{className:(0,s.default)(P.default.button,U.default.removeBuildOverride,(e={},e[U.default.removeBuildOverrideDisabled]=i,e)),onClick:i?null:this.handleRemoveBuildOverride},void 0,"Remove Build Override"),r(I.default,{className:D.default.marginBottom8},void 0,r(I.default.Child,{basis:"50%"},void 0,r(m.FormItem,{title:"Override Type",className:U.default.item},void 0,r(b.default,{options:H,onChange:this.handleOverrideTypeChanged,value:o,disabled:i,clearable:!1,searchable:!1}))),r(I.default.Child,{basis:"50%"},void 0,r(m.FormItem,{title:u,className:U.default.item},void 0,r(T.default,{value:a,onChange:this.handleOverrideIdChanged,disabled:i})))),r(I.default.Child,{},void 0,l&&r(m.FormText,{className:U.default.item,style:{color:R.Colors.STATUS_RED},type:m.FormText.Types.DESCRIPTION},void 0,l),r(m.FormText,{className:U.default.item,type:m.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",r("code",{},void 0,n)," project.")))},t}(i.Component);Y.displayName="BuildOverride";var W=r(v.EmptyStateText,{},void 0,"You have no build overrides configured."),z=r(m.FormDivider,{}),K=function(e){function t(){var n,o,r=this;x(this,t);for(var s=arguments.length,u=Array(s),d=0;d<s;d++)u[d]=arguments[d];return n=o=G(this,e.call.apply(e,[this].concat(u))),o.state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1},o.handleAddBuildOverride=F(regeneratorRuntime.mark(function e(){var t,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(o.getAvailableProjects());case 2:if(null!=(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:i=a({},o.state.buildOverrides,((t={})[n]={type:"branch",id:""},t)),o.setState({buildOverrides:i});case 7:case"end":return e.stop()}},e,r)})),o.handleBuildOverrideUpdated=function(e,t){var n,r=o.state.buildOverrides[e]||{},i=a({},r,t),l=a({},o.state.buildOverrides,((n={})[e]=i,n));o.setState({buildOverrides:l})},o.handleBuildOverrideRemoved=function(e){var t=a({},o.state.buildOverrides);delete t[e],o.setState({buildOverrides:t})},o.handleDiscardChanges=function(){o.setState({buildOverrides:l.default.cloneDeep(o.state.loadedBuildOverrides),errors:{},didSave:!1})},o.handleSaveChanges=F(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({saving:!0}),e.next=3,f.default.put(o.state.buildOverrides);case 3:200===(t=e.sent).status?o.setState({buildOverrides:t.body,loadedBuildOverrides:l.default.cloneDeep(t.body),errors:{},didSave:!0,saving:!1}):400===t.status?o.setState({errors:t.body,saving:!1,didSave:!1}):o.setState({saving:!1,didSave:!1});case 5:case"end":return e.stop()}},e,r)})),o.handleLinkGeneration=function(){var e=o.state.buildOverrides;y.default.push(function(t){return i.createElement($,a({},t,{buildOverrides:e}))})},G(o,n)}return j(t,e),t.prototype.refreshBuildOverrides=function(){var e=F(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.get();case 3:t=e.sent,this.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:l.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!l.default.isEqual(t,n)},t.prototype.componentDidMount=function(){this.refreshBuildOverrides()},t.prototype.getAvailableProjects=function(){var e=Object.keys(this.state.buildOverrides);return l.default.without.apply(l.default,[B].concat(e))},t.prototype.renderEmpty=function(){return r(E.default,{theme:p.default.theme,className:(0,s.default)(D.default.marginTop40,D.default.marginBottom20)},void 0,r(v.EmptyStateImage,{darkSrc:n(6832),lightSrc:n(6831),width:294,height:192}),W)},t.prototype.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,o=t.saving,a=t.errors;return l.default.map(n,function(t,n){return r(Y,{project:n,overrideType:t.type,overrideId:t.id,disabled:o,error:a[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)})},t.prototype.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,r(I.default.Child,{grow:0},void 0,r(g.default,{onClick:function(){return location.reload()},look:g.default.Looks.GHOST,color:g.default.Colors.PRIMARY},void 0,"Reload App")))},t.prototype.renderLinkButton=function(){var e=this.state.buildOverrides;return 0===Object.keys(e).length?null:r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,r(I.default.Child,{grow:0},void 0,r(g.default,{onClick:this.handleLinkGeneration,look:g.default.Looks.GHOST,color:g.default.Colors.BRAND},void 0,"Generate Public Link")))},t.prototype.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state.saving;return r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,r(I.default.Child,{grow:0},void 0,r(g.default,{onClick:this.handleSaveChanges,submitting:e,look:g.default.Looks.GHOST,color:g.default.Colors.GREEN},void 0,"Save Build Overrides")),r(I.default.Child,{grow:0},void 0,r(g.default,{onClick:this.handleDiscardChanges,disabled:e,look:g.default.Looks.GHOST,color:g.default.Colors.RED},void 0,"Discard Changes")))},t.prototype.render=function(){var e=this.state,t=e.loading,n=e.saving,o=e.buildOverrides,a=void 0;a=t?r(N.default,{className:D.default.marginTop20}):0===Object.keys(o).length?this.renderEmpty():this.renderItems();var i=!n&&!t&&this.getAvailableProjects().length>0;return r(m.FormSection,{className:D.default.marginTop60},void 0,r(I.default,{className:D.default.marginBottom20},void 0,r(I.default.Child,{},void 0,r(m.FormTitle,{tag:m.FormTitleTags.H2},void 0,"Build Overrides")),r(I.default.Child,{grow:0},void 0,r(g.default,{size:_.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!i},void 0,"Add Build Override"))),z,r(I.default,{direction:I.default.Direction.VERTICAL},void 0,a,r(I.default,{grow:0,direction:I.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))},t}(i.Component);K.displayName="BuildOverrides";var $=function(e){function t(){var n,o,a=this;x(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=G(this,e.call.apply(e,[this].concat(i))),o.state={ttlSeconds:3600,userIds:[],userIdEntry:"",removeUserIdEntry:"",publicLink:" ",userIdEntryError:null,statusText:null,statusTextColor:M.default.Colors.RED},o.setUserEntryError=function(e){o.setState({userIdEntryError:e})},o.setStatusMessage=function(e,t){o.setState({statusText:e,statusTextColor:t||M.default.Colors.RED})},o.handleUserIDEntry=function(e){if(e=e.trim(),!/^\d+$/.test(e))return o.setUserEntryError("User IDs are numbers!");o.setState({userIdEntry:e})},o.handleRemoveUserIDEntry=function(e){o.setState({removeUserIdEntry:e})},o.handleUserEnter=function(e){e.charCode===R.KeyboardKeys.ENTER&&o.handleAddUser()},o.handleAddUser=function(){var e=o.state,t=e.userIds,n=e.userIdEntry;return 0===n.length?o.setUserEntryError("Enter a valid user ID!"):t.indexOf(n)>=0?o.setUserEntryError("You already added that user!"):void o.setState({userIds:[].concat(t,[n]),userIdEntry:""})},o.handleRemoveUser=function(e){var t=o.state.userIds;t=t.filter(function(t){return t!==e.value}),o.setState({userIds:t})},o.handleExpirationChange=function(e){o.setState({ttlSeconds:e.value})},o.generatePayload=function(){return{overrides:o.props.buildOverrides,meta:{release_channel:window.GLOBAL_ENV.RELEASE_CHANNEL,ttl_seconds:o.state.ttlSeconds,user_ids:o.state.userIds}}},o.handleGenerateLink=F(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.setStatusMessage(null),t=o.generatePayload(),e.next=4,f.default.getPublicLink(t);case 4:!1!==(n=e.sent).error?o.setStatusMessage(n.error.toString(),M.default.Colors.RED):(o.setState({publicLink:n.url.toString()}),0===t.meta.user_ids.length&&o.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",M.default.Colors.YELLOW));case 6:case"end":return e.stop()}},e,a)})),G(o,n)}return j(t,e),t.prototype.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,o=t.userIdEntry,a=t.userIdEntryError,i=t.userIds,l=f.default.EXPIRATION_OPTIONS.find(function(e){return e.value===n}),s=i.map(function(e){return{label:e,value:e}});return r(I.default,{direction:I.default.Direction.VERTICAL},void 0,r(m.FormItem,{title:"Expire After",className:D.default.marginBottom20},void 0,r(b.default,{value:l,clearable:!1,searchable:!1,options:f.default.EXPIRATION_OPTIONS,onChange:this.handleExpirationChange})),r(m.FormItem,{title:"Add User ID (optional)",className:D.default.marginBottom20},void 0,r(I.default,{direction:I.default.Direction.HORIZONTAL},void 0,r(I.default.Child,{wrap:!0,basis:"90%"},void 0,r(T.default,{autoFocus:!0,value:o,onKeyPress:this.handleUserEnter,error:a,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),r(g.default,{className:_.ButtonLooks.GHOST,onClick:this.handleAddUser},void 0,"Add"))),r(m.FormItem,{title:"Remove User ID",className:D.default.marginBottom20},void 0,r(b.default,{options:s,onChange:this.handleRemoveUser,disabled:0===i.length})))},t.prototype.renderPayloadBlock=function(){var e=this.generatePayload(),t=u.default.highlight("json",JSON.stringify(e,null,2),!0);return r(A.default,{},void 0,r("pre",{},void 0,r("code",{className:"hljs scroller "+t.language+" "+w.default.scrollbarGhost+" "+U.default.codebox,dangerouslySetInnerHTML:{__html:t.value}})))},t.prototype.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,o=e.publicLink;return r("div",{},void 0,r(m.FormItem,{title:"Signed Link"},void 0,r(I.default,{},void 0,r(I.default.Child,{wrap:!0,basis:"75%"},void 0,r(C.default,{value:o})),r(g.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),r(M.default,{color:t,className:D.default.marginBottom8+" "+D.default.marginTop8},void 0,!1!==n?n:""))},t.prototype.render=function(){return r(O.default,{size:O.default.Sizes.LARGE},void 0,r(O.default.Header,{},void 0,r(m.FormTitle,{tag:m.FormTitle.Tags.H4},void 0,"Generate Public Build Override Link"),r(O.default.CloseButton,{onClick:this.props.onClose})),r(O.default.Content,{},void 0,r(I.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))},t}(i.Component);$.displayName="BuildOverrideLinkModal";var q=d.default.connectStores([c.default],function(){return{isTracingRequests:c.default.isTracingRequests,isForcedCanary:c.default.isForcedCanary,isLoggingGatewayEvents:c.default.isLoggingGatewayEvents,isLoggingOverlayEvents:c.default.isLoggingOverlayEvents,isValidatingAnalyticsTrack:c.default.isValidatingAnalyticsTrack}})(function(e){var t=e.isTracingRequests,n=e.isForcedCanary,o=e.isLoggingGatewayEvents,a=e.isLoggingOverlayEvents,i=e.isValidatingAnalyticsTrack;return r(m.FormSection,{title:"Developer Flags",tag:m.FormTitleTags.H2},void 0,r(S.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({trace:t.checked})}},void 0,"Enable Tracing Requests"),r(S.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({canary:t.checked})}},void 0,"Enable Forced Canary"),r(S.default,{value:o,note:"Logs all incoming and outgoing gateway events to the developer console",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({logGatewayEvents:t.checked})}},void 0,"Enable Logging of Gateway Events to Console"),r(S.default,{value:a,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({logOverlayEvents:t.checked})}},void 0,"Enable Logging of Overlay RPC Events & Commands"),r(S.default,{value:i,note:"Validates analytics track calls",onChange:function(e){var t=e.currentTarget;return(0,h.setDeveloperOptionSettings)({validateAnalyticsTrack:t.checked})}},void 0,"Enable Validation of Analytics.track calls"))}),X=r(i.Fragment,{},void 0,r(q,{}),r(K,{})),Q=function(e){function t(){return x(this,t),G(this,e.apply(this,arguments))}return j(t,e),t.prototype.render=function(){return X},t}(i.PureComponent);Q.displayName="UserSettingsModalDeveloperOptions",t.default=Q,e.exports=t.default},7401:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(3)),l=n(511),s=y(n(42)),u=y(n(931)),d=y(n(6054)),f=y(n(165)),c=y(n(6086)),p=y(n(5866)),h=y(n(510));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(){var n,o;m(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=v(this,e.call.apply(e,[this].concat(r))),o.state={open:o.props.open},o.handleToggleVisibility=function(){o.setState({open:!o.state.open})},v(o,n)}return E(t,e),t.prototype.render=function(){var e=this.state.open,t=this.props,n=t.title,o=t.children;return a("div",{className:p.default.group},void 0,a(l.FormSection,{},void 0,a(l.FormTitle,{tag:l.FormTitleTags.H3,className:p.default.title,onClick:this.handleToggleVisibility},void 0,n),e?o:null),a(l.FormDivider,{className:h.default.marginTop20}))},t}(r.Component);_.displayName="ExperimentGroup";var g=a(l.FormSection,{},void 0,a(l.FormText,{},void 0,"No Experiments are currently running")),S=function(e){function t(){return m(this,t),v(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderExperimentGroup=function(e,t){var n=this.props.experiments[e];if(null==n)return null;var o=n.description;return Array.isArray(o)||(o=[o]),o=o.map(function(e,t){return a(l.FormText,{type:l.FormTextTypes.DESCRIPTION},t,e)}),a(_,{title:n.title,open:null!=this.props.overrides[e]},t,a("div",{},void 0,this.renderExperimentTypes(e,n.experiments),a("div",{className:h.default.marginTop4},void 0,o)))},t.prototype.renderExperimentTypes=function(e,t){var n=Object.keys(t),o=this.props.overrides[e];return a(s.default,{},void 0,a(s.default.Child,{},void 0,a(l.FormItem,{title:"Type Override"},void 0,a(u.default,{value:o?o.type:"",clearable:!0,searchable:!1,options:this.getExperimentTypes(n),onChange:function(t){return d.default.overrideType(e,t&&t.value)}}))),a(s.default.Child,{},void 0,a(l.FormItem,{title:"Bucket Override"},void 0,a(u.default,{value:o?o.bucket:"",disabled:!o||!o.type,clearable:!0,searchable:!1,options:this.getExperimentBuckets(t[o?o.type:""]),onChange:function(t){return d.default.overrideBucket(e,t&&t.value)}}))))},t.prototype.getExperimentTypes=function(e){return e.map(function(e){return{label:e.charAt(0).toUpperCase()+e.slice(1),value:e}})},t.prototype.getExperimentBuckets=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return{label:c.default.getExperimentBucketName(e),value:e}})},t.prototype.renderEmpty=function(){return g},t.prototype.render=function(){var e=Object.keys(this.props.experiments),t=void 0;return t=e.length?e.map(this.renderExperimentGroup,this):this.renderEmpty(),a(l.FormSection,{tag:l.FormTitleTags.H2,title:"Experiments"},void 0,t)},t}(r.Component);S.displayName="UserSettingsExperiments",t.default=i.default.connectStores([f.default],function(){return{experiments:f.default.getRegisteredExperiments(),overrides:f.default.getExperimentOverrides()}})(S),e.exports=t.default},7402:function(e,t,n){e.exports=n.p+"f8696a3854655998a24c219403420867.svg"},7403:function(e,t,n){e.exports=n.p+"cdea41ede63f61153e4a3c0531fa3873.svg"},7404:function(e,t,n){e.exports=n.p+"b73a63cb14a22dd24f0f8da07b186335.svg"},7412:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=O(n(3)),s=O(n(6)),u=O(n(290)),d=O(n(117)),f=O(n(76)),c=O(n(514)),p=O(n(71)),h=O(n(42)),y=O(n(45)),m=O(n(6682)),v=O(n(6192)),E=O(n(6437)),_=O(n(13)),g=O(n(6435)),S=O(n(35)),T=O(n(6436)),C=O(n(6193)),N=n(0),b=O(n(5867));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=function(e){var t=e.label,n=e.text,o=e.children,l=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["label","text","children"]);return i.createElement(h.default,a({direction:h.default.Direction.VERTICAL},l),r(f.default,{tag:f.default.Tags.H2},void 0,t),null!=n?r(p.default,{size:p.default.Sizes.MEDIUM,className:b.default.sectionBody},void 0,n):null,r(h.default.Child,{wrap:!0},void 0,o))};A.displayName="ModalSection";var M=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=I(this,e.call.apply(e,[this].concat(l))),o.getDownloadFileContents=function(){var e=o.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"("+s.default.Messages.TWO_FA_BACKUP_CODE_USED+")":"")}).join("\r\n");return s.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:o.props.currentUser.email})+"\r\n\r\n"+e},o.handleChangePhoneNumber=function(){o.openPhoneVerificationModal()},o.handleEnableSMS=function(){var e=function(){S.default.push(function(e){return i.createElement(E.default,a({},e,{handleSubmit:function(e){return C.default.enableSMS(e)},title:s.default.Messages.MFA_SMS_ENABLE}))})};null==o.props.currentUser.phone?o.openPhoneVerificationModal({onAddedPhone:e}):e()},I(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderSMSSection=function(){var e=this.props.currentUser,t=null!=this.props.currentUser.phone,n=e.hasFlag(N.UserFlags.MFA_SMS),o=e.hasFlag(N.UserFlags.PARTNER)||e.hasFlag(N.UserFlags.STAFF);return t?r(A,{label:s.default.Messages.MFA_SMS_ENABLE,text:s.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,r(p.default,{size:p.default.Sizes.MEDIUM,className:b.default.sectionBody},void 0,r("strong",{className:b.default.phoneNumber},void 0,s.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:e.phone})),r(y.default,{look:y.default.Looks.LINK,color:y.default.Colors.LINK,size:y.default.Sizes.MIN,className:b.default.linkButton,onClick:this.handleChangePhoneNumber},void 0,s.default.Messages.CHANGE_PHONE_NUMBER)),r(y.default,{onClick:this.handleEnableSMS,disabled:n||o,color:y.default.Colors.GREEN,size:y.default.Sizes.SMALL},void 0,o?s.default.Messages.MFA_SMS_DISABLED_PARTNER:n?s.default.Messages.MFA_SMS_ALREADY_ENABLED:s.default.Messages.MFA_SMS_ENABLE)):r(A,{label:s.default.Messages.MFA_SMS_ENABLE,text:s.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,r(y.default,{onClick:this.handleEnableSMS,color:y.default.Colors.GREEN,size:y.default.Sizes.SMALL,disabled:o},void 0,o?s.default.Messages.MFA_SMS_DISABLED_PARTNER:s.default.Messages.MFA_SMS_ADD_PHONE))},t.prototype.renderBackupCodesSection=function(){return r(A,{label:s.default.Messages.TWO_FA_DOWNLOAD_CODES,text:s.default.Messages.TWO_FA_BACKUP_CODES_SALES_PITCH},void 0,r(m.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt"},void 0,r(y.default,{color:y.default.Colors.GREEN,size:y.default.Sizes.SMALL},void 0,s.default.Messages.TWO_FA_DOWNLOAD_CODES)))},t.prototype.renderHeader=function(){return r(d.default.Header,{},void 0,r(h.default.Child,{grow:1,shrink:1},void 0,r(f.default,{tag:f.default.Tags.H4,className:b.default.header},void 0,u.default.parse(s.default.Messages.TWO_FA_SUCCESS_HEADER)),r(p.default,{size:p.default.Sizes.SMALL,className:b.default.subHeader},void 0,s.default.Messages.MFA_SMS_ENABLE_SUBHEADER)),r(h.default.Child,{grow:0},void 0,r(d.default.CloseButton,{onClick:S.default.pop})))},t.prototype.render=function(){return r(d.default,{className:b.default.modal},void 0,this.renderHeader(),r(d.default.Content,{className:b.default.modalInner},void 0,this.renderSMSSection(),r(c.default,{className:b.default.divider}),this.renderBackupCodesSection()))},t.prototype.openPhoneVerificationModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T.default.reset(),S.default.push(function(t){return i.createElement(v.default,a({},t,e))})},t}(i.PureComponent);M.displayName="MFAEnableSuccess",t.default=l.default.connectStores([_.default],function(){return{currentUser:_.default.getCurrentUser(),backupCodes:g.default.getBackupCodes()}})(M),e.exports=t.default},7413:function(e,t,n){e.exports=n.p+"cdec1a78913423b428eb0013e9678244.svg"},7414:function(e,t,n){e.exports=n.p+"0b8465d21b4c248c18f7e0a44fda86cc.png"},7417:function(e,t,n){"use strict";t.__esModule=!0;var o,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(7416),i=(o=r)&&o.__esModule?o:{default:o};var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){new i.default(this.refs.QR_REF,this.props)},t.prototype.componentDidUpdate=function(){new i.default(this.refs.QR_REF,this.props)},t.prototype.render=function(){return a.createElement("div",{ref:"QR_REF",style:{padding:8,borderRadius:4,background:this.props.colorLight}})},t}(a.PureComponent);l.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000",correctLevel:r.CorrectLevel.M},l.displayName="QRCode",t.default=l,e.exports=t.default},7418:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=S(n(6)),l=S(n(7417)),s=S(n(117)),u=S(n(76)),d=S(n(514)),f=S(n(71)),c=S(n(266)),p=S(n(42)),h=S(n(45)),y=S(n(925)),m=S(n(13)),v=S(n(6193)),E=S(n(35)),_=n(6683),g=S(n(5871));function S(e){return e&&e.__esModule?e:{default:e}}var T=function(e){var t=e.image,n=e.label,o=e.text,r=e.children;return a(p.default,{className:g.default.spacing},void 0,a(p.default,{grow:0,shrink:0,basis:"156px",justify:p.default.Justify.CENTER,className:g.default.image},void 0,t),a(p.default,{direction:p.default.Direction.VERTICAL,justify:p.default.Justify.CENTER},void 0,a("div",{},void 0,a(u.default,{tag:u.default.Tags.H5,className:g.default.headerSpacing},void 0,n),a(c.default,{type:c.default.Types.DESCRIPTION},void 0,o),r)))};T.displayName="ModalSection";var C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.handleActivateSuccess=function(){var e=o.props.onClose;null!=e&&e()},o.handleActivate=o.handleActivate.bind(o),o.handleCodeChange=o.handleCodeChange.bind(o),o.state={code:"",totpSecret:(0,_.generateTotpSecret)(),error:null},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state,t=e.totpSecret,o=e.code,r=m.default.getCurrentUser().email,c=(0,_.encodeTotpSecretAsUrl)(r,t),v=a(p.default,{className:g.default.inputContainer,align:p.default.Align.START},void 0,a(y.default,{value:o,className:g.default.input,placeholder:"000 000",maxLength:7,autoComplete:"off",onChange:this.handleCodeChange,error:this.state.error,autoFocus:!0}),a(p.default.Child,{grow:0,shrink:0},void 0,a(h.default,{onClick:this.handleActivate},void 0,i.default.Messages.TWO_FA_ACTIVATE)));return a(s.default,{size:g.default.customWidth},void 0,a(s.default.Header,{},void 0,a(p.default.Child,{grow:1,shrink:1},void 0,a(u.default,{tag:u.default.Tags.H4},void 0,i.default.Messages.TWO_FA_ENABLE),a(f.default,{size:f.default.Sizes.SMALL,className:g.default.subHeader},void 0,i.default.Messages.TWO_FA_ENABLE_SUBHEADER)),a(p.default.Child,{grow:0},void 0,a(s.default.CloseButton,{onClick:E.default.pop}))),a(s.default.Content,{},void 0,a(T,{image:a("img",{alt:"",src:n(7414),width:100,height:100}),label:i.default.Messages.TWO_FA_DOWNLOAD_APP_LABEL,text:i.default.Messages.TWO_FA_DOWNLOAD_APP_BODY.format({googleAuthURL:"https://support.google.com/accounts/answer/1066447?hl=en",authyURL:"https://www.authy.com/"})}),a(d.default,{className:g.default.divider}),a(T,{image:a(l.default,{text:c}),label:i.default.Messages.TWO_FA_QR_LABEL,text:i.default.Messages.TWO_FA_QR_BODY},void 0,a("div",{className:g.default.topSpacing},void 0,a(u.default,{tag:u.default.Tags.H5,className:g.default.headerSpacing},void 0,i.default.Messages.TWO_FA_KEY),a(f.default,{color:f.default.Colors.PRIMARY,size:f.default.Sizes.MEDIUM,family:f.default.Family.CODE,selectable:!0},void 0,t))),a(d.default,{className:g.default.divider}),a(T,{image:a("img",{alt:"",src:n(7413)}),label:i.default.Messages.TWO_FA_LOGIN_LABEL,text:i.default.Messages.TWO_FA_LOGIN_BODY},void 0,v)))},t.prototype.handleCodeChange=function(e){this.setState({code:e})},t.prototype.handleActivate=function(){var e=this,t=this.state,n=t.totpSecret,o=t.code;v.default.enable({code:o,secret:(0,_.encodeTotpSecret)(n)}).then(this.handleActivateSuccess,function(t){return e.setState({error:t.body.message})})},t}(r.PureComponent);C.key=function(){return"mfa-enable-modal"},C.displayName="MFAEnable",t.default=C,e.exports=t.default},7421:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=R(n(9)),s=n(6683),u=R(n(6)),d=R(n(3)),f=R(n(7418)),c=R(n(7412)),p=R(n(6437)),h=R(n(6682)),y=R(n(6192)),m=n(511),v=R(n(42)),E=R(n(145)),_=R(n(932)),g=n(45),S=R(g),T=R(n(6435)),C=R(n(13)),N=R(n(6193)),b=R(n(35)),O=R(n(6436)),I=n(0),A=R(n(5601)),M=R(n(510));function R(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var L=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=P(this,e.call.apply(e,[this].concat(l))),o.state={revealed:!1},o.togglePhoneNumberVisibility=function(e){e.preventDefault(),o.setState({revealed:!o.state.revealed})},o.handleEnableMFA=function(){b.default.push(function(e){var t=e.onClose,n=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["onClose"]);return i.createElement(f.default,r({},n,{onClose:function(){null!=t&&t(),o.handleEnableMFASuccess()}}))})},o.handleEnableMFASuccess=function(){b.default.push(function(e){return i.createElement(c.default,e)})},o.handleDisableMFA=function(){N.default.disable()},o.generateBackupCodes=function(){b.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:function(e){return N.default.viewBackupCodes(e,!0)},title:u.default.Messages.TWO_FA_GENERATE_CODES,actionText:u.default.Messages.TWO_FA_GENERATE_CODES}),u.default.Messages.TWO_FA_GENERATE_CODES_CONFIRM_TEXT)})},o.viewBackupCodes=function(){b.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:function(e){return N.default.viewBackupCodes(e)},title:u.default.Messages.TWO_FA_VIEW_BACKUP_CODES,actionText:u.default.Messages.TWO_FA_VIEW_CODES}))})},o.getDownloadFileContents=function(){var e=o.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")}).join("\r\n");return u.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:o.props.currentUser.email})+"\r\n\r\n"+e},o.handleChangePhoneNumber=function(){o.openPhoneVerificationModal()},o.handleEnableSMS=function(){var e=function(){b.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:N.default.enableSMS,title:u.default.Messages.MFA_SMS_ENABLE}))})};null==o.props.currentUser.phone?o.openPhoneVerificationModal({onAddedPhone:e}):e()},o.handleDisableSMS=function(){b.default.push(function(e){return i.createElement(p.default,r({},e,{handleSubmit:N.default.disableSMS,title:u.default.Messages.MFA_SMS_REMOVE}),u.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)})},P(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)},t.prototype.renderMFASMS=function(){var e=this.state.revealed,t=this.props,n=t.currentUser,o=t.togglingSMS,r=null!=n.phone,i=n.hasFlag(I.UserFlags.MFA_SMS),s=void 0,d=void 0;if(r||i){var f=e?n.phone:this.maskPhoneNumber(n.phone);d=a(m.FormText,{type:m.FormText.Types.DESCRIPTION,className:M.default.marginBottom8},void 0,u.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:f}),a(E.default,{onClick:this.togglePhoneNumberVisibility,className:A.default.phoneRevealer},void 0,e?u.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:u.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(i)s=a(v.default,{className:r?"":M.default.marginTop8},void 0,a(S.default,{color:S.default.Colors.RED,look:S.default.Looks.OUTLINED,size:S.default.Sizes.SMALL,submitting:o,onClick:this.handleDisableSMS},void 0,u.default.Messages.MFA_SMS_REMOVE));else{var c=n.hasFlag(I.UserFlags.STAFF)||n.hasFlag(I.UserFlags.PARTNER);s=a(v.default,{className:r?"":M.default.marginTop8},void 0,a(S.default,{onClick:this.handleEnableSMS,size:S.default.Sizes.SMALL,submitting:o,disabled:c},void 0,c?u.default.Messages.MFA_SMS_DISABLED_PARTNER:u.default.Messages.MFA_SMS_ENABLE),r?a(S.default,{onClick:this.handleChangePhoneNumber,color:S.default.Colors.PRIMARY,size:S.default.Sizes.SMALL,look:S.default.Looks.LINK},void 0,u.default.Messages.CHANGE_PHONE_NUMBER):null)}return a(m.FormSection,{className:(0,l.default)(M.default.marginBottom40,M.default.marginTop40),title:u.default.Messages.MFA_SMS_AUTH},void 0,a(m.FormText,{type:m.FormText.Types.DESCRIPTION},void 0,u.default.Messages.MFA_SMS_AUTH_SALES_PITCH),d,s)},t.prototype.renderEnabled=function(){var e=this.props.backupCodes,t=a(S.default,{onClick:this.viewBackupCodes,size:S.default.Sizes.SMALL},void 0,u.default.Messages.TWO_FA_VIEW_BACKUP_CODES),o=void 0;if(e.length){t=a(h.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt",className:(0,l.default)(A.default.btn,A.default.btnPrimary)},void 0,a(S.default,{size:S.default.Sizes.SMALL},void 0,u.default.Messages.TWO_FA_DOWNLOAD_CODES));var r=function(e){return e.map(function(e){var t=e.consumed,n=e.code;return a("li",{className:M.default.marginBottom20},n,a(_.default,{readOnly:!0,className:A.default.codeCheckbox,value:t},void 0,a("span",{className:A.default.code},void 0,n.substr(0,4)+"-"+n.substr(4))))})};o=a(m.FormSection,{title:u.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,a(m.FormText,{type:m.FormText.Types.DESCRIPTION,className:M.default.marginBottom20},void 0,u.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),a(v.default,{},void 0,a(v.default.Child,{},void 0,a("ul",{className:A.default.checkboxGroup},void 0,r(e.slice(0,e.length/2)))),a(v.default.Child,{},void 0,a("ul",{className:A.default.checkboxGroup},void 0,r(e.slice(e.length/2))))),a("div",{},void 0,a(S.default,{onClick:this.generateBackupCodes,look:g.ButtonLooks.LINK,size:g.ButtonSizes.MIN},void 0,u.default.Messages.TWO_FA_GENERATE_CODES)),a(m.FormDivider,{className:M.default.marginTop20}))}return a(m.FormSection,{},void 0,a(m.FormTitle,{className:(0,l.default)(A.default.isEnabled,M.default.marginTop4,M.default.marginBottom8)},void 0,a("img",{alt:"",className:(0,l.default)(A.default.lockIcon),src:n(7404)}),u.default.Messages.TWO_FA_ENABLED),a(v.default,{justify:v.default.Justify.START,className:M.default.marginBottom20},void 0,a(v.default.Child,{wrap:!0,grow:0},void 0,t),a(v.default.Child,{wrap:!0},void 0,a(S.default,{onClick:this.handleDisableMFA,size:S.default.Sizes.SMALL,color:g.ButtonColors.RED,look:g.ButtonLooks.OUTLINED},void 0,u.default.Messages.TWO_FA_REMOVE))),o,this.renderMFASMS())},t.prototype.renderDisabled=function(){return a(m.FormSection,{},void 0,a(m.FormText,{type:m.FormText.Types.DESCRIPTION,className:M.default.marginBottom20},void 0,u.default.Messages.TWO_FA_SALES_PITCH),a(m.FormItem,{},void 0,a(S.default,{onClick:this.handleEnableMFA,size:g.ButtonSizes.SMALL},void 0,u.default.Messages.TWO_FA_ENABLE)))},t.prototype.render=function(){var e=this.props.currentUser;return s.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():a(m.FormText,{type:m.FormText.Types.DESCRIPTION},void 0,u.default.Messages.TWO_FA_NOT_VERIFIED):a(m.FormText,{type:m.FormText.Types.DESCRIPTION},void 0,u.default.Messages.TWO_FA_USE_DESKTOP_APP)},t.prototype.openPhoneVerificationModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O.default.reset(),b.default.push(function(t){return i.createElement(y.default,r({},t,e))})},t}(i.PureComponent);L.displayName="TwoFactorAuth",t.default=d.default.connectStores([C.default,T.default],function(){return{currentUser:C.default.getCurrentUser(),togglingSMS:T.default.togglingSMS}})(L),e.exports=t.default},7422:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=K(n(3)),s=K(n(6)),u=K(n(9)),d=K(n(934)),f=K(n(6172)),c=K(n(166)),p=K(n(6437)),h=K(n(6075)),y=n(75),m=K(y),v=K(n(94)),E=K(n(7421)),_=K(n(513)),g=K(n(925)),S=n(45),T=K(S),C=n(511),N=K(n(71)),b=K(n(42)),O=K(n(81)),I=K(n(6434)),A=K(n(88)),M=K(n(229)),R=K(n(17)),P=K(n(13)),L=K(n(6435)),w=K(n(132)),D=K(n(6681)),U=K(n(28)),k=K(n(25)),F=K(n(6193)),x=K(n(35)),G=K(n(6103)),j=n(531),B=n(944),H=K(n(370)),V=n(0),Y=K(n(5601)),W=K(n(510)),z=K(n(553));function K(e){return e&&e.__esModule?e:{default:e}}var $=r(h.default,{}),q=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return X.call(o),o.state={multiInputFocused:!0,discriminatorError:null,passwordError:null},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){F.default.clearBackupCodes(),(0,B.accountDetailsClose)()},t.prototype.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},t.prototype.renderPasswordChanger=function(){var e=this.props,t=e.isEditingPassword,n=e.accountInfo;return t?r(C.FormItem,{className:W.default.marginTop20,title:s.default.Messages.FORM_LABEL_NEW_PASSWORD,required:!0},void 0,r(g.default,{name:"newPassword",type:"password",value:null!=n?n.newPassword:"",onChange:this.handleChangeProfileField,error:this.getError("new_password")})):r(C.FormItem,{className:W.default.marginTop20},void 0,r(T.default,{onClick:this.startEditingPassword,color:S.ButtonColors.PRIMARY,look:S.ButtonLooks.LINK,size:S.ButtonSizes.MIN},void 0,s.default.Messages.CHANGE_PASSWORD_LINK))},t.prototype.renderUsernameDiscriminator=function(){var e,t=this,n=this.props,o=n.currentUser,a=n.accountInfo,i=this.state.discriminatorError,l=this.getError("username");return i=i||this.getError("discriminator"),r(C.FormItem,{title:s.default.Messages.FORM_LABEL_USERNAME,className:W.default.marginBottom20,required:!0},void 0,r("div",{className:z.default.inputWrapper},void 0,r("div",{className:(0,u.default)(z.default.input,Y.default.multiInput,(e={},e[z.default.error]=l||i,e[z.default.focused]=this.state.multiInputFocused,e))},void 0,r(g.default,{name:"username",value:a.username||"",onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},autoFocus:!0,className:Y.default.multiInputFirst,inputClassName:Y.default.multiInputField}),r(g.default,{name:"discriminator",maxLength:4,value:a.discriminator,onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},inputPrefix:"#",disabled:!M.default.canEditDiscriminator(o),className:Y.default.multiInputLast,inputClassName:Y.default.multiInputField}),M.default.canEditDiscriminator(o)?null:r(v.default,{text:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_TOOLTIP,position:"bottom"},void 0,r(O.default,{tag:"span",className:Y.default.questionMark,onClick:this.onEditDiscriminator},void 0,r(m.default,{name:y.IconNames.QUESTION_MARK,className:Y.default.icon})))),l?r("div",{className:z.default.errorMessage},void 0,l):null,i?r("div",{className:z.default.errorMessage},void 0,i):null))},t.prototype.renderEditing=function(){var e,t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=this.props,a=o.formState,i=o.accountInfo,l=o.claimed,d=o.verified,c=o.currentUser,p=this.state.passwordError,h=d&&n?this.renderPasswordChanger():null;return r(_.default,{className:(0,u.default)(Y.default.userInfoEditing,(e={},e[Y.default.danger]=!l,e[Y.default.warning]=!d,e)),editable:!0},void 0,r(b.default,{},void 0,r(b.default.Child,{grow:0,className:Y.default.avatarColumn},void 0,r(f.default,{showIcon:!0,avatar:i.avatar,size:V.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,avatarClassName:Y.default.avatarUploaderInner,makeURL:function(e){var t={id:c.id,avatar:e,discriminator:c.discriminator},n=A.default.hasAnimatedAvatar(t)?"gif":"png";return A.default.getUserAvatarURL(t,n)}}),r(N.default,{color:N.default.Colors.RED,className:W.default.marginTop8},void 0,this.getError("avatar"))),r(b.default.Child,{},void 0,this.renderUsernameDiscriminator(),r(C.FormItem,{title:s.default.Messages.FORM_LABEL_EMAIL,className:W.default.marginBottom20,required:!0},void 0,r(g.default,{name:"email",value:i.email||"",onChange:this.handleChangeProfileField,error:this.getError("email")})),r(C.FormItem,{title:s.default.Messages.FORM_LABEL_CURRENT_PASSWORD,required:!0},void 0,r(g.default,{name:"password",type:"password",value:i.password||"",onChange:this.handleChangeProfileField,error:p||this.getError("password")})),h)),r(C.FormDivider,{className:(0,u.default)(W.default.marginTop20,W.default.marginBottom20)}),r(b.default,{justify:b.default.Justify.END,align:b.default.Align.CENTER},void 0,r(b.default.Child,{wrap:!0,grow:0},void 0,r(T.default,{look:S.ButtonLooks.OUTLINED,color:S.ButtonColors.RED,size:S.ButtonSizes.SMALL,onClick:function(){return t.handleDisableAccount(!0)}},void 0,s.default.Messages.DELETE_ACCOUNT)),r(b.default,{grow:1},void 0,l?r(T.default,{look:S.ButtonLooks.OUTLINED,color:S.ButtonColors.RED,size:S.ButtonSizes.SMALL,onClick:function(){return t.handleDisableAccount(!1)}},void 0,s.default.Messages.DISABLE_ACCOUNT):null),r(b.default.Child,{wrap:!0,grow:0},void 0,r("div",{},void 0,l?r(T.default,{look:S.ButtonLooks.LINK,color:S.ButtonColors.PRIMARY,size:S.ButtonSizes.MIN,onClick:this.handleCancelEditing},void 0,s.default.Messages.CANCEL):null)),r(b.default.Child,{wrap:!0,grow:0},void 0,r(T.default,{color:S.ButtonColors.GREEN,size:S.ButtonSizes.SMALL,onClick:this.handleSaveProfile,submitting:a===V.FormStates.SUBMITTING},void 0,s.default.Messages.USER_SETTINGS_SAVE))))},t.prototype.renderViewing=function(){var e,t=this.props,n=t.currentUser,o=t.verified;return r(_.default,{className:(0,u.default)(Y.default.userInfoViewing,(e={},e[Y.default.warning]=!o,e))},void 0,r(b.default,{},void 0,r(b.default.Child,{grow:0},void 0,r("div",{},void 0,r(d.default,{user:n,size:"xxlarge",animate:!0}))),r(b.default.Child,{},void 0,r(C.FormItem,{className:W.default.marginBottom20},void 0,r(C.FormTitle,{faded:!0,className:W.default.marginBottom4},void 0,s.default.Messages.FORM_LABEL_USERNAME),r(N.default,{className:Y.default.viewBody,selectable:!0},void 0,n.toString(),r("span",{style:{opacity:.5}},void 0,"#",n.discriminator))),r(C.FormItem,{},void 0,r(C.FormTitle,{faded:!0,className:W.default.marginBottom4},void 0,s.default.Messages.FORM_LABEL_EMAIL),r(N.default,{className:Y.default.viewBody,selectable:!0},void 0,n.email)))),r(T.default,{className:Y.default.userInfoViewingButton,size:S.ButtonSizes.SMALL,onClick:this.startEditingProfile},void 0,s.default.Messages.EDIT))},t.prototype.renderAccountSettings=function(){var e=this.props,t=e.verified,o=e.claimed,a=e.isEditingProfile,i=void 0,l=void 0;if(o){if(!t){var u=r("section",{},void 0,r("div",{className:W.default.marginBottom8},void 0,s.default.Messages.USER_SETTINGS_UNVERIFIED_ACCOUNT_BODY),r(I.default,{look:S.ButtonLooks.INVERTED,size:S.ButtonSizes.SMALL,color:T.default.Colors.YELLOW}));l=r(C.FormNotice,{type:C.FormNotice.Types.WARNING,className:W.default.marginBottom8,imageData:{src:n(6680),width:60,height:60},title:s.default.Messages.UNVERIFIED_ACCOUNT_TITLE,body:u})}}else l=r(C.FormNotice,{className:W.default.marginBottom8,imageData:{src:n(6680),width:60,height:60},title:s.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:s.default.Messages.UNCLAIMED_ACCOUNT_BODY.format()}),i=this.renderEditing(!1);return null==i&&(i=a?this.renderEditing():this.renderViewing()),r(C.FormSection,{tag:C.FormTitleTags.H2,title:s.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:Y.default.userSettingsAccount},void 0,l,i)},t.prototype.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,o=e.currentUser,a=e.theme===V.ThemeTypes.DARK?n(7403):n(7402);return r(C.FormSection,{className:(0,u.default)(Y.default.userSettingsSecurity,W.default.marginTop60),title:s.default.Messages.TWO_FA,tag:C.FormTitle.Tags.H2},void 0,r(b.default,{align:b.default.Align.STRETCH},void 0,r(b.default.Child,{wrap:!0},void 0,r(E.default,{backupCodes:t})),o.mfaEnabled?null:r(b.default,{align:b.default.Align.CENTER,basis:"323px",grow:0},void 0,r("img",{src:a,className:Y.default.userSettingsSecurityImage,alt:""}))))},t.prototype.render=function(){return this.props.hide?$:r("div",{},void 0,this.renderAccountSettings(),this.renderSecuritySettings())},t.prototype.startEditingProfile=function(){(0,B.toggleEditingProfile)(!0)},t.prototype.startEditingPassword=function(){(0,B.toggleEditingPassword)(!0)},t.prototype.handleChangeProfileField=function(e,t){var n;("discriminator"===t&&(e=e.replace(/[^0-9]/,"")),null!=t)&&(0,B.updateAccountInfo)(((n={})[t]=e,n))},t.prototype.handleAvatarChange=function(e){(0,B.updateAccountInfo)({avatar:e})},t.prototype.handleCancelEditing=function(){(0,B.toggleEditingProfile)(!1)},t.prototype.saveAccount=function(){var e=this.props,t=e.claimed,n=e.currentUser,o=e.accountInfo,a=o.username,r=o.email,i=o.password,l=o.newPassword,s=o.avatar,u=o.discriminator;(0,B.saveAccountChanges)(a,r,i,s,l,M.default.canEditDiscriminator(n)?u:null).then(function(e){t||null==e||(0,j.claimSuccess)(e)})},t.prototype.handleDisableAccountError=function(e){return new Promise(function(t,n){if(e.body.code===V.AbortCodes.INVALID_PASSWORD)return n(e);x.default.push(function(n){return i.createElement(c.default,a({header:s.default.Messages.DELETE_ACCOUNT_ERROR,onConfirm:t,confirmText:s.default.Messages.OKAY,red:!1},n),r(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,e.body.message))})})},t.prototype.handleSubmitDisableAccount=function(e,t){return(0,B.disableAccount)(e,t).then(V.NOOP,this.handleDisableAccountError)},t.prototype.handleDisableAccount=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.props.currentUser,o=k.default.getGuilds();Object.keys(o).filter(function(e){return o[e].ownerId===n.id}).length>0?x.default.push(function(e){return i.createElement(c.default,a({header:s.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:s.default.Messages.OKAY,red:!1},e),r(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,s.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}):n.isClaimed()?x.default.push(function(n){return i.createElement(p.default,a({},n,{handleSubmit:function(n){return e.handleSubmitDisableAccount(n,t)},title:t?s.default.Messages.DELETE_ACCOUNT:s.default.Messages.DISABLE_ACCOUNT,actionText:t?s.default.Messages.DELETE_ACCOUNT:s.default.Messages.DISABLE_ACCOUNT}),t?s.default.Messages.DELETE_ACCOUNT_BODY:s.default.Messages.DISABLE_ACCOUNT_BODY)}):x.default.push(function(e){return i.createElement(c.default,a({header:s.default.Messages.DELETE_ACCOUNT,confirmText:s.default.Messages.DELETE_ACCOUNT,cancelText:s.default.Messages.CANCEL,onConfirm:function(){return(0,B.disableAccount)("",!1)}},e),r(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,s.default.Messages.DELETE_ACCOUNT_BODY))})},t}(i.PureComponent),X=function(){var e=this;this.onEditDiscriminator=function(){R.default.track(V.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:V.AnalyticsPages.USER_SETTINGS,location_section:V.AnalyticsSections.SETTINGS_ACCOUNT,location_object:V.AnalyticsObjects.TOOLTIP}),H.default.setSection(V.UserSettingsSections.PREMIUM)},this.handleSaveProfile=function(){var t=e.props,n=t.currentUser,o=t.accountInfo,l=o.discriminator,u=o.password,d=!1;if(M.default.canEditDiscriminator(n)&&n.discriminator!==l){if(4!==l.length?(e.setState({discriminatorError:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_LENGTH_ERROR}),d=!0):0===parseInt(l,10)?(e.setState({discriminatorError:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_ZERO_ERROR}),d=!0):e.setState({discriminatorError:null}),0===u.length?(e.setState({passwordError:s.default.Messages.PASSWORD_REQUIRED}),d=!0):e.setState({passwordError:null}),d)return;x.default.push(function(t){return i.createElement(c.default,a({header:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_HEADER,cancelText:s.default.Messages.CANCEL,confirmText:s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_CONFIRM,red:!1,onConfirm:function(){return e.saveAccount()}},t),r(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,s.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_BODY))})}else null==e.state.discriminatorError&&null==e.state.passwordError||e.setState({discriminatorError:null,passwordError:null}),e.saveAccount()},this.debounceFocusBlur=(0,G.default)(function(t){return e.setState({multiInputFocused:t})},50)};q.displayName="UserSettingsAccount",t.default=l.default.connectStores([P.default,w.default,D.default,U.default,L.default],function(){return a({},D.default.getState(),{currentUser:P.default.getCurrentUser(),backupCodes:L.default.getBackupCodes(),hide:w.default.hidePersonalInformation,theme:U.default.theme})})(q),e.exports=t.default},7423:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=S(n(33)),s=S(n(191)),u=S(n(292)),d=S(n(165)),f=n(32),c=S(n(370)),p=n(6684),h=S(n(7312)),y=S(n(7311)),m=S(n(7310)),v=S(n(7309)),E=S(n(7308)),_=S(n(7307)),g=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=a(h.default,{},"streamer-mode"),N=a(y.default,{},"theme"),b=a(m.default,{},"messages"),O=a(v.default,{},"inputMode"),I=a(s.default,{},"volume",a(E.default,{type:"input"}),a(E.default,{type:"output"})),A=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,p=Array(s),h=0;h<s;h++)p[h]=arguments[h];return n=o=T(this,e.call.apply(e,[this].concat(p))),o.renderMenuItem=function(e){var t=e.section,n=e.label,s=e.onClick,c={key:t,label:n,action:s?function(){(0,f.closeContextMenu)(),s()}:function(){return o.handleAction(t)}};switch(t){case g.UserSettingsSections.STREAMER_MODE:return i.createElement(u.default,r({},c,{render:function(){return[C]}}));case g.UserSettingsSections.APPEARANCE:return i.createElement(u.default,r({},c,{render:function(){return[N,b]}}));case g.UserSettingsSections.VOICE:return i.createElement(u.default,r({},c,{render:function(){return[O,I]}}));case g.UserSettingsSections.EXPERIMENTS:var p=d.default.getRegisteredExperiments(),h=Object.keys(p).map(function(e){return a(_.default,{id:e},e)});return i.createElement(u.default,r({invertChildY:!0},c,{render:function(){return h}}));case"logout":return null;default:return i.createElement(l.default,c)}},o.handleAction=function(e){(0,f.closeContextMenu)(),c.default.open(e)},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className;return a("div",{className:n,style:t},void 0,(0,p.getUserSettingsSections)().map(this.renderMenuItem))},t}(i.PureComponent);A.displayName="UserSettingsCogContextMenu",t.default=A,e.exports=t.default},7424:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(77),l=P(n(3)),s=P(n(6)),u=P(n(6685)),d=P(n(75)),f=P(n(6438)),c=P(n(6137)),p=P(n(42)),h=P(n(934)),y=n(32),m=P(n(7423)),v=P(n(94)),E=P(n(225)),_=P(n(528)),g=n(6077),S=P(g),T=P(n(7306)),C=P(n(13)),N=P(n(236)),b=P(n(55)),O=P(n(370)),I=P(n(269)),A=n(0),M=P(n(5599)),R=P(n(45));function P(e){return e&&e.__esModule?e:{default:e}}function L(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function o(a,r){try{var i=t[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});e(l)}("next")})}}var w=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={webBuildOverride:null},o.getDOMNode=o.getDOMNode.bind(o),o.handleToggleSelfMute=o.handleToggleSelfMute.bind(o),o.handleToggleSelfDeaf=o.handleToggleSelfDeaf.bind(o),o.handleOpenSettings=o.handleOpenSettings.bind(o),o.handleOpenSettingsContextMenu=o.handleOpenSettingsContextMenu.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=L(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.default.shouldCheckForBuildOverride()){e.next=5;break}return e.next=3,u.default.get();case 3:t=e.sent,this.setState({webBuildOverride:t.discord_web});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.fetchWebBuildOverrides=function(){var e=L(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.default.getActiveWebOverride();case 2:t=e.sent,this.setState({webBuildOverride:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.getDOMNode=function(){return(0,i.findDOMNode)(this)},t.prototype.handleToggleSelfMute=function(){I.default.toggleSelfMute()},t.prototype.handleToggleSelfDeaf=function(){I.default.toggleSelfDeaf()},t.prototype.handleOpenSettings=function(){O.default.open(A.UserSettingsSections.ACCOUNT)},t.prototype.handleOpenSettingsContextMenu=function(e){(0,y.openContextMenu)(e,function(e){return r.createElement(m.default,e)})},t.prototype.render=function(){var e=this.props,t=e.currentUser,o=e.mute,i=e.deaf,l=e.streaming,u=e.status;if(null==t)return null;var y=this.state.webBuildOverride,m=o?s.default.Messages.UNMUTE:s.default.Messages.MUTE,C=i?s.default.Messages.UNDEAFEN:s.default.Messages.DEAFEN;return a("div",{className:M.default.container},void 0,a(E.default,{animationType:E.default.Animations.SPRING,render:function(e){return r.createElement(T.default,e)},position:E.default.Positions.TOP_LEFT,target:this.getDOMNode},void 0,a(h.default,{user:t,status:u,streaming:l,outerClassName:M.default.avatar,statusClassName:M.default.status})),a(_.default,{user:t,className:M.default.accountDetails}),a(p.default,{grow:0},void 0,a(v.default,{text:m},void 0,a("div",{},void 0,a(f.default,{className:M.default.button,size:c.default.Sizes.SMALL,value:o,inactiveSrc:n(6398),activeSrc:n(6397),onChange:this.handleToggleSelfMute,"aria-label":m}))),a(S.default,{tutorialId:"voice-conversations",position:g.TutorialIndicatorPositions.TOP,offsetY:-38,offsetX:-18},void 0,a(v.default,{text:C},void 0,a("div",{},void 0,a(f.default,{className:M.default.button,size:c.default.Sizes.SMALL,value:i,inactiveSrc:n(6666),activeSrc:n(6665),onChange:this.handleToggleSelfDeaf,"aria-label":C})))),a(v.default,{text:null!=y?s.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:y.id}):s.default.Messages.USER_SETTINGS},void 0,a(R.default,{"aria-label":s.default.Messages.USER_SETTINGS,look:R.default.Looks.BLANK,size:R.default.Sizes.NONE,className:M.default.button,innerClassName:M.default.buttonInner,onClick:this.handleOpenSettings,onContextMenu:this.handleOpenSettingsContextMenu},void 0,a(d.default,{name:d.default.Names.GEAR,width:18,height:18}),null!=y?a(d.default,{name:d.default.Names.INFO,width:9,height:9,className:M.default.hasBuildOverride}):null))))},t}(r.PureComponent);w.displayName="Account",t.default=l.default.connectStores([C.default,b.default,N.default],function(){var e=N.default.getPrimaryActivity();return{currentUser:C.default.getCurrentUser(),mute:!b.default.isEnabled()||b.default.isSelfMute()||b.default.isSelfMutedTemporarily(),deaf:b.default.isSelfDeaf(),status:N.default.getStatus(),streaming:null!=e&&e.type===A.ActivityTypes.STREAMING}})(w),e.exports=t.default},7425:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(269)),s=d(n(35)),u=d(n(381));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.dontShowAgain=function(){l.default.setSilenceWarning(!1),o.okay()},o.okay=function(){s.default.pop()},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(u.default,{title:i.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:i.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,minorText:i.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:this.dontShowAgain,onConfirm:this.okay,confirmText:i.default.Messages.OKAY,iconUrl:n(988)})},t}(r.Component);c.displayName="DisableSilence",t.default=c,e.exports=t.default},7426:function(e,t,n){"use strict";t.__esModule=!0,t.TestModeSKUButtonEnums=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=m(n(1)),l=y(n(3)),s=n(188),u=y(n(164)),d=y(n(46)),f=y(n(22)),c=m(n(32)),p=y(n(33)),h=y(n(6439));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.TestModeSKUButtonEnums={DropdownSizes:h.default.DropdownSizes,Sizes:h.default.Sizes,Colors:h.default.Colors,Looks:h.default.Looks};var E=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=v(this,e.call.apply(e,[this].concat(i))),o.renderContextMenu=function(e){var t=e.className,n=e.style,a=o.props,i=a.skus,l=a.onSKUSelect,s=i.map(function(e){return r(p.default,{label:e.name,action:function(){c.closeContextMenu(),l&&l(e)}},e.id)});return r("div",{className:t,style:n},void 0,s)},o.handleContextMenu=function(e){e.stopPropagation(),c.openContextMenu(e,o.renderContextMenu)},o.handleClick=function(){var e=o.props,t=e.onSKUSelect,n=e.primarySKU;t&&null!=n&&t(n)},v(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,o=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["skus","children","applicationId","primarySKU","onSKUSelect"]));return i.createElement(h.default,a({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:null},o),n)},t}(i.PureComponent);E.displayName="TestModeSKUButton",t.default=l.default.connectStores([u.default,d.default,f.default],function(e){var t=e.applicationId,n=(0,s.getPrimarySKUForApplication)(t,f.default,u.default);return{skus:u.default.getForApplication(t).sort(function(e,t){return null!=n&&e.id===n.id?-1:null!=n&&t.id===n.id?1:e.name>=t.name?-1:1}),primarySKU:n}})(E)},7427:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(3)),l=v(n(371)),s=v(n(35)),u=v(n(6333)),d=v(n(22)),f=v(n(76)),c=v(n(45)),p=v(n(42)),h=v(n(117)),y=v(n(6)),m=v(n(5874));function v(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.openSupportTicket=function(){window.open(l.default.getSubmitRequestURL())},t.prototype.close=function(){s.default.pop()},t.prototype.render=function(){var e=this.props,t=e.error,n=e.applicationName;return a(h.default,{size:h.default.Sizes.SMALL},void 0,a(h.default.Header,{},void 0,a(p.default.Child,{grow:1},void 0,a(f.default,{tag:f.default.Tags.H4},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_HEADER)),a(p.default.Child,{grow:0},void 0,a(h.default.CloseButton,{onClick:this.close}))),a(h.default.Content,{},void 0,a("div",{className:m.default.body},void 0,a("div",{},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_DESCRIPTION.format({link:"https://dis.gd/dispatch-error"})),a("div",{className:m.default.supportCallToAction},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_BODY),a("div",{className:m.default.errorLabel},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_ERROR_LABEL),a("div",{className:m.default.errorDetails},void 0,a("div",{},void 0,null!=n?"Game: "+n+"\n":null,null!=t.applicationId?"Game ID: "+t.applicationId+"\n":null,null!=t.branchId&&t.applicationId!==t.branchId?"Branch ID: "+t.branchId+"\n":null,null!=t.code?"Error Code: "+t.code+"\n":null,null!=t.uuid?"Unique Case ID: "+t.uuid:null)))),a(h.default.Footer,{},void 0,a(c.default,{onClick:this.openSupportTicket},void 0,y.default.Messages.DISPATCH_ERROR_MODAL_OPEN_TICKET),a(c.default,{look:c.default.Looks.LINK,onClick:this.close,color:m.default.closeLink},void 0,y.default.Messages.CLOSE)))},t}(r.Component);E.displayName="DispatchErrorModal",t.default=i.default.connectStores([u.default,d.default],function(){var e=u.default.getLastError(),t=null;if(null!=e&&null!=e.applicationId){var n=d.default.getGame(e.applicationId);null!=n&&(t=n.name)}return{error:e,applicationName:t}})(E),e.exports=t.default},7428:function(e,t,n){"use strict";t.__esModule=!0,t.surveyHide=function(e,t){o.default.dispatch({type:r.ActionTypes.SURVEY_HIDE,id:e}),a.default.track(r.AnalyticEvents.APP_NOTICE_CLOSED,{notice_type:r.NoticeTypes.SURVEY,survey_id:e,dismissed:t})};var o=i(n(2)),a=i(n(17)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7429:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=f(n(9)),s=f(n(42)),u=f(n(5876)),d=f(n(1249));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.state={width:null},o.buttonRef=o.buttonRef.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.buttonRef=function(e){null!=e&&this.setState({width:e.offsetWidth})},t.prototype.getButtonBorderStyles=function(){var e=this.state.width;if(null==e)return null;var t=1.5*e;return{height:t,marginLeft:-t/2,marginTop:-t/2,width:t}},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["children","className"]);return i.createElement("button",a({className:(0,l.default)(d.default.buttonWhiteOutlinedDefault,u.default.button,n),ref:this.buttonRef},o),r("div",{className:d.default.contentsOutlined},void 0,t),r("div",{className:u.default.buttonContents},void 0,r("div",{className:u.default.buttonBorder,style:this.getButtonBorderStyles()}),r(s.default,{align:s.default.Align.CENTER,justify:s.default.Justify.CENTER,className:u.default.buttonInner},void 0,t)))},t}(i.PureComponent);c.displayName="ButtonWithSpinningBorder",t.default=c,e.exports=t.default},7430:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(3)),s=C(n(276)),u=C(n(550)),d=C(n(22)),f=C(n(87)),c=C(n(236)),p=C(n(224)),h=n(0),y=n(559),m=C(n(121)),v=C(n(42)),E=C(n(45)),_=C(n(7429)),g=C(n(536)),S=C(n(6)),T=C(n(5875));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=40,A=[h.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED,h.ActivityJoinRequestStates.RECEIVER_INVITE_SENT];var M=function(e){function t(){return N(this,t),b(this,e.apply(this,arguments))}return O(t,e),t.prototype.render=function(){return i.createElement(E.default,a({color:E.default.Colors.WHITE,look:E.default.Looks.OUTLINED,size:E.default.Sizes.MIN,className:T.default.button},this.props))},t}(i.PureComponent);M.displayName="DismissButton";var R=function(e){function t(){return N(this,t),b(this,e.apply(this,arguments))}return O(t,e),t.prototype.render=function(){var e=this.props.game;if(null==e||null==e.splash)return null;var t=Math.min(window.innerWidth/2,800),n=e.getIconURL(t);return null==n?null:r("div",{className:T.default.gameBackground,style:{backgroundImage:"url("+n+")"}},void 0,r("div",{className:T.default.gameBackgroundOverlay}))},t}(i.PureComponent);R.displayName="GameSplashBackground";var P,L=function(e){function t(n){N(this,t);var o=b(this,e.call(this,n));return o.state={animateIn:new p.default.Value(0)},o.handleSendInvite=o.handleSendInvite.bind(o),o.handleJoin=o.handleJoin.bind(o),o.handleClose=o.handleClose.bind(o),o}return O(t,e),t.prototype.componentDidMount=function(){p.default.timing(this.state.animateIn,{toValue:1,delay:50,duration:150,easing:p.default.Easing.out(p.default.Easing.ease)}).start()},t.prototype.renderGameBackground=function(){var e=this.props.game;return null!=e?r(R,{game:e}):null},t.prototype.renderGameIcon=function(){var e=this.props.game;if(null==e||null==e.icon)return null;var t=e.getIconURL(20);return null==t?null:r("div",{className:T.default.gameIcon,style:{backgroundImage:"url("+t+")"}})},t.prototype.renderMessage=function(){var e=this.props,t=e.joinRequest,n=t.state,o=t.user.username,a=e.activity;if(null==a)return null;var i=a.name,l=void 0;switch(n){case h.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({game:i,username:o});break;case h.ActivityJoinRequestStates.RECEIVER_INVITE_SENT:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_SENT.format({game:i,username:o});break;case h.ActivityJoinRequestStates.SENDER_INVITE_WAITING:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_WAITING.format({username:o});break;case h.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_RECEIVED.format({username:o});break;case h.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:l=S.default.Messages.USER_ACTIVITY_INVITE_REQUEST_EXPIRED.format({username:o})}return r("div",{className:T.default.message},void 0,l)},t.prototype.renderButtons=function(){switch(this.props.joinRequest.state){case h.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:return r("div",{className:T.default.buttonContainer},void 0,r(E.default,{color:E.default.Colors.GREEN,size:E.default.Sizes.MIN,className:T.default.button,onClick:this.handleSendInvite},void 0,S.default.Messages.USER_ACTIVITY_RESPOND_YEAH),r(M,{onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_RESPOND_NOPE));case h.ActivityJoinRequestStates.SENDER_INVITE_WAITING:return r("div",{className:T.default.buttonContainer},void 0,r(_.default,{className:T.default.button,onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_NEVER_MIND));case h.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:return r("div",{className:T.default.buttonContainer},void 0,r(g.default,{color:E.default.Colors.GREEN,size:E.default.Sizes.MIN,className:T.default.button,onClick:this.handleJoin},void 0,S.default.Messages.USER_ACTIVITY_ACCEPT_INVITE),r(M,{onClick:this.handleClose},void 0,S.default.Messages.USER_ACTIVITY_NEVER_MIND));case h.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:return r("div",{className:T.default.buttonContainer},void 0,r(M,{onClick:this.handleClose},void 0,S.default.Messages.OKAY));default:return null}},t.prototype.render=function(){return null==this.props.activity?null:r(v.default,{className:T.default.notice},void 0,this.renderGameBackground(),r(p.default.div,{style:{transform:[{translateY:this.state.animateIn.interpolate({inputRange:[0,1],outputRange:["-15px","0px"]})}]},className:T.default.noticeBody},void 0,this.renderGameIcon(),this.renderMessage(),this.renderButtons()))},t.prototype.handleSendInvite=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.user.id;(0,y.invite)(n,t)},t.prototype.handleJoin=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.secret,o=e.user.id;null!=n&&m.default.joinWithSecret(t,n),(0,y.close)(o)},t.prototype.handleClose=function(){(0,y.close)(this.props.joinRequest.user.id)},t}(i.Component);L.displayName="ActivityJoinRequestNotice",t.default=(P=l.default.connectStores([u.default,d.default],function(){var e=u.default.getRequest(),t=void 0;return null!=e&&(t=A.includes(e.state)?c.default.getApplicationActivity(e.applicationId):f.default.getApplicationActivity(e.user.id,e.applicationId)),{joinRequest:e,game:e&&d.default.getGame(e.applicationId),activity:t}})(L),function(e){function t(){var n,o;N(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=b(this,e.call.apply(e,[this].concat(r))),o.state={show:new p.default.Value(0),hiding:!1},b(o,n)}return O(t,e),t.prototype.componentDidAppear=function(){this.state.show.setValue(1)},t.prototype.componentWillEnter=function(e){this.animateTo(1,e)},t.prototype.componentWillLeave=function(e){this.setState({hiding:!0}),this.animateTo(0,e)},t.prototype.animateTo=function(e,t){p.default.timing(this.state.show,{toValue:e,duration:100,easing:p.default.Easing.out(p.default.Easing.ease)}).start(t)},t.prototype.shouldComponentUpdate=function(e){return!this.state.hiding&&(0,s.default)(this.props,e)},t.prototype.render=function(){return r(p.default.div,{style:{height:this.state.show.interpolate({inputRange:[0,1],outputRange:[0,I]})},className:T.default.animationWrapper},void 0,i.createElement(P,this.props))},t}(i.Component)),e.exports=t.default},7431:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=re(n(1)),s=ae(n(3)),u=ae(n(7)),d=ae(n(6334)),f=ae(n(18)),c=ae(n(13)),p=ae(n(55)),h=ae(n(65)),y=ae(n(6687)),m=ae(n(6686)),v=ae(n(165)),E=ae(n(7430)),_=n(0),g=n(270),S=ae(n(35)),T=ae(n(558)),C=ae(n(6176)),N=ae(n(370)),b=ae(n(167)),O=ae(n(6207)),I=re(n(995)),A=ae(n(560)),M=re(n(277)),R=n(7428),P=ae(n(6054)),L=ae(n(930)),w=ae(n(233)),D=ae(n(17)),U=ae(n(371)),k=ae(n(11)),F=ae(n(229)),x=ae(n(524)),G=ae(n(380)),j=n(993),B=n(531),H=ae(n(7427)),V=ae(n(82)),Y=n(7426),W=ae(Y),z=ae(n(75)),K=ae(n(81)),$=ae(n(144)),q=ae(n(42)),X=n(226),Q=ae(n(145)),J=ae(n(6)),Z=ae(n(5873)),ee=ae(n(7425)),te=ae(n(512)),ne=n(78),oe=ae(n(6059));function ae(e){return e&&e.__esModule?e:{default:e}}function re(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var ie=function(){return i("div",{className:Z.default.noticeDanger},void 0,i(K.default,{className:Z.default.dismiss,onClick:function(){T.default.dismiss(),S.default.push(ee.default)},"aria-label":J.default.Messages.DISMISS}),J.default.Messages.NOTICE_NO_INPUT_DETECTED,i(Q.default,{className:Z.default.button,href:U.default.getArticleURL(_.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,J.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};ie.displayName="AudioIssueNoticeHelpdesk";var le=function(){return i("div",{className:Z.default.noticeDanger},void 0,i(K.default,{className:Z.default.dismiss,onClick:function(){T.default.dismiss(),S.default.push(ee.default)},"aria-label":J.default.Messages.DISMISS}),J.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,i(Q.default,{className:Z.default.button,onClick:function(){(0,g.pushLayer)(_.Layers.USER_SETTINGS),N.default.setSection(_.UserSettingsSections.VOICE)}},void 0,J.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};le.displayName="AudioIssueNoticeMicTester";var se=(0,oe.default)(k.default.embedded?y.default:m.default,((a={})[_.ExperimentTypes.NONE]=ie,a[_.ExperimentTypes.USER]=((o={})[_.ExperimentBuckets.NOT_ELIGIBLE]=ie,o[_.ExperimentBuckets.CONTROL]=ie,o[_.ExperimentBuckets.TREATMENT_1]=le,o),a)),ue=i(ie,{}),de=i(se,{});t.default=s.default.connectStores([d.default,c.default],function(){return{currentUser:c.default.getCurrentUser(),notice:d.default.getNotice()}})(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.notice;null!=e&&this.trackNoticeDisplayed(e.type)},t.prototype.componentDidUpdate=function(e){var t=e.notice,n=this.props.notice;if(null==n||null!=t&&t.type===n.type||this.trackNoticeDisplayed(n.type),null!=n&&null!=t&&n.type===_.NoticeTypes.SURVEY&&t.type===_.NoticeTypes.SURVEY){var o=n.metadata;if(null!=o&&null!=t.metadata&&o.id!==t.metadata.id){var a=v.default.getEligibleExperiment(o.id);null!=a&&P.default.trigger(a)}}},t.prototype.trackNoticeDisplayed=function(e){D.default.track(_.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})},t.prototype.dismiss=function(){T.default.dismiss()},t.prototype.renderNotice=function(){var e=this,t=this.props.notice;if(null==t)return null;switch(t.type){case _.NoticeTypes.GENERIC:return i("div",{className:Z.default.noticeDefault},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),t.message,null!=t.buttonText?i("button",{className:Z.default.button,onClick:t.callback},void 0,t.buttonText):null);case _.NoticeTypes.VOICE_DISABLED:return i("div",{className:Z.default.noticeDefault},void 0,i(K.default,{className:Z.default.dismiss,onClick:function(){null!=h.default.getVoiceChannelId()&&b.default.clearVoiceChannel(),e.dismiss()},"aria-label":J.default.Messages.DISMISS}),J.default.Messages.NOTICE_CONNECTION_CONFLICT,i("button",{className:Z.default.button,onClick:function(){var e=h.default.getVoiceChannelId();if(null!=e){var t=f.default.getChannel(e);null!=t&&b.default.selectVoiceChannel(t.getGuildId(),e)}}},void 0,J.default.Messages.RECONNECT));case _.NoticeTypes.SPOTIFY_AUTO_PAUSED:var n=V.default.get(_.PlatformTypes.SPOTIFY);return i("div",{className:Z.default.noticeDanger},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),i("img",{alt:"",className:Z.default.platformIcon,src:n.icon.white}),J.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,i("button",{className:Z.default.button,onClick:function(){return N.default.open(_.UserSettingsSections.VOICE)}},void 0,J.default.Messages.VOICE_SETTINGS),i(Q.default,{className:Z.default.textLinkSmall,href:U.default.getArticleURL(_.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,J.default.Messages.NOTICE_WHATS_THIS));case _.NoticeTypes.UNCLAIMED_ACCOUNT:return i("div",{className:Z.default.noticeDefault},void 0,J.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,i("button",{className:Z.default.button,onClick:function(){return(0,B.open)()}},void 0,J.default.Messages.CLAIM_ACCOUNT));case _.NoticeTypes.UNVERIFIED_ACCOUNT:return i("div",{className:Z.default.noticeDefault},void 0,J.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,i("button",{className:Z.default.button,onClick:function(){var t=e.props.currentUser;L.default.verifyResend(),w.default.show({title:J.default.Messages.VERIFICATION_EMAIL_TITLE,body:J.default.Messages.VERIFICATION_EMAIL_BODY.format({email:t.email}),minorText:J.default.Messages.CHANGE_EMAIL,onConfirmSecondary:B.open})}},void 0,J.default.Messages.RESEND));case _.NoticeTypes.DOWNLOAD_NAG:return i("div",{className:Z.default.noticeDefault},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),J.default.Messages.NOTICE_NATIVE_APPS,i("i",{className:Z.default.iconApple}),i("i",{className:Z.default.iconAndroid}),i("i",{className:Z.default.iconWindows}),i("button",{className:Z.default.button,onClick:function(){return S.default.push(G.default,{source:"Top Bar Nag"})}},void 0,J.default.Messages.DOWNLOAD));case _.NoticeTypes.SCHEDULED_MAINTENANCE:return null==t.metadata?null:i("div",{className:Z.default.noticeInfo},void 0,i(K.default,{className:Z.default.dismiss,onClick:function(){return C.default.ackScheduledMaintenance()},"aria-label":J.default.Messages.DISMISS}),J.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(t.metadata),i(Q.default,{className:Z.default.button,href:_.STATUS_PAGE_ENDPOINT+"/incidents/"+t.metadata.id},void 0,J.default.Messages.LEARN_MORE));case _.NoticeTypes.NO_INPUT_DETECTED:return p.default.supports(ne.Features.LOOPBACK)?de:ue;case _.NoticeTypes.HARDWARE_MUTE:if(null==t.metadata)return null;var o=t.metadata,a=o.vendor,r=o.model;return i("div",{className:Z.default.noticeDanger},void 0,J.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:a.name,modelName:r.name}),i(Q.default,{className:Z.default.button,href:r.url,target:"_blank",rel:"noreferrer noopener"},void 0,J.default.Messages.SUPPORT));case _.NoticeTypes.STREAMER_MODE:return i("div",{className:Z.default.noticeStreamerMode},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),J.default.Messages.NOTICE_STREAMER_MODE_TEXT,i("button",{className:Z.default.button,onClick:function(){return O.default.setEnabled(!1)}},void 0,J.default.Messages.DISABLE));case _.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS:if(!Array.isArray(t.metadata))return null;var l=u.default.uniq(t.metadata.map(function(e){return V.default.get(e.type)})),s=l.map(function(e){return e.name}),d=s[0],c=s[1],y=s[2],m=void 0;return m=1===s.length?J.default.Messages.NOTICE_ONE_PLATFORM_ACCOUNT.format({a:d}):2===s.length?J.default.Messages.NOTICE_TWO_PLATFORM_ACCOUNTS.format({a:d,b:c}):3===s.length?J.default.Messages.NOTICE_THREE_PLATFORM_ACCOUNTS.format({a:d,b:c,c:y}):J.default.Messages.NOTICE_FOUR_OR_MORE_PLATFORM_ACCOUNTS.format({a:d,b:c,c:y}),i("div",{className:Z.default.noticeBrand},void 0,i(K.default,{className:Z.default.dismiss,onClick:function(){e.dismiss(),A.default.ignore()},"aria-label":J.default.Messages.DISMISS}),l.map(function(e){return i("img",{alt:e.name,className:Z.default.platformIcon,src:e.icon.color},e.type)}),m,i("button",{className:Z.default.button,onClick:function(){return A.default.changeDisplayType(_.DetectedPlatformAccountsDisplayTypes.MODAL)}},void 0,J.default.Messages.SETUP));case _.NoticeTypes.SURVEY:var v=t.metadata;return null==v?null:i("div",{className:Z.default.noticeSurvey,style:null!=v.noticeColor?{backgroundColor:v.noticeColor}:null},void 0,i(K.default,{className:Z.default.dismiss,onClick:function(){(0,R.surveyHide)(v.id,!0)},"aria-label":J.default.Messages.DISMISS}),v.noticeContent,i("button",{className:Z.default.button,onClick:function(){var e="function"==typeof v.url?v.url():v.url;window.open(e,"_blank"),(0,R.surveyHide)(v.id,!1)}},void 0,v.noticeButton));case _.NoticeTypes.CORRUPT_INSTALLATION:return i("div",{className:Z.default.noticeDanger},void 0,J.default.Messages.NOTICE_CORRUPT_INSTALLATION,i(Q.default,{className:Z.default.button,href:U.default.getArticleURL(_.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,J.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case _.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return i("div",{className:Z.default.noticeDefault},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),J.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,i("button",{className:Z.default.button,onClick:function(){return S.default.push(G.default,{source:"Video unsupported browser"})}},void 0,J.default.Messages.DOWNLOAD));case _.NoticeTypes.ACTIVITY_JOIN_REQUEST:return i(E.default,{},t.type);case _.NoticeTypes.CONNECT_SPOTIFY:return i("div",{className:Z.default.noticeSpotify},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),i(z.default,{name:z.default.Names.PLATFORM_SPOTIFY,className:Z.default.platformIcon}),J.default.Messages.NOTICE_CONNECT_SPOTIFY,i("button",{className:Z.default.button,onClick:function(){return(0,j.authorize)(_.PlatformTypes.SPOTIFY,"Notice Bar")}},void 0,J.default.Messages.CONNECT));case _.NoticeTypes.PREMIUM_PROMO:return i("div",{className:Z.default.noticePremium},void 0,i("span",{className:Z.default.premiumLogo}),i("span",{className:Z.default.premiumText},void 0,J.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),i("button",{className:Z.default.premiumAction,onClick:function(){D.default.track(_.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:_.AnalyticsSections.NOTIFICATION_BAR,location_object:_.AnalyticsObjects.BUTTON_CTA}),N.default.open(_.UserSettingsSections.PREMIUM)}},void 0,J.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),i(K.default,{tag:"span",className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}));case _.NoticeTypes.MFA_SMS_BACKUP:return i("div",{className:Z.default.noticeInfo},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),J.default.Messages.NOTICE_MFA_SMS_BACKUP,i("button",{className:Z.default.button,onClick:function(){return N.default.open(_.UserSettingsSections.ACCOUNT)}},void 0,J.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case _.NoticeTypes.DISPATCH_ERROR:if(null==t.metadata)return null;var g=t.metadata.error;return i("div",{className:Z.default.noticeDanger},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),g.displayMessage,i("button",{className:Z.default.button,onClick:function(){return S.default.push(H.default)}},void 0,J.default.Messages.LEARN_MORE));case _.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==t.metadata)return null;var T=t.metadata,P=T.progress,k=T.total,ee=T.name;return i("div",{className:Z.default.noticeInfo},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),i(q.default,{justify:q.default.Justify.CENTER},void 0,null!=ee?J.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+ee,progress:""+P,total:""+k}):J.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+P,total:""+k}),i($.default,{type:$.default.Type.PULSING_ELLIPSIS,className:Z.default.ellipsis})));case _.NoticeTypes.APPLICATION_TEST_MODE:return null==t.metadata?null:i("div",{className:Z.default.noticeDefault},void 0,i(q.default,{justify:q.default.Justify.CENTER,align:q.default.Align.CENTER},void 0,i("div",{},void 0,J.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:t.metadata.applicationName})),i(W.default,{dropdownSize:Y.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:Z.default.testModeSKUSelector,color:Y.TestModeSKUButtonEnums.Colors.WHITE,look:Y.TestModeSKUButtonEnums.Looks.OUTLINED,size:Y.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return M.goToApplicationStoreListing(e.id,{analyticsSource:{page:null,section:_.AnalyticsSections.NOTIFICATION_BAR,object:_.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:t.metadata.applicationId},void 0,J.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),i(K.default,{className:Z.default.dismiss,onClick:I.reset,"aria-label":J.default.Messages.DISMISS})));case _.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED:var te=t.metadata.plan;return i("div",{className:Z.default.noticePremiumGrandfathered},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),i(z.default,{name:z.default.Names.NITRO_WHEEL,className:Z.default.premiumIcon}),J.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED.format({date:F.default.getGrandfatheredEndDate(te)}),i(X.Link,{className:Z.default.button,to:{pathname:_.Routes.APPLICATION_STORE_BROWSE,search:x.default.formatSearch({type:_.StoreApplicationCategorySelector.PREMIUM}),state:{scrollRestoration:!1}}},void 0,J.default.Messages.PREMIUM_FEATURE_VIEW_APPLICATIONS));case _.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING:var oe=t.metadata.plan,ae=F.default.getGrandfatheredEndDate(oe),re=F.default.getDaysToGrandfatheredEnd(oe);return i("div",{className:Z.default.noticePremiumGrandfathered},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),i(z.default,{name:z.default.Names.NITRO_WHEEL,className:Z.default.premiumIcon}),J.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING.format({numDays:re,date:ae}));case _.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED:return i("div",{className:Z.default.noticePremiumGrandfathered},void 0,i(K.default,{className:Z.default.dismiss,onClick:this.dismiss,"aria-label":J.default.Messages.DISMISS}),i(z.default,{name:z.default.Names.NITRO_WHEEL,className:Z.default.premiumIcon}),J.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED,i("button",{className:Z.default.button,onClick:function(){D.default.track(_.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:_.AnalyticsSections.NOTIFICATION_BAR,location_object:_.AnalyticsObjects.BUTTON_CTA}),N.default.open(_.UserSettingsSections.PREMIUM)}},void 0,J.default.Messages.LEARN_MORE));default:return null}},t.prototype.render=function(){return i(te.default,{component:"div"},void 0,this.renderNotice())},t}(l.PureComponent)),e.exports=t.default},7432:function(e,t,n){"use strict";t.__esModule=!0;var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.notices=t}return e.prototype.getStores=function(){var e=[];return this.notices.forEach(function(t){return t.Store&&e.push(t.Store)}),e},e.prototype.getNotice=function(e,t,n){return this.notices.find(function(o){var a=o.Store,r=o.Type,i=e[r];return null!=a?a.channelNoticePredicate(i,t,n):i})},e}();t.default=o,e.exports=t.default},7433:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),y(n(9))),i=y(n(6)),l=y(n(45)),s=n(6194),u=n(6124),d=n(6688),f=n(6160),c=n(0),p=y(n(6440)),h=y(n(5574));function y(e){return e&&e.__esModule?e:{default:e}}var m=function(){var e=d.QUICKSWITCHER_SHOW.binds[0].split("+").map(function(e){return f.PRETTY_KEYS[e]?f.PRETTY_KEYS[e]():e}).join(" + ");return a("div",{className:(0,r.default)(h.default.channelNotice,h.default.quickswitcher)},void 0,a(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:h.default.close,onClick:function(){return(0,s.hideNotice)(c.ChannelNoticeTypes.QUICKSWITCHER)}}),a("div",{className:h.default.message},void 0,a("div",{},void 0,i.default.Messages.QUICKSWITCHER_NOTICE),a("button",{className:h.default.btn,onClick:function(){return(0,u.show)("CHANNEL_NOTICE")}},void 0,e)))};m.displayName="QuickSwitcherNotice",m.Type=c.ChannelNoticeTypes.QUICKSWITCHER,m.Store=p.default,t.default=m,e.exports=t.default},7434:function(e,t,n){"use strict";t.__esModule=!0;var o=u(n(3)),a=u(n(2)),r=u(n(13)),i=u(n(118)),l=u(n(83)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(){return!0}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default),this.syncWith([i.default],d)},t.prototype.channelNoticePredicate=function(e,t,n){var o=Date.now()-n>=s.CHANNEL_NOTICE_SHOW_DELAY,a=r.default.getCurrentUser();return null!=a&&(e&&o&&l.default.can(s.Permissions.ADMINISTRATOR,a,t))},t}(o.default.Store);t.default=new f(a.default),e.exports=t.default},7435:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),_(n(60))),i=_(n(54)),l=_(n(66)),s=_(n(9)),u=_(n(6)),d=_(n(45)),f=_(n(6093)),c=_(n(65)),p=_(n(7434)),h=_(n(146)),y=_(n(35)),m=n(6194),v=n(0),E=_(n(5574));function _(e){return e&&e.__esModule?e:{default:e}}var g=(0,i.default)({displayName:"InviteNotice",mixins:[l.default],propTypes:{guild:r.default.object.isRequired,experiment:r.default.object},handleInvite:function(){var e=this.props.guild;y.default.push(f.default,{guild:e,source:v.InstantInviteSources.INVITE_NOTICE})},handleClose:function(){var e=c.default.getChannelId();(0,m.hideNotice)(v.ChannelNoticeTypes.INVITE),e&&h.default.sendBotMessage(e,u.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:u.default.Messages.INVITE_PEOPLE}))},render:function(){return a("div",{className:(0,s.default)(E.default.channelNotice,E.default.invite)},void 0,a(d.default,{look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,className:E.default.close,onClick:this.handleClose}),a("div",{className:E.default.message},void 0,a("div",{},void 0,u.default.Messages.INVITE_NOTICE_MESSAGE),a("div",{},void 0,u.default.Messages.INVITE_NOTICE_MESSAGE_PART_2),a("button",{className:E.default.btn,onClick:this.handleInvite},void 0,u.default.Messages.INVITE_PEOPLE)))}});g.Type=v.ChannelNoticeTypes.INVITE,g.Store=p.default,t.default=g,e.exports=t.default},7436:function(e,t,n){"use strict";t.__esModule=!0;var o=s(n(3)),a=s(n(13)),r=s(n(119)),i=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=!1;function d(){var e=a.default.getCurrentUser();if(null==e||e.mfaEnabled===u)return!1;u=e.mfaEnabled}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(a.default,r.default),this.syncWith([a.default,r.default],d)},t.prototype.channelNoticePredicate=function(e,t){return t.mfaLevel===l.MFALevels.ELEVATED&&!u&&r.default.hasElevatedPermissions(t.id)},t}(o.default.Store);t.default=new f(i.default,function(e){switch(e){case l.ActionTypes.CONNECTION_OPEN:return d();case l.ActionTypes.GUILD_UPDATE:return!0;default:return!1}}),e.exports=t.default},7437:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(6)),s=p(n(370)),u=p(n(7436)),d=n(6194),f=n(0),c=p(n(5574));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleEnableMFA=function(){s.default.open(f.UserSettingsSections.ACCOUNT)},t.prototype.componentWillUnmount=function(){(0,d.hideNotice)(f.ChannelNoticeTypes.MFA_WARNING)},t.prototype.render=function(){return a("div",{className:(0,i.default)(c.default.channelNotice,c.default.guildMFAWarning)},void 0,a("div",{className:c.default.message},void 0,l.default.Messages.TWO_FA_GUILD_MFA_WARNING.format({onClick:this.handleEnableMFA})))},t}(r.PureComponent);h.Type=f.ChannelNoticeTypes.MFA_WARNING,h.Store=u.default,h.displayName="GuildMFAWarning",t.default=h,e.exports=t.default},7438:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=g(n(60)),l=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),g(n(54))),s=g(n(7)),u=g(n(3)),d=g(n(66)),f=g(n(6692)),c=g(n(7437)),p=n(6194),h=g(n(7435)),y=g(n(7433)),m=g(n(7432)),v=g(n(190)),E=n(0),_=g(n(5574));function g(e){return e&&e.__esModule?e:{default:e}}var S=new m.default([c.default,h.default,y.default]),T=s.default.debounce(v.default.trackWithMetadata,500),C=(0,l.default)({displayName:"ChannelNotices",mixins:[d.default,u.default.LazyStoreListenerMixin.apply(u.default,[f.default].concat(S.getStores()))],propTypes:{guild:i.default.object.isRequired},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=f.default.getState(),t=e.noticeStates,n=e.lastHidden,o=this.props.guild;return r({},e,{Notice:S.getNotice(t,o,n)})},componentDidMount:function(){var e=this.props.guild,t=this.state.Notice;null!=t&&((0,p.showNotice)(t.Type,e),T(E.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:t.Type,guild_id:e.id}))},componentDidUpdate:function(e,t){var n=this.props.guild,o=this.state.Notice;null==o||e.guild.id===n.id&&null!=t.Notice&&t.Notice.Type===o.Type||((0,p.showNotice)(o.Type,n),T(E.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:o.Type,guild_id:n.id}))},render:function(){var e=this.props.guild,t=this.state.Notice;return null==t?null:a("div",{className:_.default.channelNotices},void 0,a(t,{guild:e}))}});t.default=C,e.exports=t.default},7450:function(e,t,n){e.exports=n.p+"858df73648ac3877a22156da2e69a5fd.svg"},7451:function(e,t,n){e.exports=n.p+"50f8ef2cdb4e7697a4202fb9c6d0e1fc.svg"},7452:function(e,t,n){e.exports=n.p+"6afcd5d6a8c9d467e27e1bb48755dce0.svg"},7453:function(e,t,n){e.exports=n.p+"6a711bd91522e885413464a88a4e3c69.svg"},7454:function(e,t,n){e.exports=n.p+"00de6b3cbb5c4dbcec817c91262f5f5b.svg"},7455:function(e,t,n){e.exports=n.p+"bc11a9099f5729962c095cb49d5042f6.svg"},7456:function(e,t,n){e.exports=n.p+"52bc30f8a2b1a51f808a785819ca00b5.svg"},7457:function(e,t,n){e.exports=n.p+"2fc862597335421b35a79aa9aaba4a86.svg"},7458:function(e,t,n){e.exports=n.p+"9a93097ab591379729c68f15a17b26af.svg"},7459:function(e,t,n){e.exports=n.p+"d4ff0d2af68cd1119f0d16ef79d1369c.svg"},7460:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=P(n(1)),l=R(n(3)),s=R(n(7)),u=R(n(6)),d=R(n(41)),f=R(n(13)),c=R(n(118)),p=R(n(235)),h=R(n(377)),y=R(n(6138)),m=R(n(6511)),v=R(n(1007)),E=R(n(6167)),_=R(n(35)),g=R(n(6537)),S=P(n(1011)),T=R(n(166)),C=R(n(71)),N=R(n(6093)),b=R(n(14)),O=R(n(272)),I=n(0),A=n(6699),M=R(A);function R(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var L=r(A.PopoutMenuSeparator,{}),w=r(A.PopoutMenuSeparator,{},"separator"),D=r(A.PopoutMenuSeparator,{}),U=r(A.PopoutMenuSeparator,{}),k=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return s.default.bindAll(o,["close","handleOpenInviteModal","handleOpenGuildSettings","handleCreateChannel","handleCreateCategory","handleOpenNotificationSettings","handleOpenPrivacySettings","handleOpenChangeNickname","handleLeaveGuild","handleConfirmLeaveGuild","handleToggleMuted"]),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.close=function(){this.props.onClose()},t.prototype.handleOpenInviteModal=function(){var e=this.props.guild;_.default.push(N.default,{guild:e,source:I.InstantInviteSources.GUILD_HEADER}),this.close()},t.prototype.handleOpenGuildSettings=function(){var e=this.props.guild;h.default.open(e.id,I.GuildSettingsSections.OVERVIEW),this.close()},t.prototype.handleCreateChannel=function(){E.default.open(null,this.props.guild.id,null,null),this.close()},t.prototype.handleCreateCategory=function(){E.default.open(I.ChannelTypes.GUILD_CATEGORY,this.props.guild.id,null,null),this.close()},t.prototype.handleOpenNotificationSettings=function(){y.default.open(this.props.guild.id),this.close()},t.prototype.handleOpenPrivacySettings=function(){m.default.open(this.props.guild.id),this.close()},t.prototype.handleOpenChangeNickname=function(){v.default.open(this.props.guild.id,b.default.getId()),this.close()},t.prototype.handleStopLurking=function(){S.stopLurking(),d.default.transitionTo(I.Routes.GUILD_DISCOVERY)},t.prototype.handleLeaveGuild=function(){var e=this;_.default.push(function(t){return i.createElement(T.default,a({header:u.default.Messages.LEAVE_SERVER_TITLE.format({name:e.props.guild.toString()}),confirmText:u.default.Messages.LEAVE_SERVER,cancelText:u.default.Messages.CANCEL,onConfirm:e.handleConfirmLeaveGuild},t),r(C.default,{size:C.default.Sizes.MEDIUM,color:C.default.Colors.PRIMARY},void 0,u.default.Messages.LEAVE_SERVER_BODY.format({name:e.props.guild.toString()})))})},t.prototype.handleConfirmLeaveGuild=function(){h.default.leaveGuild(this.props.guild.id)},t.prototype.handleToggleMuted=function(){g.default.toggleCollapseGuild(this.props.guild.id)},t.prototype.render=function(){var e=this.props,t=e.isCollapsed,o=e.canInvite,a=e.canAccessSettings,l=e.canManageChannels,s=e.canEditNickname,d=e.isOwner,f=e.isLurking,c=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["isCollapsed","canInvite","canAccessSettings","canManageChannels","canEditNickname","isOwner","isLurking"]),p=void 0,h=void 0,y=void 0,m=void 0,v=void 0,E=void 0,_=void 0;return o&&(p=r(A.PopoutMenuItem,{onClick:this.handleOpenInviteModal,type:"invite"},void 0,r(A.PopoutMenuIcon,{icon:n(7459)}),r(A.PopoutMenuItemLabel,{},void 0,u.default.Messages.INVITE_PEOPLE))),a&&(h=r(A.PopoutMenuItem,{onClick:this.handleOpenGuildSettings},void 0,r(A.PopoutMenuIcon,{icon:n(7458)}),r(A.PopoutMenuItemLabel,{},void 0,u.default.Messages.SERVER_SETTINGS))),l&&(v=r(A.PopoutMenuItem,{onClick:this.handleCreateChannel},void 0,r(A.PopoutMenuIcon,{icon:n(7457)}),r(A.PopoutMenuItemLabel,{},void 0,u.default.Messages.CREATE_CHANNEL)),E=r(A.PopoutMenuItem,{onClick:this.handleCreateCategory},void 0,r(A.PopoutMenuIcon,{icon:n(7456)}),r(A.PopoutMenuItemLabel,{},void 0,u.default.Messages.CREATE_CATEGORY)),_=L),s&&(y=r(A.PopoutMenuItem,{onClick:this.handleOpenChangeNickname},"popout-item",r(A.PopoutMenuIcon,{icon:n(7455)}),r(A.PopoutMenuItemLabel,{},void 0,u.default.Messages.CHANGE_NICKNAME))),d||(m=[f?null:w,r(A.PopoutMenuItem,{onClick:f?this.handleStopLurking:this.handleLeaveGuild,type:"leave"},"popout-item",r(A.PopoutMenuIcon,{icon:n(7454)}),r(A.PopoutMenuItemLabel,{},void 0,u.default.Messages.LEAVE_SERVER))]),f?i.createElement(M.default,c,m):i.createElement(M.default,c,p,p?D:null,h,v,E,_,r(A.PopoutMenuItem,{onClick:this.handleOpenNotificationSettings},void 0,r(A.PopoutMenuIcon,{icon:n(7453)}),r(A.PopoutMenuItemLabel,{},void 0,u.default.Messages.NOTIFICATION_SETTINGS)),r(A.PopoutMenuItem,{onClick:this.handleOpenPrivacySettings},void 0,r(A.PopoutMenuIcon,{icon:n(7452)}),r(A.PopoutMenuItemLabel,{},void 0,u.default.Messages.PRIVACY_SETTINGS)),U,y,r(A.PopoutMenuItem,{onClick:this.handleToggleMuted},void 0,r(A.PopoutMenuIcon,{icon:n(t?7451:7450)}),r(A.PopoutMenuItemLabel,{},void 0,t?u.default.Messages.SHOW_MUTED_CHANNELS:u.default.Messages.HIDE_MUTED_CHANNELS)),m)},t}(i.PureComponent);k.displayName="GuildHeaderPopout",t.default=l.default.connectStores([c.default,f.default,O.default,p.default],function(e){var t=e.guild,n=f.default.getCurrentUser();return{user:n,isCollapsed:O.default.isGuildCollapsed(t.id),canInvite:c.default.can(I.Permissions.CREATE_INSTANT_INVITE,t),canAccessSettings:c.default.can(I.Permissions.MANAGE_GUILD,t)||c.default.can(I.Permissions.MANAGE_ROLES,t)||c.default.can(I.Permissions.BAN_MEMBERS,t)||c.default.can(I.Permissions.MANAGE_NICKNAMES,t)||c.default.can(I.Permissions.MANAGE_EMOJIS,t)||c.default.can(I.Permissions.MANAGE_WEBHOOKS,t)||c.default.can(I.Permissions.VIEW_AUDIT_LOG,t),canManageChannels:c.default.can(I.Permissions.MANAGE_CHANNELS,t),canEditNickname:c.default.can(I.Permissions.CHANGE_NICKNAME,t)||c.default.can(I.Permissions.MANAGE_NICKNAMES,t),isOwner:t.isOwner(n),isLurking:p.default.isLurking(t.id)}})(k),e.exports=t.default},7461:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(5889));function l(e){return e&&e.__esModule?e:{default:e}}var s=a("g",{fill:"none",fillRule:"evenodd"},void 0,a("path",{d:"M0 0h18v18H0"}),a("path",{stroke:"#FFF",d:"M4.5 4.5l9 9",strokeLinecap:"round"}),a("path",{stroke:"#FFF",d:"M13.5 4.5l-9 9",strokeLinecap:"round"})),u=function(e){var t,n=e.open;return a("svg",{width:"18",height:"18",className:(0,r.default)(i.default.button,(t={},t[i.default.open]=n,t))},void 0,s)};u.displayName="DropdownButton",t.default=u,e.exports=t.default},7462:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(6)),s=n(6077),u=_(s),d=_(n(7461)),f=n(32),c=_(n(6141)),p=_(n(7460)),h=_(n(94)),y=_(n(75)),m=_(n(225)),v=n(0),E=_(n(5886));function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.renderPopout=o.renderPopout.bind(o),o.handleContextMenu=o.handleContextMenu.bind(o),o.handleOpen=o.handleOpen.bind(o),o.handleClose=o.handleClose.bind(o),o.state={open:!1},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderPopout=function(e){return i.createElement(p.default,r({},e,{guild:this.props.guild}))},t.prototype.handleOpen=function(){this.setState({open:!0})},t.prototype.handleClose=function(){this.setState({open:!1})},t.prototype.handleContextMenu=function(e){var t=this.props.guild;(0,f.openContextMenu)(e,function(e){return i.createElement(c.default,r({},e,{type:v.ContextMenuTypes.GUILD_HEADER,guild:t}))})},t.prototype.render=function(){var e=this.props.guild,t=this.state.open,n=void 0;return e.hasFeature(v.GuildFeatures.VERIFIED)&&(n=a(h.default,{text:l.default.Messages.GUILD_VERIFIED,position:h.default.Positions.BOTTOM},void 0,a(y.default,{className:E.default.verified,name:y.default.Names.VERIFIED,inner:v.Colors.PRIMARY_DARK,checkmark:v.Colors.WHITE}))),a(m.default,{uniqueId:"guild-header",animationType:m.default.Animations.SPRING,render:this.renderPopout,position:m.default.Positions.BOTTOM,onOpen:this.handleOpen,onClose:this.handleClose},void 0,a("div",{className:E.default.container,onContextMenu:this.handleContextMenu},void 0,a("header",{className:E.default.header},void 0,n,a("span",{className:E.default.name},void 0,e.toString()),a(u.default,{tutorialId:"server-settings",position:s.TutorialIndicatorPositions.BOTTOM,offsetY:-30,offsetX:-18},void 0,a(d.default,{open:t})))))},t}(i.PureComponent);g.displayName="GuildHeader",t.default=g,e.exports=t.default},7463:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=P(n(3)),s=P(n(6344)),u=P(n(42)),d=P(n(7462)),f=P(n(6698)),c=P(n(7438)),p=n(32),h=P(n(6141)),y=P(n(935)),m=P(n(534)),v=P(n(119)),E=P(n(943)),_=P(n(6083)),g=P(n(25)),S=P(n(231)),T=P(n(65)),C=P(n(977)),N=P(n(6538)),b=P(n(272)),O=P(n(118)),I=P(n(6692)),A=P(n(948)),M=n(0),R=P(n(5877));function P(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=o=L(this,e.call.apply(e,[this].concat(l))),o.handleContextMenu=function(e){var t=o.props.guild;(0,p.openContextMenu)(e,function(e){return i.createElement(h.default,r({},e,{type:M.ContextMenuTypes.GUILD_CHANNEL_LIST,guild:t}))})},L(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderGuildHeader=function(){var e=this.props.guild;return a(u.default.Child,{wrap:!0,grow:0,shrink:0},"guild-header",a(d.default,{guild:e}))},t.prototype.renderNotice=function(){var e=this.props.guild;return a(c.default,{guild:e})},t.prototype.render=function(){var e=this.props.guild,t=this.props,n=(t.channelNoticeVersion,t.mentionCount,function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["channelNoticeVersion","mentionCount"]));return a(u.default,{className:R.default.container,direction:u.default.Direction.VERTICAL,align:u.default.Align.STRETCH,onContextMenu:this.handleContextMenu},void 0,null!=e&&this.renderGuildHeader(),null!=e&&this.renderNotice(),i.createElement(f.default,n))},t}(i.PureComponent);w.displayName="GuildSidebar";var D=(0,s.default)(function(e,t){var n;return(n={})[M.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE]=function(){return t.forceUpdate()},n})(w);t.default=l.default.connectStores([O.default,y.default,m.default,v.default,_.default,g.default,S.default,T.default,C.default,b.default,N.default,I.default,E.default,A.default],function(e){var t=e.guildId,n=g.default.getGuild(t),o=v.default.getChannels(t),a=E.default.getCategories(t),r=b.default.getMutedChannels(t),i=C.default.getVoiceStates(t),l=N.default.getCollapsed(),s=b.default.isGuildCollapsed(t),u=_.default.getMentionCounts()[t],d=_.default.getGuildUnreadCount(t),f=m.default.getGuildDimensions(t),c=f.scrollTo,p=f.scrollTop;return{guild:n,channels:o,categories:a,mutedChannels:r,scrollToChannel:c,selectedChannelId:y.default.getChannelId(t),selectedVoiceChannelId:S.default.isDisabled()?null:T.default.getVoiceChannelId(),voiceStates:i,collapsedChannels:l,collapseMuted:s,scrollTop:p,mentionCount:u,unreadCount:d,permissionVersion:O.default.getGuildVersion(t),channelNoticeVersion:I.default.getVersion(),categoryCollapseVersion:A.default.version}})(D),e.exports=t.default},7473:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=D(n(1)),l=w(n(5)),s=n(226),u=w(n(3)),d=n(56),f=n(385),c=n(387),p=w(n(22)),h=w(n(6162)),y=w(n(164)),m=w(n(6130)),v=w(n(132)),E=w(n(14)),_=D(n(953)),g=n(6535),S=w(g),T=w(n(42)),C=w(n(75)),N=w(n(952)),b=w(n(45)),O=w(n(144)),I=w(n(6545)),A=w(n(378)),M=w(n(81)),R=w(n(6)),P=n(0),L=w(n(5896));function w(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x=1e3,G=function(e){function t(){var n,o;U(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=k(this,e.call.apply(e,[this].concat(r))),o._copyModeTimeout=new d.Timeout,o.state={copyMode:g.CopyInputModes.DEFAULT},o.handleCopy=function(e){var t=o.props,n=t.giftCode,a=t.sku;(0,c.trackGiftCodeCopy)(n,a);try{(0,f.copy)(e),o.setState({copyMode:g.CopyInputModes.SUCCESS})}catch(e){o.setState({copyMode:g.CopyInputModes.ERROR})}o._copyModeTimeout.start(x,function(){o.setState({copyMode:g.CopyInputModes.DEFAULT})})},k(o,n)}return F(t,e),t.prototype.componentWillUnmount=function(){this._copyModeTimeout.stop()},t.prototype.handleRevoke=function(e){_.revokeGiftCode(e)},t.prototype.render=function(){var e=this,t=this.props,n=t.hideCode,o=t.giftCode,r=this.state.copyMode;return a(T.default,{direction:T.default.Direction.VERTICAL,className:L.default.giftCodeRow},void 0,a(S.default,{className:L.default.codeText,value:(0,c.getGiftCodeURL)(o.code),text:this.copyButtonText,mode:r,supportsCopy:f.SUPPORTS_COPY,hideMessage:n?R.default.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:S.default.ButtonColors.BRAND,buttonLook:S.default.ButtonLooks.FILLED}),a("div",{className:L.default.subTextRow},void 0,null!=o.expiresAt?a(i.Fragment,{},void 0,R.default.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:o.expiresAt.diff((0,l.default)(),"h")})," ","— "):null,a(M.default,{tag:"a",onClick:function(){return e.handleRevoke(o.code)}},void 0,R.default.Messages.REVOKE)))},r(t,[{key:"copyButtonText",get:function(){switch(this.state.copyMode){case g.CopyInputModes.SUCCESS:return R.default.Messages.BILLING_GIFT_COPIED;case g.CopyInputModes.ERROR:return R.default.Messages.FAILED;default:return R.default.Messages.COPY}}}]),t}(i.PureComponent);G.displayName="GiftCodeRow";var j=function(e){function t(){var n,o,a,r,i=this;U(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=k(this,e.call.apply(e,[this].concat(s))),o._loadedAt=null,o.state={isOpen:!1,isCreating:!1},o.handleGenerateGiftCode=(a=regeneratorRuntime.mark(function e(t){var n,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),n=o.props,a=n.skuId,r=n.subscriptionPlanId,o.setState({isCreating:!0}),e.next=5,_.createGiftCode(a,r);case 5:o.setState({isCreating:!1,isOpen:!0});case 6:case"end":return e.stop()}},e,i)}),r=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})},function(e){return r.apply(this,arguments)}),o.handleToggleOpen=function(){var e=o.props,t=e.skuId,n=e.subscriptionPlanId,a=e.loadedAt,r=!o.state.isOpen;(null==a||null==o._loadedAt||a<o._loadedAt)&&r&&_.fetchUserGiftCodesForSKU(t,n),o.setState({isOpen:!o.state.isOpen})},k(o,n)}return F(t,e),t.prototype.componentDidMount=function(){this._loadedAt=Date.now()},t.prototype.renderTitle=function(){var e=this.props,t=e.sku,n=e.subscriptionPlan;return null==n?a(s.Link,{className:L.default.gameNameLink,to:P.Routes.APPLICATION_STORE_LISTING_SKU(t.id)},void 0,t.name):a("div",{className:L.default.gameName},void 0,(n.interval===P.SubscriptionIntervalTypes.MONTH?R.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:R.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:t.name,intervalCount:n.intervalCount}))},t.prototype.renderGenerateGiftCodeRow=function(){return a(T.default,{justify:T.default.Justify.BETWEEN,align:T.default.Align.CENTER,className:L.default.generateCodeRow},void 0,a("div",{className:L.default.codeText},void 0,R.default.Messages.GIFT_INVENTORY_GENERATE_HELP),a(b.default,{submitting:this.state.isCreating,size:b.default.Sizes.SMALL,color:b.default.Colors.BRAND,onClick:this.handleGenerateGiftCode},void 0,R.default.Messages.GIFT_INVENTORY_GENERATE_LINK))},t.prototype.render=function(){var e=this.props,t=e.entitlements,n=e.application,o=e.giftCodes,r=e.className,l=e.sku,s=e.isFetching,u=e.hideCodes,d=this.state.isOpen;return a(I.default,{className:r},void 0,a(M.default,{onClick:this.handleToggleOpen,className:L.default.card},void 0,a(I.default.Header,{splashArtURL:n.getSplashURL(512)},void 0,a("div",{className:L.default.cardHeader},void 0,a(T.default,{align:T.default.Align.CENTER},void 0,a(A.default,{game:n,size:A.default.Sizes.MEDIUM,skuId:l.id}),a("div",{className:L.default.headerText},void 0,this.renderTitle(),a("div",{className:L.default.subTextHeader},void 0,R.default.Messages.GIFT_INVENTORY_COPIES.format({copies:t.length})))),a(C.default,{name:C.default.Names.CARET,direction:d?N.default.Directions.UP:N.default.Directions.DOWN,className:L.default.expandIcon})))),d?a(I.default.Body,{},void 0,s?a(O.default,{className:L.default.spinner}):a(i.Fragment,{},void 0,o.length<t.length?this.renderGenerateGiftCodeRow():null,o.map(function(e){return a(G,{giftCode:e,sku:l,hideCode:u},e.code)}))):null)},t}(i.PureComponent);j.defaultProps={hideCodes:!1},j.displayName="EntitlementGiftGroupCard",t.default=u.default.connectStores([p.default,E.default,y.default,m.default,v.default],function(e){var t=e.skuId,n=e.subscriptionPlanId,o=y.default.get(t);if(null==o)throw new Error("SKU was unavailable while rendering gift.");return{sku:o,hideCodes:v.default.enabled,isFetching:m.default.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:m.default.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),application:p.default.getGame(o.applicationId),subscriptionPlan:null!=n?h.default.get(n):null,giftCodes:m.default.getForGifterSKUAndPlan(E.default.getId(),t,n).filter(function(e){return!e.isClaimed})}})(j),e.exports=t.default},7474:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=S(n(3)),s=S(n(7)),u=S(n(41)),d=n(387),f=S(n(537)),c=S(n(22)),p=S(n(6130)),h=n(548),y=S(n(7473)),m=S(n(514)),v=S(n(144)),E=n(0),_=S(n(6)),g=S(n(5895));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=a(m.default,{}),N=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=T(this,e.call.apply(e,[this].concat(r))),o._loadedAt=Date.now(),T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){(0,h.fetchGiftableEntitlements)()},t.prototype.handleTransitionToStore=function(){u.default.transitionTo(E.Routes.APPLICATION_STORE)},t.prototype.renderEmptyState=function(){return a("div",{className:g.default.emptyState},void 0,a("div",{className:g.default.emptyStateImage}),a("h2",{className:g.default.emptyStateHeader},void 0,_.default.Messages.GIFT_INVENTORY_NO_GIFTS),a("p",{className:g.default.emptyStateSubtext},void 0,_.default.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onStoreClick:this.handleTransitionToStore})))},t.prototype.render=function(){var e=this.props.giftEntitlements;return this.isLoaded?a("div",{className:g.default.root},void 0,a("h2",{className:g.default.header},void 0,_.default.Messages.GIFT_INVENTORY),C,0===Object.keys(e).length?this.renderEmptyState():s.default.keys(e).map(function(t){var n=(0,d.parseComboId)(t),o=n.skuId,r=n.subscriptionPlanId;return a(y.default,{className:g.default.skuCard,skuId:o,subscriptionPlanId:r,entitlements:e[t]},t)})):a(v.default,{className:g.default.loading})},r(t,[{key:"isLoaded",get:function(){var e=this.props,t=e.applicationsLoaded,n=e.entitlementsLoadedAt;return t&&null!=n&&n>=this._loadedAt}}]),t}(i.Component);N.displayName="EntitlementGifts",t.default=l.default.connectStores([f.default,p.default,c.default],function(){return{applicationsLoaded:Boolean(c.default.lastFetched),entitlementsLoadedAt:f.default.giftEntitlementsLoadedAt,giftEntitlements:s.default.groupBy(f.default.getGiftable(),function(e){return(0,d.makeComboId)(e.skuId,e.subscriptionPlanId)})}})(N),e.exports=t.default},7475:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=_(n(3)),u=_(n(228)),d=_(n(132)),f=n(953),c=_(n(45)),p=_(n(925)),h=_(n(42)),y=_(n(514)),m=_(n(6)),v=n(0),E=_(n(5897));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e,t){return Array(t).fill().map(function(){return"["+v.UNAMBIGUOUS_CHARACTERS+"]{"+e+"}"}).join("-?")},T=[S(4,4),S(4,6),S(5,3),"[a-zA-Z]{4}-?[0-9a-zA-Z]{4}-?[a-zA-Z]{4}"].join("|"),C=new RegExp("^(WUMP-?)?("+T+")$"),N=r(y.default,{}),b=function(e){function t(){var n,o,a,r,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=o=g(this,e.call.apply(e,[this].concat(s))),o.state={codeInput:"",submitting:!1,hasError:!1},o.inputRef=function(e){o._inputRef=e},o.handleChange=function(e){o.setState({codeInput:e,hasError:!1})},o.handleSubmit=(a=regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==(n=o.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:if(null!=(a=o.processInput(n))){e.next=8;break}return o.setState({hasError:!0}),e.abrupt("return");case 8:return o.setState({submitting:!0}),e.prev=9,e.next=12,(0,f.resolveGiftCode)(a);case 12:(0,f.openGiftCodeAcceptModal)(a,o.analyticsLocation),o.setState({codeInput:""}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),o.setState({hasError:!0});case 19:return e.prev=19,o.setState({submitting:!1}),e.finish(19);case 22:case"end":return e.stop()}},e,i,[[9,16,19,22]])}),r=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function o(a,r){try{var i=e[a](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){o("next",e)},function(e){o("throw",e)});t(l)}("next")})},function(e){return r.apply(this,arguments)}),g(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.processInput=function(e){var t=e.trim().split("/").pop().match(C);if(null==t)return null;t[0],t[1];var n=t[2];return null==n?null:n.replace(new RegExp("-","g"),"")},t.prototype.render=function(){var e=this.props.obscureInput,t=this.state,n=t.codeInput,o=t.submitting,a=t.hasError;return r("div",{className:E.default.codeRedemption},void 0,r("div",{className:E.default.header},void 0,r("h2",{},void 0,m.default.Messages.GIFT_INVENTORY_REDEEM_CODES),N),r("div",{className:E.default.inputPrompt},void 0,m.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),r("form",{onSubmit:this.handleSubmit},void 0,r(h.default,{className:E.default.codeRedemptionForm},void 0,r(p.default,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:"WUMP-AAAAA-BBBBB-CCCCC",inputRef:this.inputRef,error:a?m.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:E.default.codeRedemptionInput}),r(c.default,{type:"submit",submitting:o},void 0,m.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return a({},e,{object:v.AnalyticsObjects.BUTTON_CTA})}}]),t}(l.Component);b.displayName="CodeRedemption",t.default=(0,u.default)(s.default.connectStores([d.default],function(){return{obscureInput:d.default.enabled}})(b)),e.exports=t.default},7476:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=m(n(1)),i=y(n(522)),l=m(n(6175)),s=y(n(6451)),u=y(n(7475)),d=y(n(7474)),f=y(n(376)),c=y(n(227)),p=n(0),h=y(n(5894));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var v=a(u.default,{}),E=a(d.default,{}),_=a(i.default,{title:"Discord"}),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){l.setHomeLink(p.Routes.APPLICATION_LIBRARY_INVENTORY)},t.prototype.renderBody=function(){return a("div",{className:h.default.body},void 0,a(f.default,{section:p.AnalyticsSections.LIBRARY_INVENTORY_CODE_REDEMPTION},void 0,v),a(f.default,{section:p.AnalyticsSections.LIBRARY_INVENTORY_GIFTS_LIST},void 0,E))},t.prototype.render=function(){return a("div",{className:h.default.root},void 0,_,a(s.default,{currentRoute:p.Routes.APPLICATION_LIBRARY_INVENTORY}),a(c.default,{gutterStyle:c.default.GutterStyles.STORE,theme:c.default.Themes.GHOST_HAIRLINE},void 0,this.renderBody()))},t}(r.PureComponent);g.displayName="ApplicationLibraryInventory",t.default=g,e.exports=t.default},7477:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=C(n(3)),l=C(n(522)),s=C(n(2)),u=C(n(17)),d=n(6706),f=n(6125),c=n(6152),p=C(n(6101)),h=C(n(6200)),y=C(n(6446)),m=C(n(6451)),v=C(n(42)),E=C(n(227)),_=C(n(144)),g=C(n(228)),S=n(0),T=C(n(5898));function C(e){return e&&e.__esModule?e:{default:e}}var N=a(l.default,{title:"Discord"}),b=a(y.default,{}),O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.location,n=e.shouldFetchDirectoryLayout,o=e.analyticsContext;n&&s.default.wait(function(){(0,f.loadDirectory)(S.STORE_DIRECTORY_LAYOUT_ID)}),s.default.wait(function(){return(0,d.markView)(S.ViewHistoryKeys.APPLICATION_LIBRARY_PREMIUM)}),(0,c.updateLocation)(t),u.default.track(S.AnalyticEvents.STORE_DIRECTORY_VIEWED,{load_id:o.loadId,source:null!=t.state?t.state.analyticsSource:S.DIRECT_ANALYTICS_LOCATION,location:o.location.page})},t.prototype.renderLoading=function(){return a(v.default,{align:v.default.Align.CENTER,justify:v.default.Justify.CENTER,className:T.default.loading},void 0,a(_.default,{className:T.default.spinner}))},t.prototype.renderBody=function(){var e=this.props.directoryLayout;return null==e?this.renderLoading():a(h.default,{className:T.default.applications,directoryLayout:e,viewConfig:{applicationTypes:new Set([S.StoreApplicationFilterProperty.PREMIUM])},sort:S.StoreApplicationSort.ID,analyticsApplicationTypeFilter:S.StoreApplicationCategorySelector.PREMIUM})},t.prototype.render=function(){return a("div",{className:T.default.root},void 0,N,a(m.default,{currentRoute:S.Routes.APPLICATION_LIBRARY_PREMIUM,renderToolbar:function(){return b}}),a(E.default,{gutterStyle:E.default.GutterStyles.STORE,theme:E.default.Themes.GHOST_HAIRLINE},void 0,this.renderBody()))},t}(r.Component);O.displayName="ApplicationLibraryPremiumApplications",t.default=i.default.connectStores([p.default],function(){return{directoryLayout:p.default.getDirectoryLayout(S.STORE_DIRECTORY_LAYOUT_ID),shouldFetchDirectoryLayout:p.default.shouldFetch(),isFetchingDirectoryLayout:p.default.isFetching}})((0,g.default)(O)),e.exports=t.default},7478:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=y(n(3)),u=n(56),d=y(n(75)),f=y(n(94)),c=n(0),p=y(n(578)),h=y(n(6));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=new Set([c.CloudSyncStateTypes.PUSHING,c.CloudSyncStateTypes.PULLING]),E=Object.freeze(((a={})[c.CloudSyncStateTypes.DONE]=d.default.Names.CLOUD,a[c.CloudSyncStateTypes.PLANNING]=d.default.Names.CLOUD,a[c.CloudSyncStateTypes.PREPARING]=d.default.Names.CLOUD,a[c.CloudSyncStateTypes.PUSHING]=d.default.Names.CLOUD_UPLOAD,a[c.CloudSyncStateTypes.PULLING]=d.default.Names.CLOUD_DOWNLOAD,a[c.CloudSyncStateTypes.CONFLICT]=d.default.Names.CLOUD,a[c.CloudSyncStateTypes.ERROR]=d.default.Names.CLOUD,a)),_=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=m(this,e.call.apply(e,[this].concat(r))),o._doneTimer=new u.Timeout,m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()},t.prototype.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==c.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())},t.prototype.componentWillUnmount=function(){this._doneTimer.stop()},t.prototype.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,function(){return e.forceUpdate()})},t.prototype.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===c.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1},t.prototype.getStop=function(e,t){return t?1:e.type===c.CloudSyncStateTypes.PUSHING||e.type===c.CloudSyncStateTypes.PULLING?e.progress/e.total:0},t.prototype.getTooltip=function(e,t){switch(e.type){case c.CloudSyncStateTypes.DONE:return t?h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case c.CloudSyncStateTypes.CONFLICT:case c.CloudSyncStateTypes.ERROR:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case c.CloudSyncStateTypes.PLANNING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case c.CloudSyncStateTypes.PREPARING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case c.CloudSyncStateTypes.PUSHING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case c.CloudSyncStateTypes.PULLING:return h.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING}},t.prototype.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,o=e.className,a=null==t?{type:c.CloudSyncStateTypes.DONE}:t,s=this.getIsRecentlySynced(),u={};return(v.has(a.type)||s)&&(u.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(a,s)}),i(f.default,{text:this.getTooltip(a,s)},void 0,l.createElement(d.default,r({className:o,name:s?d.default.Names.CLOUD_DONE:E[a.type]},u)))},t}(l.PureComponent);_.displayName="CloudSyncIcon",t.default=s.default.connectStores([p.default],function(e){var t=e.libraryApplication;return{cloudSyncState:p.default.getState(t.id,t.branchId)}})(_),e.exports=t.default},7479:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=V(n(1)),s=H(n(9)),u=H(n(3)),d=n(56),f=H(n(2)),c=n(96),p=H(n(11)),h=n(273),y=H(n(17)),m=H(n(22)),v=H(n(46)),E=H(n(1021)),_=H(n(57)),g=H(n(28)),S=H(n(963)),T=n(32),C=V(n(6709)),N=H(n(517)),b=V(n(291)),O=H(n(7478)),I=H(n(6708)),A=H(n(42)),M=H(n(45)),R=H(n(75)),P=H(n(378)),L=H(n(94)),w=H(n(954)),D=H(n(957)),U=H(n(1014)),k=H(n(1027)),F=H(n(949)),x=H(n(228)),G=H(n(6)),j=H(n(5902)),B=n(0);function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var W=(0,h.cssValueToNumber)(j.default.rowMinHeight),z=(0,h.cssValueToNumber)(j.default.linkedToGlowDuration),K=Object.freeze(((a={})[B.GameTableListKeys.PLATFORM]="Platform",a[B.GameTableListKeys.LAST_PLAYED]="Last Played",a[B.GameTableListKeys.NAME]="Name",a));var $=function(e){var t,n=e.flag,o=e.name,a=e.item,r=e.tooltip,l=a.libraryApplication.hasFlag(n);return i(L.default,{text:r},void 0,i(R.default,{name:o,className:(0,s.default)(j.default.settingIcon,(t={},t[j.default.hidden]=!l,t))}))};$.displayName="FlagIcon";var q=[{key:B.GameTableListKeys.NAME,renderHeader:function(){return G.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:j.default.nameCell,bodyCellClassName:j.default.nameBodyCell,render:function(e){return i(k.default,{game:e.application,source:B.AnalyticsLocations.APPLICATION_LIBRARY},void 0,i(A.default,{align:A.default.Align.CENTER},void 0,i(P.default,{game:e.application,size:P.default.Sizes.SMALL,className:j.default.gameIcon}),i("div",{className:j.default.nameCellInfo},void 0,i("div",{className:j.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(B.LibraryApplicationFlags.PREMIUM)?i(R.default,{name:R.default.Names.NITRO_WHEEL,className:j.default.nitroIcon}):null)))}},{key:B.GameTableListKeys.PLATFORM,renderHeader:function(){return G.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:j.default.platformCell,bodyCellClassName:j.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return i(k.default,{game:e.application,source:B.AnalyticsLocations.APPLICATION_LIBRARY},void 0,i(A.default,{align:A.default.Align.CENTER},void 0,null!=t?B.DistributorNames[t]:G.default.Messages.GAME_LIBRARY_NOT_APPLICABLE))}},{key:B.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return G.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:j.default.lastPlayedCell,bodyCellClassName:j.default.textCell,render:function(e){var t,n=void 0;return n=e.isRunning?G.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?G.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?i(w.default,{end:e.lastPlayed,location:w.default.Locations.GAME_LIBRARY_LAST_PLAYED}):G.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE,i(k.default,{game:e.application,source:B.AnalyticsLocations.APPLICATION_LIBRARY},void 0,i(A.default,{align:A.default.Align.CENTER,className:(0,s.default)((t={},t[j.default.lastPlayedCellNew]=e.isNew,t))},void 0,n))}},{key:B.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:j.default.actionsCell,render:function(e,t,n){var o;if(!t)throw new Error("No cell props defined.");var a,r,u=e.key===t.activeRowKey;return i(l.Fragment,{},void 0,i("div",{className:j.default.settingIcons},void 0,i($,{flag:B.LibraryApplicationFlags.PRIVATE,item:e,name:R.default.Names.EYE_HIDDEN,tooltip:G.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),i($,{flag:B.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,name:R.default.Names.OVERLAY_OFF,tooltip:G.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),i(O.default,{className:(0,s.default)(j.default.settingIcon,(o={},o[j.default.hidden]=!e.supportsCloudSync,o)),libraryApplication:e.libraryApplication})),e.libraryApplication.isDiscordApplication()&&!(0,c.isUserEntitledToLibraryApplication)(e.libraryApplication)?i(D.default,{skuId:e.libraryApplication.skuId,applicationId:e.application.id,color:u?M.default.Colors.GREEN:M.default.Colors.PRIMARY,customDisabledColor:M.default.Colors.PRIMARY,size:j.default.actionButtonSize}):i(U.default,{analyticsListSort:(a=t.sortKey,r=t.sortDirection,K[a]+" "+(r===B.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:B.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:u?M.default.Colors.GREEN:M.default.Colors.PRIMARY,isPlayShiny:u&&e.defaultAction===B.LibraryApplicationActions.PLAY,size:j.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}))}}],X=function(e){var t,n=e.item,o=e.activeRowKey,a=e.highlightedApplicationKey,r=e.onMouseEnter,u=e.onMouseLeave,d=e.onContextMenu,f=e.setRef,c=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(e,["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"]),p=n.key===o,h=n.key===a,y=p?n.application.getSplashURL(300):null;return l.createElement("div",{className:(0,s.default)((t={},t[j.default.rowWrapperActive]=p&&!h,t[j.default.rowWrapperGlow]=h,t[j.default.rowWrapper]=!p&&!h,t[j.default.rowWrapperDim]=!p&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return f(e,n.key)}),onMouseEnter:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return r(n)}),onMouseLeave:u,onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d(e,n)})},p?i("div",{className:j.default.rowBackground,style:null!=y?{backgroundImage:"url("+y+")"}:null}):null,l.createElement("div",c))};X.displayName="Row";var Q=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=o=Y(this,e.call.apply(e,[this].concat(i))),o._didUnmount=!1,o._rowRefs={},o.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=o.props.location.state?o.props.location.state.applicationId:null},o.setActiveRowKey=function(e){o.setState({overflowMenuRowKey:e.key})},o.clearActiveRowKey=function(){o._didUnmount||o.setState({overflowMenuRowKey:null})},o.handleRowMouseEnter=function(e){o.props.isNavigatingByKeyboard||C.updateActiveRowKey(e.key)},o.handleRowMouseLeave=function(){o.props.isNavigatingByKeyboard||C.updateActiveRowKey(null)},o.setRowRef=function(e,t){o._rowRefs[t]=e},o.handleApplicationContextMenu=function(e,t){o.setActiveRowKey(t);var n=o.props.analyticsContext;(0,T.openContextMenu)(e,function(e){return l.createElement(F.default,r({},e,{type:B.ContextMenuTypes.APPLICATION_GAME_LIBRARY,applicationId:t.libraryApplication.id,branchId:t.libraryApplication.branchId,analyticsContext:n}))},{onClose:o.clearActiveRowKey})},Y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched,o=e.fetched;t&&null!=n&&b.scanForLocalApplications(),o&&(this.handleHighlightedApplicationKey(),this.trackViewed())},t.prototype.componentWillUnmount=function(){this._didUnmount=!0},t.prototype.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||f.default.wait(function(){return b.scanForLocalApplications()}),!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationKey(),this.trackViewed());var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];null!=n&&(f.default.wait(T.closeContextMenu),this.props.scrollToRow(n,W))}},t.prototype.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;null!=t&&null!=this._rowRefs[t]&&(this.props.scrollToRow(this._rowRefs[t],W),(new d.Timeout).start(z,function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))},t.prototype.trackViewed=function(){var e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},t=this.props,n=t.analyticsContext,o=t.applicationViewItems,a=Array.isArray(o),i=0;for(o=a?o:o[Symbol.iterator]();;){var l;if(a){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}switch(l.libraryApplication.getDistributor()){case B.Distributors.DISCORD:e.num_applications_discord++;break;case B.Distributors.STEAM:e.num_applications_steam++;break;case B.Distributors.BATTLENET:e.num_applications_battlenet++;break;case B.Distributors.TWITCH:e.num_applications_twitch++;break;case B.Distributors.UPLAY:e.num_applications_uplay++;break;case B.Distributors.ORIGIN:e.num_applications_origin++;break;case B.Distributors.GOG:e.num_applications_gog++;break;case B.Distributors.EPIC:e.num_applications_epic++}e.num_applications_total++}y.default.track(B.AnalyticEvents.LIBRARY_VIEWED,r({},e,{load_id:n.loadId}))},t.prototype.handleSort=function(e,t){C.sortList(e,t)},t.prototype.handleEnableImportClick=function(){N.default.updateLocalSettings({importGamesEnabled:!0}),y.default.track(B.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!0})},t.prototype.handleDenyImportClick=function(){N.default.updateLocalSettings({importGamesEnabled:!1}),y.default.track(B.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!1})},t.prototype.renderImportHelp=function(){var e=this.props,t=e.importGamesEnabled,n=e.applicationViewItems,o=e.filterQuery,a=n.length>0,r=null==t&&p.default.isWindows()&&!o;if(a&&!r)return null;var l=void 0;return l=r?G.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT_ASK:""!==o?G.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:o}):t&&p.default.isWindows()?G.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT:G.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT,i("div",{className:a?j.default.emptyStateSmall:j.default.emptyStateLarge},void 0,i("div",{className:j.default.emptyWumpus}),i(A.default,{grow:0,shrink:a?1:0,direction:A.default.Direction.VERTICAL},void 0,i("div",{className:j.default.emptyStateText},void 0,i("h5",{className:j.default.emptyStateHeader},void 0,r?G.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER_IMPORT:G.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),i("div",{className:j.default.emptyStateDescription},void 0,l)),r?i("div",{className:j.default.emptyStateButtons},void 0,i(M.default,{onClick:this.handleDenyImportClick,className:j.default.emptyStateButton,color:M.default.Colors.PRIMARY,size:M.default.Sizes.MEDIUM},void 0,G.default.Messages.APPLICATION_LIBRARY_IMPORT_DENY),i(M.default,{className:j.default.emptyStateButton,color:M.default.Colors.BRAND,size:M.default.Sizes.MEDIUM,onClick:this.handleEnableImportClick},void 0,G.default.Messages.APPLICATION_LIBRARY_IMPORT_ACCEPT)):null))},t.prototype.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,o=e.applicationViewItems,a=e.activeRowKey,r=e.stickyHeader,s=this.state,u=s.overflowMenuRowKey,d=s.highlightedApplicationKey;return i(l.Fragment,{},void 0,o.length>0?i(I.default,{columns:q,data:o,sortData:!1,rowComponent:X,className:j.default.table,headerClassName:r?j.default.stickyHeader:j.default.header,headerCellClassName:j.default.headerCell,sortedHeaderCellClassName:j.default.headerCellSorted,bodyCellClassName:j.default.bodyCell,rowClassName:j.default.row,sortKey:t,sortDirection:n,stickyHeader:r,rowProps:{activeRowKey:u||a,highlightedApplicationKey:d,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:u||a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())},t}(l.PureComponent);Q.defaultProps={stickyHeader:!1},Q.displayName="GameList",t.default=u.default.connectStores([m.default,v.default,E.default,g.default,_.default,S.default],function(){return{applicationViewItems:S.default.sortedFilteredLibraryApplicationViewItems,gamesDBLastFetched:m.default.lastFetched,importGamesEnabled:g.default.importGamesEnabled,filterQuery:S.default.applicationFilterQuery,sortKey:E.default.sortKey,sortDirection:E.default.sortDirection,activeRowKey:E.default.activeRowKey,isNavigatingByKeyboard:E.default.isNavigatingByKeyboard,fetched:S.default.hasFetchedApplications}})((0,x.default)(Q)),e.exports=t.default},7480:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(7))),l=d(n(9)),s=n(0),u=d(n(5904));function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),c=function(e){var t=e.className,n=e.percents,o=e.size,d=void 0===o?f.SMALL:o,c=e.foregroundColors,p=void 0===c?[s.Colors.BRAND]:c,h=e.backgroundColor,y=void 0===h?"#e9e7e7":h,m=e.animate,v=void 0===m||m,E=i.default.zip(n,p).map(function(e,t){var n,o=e[0],i=e[1],s=void 0;return s=Array.isArray(i)?{background:"linear-gradient(to right, "+i[0]+", "+i[1]+")"}:{backgroundColor:i},r("div",{className:(0,l.default)(u.default.progressBar,u.default[d],(n={},n[u.default.animating]=v,n)),style:a({transform:"translate3d("+(Math.min(Math.max(0,o),100)-100)+"%, 0, 0)"},s)},t)}).reverse();return r("div",{className:(0,l.default)(t,u.default.progress,u.default[d]),style:{backgroundColor:y}},void 0,E)};c.displayName="StackedProgress",c.Sizes=f,t.default=c,e.exports=t.default},7481:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=d(n(1)),i=d(n(6492)),l=u(n(5907)),s=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=f(this,e.call.apply(e,[this].concat(i))),o.canvas=r.createRef(),o.updateAnimation=function(e){var t=o.canvas.current;if(null!=t){var n=o.props,a=n.data,r=n.updateInterval,i=n.color,l=n.numUpdatesToShow,s=n.lineWidth,u=n.animate,d=n.gradientStopColor;if(!(a.length<2)){var f=Math.max(Math.min((e-o.dataChangedAt)/r,1),0),c=t.getContext("2d"),p=o.maxValue;c.strokeStyle=i,c.lineWidth=s;var h=t.height-c.lineWidth,y=c.createLinearGradient(0,0,0,h);y.addColorStop(0,null!=d?d:"transparent"),y.addColorStop(1,o.fillColor),c.fillStyle=y;var m=a.length>=l?l:a.length;c.setTransform(1,0,0,-1,0,t.height),c.clearRect(0,0,t.width,t.height),c.translate(0,.5*c.lineWidth);var v=Math.floor(t.width/(m-3)),E=.5*v,_=v-v*f;c.translate(_,0),c.beginPath();var g=void 0,S=void 0,T=-v;a.forEach(function(e,t){g={x:T,y:h*e/p},0===t?c.moveTo(g.x,g.y):c.bezierCurveTo(S.x+E,S.y,g.x-E,g.y,g.x,g.y),S=g,T+=v}),c.stroke(),c.lineTo(T-v,0),c.lineTo(0,0),c.fill(),u&&f<1&&(o.animationFrameRequestId=window.requestAnimationFrame(o.updateAnimation))}}},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.onDataUpdate=function(e,t){var n=this.props,o=n.maxValue,a=n.data,r=n.animate,l=null==e||e.data!==t.data&&!s.default.isEqual(e.data,t.data);if(l&&(this.dataChangedAt=performance.now(),this.maxValue=null!=o?o:Math.max.apply(Math,a)),l||null==e||!e.animate&&r||e.color!==this.props.color){var u=i.hexToRgb(this.props.color);this.fillColor="rgba("+u.r+", "+u.g+", "+u.b+", 0.5)",window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}},t.prototype.componentDidMount=function(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)},t.prototype.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)},t.prototype.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0},t.prototype.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,o=e.pixelHeight;return a("div",{className:t},void 0,r.createElement("canvas",{ref:this.canvas,className:l.default.canvas,width:n,height:o}))},t}(r.PureComponent);c.defaultProps={animate:!0},c.displayName="SparkChart",t.default=c,e.exports=t.default},7482:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(6452)),s=c(n(42)),u=c(n(7481)),d=c(n(6)),f=c(n(5906));function c(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=1e3;var y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),c=0;c<r;c++)l[c]=arguments[c];return n=o=p(this,e.call.apply(e,[this].concat(l))),o.renderBody=function(e,t,n){var r,l=o.props,c=l.title,p=l.className,y=l.color,m=l.animate,v=l.gradientStopColor;return a("div",{className:(0,i.default)(f.default.monitor,p)},void 0,a(s.default,{align:s.default.Align.CENTER},void 0,a(s.default,{className:f.default.text,direction:s.default.Direction.VERTICAL},void 0,a("div",{className:f.default.title},void 0,c),a("div",{className:f.default.rate},void 0,(r=e[e.length-1]/t*1e3)>h?d.default.Messages.FILE_RATE_MB.format({size:Math.round(r/h)}):d.default.Messages.FILE_RATE_KB.format({size:Math.round(r)}))),a("div",{className:f.default.overflowContainer},void 0,a(u.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:f.default.sparkChart,updateInterval:t,color:y,gradientStopColor:v,numUpdatesToShow:n,animate:m,pixelWidth:600,pixelHeight:48,lineWidth:4}))))},p(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(l.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)},t}(r.PureComponent);y.displayName="GameUpdateActivityMonitor",t.default=y,e.exports=t.default},7483:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i,l,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},d=(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,r=arguments.length-3;if(t||0===r||(t={}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===r)t.children=o;else if(r>1){for(var s=Array(r),u=0;u<r;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),f=z(n(1)),c=W(n(9)),p=W(n(3)),h=W(n(7)),y=W(n(2)),m=W(n(228)),v=W(n(63)),E=W(n(295)),_=W(n(22)),g=W(n(133)),S=W(n(46)),T=W(n(28)),C=z(n(172)),N=z(n(32)),b=W(n(7482)),O=W(n(6452)),I=W(n(949)),A=W(n(6708)),M=W(n(42)),R=W(n(45)),P=W(n(75)),L=W(n(94)),w=W(n(971)),D=W(n(7480)),U=W(n(378)),k=n(954),F=W(n(1014)),x=W(n(1027)),G=z(n(96)),j=n(393),B=W(n(938)),H=n(0),V=W(n(6)),Y=W(n(5903));function W(e){return e&&e.__esModule?e:{default:e}}function z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var X=function(e){var t=e.className,n=e.children,o=e.onContextMenu,a=e.item;return d("div",{className:t,onContextMenu:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return o(e,a)})},void 0,n)};X.displayName="Row";var Q=[H.Colors.LINK,H.Colors.PRIMARY_DARK],J=function(e){var t=e.tooltip,n=e.onClick,o=e.icon;return d(L.default,{text:t},void 0,d(R.default,{className:Y.default.actionButton,innerClassName:Y.default.actionButtonContents,color:R.default.Colors.PRIMARY,size:R.default.Sizes.ICON,onClick:n},void 0,d(P.default,{name:o,className:Y.default.actionIcon})))};function Z(e,t){switch(t){case H.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case H.DispatchApplicationStages.PLANNING:case H.DispatchApplicationStages.FINALIZING:case H.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,j.formatSize)(e,{useKibibytes:!0})}}J.displayName="ActionButton";var ee=Object.freeze(((i={})[H.LocalDispatchApplicationStates.INSTALLING]=((o={})[k.TimeUnits.NONE]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},o[k.TimeUnits.SECONDS]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:o})},o[k.TimeUnits.MINUTES]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:o})},o[k.TimeUnits.HOURS]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:o})},o),i[H.LocalDispatchApplicationStates.UPDATING]=((a={})[k.TimeUnits.NONE]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[k.TimeUnits.SECONDS]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:o})},a[k.TimeUnits.MINUTES]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:o})},a[k.TimeUnits.HOURS]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:o})},a),i[H.LocalDispatchApplicationStates.REPAIRING]=((r={})[k.TimeUnits.NONE]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[k.TimeUnits.SECONDS]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:o})},r[k.TimeUnits.MINUTES]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:o})},r[k.TimeUnits.HOURS]=function(e,t,n,o){return V.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:o})},r),i));function te(e,t,n,o,a){var r=null!=e?e/60:null,i=ee[t],l=null!=i?Object.keys(i):[],s=(0,k.getTimeAndUnit)(r,l),u=s.unit,d=s.time;if(null!=i&&null!=u){var f=i[u];return null!=f?f(n,o,a,d):null}return null}function ne(e,t,n,o,a,r){var i=Z(a,t),l=Z(o,t);switch(t){case H.DispatchApplicationStages.QUEUED:return 0===o?V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:n,progress:l,total:i});case H.DispatchApplicationStages.PLANNING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:n});case H.DispatchApplicationStages.ALLOCATING_DISK:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:n});case H.DispatchApplicationStages.PATCHING:return te(r,e,n,l,i);case H.DispatchApplicationStages.FINALIZING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:n});case H.DispatchApplicationStages.PAUSING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:n,progress:l,total:i});case H.DispatchApplicationStages.VERIFYING:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:n,progress:l,total:i});case H.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:n,progress:l,total:i});case H.DispatchApplicationStages.REPAIRING:return e===H.LocalDispatchApplicationStates.REPAIRING?te(r,e,n,l,i):V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:n,progress:l,total:i})}throw new Error("Invalid Dispatch stage")}var oe="name",ae="progress",re="actions",ie=function(e){function t(){var n,o;K(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=$(this,e.call.apply(e,[this].concat(r))),o.renderProgressPatchingBody=function(e,t){var n=o.props.item.state;if(null==n)return null;var a=n.stage,r=n.progress,i=n.total,l=n.type,s=n.readerProgress;if(null==r||null==i||null==a)return null;var u=G.calculateProgressPercentage(r,i),d=G.calculateProgressPercentage(s||0,i),f=e[e.length-1]/t*1e3,c=i-r,p=0!==f?Math.max(1,c/f):null,h=ne(l,a,Math.floor(u),r,i,p);return o.renderStackedProgress({percents:[u,d],message:h})},$(o,n)}return q(t,e),t.prototype.renderBody=function(e){var t=e.percent,n=e.foregroundColor,o=e.backgroundColor,a=e.foregroundGradientColor,r=e.message;return d(M.default,{direction:M.default.Direction.VERTICAL},void 0,d(w.default,{percent:t,size:w.default.Sizes.SMALL,backgroundColor:o,foregroundColor:n,foregroundGradientColor:a,animate:this.isFocused}),d("div",{className:Y.default.progressCellText},void 0,null!=r?r:""))},t.prototype.renderStackedProgress=function(e){var t=e.percents,n=e.message;return d(M.default,{direction:M.default.Direction.VERTICAL},void 0,d(D.default,{percents:t,size:w.default.Sizes.SMALL,backgroundColor:this.props.item.theme===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800,foregroundColors:Q,animate:this.isFocused}),d("div",{className:Y.default.progressCellText},void 0,null!=n?n:""))},t.prototype.renderFinished=function(){var e=this.props.item;return this.renderBody({message:V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return C.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_300:H.Colors.PRIMARY_DARK,backgroundColor:e.theme===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800,percent:100})},t.prototype.renderQueued=function(){var e=this.props.item,t=e.state,n=e.theme,o=void 0,a=void 0;if(null!=t){var r=t.progress,i=t.total,l=t.stage;if(null!=r&&null!=i){var s=Z(i,l),u=Z(r,l);a=G.calculateProgressPercentage(r,i);var d=Math.floor(a);o=l===H.DispatchApplicationStages.PAUSING?V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:d,progress:u,total:s}):V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:d,progress:u,total:s})}}return null!=a&&null!=o||(a=0,o=V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION),this.renderBody({percent:a,foregroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_300:H.Colors.PRIMARY_DARK,backgroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800,message:o})},t.prototype.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var o=t.progress,a=t.total;if(null==o||null==a)return null;var r=G.calculateProgressPercentage(o,a),i=Math.floor(r);return this.renderBody({message:V.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,j.formatSize)(o),total:(0,j.formatSize)(a)}),foregroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_300:H.Colors.PRIMARY_DARK,backgroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800,percent:r})},t.prototype.renderProgressPatching=function(){return d(O.default,{getHistoricalTotalBytes:v.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)},t.prototype.renderProgressDefault=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var o=t.total,a=t.progress,r=t.stage,i=t.type;if(null==o||null==a||null==r)return null;var l=G.calculateProgressPercentage(a,o),s=Math.floor(l);return this.renderBody({percent:l,message:ne(i,r,s,a,o),foregroundColor:H.Colors.LINK,backgroundColor:n===H.ThemeTypes.LIGHT?H.Colors.PRIMARY_DARK_200:H.Colors.PRIMARY_DARK_800})},t.prototype.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case H.DispatchApplicationStages.PATCHING:case H.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}},t.prototype.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==H.LocalDispatchApplicationStates.UPDATING&&t.state.type!==H.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==H.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()},s(t,[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}]),t}(f.PureComponent);ie.displayName="ProgressCell";var le=function(){return d(J,{icon:P.default.Names.PLAY,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return C.resume()}})};le.displayName="ResumeButton";var se=function(){return d(J,{icon:P.default.Names.PAUSE,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return C.pause()}})};se.displayName="PauseButton";var ue=function(e){var t=e.item;return d(J,{icon:P.default.Names.ARROW_UP,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return C.moveUp(t.applicationId,t.branchId)}})};ue.displayName="MoveUpButton";var de=function(e){var t=e.item;return d(J,{icon:P.default.Names.CLOSE,tooltip:V.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return C.cancel(t.applicationId,t.branchId)}})};de.displayName="CancelButton";var fe=d(le,{}),ce=[{key:oe,cellClassName:Y.default.nameCell,render:function(e){return d(x.default,{game:e.application,location:H.AnalyticsLocations.APPLICATION_LIBRARY},void 0,d(M.default,{align:M.default.Align.CENTER},void 0,d(U.default,{game:e.application,className:Y.default.gameIcon,size:U.default.Sizes.SMALL}),d("div",{className:Y.default.nameCellText},void 0,e.application.name)))}},{key:ae,cellClassName:Y.default.progressCell,headerCellClassName:Y.default.progressCellHeader,bodyCellClassName:Y.default.progressCellBody,render:function(e,t){return d(ie,{item:e,cellProps:t})}},{key:re,cellClassName:Y.default.actionsCell,render:function(e,t){var n=void 0,o=void 0;return e.finished?n=null!=e.libraryApplication?d(F.default,{libraryApplication:e.libraryApplication,size:R.default.Sizes.SMALL,className:Y.default.gameActionButton,source:H.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null:null!=e.state?e.state.type!==H.LocalDispatchApplicationStates.UP_TO_DATE&&(n=e.index>0?d(ue,{item:e}):null!=t&&t.paused?fe:d(se,{item:e}),o=d(de,{item:e})):o=d(de,{item:e}),d(M.default,{justify:M.default.Justify.END},void 0,n,o)}}],pe=function(e){function t(){var n,o;K(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=$(this,e.call.apply(e,[this].concat(r))),o.isUnmounted=!1,o.isTallerThanHalfViewport=!1,o.throttledUpdateHeight=h.default.throttle(function(){if(!o.isUnmounted){var e=o.props,t=e.height,n=e.onHeightTallerThanHalfViewportChange,a=t>window.innerHeight/2;o.isTallerThanHalfViewport!==a&&(o.isTallerThanHalfViewport=a,n(a))}},1e3),$(o,n)}return q(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)},t.prototype.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()},t.prototype.componentWillUnmount=function(){this.props.applications.forEach(function(e){e.finished&&y.default.wait(function(){C.removeFinished(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0},t.prototype.render=function(){var e=this.props,t=e.applications,n=e.paused,o=e.isFocused,a=e.theme,r=e.analyticsContext;return 0===t.length?null:d("div",{className:Y.default.gameUpdates},void 0,d("div",{className:Y.default.headerRow},void 0,d(b.default,{className:(0,c.default)(Y.default.headerCell,Y.default.networkProgress),title:V.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:v.default.getHistoricalTotalBytesDownloaded,color:H.Colors.STATUS_GREEN,animate:o,gradientStopColor:a===H.ThemeTypes.LIGHT?H.Colors.WHITE:null}),d(b.default,{className:(0,c.default)(Y.default.headerCell,Y.default.diskProgress),title:V.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:v.default.getHistoricalTotalBytesWritten,color:H.Colors.LINK,animate:o,gradientStopColor:a===H.ThemeTypes.LIGHT?H.Colors.WHITE:null})),d(A.default,{hasHeader:!1,columns:ce,data:t,className:Y.default.table,rowClassName:Y.default.row,rowComponent:X,cellProps:{paused:n,isFocused:o,theme:a},rowProps:{onContextMenu:function(e,t){return function(e,t,n){N.openContextMenu(e,function(e){return f.createElement(I.default,u({},e,{type:H.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES,application:t.applicationId,applicationId:t.branchId,analyticsContext:n}))})}(e,t,r)}},bodyCellClassName:Y.default.cell}))},t}(f.PureComponent);function he(e,t){return e.reduce(function(e,n,o){var a=n.applicationId,r=n.branchId,i=_.default.getGame(a),l=v.default.getState(a,r);return null!=i&&e.push({key:a+":"+r,applicationId:a,branchId:r,state:l,application:i,libraryApplication:S.default.getLibraryApplication(a,r),finished:t,index:o}),e},[])}pe.displayName="GameUpdates",t.default=(0,B.default)(p.default.connectStores([v.default,E.default,_.default,S.default,g.default,T.default],function(){var e=he(E.default.activeItems,!1),t=he(E.default.finishedItems,!0);return{applications:[].concat(e,t),paused:E.default.paused,isFocused:g.default.isFocused(),theme:T.default.theme}})((0,m.default)(pe))),e.exports=t.default},7484:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=C(n(1)),i=T(n(3)),l=T(n(9)),s=T(n(2)),u=C(n(168)),d=n(6510),f=T(n(963)),c=T(n(945)),p=T(n(937)),h=T(n(1021)),y=C(n(6709)),m=T(n(925)),v=T(n(75)),E=T(n(81)),_=n(0),g=T(n(6)),S=T(n(5908));function T(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=N(this,e.call.apply(e,[this].concat(r))),o.inputRef=null,o.setRef=function(e){o.inputRef=e},o.handleKeyDown=function(e){var t=o.props,n=t.activeRowKey,a=t.hasModalOpen,r=t.applicationViewItems;if(!(a||e.ctrlKey||e.altKey||e.metaKey||document.activeElement!==o.inputRef&&(0,d.isInputLikeElement)(document.activeElement)))switch(e.which){case _.KeyboardKeys.ESCAPE:e.target!==o.inputRef?o.reset():null!=o.inputRef&&o.inputRef.blur();break;case _.KeyboardKeys.ENTER:if(null!=n){e.preventDefault();var i=r.find(function(e){return e.key===n});if(null==i)return;var l=i.libraryApplication;u.performDefaultLibraryApplicationAction(l,{analyticsParams:{source:_.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:_.AnalyticsPages.LIBRARY,section:_.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:_.AnalyticsObjects.BUTTON_CTA}}})}break;case _.KeyboardKeys.ARROW_DOWN:case _.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),o.updateActiveRow(e.which===_.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=o.inputRef&&e.target!==o.inputRef&&o.inputRef.focus()}},N(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){s.default.wait(function(){return y.updateActiveRowKey(null)}),document.removeEventListener("keydown",this.handleKeyDown)},t.prototype.reset=function(){y.updateActiveRowKey(null),y.updateLibraryFilter("")},t.prototype.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,o=t.activeRowKey,a=n.findIndex(function(e){return e.key===o}),r=0;a>=0&&(r=(a+e)%n.length)<0&&(r=n.length-1);var i=n[r];y.updateActiveRowKey(null!=i?i.key:null,!0)},t.prototype.render=function(){var e,t,n=this.props.filterQuery;return a("div",{className:S.default.libraryFilter},void 0,a(m.default,{className:S.default.libraryFilterInputWrapper,inputClassName:S.default.libraryFilterInput,inputRef:this.setRef,size:m.default.Sizes.MINI,onChange:y.updateLibraryFilter,name:"filter",maxLength:100,value:n,placeholder:g.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}),a(v.default,{className:(0,l.default)(S.default.icon,(e={},e[S.default.iconVisible]=""===n,e)),name:v.default.Names.SEARCH}),a(E.default,{onClick:this.reset},void 0,a(v.default,{className:(0,l.default)(S.default.icon,S.default.clearIcon,(t={},t[S.default.iconVisible]=""!==n,t)),name:v.default.Names.CLEAR})))},t}(r.PureComponent);b.displayName="ApplicationLibraryFilter",t.default=i.default.connectStores([f.default,c.default,p.default,h.default],function(){return{filterQuery:f.default.applicationFilterQuery,applicationViewItems:f.default.sortedFilteredLibraryApplicationViewItems,hasModalOpen:p.default.hasModalOpen()||c.default.hasLayers(),activeRowKey:h.default.activeRowKey}})(b),e.exports=t.default},7485:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=T(n(1)),i=S(n(9)),l=S(n(522)),s=S(n(2)),u=T(n(6175)),d=n(586),f=n(6174),c=S(n(227)),p=S(n(7484)),h=S(n(7483)),y=S(n(7479)),m=S(n(6451)),v=S(n(376)),E=n(6153),_=n(0),g=S(n(5899));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=a(p.default,{}),b=a(l.default,{title:"Discord"}),O=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=C(this,e.call.apply(e,[this].concat(i))),o._scrollerRef=r.createRef(),o._scrollToPadding=0,o.state={includeUpdatesInScroller:!1},o.handleHeightTallerThanHalfViewportChange=function(e){o.setState({includeUpdatesInScroller:e})},o.scrollToRow=function(e,t){var n=o._scrollerRef.current;null!=n?(e.focus(),n.scrollIntoView(e,!1,{top:t,bottom:t}),o._scrollToOnMount=null):(o._scrollToOnMount=e,o._scrollToPadding=t)},C(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){u.setHomeLink(_.Routes.APPLICATION_LIBRARY),(0,E.deepLinkRouteIfLanded)(_.RPCDeepLinks.LIBRARY),s.default.wait(function(){return(0,d.fetchBranches)()}),(0,f.fetchActivityStatistics)(),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)},t.prototype.renderToolbar=function(){return N},t.prototype.renderBody=function(){var e,t=this.props.location,n=this.state.includeUpdatesInScroller,o=a("div",{},void 0,a(v.default,{section:_.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,a(h.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return a(r.Fragment,{},void 0,n?null:o,r.createElement(c.default,{outerClassName:(0,i.default)((e={},e[g.default.stickyScroller]=!n,e)),ref:this._scrollerRef,gutterStyle:c.default.GutterStyles.STORE,theme:c.default.Themes.MESSAGES_THEMED_WITH_TRACK},n?o:null,a(v.default,{section:_.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,a(y.default,{stickyHeader:!n,scrollToRow:this.scrollToRow,location:t}))))},t.prototype.render=function(){return a("div",{className:g.default.gameLibrary},void 0,b,a(m.default,{currentRoute:_.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),this.renderBody())},t}(r.PureComponent);O.displayName="GameLibrary",t.default=O,e.exports=t.default},7486:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(226),l=c(n(7485)),s=c(n(7477)),u=c(n(7476)),d=c(n(376)),f=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a(i.Switch,{},void 0,a(i.Route,{path:f.Routes.APPLICATION_LIBRARY_INVENTORY,exact:!0,render:function(e){return a(d.default,{page:f.AnalyticsPages.LIBRARY_INVENTORY,root:!0},void 0,r.createElement(u.default,e))}}),a(i.Route,{path:f.Routes.APPLICATION_LIBRARY_PREMIUM,exact:!0,render:function(e){return a(d.default,{page:f.AnalyticsPages.LIBRARY_PREMIUM_APPLICATIONS,root:!0},void 0,r.createElement(s.default,e))}}),a(i.Route,{path:f.Routes.APPLICATION_LIBRARY,render:function(e){return a(d.default,{page:f.AnalyticsPages.LIBRARY,root:!0},void 0,r.createElement(l.default,e))}}))},t}(r.Component);p.displayName="ApplicationLibraryPage",t.default=p,e.exports=t.default},7487:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),l(n(9))),i=l(n(5912));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,n=e.tag,o=void 0===n?"div":n,l=e.padded,s=void 0===l||l,u=e.inset,d=void 0!==u&&u,f=e.className,c=e.children;return a(o,{className:(0,r.default)(f,(t={},t[i.default.outer]=!d,t[i.default.inset]=d,t[i.default.padded]=s,t))},void 0,c)},e.exports=t.default},7488:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(81)),l=d(n(75)),s=d(n(9)),u=d(n(5913));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){return a(l.default,{name:l.default.Names.ACTIVITY,className:u.default.running})};f.displayName="RunningIcon";var c=Object.freeze({EMPTY:u.default.empty,WRAPPED:u.default.wrapped,UNWRAPPED:u.default.unwrapped}),p=a(f,{}),h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this.props,n=t.size,o=t.type,r=t.icon,l=t.onClick,d=t.onContextMenu,f=t.alt,h=t.running;return a(i.default,{className:(0,s.default)(u.default.container,null==r?c.EMPTY:o,(e={},e[u.default.clickable]=null!=l&&!h,e)),style:{width:n,height:n},onClick:h?null:l,onContextMenu:d},void 0,null!=r?a("img",{src:r,className:(0,s.default)(u.default.icon,h?u.default.iconRunning:null),alt:f}):null,h&&null!=r?p:null)},t}(r.Component);h.Types=c,h.defaultProps={type:c.UNWRAPPED,size:46,running:!1},h.displayName="LaunchableIcon",t.default=h,e.exports=t.default},7489:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=v(n(3)),l=v(n(6)),s=v(n(7)),u=v(n(963)),d=v(n(76)),f=v(n(7488)),c=v(n(7487)),p=n(168),h=n(552),y=n(0),m=v(n(5911));function v(e){return e&&e.__esModule?e:{default:e}}var E=Object.freeze({SMALL:36,NORMAL:43,LARGE:46,XLARGE:48});var _=a(d.default,{},void 0,"Quick Launcher"),g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.launchGame=function(e){var t=this.props.applications;(0,p.playApplication)(e.id,e.libraryApplication,{analyticsParams:{location:y.AnalyticsLocations.ACTIVITY_FEED,num_launcher_applications:t.length}})},t.prototype.renderApps=function(){var e=this,t=this.props,n=t.layout,o=t.applications;if(0===o.length)return a("div",{className:m.default.emptyCard},void 0,a("div",{className:m.default.emptyContent},void 0,l.default.Messages.QUICK_LAUNCHER_EMPTY_TEXT_V2));var r=function(e){switch(e){case y.FeedLayouts.NARROW_2_COL:return E.SMALL;case y.FeedLayouts.WIDE_2_COL:return E.XLARGE;case y.FeedLayouts.NARROW_3_COL:return E.NORMAL;case y.FeedLayouts.WIDE_3_COL:default:return E.LARGE}}(n),i=n===y.FeedLayouts.NARROW_2_COL||n===y.FeedLayouts.WIDE_2_COL,u=a("div",{className:m.default.grid},void 0,o.map(function(t){return a(f.default,{size:r,icon:t.icon,alt:t.name,running:t.running,type:i?f.default.Types.WRAPPED:f.default.Types.UNWRAPPED,onClick:function(){return e.launchGame(t)}},t.name)}),s.default.times(6-o.length,function(){return a(f.default,{size:r,type:i?f.default.Types.WRAPPED:f.default.Types.UNWRAPPED})}));return i?a(c.default,{},void 0,u):u},t.prototype.render=function(){return a("div",{className:m.default.container},void 0,_,this.renderApps())},t}(r.PureComponent);g.displayName="QuickLauncher";var S=(0,h.cachedFunction)(function(e){return e.map(function(e){var t=e.libraryApplication,n=e.application,o=e.isLaunching,a=e.isRunning,r=null!=t?t.getBranchedName(n):n.name;return{id:n.id,name:r,libraryApplication:t,icon:n.getIconURL(60),running:o||a}})});t.default=i.default.connectStores([u.default],function(){return{applications:S(u.default.launchableApplicationViewItems)}})(g),e.exports=t.default},7490:function(e,t,n){"use strict";t.__esModule=!0,t.FeedLayoutContext=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),a=n(0);t.FeedLayoutContext=o.createContext(a.FeedLayouts.NARROW_2_COL)},7491:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6)),l=f(n(6454)),s=f(n(45)),u=f(n(370)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=c(this,e.call.apply(e,[this].concat(l))),o.handleClose=function(){},o.renderButtons=function(){return a(s.default,{size:s.default.Sizes.SMALL,onClick:o.handleFollowGames},void 0,i.default.Messages.ACTIVITY_FEED_CARD_FOLLOW_GAMES)},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleFollowGames=function(){u.default.open(d.UserSettingsSections.GAME_ACTIVITY)},t.prototype.render=function(){return a(l.default,{imgSrc:n(6453),header:i.default.Messages.ACTIVITY_FEED_CARD_NO_GAMES_HEADER,body:i.default.Messages.ACTIVITY_FEED_CARD_NO_GAMES_BODY,renderButtons:this.renderButtons,onClose:this.handleClose})},t}(r.Component);p.displayName="NoGamesCard",t.default=p,e.exports=t.default},7492:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(6454)),s=d(n(45)),u=d(n(5914));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,d=Array(l),c=0;c<l;c++)d[c]=arguments[c];return n=o=f(this,e.call.apply(e,[this].concat(d))),o.renderButtons=function(){return a(r.Fragment,{},void 0,a(s.default,{size:s.default.Sizes.SMALL,onClick:o.handleYes,look:s.default.Looks.INVERTED},void 0,i.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),a(s.default,{className:u.default.noButton,size:s.default.Sizes.MIN,look:s.default.Looks.LINK,color:s.default.Colors.WHITE,onClick:o.handleNo},void 0,i.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_NO))},f(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleClickPrivacy=function(){},t.prototype.handleYes=function(){},t.prototype.handleNo=function(){},t.prototype.render=function(){return a(l.default,{className:u.default.gdprWrapper,imgSrc:n(6453),header:i.default.Messages.ACTIVITY_FEED_CARD_GDPR_HEADER,body:i.default.Messages.ACTIVITY_FEED_CARD_GDPR_BODY.format({onClickPrivacy:this.handleClickPrivacy}),renderButtons:this.renderButtons})},t}(r.Component);c.displayName="GDPRCard",t.default=c,e.exports=t.default},7493:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6)),l=f(n(6454)),s=f(n(45)),u=f(n(370)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=c(this,e.call.apply(e,[this].concat(l))),o.handleClose=function(){},o.renderButtons=function(){return a(s.default,{size:s.default.Sizes.SMALL,onClick:o.handleFollowGames},void 0,i.default.Messages.ACTIVITY_FEED_CARD_FOLLOW_GAMES)},c(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleFollowGames=function(){u.default.open(d.UserSettingsSections.GAME_ACTIVITY)},t.prototype.render=function(){return a(l.default,{imgSrc:n(6453),header:i.default.Messages.ACTIVITY_FEED_CARD_FIRST_TIME_USER_HEADER,body:i.default.Messages.ACTIVITY_FEED_CARD_FIRST_TIME_USER_BODY,renderButtons:this.renderButtons,onClose:this.handleClose})},t}(r.Component);p.displayName="FirstTimeUserCard",t.default=p,e.exports=t.default},7494:function(e,t,n){"use strict";var o;t.__esModule=!0;var a,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=A(n(3)),s=A(n(2)),u=A(n(133)),d=A(n(974)),f=A(n(28)),c=A(n(22)),p=A(n(1020)),h=n(291),y=n(6174),m=n(6547),v=A(n(7493)),E=A(n(7492)),_=A(n(7491)),g=n(7490),S=A(n(7489)),T=A(n(227)),C=A(n(76)),N=A(n(6346)),b=n(273),O=n(0),I=A(n(5910));function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=r("div",{},void 0,"News Card!"),P=r("div",{},void 0,"Promotion Card!"),L=r(E.default,{}),w=r(_.default,{}),D=r(v.default,{}),U=r("div",{},void 0,"Now Playing Card!"),k=r("div",{},void 0,"Trending Games Card!"),F=((o={})[O.FeedCardTypes.NEWS]=function(){return R},o[O.FeedCardTypes.PROMOTION]=function(){return P},o[O.FeedCardTypes.GDPR]=function(){return L},o[O.FeedCardTypes.NO_GAMES]=function(){return w},o[O.FeedCardTypes.FIRST_TIME_USER]=function(){return D},o[O.FeedCardTypes.SIDE_BAR]=function(e,t){return r(i.Fragment,{},void 0,r(S.default,{layout:t}),U,k)},o),x=(0,b.cssValueToNumber)(I.default.feedBreakpointSmall),G=(0,b.cssValueToNumber)(I.default.feedBreakpointNormal),j=(0,b.cssValueToNumber)(I.default.feedBreakpointLarge),B=(0,b.cssValueToNumber)(I.default.gutterWidthSmall);function H(e){return e.key}var V=r(C.default,{},void 0,"Latest News"),Y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=M(this,e.call.apply(e,[this].concat(i))),o.renderNewsItem=function(e){var t=F[e.type];return r(g.FeedLayoutContext.Consumer,{},H(e),function(n){return t(e,n)})},M(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched;t&&null!=n&&s.default.wait(function(){return(0,h.scanForLocalApplications)()}),p.default.shouldFetch()&&s.default.wait(function(){return(0,m.fetchPromotions)()}),(0,y.fetchActivityStatistics)()},t.prototype.componentWillUnmount=function(){},t.prototype.renderLatestNews=function(){var e=this.props.feedContent;return r(N.default,{items:e,gutterWidth:B,renderItem:this.renderNewsItem,renderHeader:function(){return V},maxColumns:2,getItemId:H,desiredItemWidth:200,maxItemWidth:320})},t.prototype.render=function(){var e=this.props,t=e.layout,n=e.sidebarContent,o=void 0;return o=t===O.FeedLayouts.NARROW_2_COL||t===O.FeedLayouts.WIDE_2_COL?r(T.default,{className:I.default.layout},void 0,r("div",{className:I.default.layoutInner},void 0,this.renderLatestNews())):r(T.default,{className:I.default.layout},void 0,r("div",{className:I.default.layoutInner},void 0,r("div",{className:I.default.content},void 0,this.renderLatestNews()),r("aside",{className:I.default.sidebar},void 0,n.map(this.renderNewsItem)))),r(g.FeedLayoutContext.Provider,{value:t},void 0,o)},t}(i.PureComponent);Y.displayName="Feed",t.default=l.default.connectStores([u.default,d.default,f.default,c.default],function(){var e,t=(e=u.default.windowSize().width)<x?O.FeedLayouts.NARROW_2_COL:e<G?O.FeedLayouts.WIDE_2_COL:e<j?O.FeedLayouts.NARROW_3_COL:O.FeedLayouts.WIDE_3_COL;return{importGamesEnabled:f.default.importGamesEnabled,gamesDBLastFetched:c.default.lastFetched,layout:t,feedContent:d.default.getFeed(t),sidebarContent:d.default.getSidebar(t)}})(Y),e.exports=t.default},7495:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=_(n(1)),i=E(n(3)),l=E(n(522)),s=E(n(6)),u=E(n(28)),d=_(n(6175)),f=_(n(986)),c=E(n(376)),p=E(n(6082)),h=E(n(1001)),y=E(n(7494)),m=n(0),v=E(n(5909));function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var g=a(y.default,{}),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){f.mount(),d.setHomeLink(m.Routes.ACTIVITY)},t.prototype.componentWillUnmount=function(){f.unmount()},t.prototype.renderCustomMessage=function(){return a("div",{},void 0,a("p",{},void 0,s.default.Messages.ERRORS_ACTIVITY_FEED_CRASH),a("p",{},void 0,s.default.Messages.ERRORS_ACTION_TO_TAKE))},t.prototype.render=function(){return a(h.default,{theme:this.props.theme,renderCustomMessage:this.renderCustomMessage},void 0,a(c.default,{page:m.AnalyticsPages.ACTIVITY_FEED,root:!0},void 0,a("div",{className:v.default.activityFeed},void 0,a(l.default,{title:s.default.Messages.ACTIVITY}),a(p.default,{title:s.default.Messages.ACTIVITY}),g)))},t}(r.PureComponent);S.displayName="ActivityFeed",t.default=i.default.connectStores([u.default],function(){return{theme:u.default.theme}})(S),e.exports=t.default},7496:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(6)),l=s(n(5918));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return a("div",{className:l.default.emptyState},void 0,a("div",{className:l.default.title},void 0,i.default.Messages.GAME_FEED_EMPTY_STATE_TITLE),a("div",{className:l.default.subtitle},void 0,i.default.Messages.GAME_FEED_EMPTY_STATE_SUBTITLE))},t}(r.PureComponent);u.displayName="ActivityFeedEmptyState",t.default=u,e.exports=t.default},7497:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(938)),s=p(n(45)),u=p(n(42)),d=p(n(71)),f=p(n(6)),c=(n(0),p(n(5920)));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=n(1236),m=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),p=0;p<r;p++)l[p]=arguments[p];return n=o=h(this,e.call.apply(e,[this].concat(l))),o.handleApplicationClick=function(e,t){var n=o.props.onApplicationClick;null==n||t.disabled||n(e,t)},o.handlePlayClick=function(e,t){e.stopPropagation();var n=o.props.onApplicationPlay;null==n||t.disabled||n(t)},o.handleApplicationContextMenu=function(e,t){var n=o.props.onApplicationContextMenu;null==n||t.disabled||n(e,t)},o.renderIcon=function(e){var t,n=o.props.dockItemClassName,r=null!=e.iconSrc?e.iconSrc:y;return a(u.default,{direction:u.default.Direction.VERTICAL,shrink:0,grow:0,align:u.default.Align.CENTER,className:(0,i.default)(c.default.dockItem,n),onContextMenu:function(t){return o.handleApplicationContextMenu(t,e)},onClick:function(t){return t.shiftKey?o.handlePlayClick(t,e):o.handleApplicationClick(t,e)}},e.id,a("div",{className:(0,i.default)(c.default.dockIcon,(t={},t[c.default.dockIconDisabled]=e.disabled,t)),style:{backgroundImage:"url('"+r+"')"}}),a(d.default,{className:c.default.dockItemText,size:d.default.Sizes.SMALL},void 0,e.name),a(s.default,{color:s.default.Colors.GREEN,size:s.default.Sizes.SMALL,onClick:function(t){return o.handlePlayClick(t,e)},disabled:e.disabled,className:c.default.dockItemPlay,fullWidth:!0},void 0,f.default.Messages.GAME_FEED_ACTIVITY_ACTION_PLAY))},h(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.applications,n=e.className,o=e.width,r=Math.floor(o/90),l=t.slice(0,r).map(this.renderIcon);return a("div",{className:(0,i.default)(c.default.dock,n)},void 0,l)},t}(r.PureComponent);m.defaultProps={disabled:!1},m.displayName="ApplicationDock",t.default=(0,l.default)(m),e.exports=t.default},7498:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=b(n(1)),s=b(n(541)),u=b(n(168)),d=N(n(228)),f=N(n(22)),c=n(32),p=N(n(949)),h=N(n(1026)),y=n(225),m=N(y),v=N(n(42)),E=N(n(7497)),_=n(75),g=N(_),S=(N(n(89)),N(n(6))),T=n(0),C=N(n(5919));function N(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var I=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,d=Array(i),v=0;v<i;v++)d[v]=arguments[v];return n=o=O(this,e.call.apply(e,[this].concat(d))),o.handleApplicationPlay=function(e){u.playApplication(e.id,e.libraryApplication,{analyticsParams:{location:o.analyticsLocation,num_launcher_applications:o.props.applicationItems.length}})},o.handleApplicationClick=function(e,t){var n=f.default.getGame(t.id);if(null!=n){var a=e.currentTarget;a=a instanceof Element?a:o,s.trackGamePopoutOpened(n,T.AnalyticsLocations.QUICK_LAUNCHER,o.analyticsLocation),(0,y.openPopout)(a,{render:function(){return o.renderGamePopout(n)},position:m.default.Positions.BOTTOM_LEFT,closeOnScroll:!1})}},o.handleApplicationContextMenu=function(e,t){var n=f.default.getGame(t.id),a=o.props.analyticsContext;null!=n&&(0,c.openContextMenu)(e,function(e){return l.createElement(p.default,r({},e,{type:T.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER,applicationId:n.id,analyticsContext:a}))})},o.renderGamePopout=function(e){return a(h.default,{popoutKey:"popout:"+e.id,game:e,source:T.AnalyticsLocations.QUICK_LAUNCHER,analyticsContext:o.props.analyticsContext})},O(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.applicationItems,n=e.className,o=0===t.length;return a("div",{className:n},void 0,a(v.default,{align:v.default.Align.CENTER,justify:v.default.Justify.BETWEEN},void 0,a("div",{className:C.default.header},void 0,S.default.Messages.QUICK_LAUNCHER_HEADER)),o?a(v.default,{align:v.default.Align.CENTER,className:C.default.emptyState},void 0,a(g.default,{className:C.default.emptyIcon,name:_.IconNames.OPEN_EXTERNAL}),a("div",{},void 0,S.default.Messages.QUICK_LAUNCHER_EMPTY_TEXT)):a(E.default,{onApplicationPlay:this.handleApplicationPlay,onApplicationClick:this.handleApplicationClick,onApplicationContextMenu:this.handleApplicationContextMenu,applications:t,className:C.default.dock}))},i(t,[{key:"analyticsLocation",get:function(){return r({},this.props.analyticsContext.location,{object:T.AnalyticsObjects.CARD})}}]),t}(l.PureComponent);I.displayName="QuickLauncher",t.default=(0,d.default)(I),e.exports=t.default},7499:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(512)),s=n(273),u=h(n(6338)),d=h(n(6710)),f=n(6102),c=h(f),p=h(n(5921));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,s.cssValueToNumber)(p.default.carouselHeight),v=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=o=y(this,e.call.apply(e,[this].concat(i))),o.renderItem=function(e,t){if(null==e)return null;var n=o.props,r=n.visibleIndex,i=n.getCurrentDirection,l=n.onGamePopoutOpen,s=n.onGamePopoutClose,u=n.onItemClick,f=n.onPromotionBuyClick,c=n.items,h=n.isWindowFocused;return a(d.default,{item:e,type:e.type,itemHeight:m,application:e.application,onOpen:function(n){return u(e,t,n)},onPromotionBuyClick:function(){return f(e)},onGamePopoutOpen:l,onGamePopoutClose:s,className:1===c.length?p.default.headerAlone:p.default.headerNormal,getDirection:i,index:r,forcePauseVideo:!h,simple:!0,horizontal:!0},r)},o.renderPaginationItem=function(e,t){return a("div",{className:t===o.props.visibleIndex?p.default.dotSelected:p.default.dotNormal},t)},y(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.isWindowFocused,o=e.className,r=e.visibleIndex,s=e.isGamePopoutOpen,d=e.nextItem,h=e.prevItem,y=e.setItem;return t.length<1?null:1===t.length?a("div",{className:(0,i.default)(p.default.feedCarousel,o)},void 0,a("div",{className:p.default.smallCarousel},void 0,this.renderItem(t[0],0))):a(u.default,{onInterval:d,interval:8e3,disable:!n||s,pauseOnHover:!0},void 0,a("div",{className:(0,i.default)(p.default.feedCarousel,o)},void 0,a(l.default,{className:p.default.smallCarousel},void 0,this.renderItem(t[r],r)),a("div",{className:p.default.pagination},void 0,a(f.CarouselPrevious,{onClick:h,className:p.default.arrow}),a(c.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:r,onSetItem:y}),a(f.CarouselNext,{onClick:d,className:p.default.arrow}))))},t}(r.PureComponent);v.displayName="HorizontalFeedCarousel",t.default=v,e.exports=t.default},7500:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=y(n(9)),l=y(n(512)),s=n(151),u=y(n(6338)),d=y(n(6710)),f=y(n(6102)),c=n(0),p=y(n(6)),h=y(n(5922));function y(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=300,E=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=o=m(this,e.call.apply(e,[this].concat(l))),o.renderItem=function(e,t){if(null==e)return null;var n=o.props,r=n.visibleIndex,i=n.onItemClick,l=n.onPromotionBuyClick,s=n.onGamePopoutOpen,u=n.onGamePopoutClose,f=n.getCurrentDirection,c=n.isWindowFocused;return a(d.default,{item:e,application:e.application,onOpen:function(n){return i(e,t,n)},onPromotionBuyClick:function(){return l(e)},onGamePopoutOpen:s,onGamePopoutClose:u,className:h.default.article,getDirection:f,index:r,forcePauseVideo:!c},r)},o.renderPaginationItem=function(e,t){var n=o.props.visibleIndex,r=void 0,l=void 0,u=void 0,d=void 0;if(e.type===c.FeedCarouselItemTypes.APPLICATION_NEWS){var f=e.news,y=e.application;r=f.thumbnail,l=f.title,u=y.getSplashURL(v),d=y.name}else{var m=e.promotion;l=m.title,d=p.default.Messages.APPLICATION_STORE_ACTIVITY_FEED_PROMOTION_SUBTITLE,u=m.imageUrl}if(null!=r){var E=r.height/r.width*v;u=(0,s.getSizedImageSrc)(r.proxy_url||r.url,v,E,"png")}return a("div",{className:(0,i.default)(h.default.paginationItem,t===n?h.default.selectedPage:null)},t,a("div",{className:null!=u?h.default.splashArt:h.default.splashBackup,style:null!=u?{backgroundImage:"url("+u+")"}:null}),a("div",{className:h.default.paginationText},void 0,a("h2",{className:h.default.paginationTitle},void 0,l),a("h4",{className:h.default.paginationSubtitle},void 0,d)))},m(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.isWindowFocused,o=e.className,r=e.visibleIndex,s=e.isGamePopoutOpen,d=e.nextItem,c=e.setItem;return t.length<1?null:1===t.length?a("div",{className:(0,i.default)(h.default.feedCarousel,o)},void 0,a("div",{className:h.default.carousel},void 0,this.renderItem(t[0],0))):a(u.default,{onInterval:d,interval:8e3,disable:!n||s,pauseOnHover:!0},void 0,a("div",{className:(0,i.default)(h.default.feedCarousel,o)},void 0,a(l.default,{className:h.default.carousel},void 0,this.renderItem(t[r],r)),a("div",{className:h.default.pagination},void 0,a(f.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:r,onSetItem:c,vertical:!0}))))},t}(r.PureComponent);E.displayName="VerticalFeedCarousel",t.default=E,e.exports=t.default},7501:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=_(n(1)),s=n(122),u=_(n(541)),d=E(n(41)),f=E(n(228)),c=n(277),p=E(n(370)),h=n(6547),y=E(n(7500)),m=E(n(7499)),v=n(0);function E(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S="premium",T=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=g(this,e.call.apply(e,[this].concat(i))),o.state={isGamePopoutOpen:!1,visibleIndex:0,direction:1},o.numIntentionalNewsChange=0,o.nextItem=function(){var e=o.props.items;o.changeItem(e,1)},o.prevItem=function(){var e=o.props.items;o.changeItem(e,-1)},o.setItem=function(e){var t=o.state.visibleIndex,n=o.props.items;o.changeItem(n,e-t),o.numIntentionalNewsChange++},o.getCurrentDirection=function(){return o.state.direction},o.handleGamePopoutOpen=function(){o.setState({isGamePopoutOpen:!0})},o.handleGamePopoutClose=function(){o.setState({isGamePopoutOpen:!1})},o.handleItemClick=function(e,t,n){e.type===v.FeedCarouselItemTypes.APPLICATION_NEWS?o.handleNewsClick(e.application,e.news,t):o.handlePromotionClick(e.promotion,n)},o.handleNewsClick=function(e,t,n){null!=t&&u.trackGameNewsOpened(v.AnalyticsLocations.ACTIVITY_FEED,t,n,e,o.props.cardMetadata)},o.handlePromotionClick=function(e,t){var n=o.analyticsLocation;if(null!=e){if(e.destination.type===v.PromotionTypes.GENERAL){var a=e.destination.linkUrl;if(a.startsWith("/")){var i=(0,s.parse)(a);i.pathname===v.Routes.SETTINGS(S)?p.default.open(v.UserSettingsSections.PREMIUM):d.default.transitionTo(i.pathname,{hash:i.hash,search:i.search,state:{analyticsLocation:n,analyticsSource:r({},o.analyticsLocation,{promotionId:e.id})}}),t.preventDefault()}}else if(e.destination.type===v.PromotionTypes.GAME){var l=e.destination.sku;(0,c.goToApplicationStoreListing)(l.id,{slug:l.slug,analyticsSource:n,analyticsProperties:{source_promotion_id:e.id}}),t.preventDefault()}(0,h.ackPromotion)(e.ackKey,v.PromotionAckTypes.CLICK)}},o.handlePromotionBuyClick=function(e){if(e.type!==v.FeedCarouselItemTypes.PROMOTION)throw new Error("Unexpected item type");(0,h.ackPromotion)(e.promotion.ackKey,v.PromotionAckTypes.CLICK)},g(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.handleChangeVisibleIndex(this.state.visibleIndex)},t.prototype.componentWillUnmount=function(){this.numIntentionalNewsChange>0&&u.trackGameNewsChanged(v.AnalyticsLocations.ACTIVITY_FEED,null,this.numIntentionalNewsChange,this.props.cardMetadata)},t.prototype.componentDidUpdate=function(e,t){this.state.visibleIndex!==t.visibleIndex&&this.handleChangeVisibleIndex(this.state.visibleIndex)},t.prototype.changeItem=function(e,t){var n=this.state.visibleIndex+t;n<0?n=e.length-1:n>e.length-1&&(n=0),this.setState({visibleIndex:n,direction:t>0?1:-1})},t.prototype.handleChangeVisibleIndex=function(e){var t=this.props,n=t.onItemViewed,o=t.items;null!=o[e]&&n&&n(o[e],e)},t.prototype.render=function(){var e=this.props,t=e.useSmallCarousel,n=e.items,o=e.isWindowFocused,r=e.className,i=e.cardMetadata,l=this.state,s=l.visibleIndex,u=l.isGamePopoutOpen,d=t?m.default:y.default;return a(d,{items:n,visibleIndex:s,isGamePopoutOpen:u,isWindowFocused:o,className:r,cardMetadata:i,getCurrentDirection:this.getCurrentDirection,onItemClick:this.handleItemClick,onPromotionBuyClick:this.handlePromotionBuyClick,onGamePopoutOpen:this.handleGamePopoutOpen,onGamePopoutClose:this.handleGamePopoutClose,nextItem:this.nextItem,prevItem:this.prevItem,setItem:this.setItem})},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return r({},e,{object:v.AnalyticsObjects.CAROUSEL})}}]),t}(l.PureComponent);T.defaultProps={paused:!1},T.displayName="FeedCarousel",t.default=(0,f.default)(T),e.exports=t.default},7693:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=_(n(77)),l=_(n(7)),s=_(n(9)),u=_(n(938)),d=_(n(225)),f=_(n(94)),c=_(n(75)),p=_(n(42)),h=n(265),y=n(6346),m=_(n(6544)),v=_(n(6)),E=_(n(5965));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=function(e){function t(){var n,o;g(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=S(this,e.call.apply(e,[this].concat(r))),o.renderPopout=function(e){var t=o.props,n=t.renderPopout,a=t.member;return null!=a&&null!=n?n(a,e):null},o.handleUserPopoutOpen=function(){var e=o.props,t=e.onUserPopoutOpen,n=e.member,a=e.position,r=e.members;null!=n&&null!=t&&t(r,n,a)},o.handleClick=function(){var e=o.props,t=e.onClick,n=e.member;null!=n&&null!=t&&t(n)},o.handleUserContextMenu=function(e){var t=o.props,n=t.onContextMenu,a=t.member;null!=a&&null!=n&&n(e,a)},S(o,n)}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.member;return e.empty?a("div",{className:E.default.partyMemberEmpty}):null!=t?a(d.default,{render:this.renderPopout,position:d.default.Positions.LEFT,closeOnScroll:!1,onOpen:this.handleUserPopoutOpen},void 0,a(f.default,{text:t.username},void 0,a(h.AvatarImage,{src:t.getAvatarURL(),size:h.AvatarSizes.SMALL,onContextMenu:this.handleUserContextMenu,onClick:this.handleClick,className:(0,s.default)(E.default.partyMember,E.default.clickable)}))):a(f.default,{text:v.default.Messages.GAME_FEED_UNKNOWN_PLAYER},void 0,a("div",{className:E.default.partyMemberUnknown},void 0,a(c.default,{name:c.default.Names.DISCORD,className:E.default.partyMemberUnknownIcon})))},t}(r.PureComponent);C.displayName="PartyMember";var N=function(e){function t(){var n,o;g(this,t);for(var a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];return n=o=S(this,e.call.apply(e,[this].concat(r))),o.handleMasonryNodeInserted=function(e){var t=e.node,n=i.default.findDOMNode(o);n instanceof Element&&t.contains(n)&&o.props.triggerResize()},S(o,n)}return T(t,e),t.prototype.componentDidMount=function(){y.MasonryNodeInsertedEmitter.addListener("change",this.handleMasonryNodeInserted)},t.prototype.componentWillUnmount=function(){y.MasonryNodeInsertedEmitter.removeListener("change",this.handleMasonryNodeInserted)},t.prototype.render=function(){var e=this.props,t=e.className,n=e.justify,o=void 0===n?p.default.Justify.END:n,r=e.renderUserPopout,i=e.onUserContextMenu,s=e.onUserPopoutOpen,u=e.partySize,c=e.minInOrderToRender,h=e.members,y=e.width,v=e.overflowPopoutHeader,_=e.overflowTooltip,g=u.unknownSize,S=u.totalSize,T=u.knownSize;if(S<=c)return null;for(var N=Math.floor(y/38),b=(0,l.default)(h).filter(function(e){return null!=e}).map(function(e,t){return a(C,{position:t+1,member:e,members:h,renderPopout:r,onContextMenu:i,onUserPopoutOpen:s},e.id)}).take(N).value(),O=b.length,I=0;I<g&&b.length<N;I++)b.push(a(C,{position:O+I},"unknown-member-"+I));O=b.length;for(var A=0;A<S-T-g&&b.length<N;A++)b.push(a(C,{position:O+A,empty:!0},"empty-member-"+A));var M=a(m.default,{party:h,header:v});if(b.length<S){b.pop();var R=Math.min(S-b.length,99);b.push(a(d.default,{render:function(){return M}},"overflow",a(f.default,{text:_.format({overflow:R})},void 0,a("div",{className:E.default.partyMemberOverflow},void 0,"+",R))))}return a(p.default,{justify:o,className:t},void 0,b)},t}(r.PureComponent);N.displayName="ActivityFeedPartyAvatars",t.default=(0,u.default)(N),e.exports=t.default},7694:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=H(n(1)),s=B(n(9)),u=n(107),d=B(n(65)),f=B(n(190)),c=B(n(17)),p=H(n(541)),h=B(n(6069)),y=B(n(41)),m=n(88),v=B(n(6545)),E=B(n(145)),_=B(n(225)),g=B(n(45)),S=B(n(265)),T=B(n(6063)),C=B(n(7693)),N=B(n(954)),b=B(n(42)),O=B(n(75)),I=B(n(81)),A=B(n(378)),M=B(n(6854)),R=B(n(1028)),P=B(n(1223)),L=B(n(528)),w=B(n(521)),D=B(n(6546)),U=B(n(6853)),k=B(n(6)),F=n(0),x=B(n(5964)),G=B(n(5583)),j=B(n(992));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Y=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=o=V(this,e.call.apply(e,[this].concat(i))),o.state={isHovered:!1,isOverflowOpen:!1},o.renderUserPopout=function(e,t){return l.createElement(w.default,r({},t,{user:e}))},o.setRef=function(e){var t=o.props.setRef;null!=t&&t(e)},o.handleMouseEnter=function(){o.setState({isHovered:!0})},o.handleMouseLeave=function(){o.setState({isHovered:!1})},o.handleOverflowOpen=function(e,t){o.setState({isOverflowOpen:!0}),o.props.onUserContextMenu(e,t,F.ContextMenuTypes.USER_ACTIVITY_FEED,o.handleOverflowClose)},o.handleOverflowClose=function(){o.setState({isOverflowOpen:!1})},o.handleMessageUser=function(e,t){var n=o.props,a=n.index,r=n.loadId,i=n.party,l=n.onMessageUser,s=i.currentActivities.length>0?i.currentActivities[0].game:null;l(e,t).then(function(e){p.trackUserMessaged(t,e,s,i,{loadId:r,index:a,type:F.ActivityCardTypes.USER})})},o.handleChannelClick=function(e,t,n){if(null!=t&&null!=n){var a=r({},o.getGamePlatformData(),o.analyticsMetadata,{af_voice_chat:!0,af_people_count:e.length,af_recently_played:!1,af_rich_presence:!1,guild_id:t.id,channel_id:n.id});f.default.trackWithMetadata(F.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,a);var i=d.default.getChannelId(t.id),l=null!=i?F.Routes.CHANNEL(t.id,i):F.Routes.GUILD(t.id);y.default.transitionTo(l),h.default.channelListScrollTo(t.id,n.id)}},o.handleGuildClick=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=r({},o.getGamePlatformData(),o.analyticsMetadata,{af_voice_chat:n,af_people_count:t.length,guild_id:e.id});f.default.trackWithMetadata(F.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,a)},o.handleUserPopoutOpen=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=r({},o.getGamePlatformData(),o.analyticsMetadata,{popout_user_id:e.id,avatar_position:n,af_voice_chat:i,af_people_count:t.length,af_rich_presence:l});null!=a&&(s.game_id=a.id,s.game_name=a.name),c.default.track(F.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,s)},V(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSplashArtURL=function(){var e=this.props.party.currentActivities;return e.length>0?e[0].game.getSplashURL(740):null},t.prototype.getPartyActivitySize=function(e,t){var n=e.length,o=0,a=void 0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var r=t.party.size;o=Math.max(r[0]-e.length,0),a=r[1]}else a=n+o;return{knownSize:n,unknownSize:o,totalSize:a}},t.prototype.getGamePlatformData=function(){var e=this.props.party;return null!=e?{game_platform:e.currentActivities.length>0?(0,u.getGamePlatform)(e.currentActivities[0].activity):null}:null},t.prototype.renderSoloCardHeader=function(e){var t,n=this,o=this.state,r=o.isHovered,i=o.isOverflowOpen,l=this.props.onUserContextMenu,u=e.user,d=e.status;return a("div",{className:(0,s.default)(x.default.header,(t={},t[x.default.headerOverflowOpen]=i,t))},void 0,a(_.default,{render:function(e){return n.renderUserPopout(u,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(u)},closeOnScroll:!1},void 0,a(S.default,{className:x.default.avatar,src:u.getAvatarURL(r&&(0,m.hasAnimatedAvatar)(u)?"gif":"png"),status:d,size:S.default.Sizes.LARGE,onContextMenu:function(e){return l(e,u)}})),a(_.default,{render:function(e){return n.renderUserPopout(u,e)},position:_.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(u)},closeOnScroll:!1},void 0,a(L.default,{user:u,usernameClass:x.default.username,discriminatorClass:x.default.discriminator,onContextMenu:function(e){return l(e,u)}})),a(b.default,{className:x.default.headerActions,align:b.default.Align.CENTER,justify:b.default.Justify.END},void 0,a(g.default,{color:G.default.headerButtonColor,hover:g.default.Hovers.BRAND,size:g.default.Sizes.SMALL,onClick:function(e){return n.handleMessageUser(e,u)}},void 0,k.default.Messages.GAME_FEED_ACTION_MESSAGE),a(g.default,{look:g.default.Looks.BLANK,size:g.default.Sizes.NONE,onClick:function(e){return n.handleOverflowOpen(e,u)}},void 0,a(O.default,{name:O.default.Names.OVERFLOW_MENU,className:x.default.overflowMenu}))))},t.prototype.renderPartiedCardHeader=function(e){var t=this,n=this.props.party,o=n.guildContext,r=n.isSpotifyActivity,i=e.map(function(n,o){var r,i=o===e.length-1;return a(_.default,{render:function(e){return t.renderUserPopout(n.user,e)},position:_.default.Positions.RIGHT,onOpen:function(){return t.handleUserPopoutOpen(n.user,e,o+1)},closeOnScroll:!1},n.user.id,a("span",{className:(0,s.default)(x.default.usernamePartied,(r={},r[x.default.usernameSpacing]=i,r)),onContextMenu:function(e){return t.props.onUserContextMenu(e,n.user)}},void 0,n.user.username+(i?"":", ")))});return a("div",{className:x.default.header},void 0,null!=o?a(T.default,{size:T.default.Sizes.MEDIUM,guild:o,className:x.default.guildIcon,to:F.Routes.GUILD(o.id),onContextMenu:function(e){return t.props.onGuildContextMenu(e,o)},onClick:function(){return t.handleGuildClick(o,e,!1)}}):a("div",{className:x.default.headerGroupIconBackground},void 0,a(O.default,{name:O.default.Names.PEOPLE,className:x.default.headerGroupIcon})),a("div",{className:x.default.headerText},void 0,a("div",{className:x.default.headerTitle},void 0,null!=o?k.default.Messages.GAME_FEED_CARD_HEADER_GROUP_GUILD.format({count:e.length,guild:o}):r?k.default.Messages.GAME_FEED_CARD_HEADER_SPOTIFY_GROUP:k.default.Messages.GAME_FEED_CARD_HEADER_GROUP.format({count:e.length})),a("div",{className:x.default.headerSubtitle},void 0,i)))},t.prototype.renderHeader=function(){var e=this.props.party.priorityMembers;return 1===e.length?this.renderSoloCardHeader(e[0]):this.renderPartiedCardHeader(e)},t.prototype.renderVoiceChannel=function(e,t,n){var o,r=this,i=this.props,l=i.party,u=i.onUserContextMenu,d=i.onGuildContextMenu,f=i.onChannelContextMenu;return a(b.default,{align:b.default.Align.CENTER,className:(0,s.default)(x.default.voiceChannel,(o={},o[x.default.bottomSeparator]=l.currentActivities.length>0,o))},n.id+"-"+t.id,null!=l.guildContext?a("div",{className:x.default.guildIconEmptyBackground},void 0,a(O.default,{className:x.default.guildIconEmptyIcon,name:O.default.Names.SPEAKER})):a("div",{className:x.default.guildIconWrapper},void 0,a(T.default,{className:x.default.voiceGuildIcon,showTooltip:!0,showVerified:!0,guild:n,size:T.default.Sizes.MEDIUM,to:F.Routes.GUILD(n.id),onContextMenu:function(e){return d(e,n)},onClick:function(){return r.handleGuildClick(n,e,!0)}}),a(O.default,{name:O.default.Names.SPEAKER,className:x.default.voiceChannelIcon})),a(I.default,{className:x.default.channelName,onClick:function(){return r.handleChannelClick(e,n,t)},onContextMenu:function(e){return f(e,t)}},void 0,t.name),a("div",{className:x.default.partyAvatars},void 0,a(C.default,{renderUserPopout:this.renderUserPopout,onUserContextMenu:u,onUserPopoutOpen:function(e,t,n){return r.handleUserPopoutOpen(t,e,n,null,!0,!1)},overflowPopoutHeader:k.default.Messages.GAME_FEED_VOICE_OVERFLOW_COUNT.format({count:e.length}),overflowTooltip:k.default.Messages.GAME_FEED_VOICE_OVERFLOW,members:e,partySize:this.getPartyActivitySize(e),minInOrderToRender:0})))},t.prototype.renderActivity=function(e,t){var n,o=this,r=e.game,i=e.activity,l=e.playingMembers,d=this.props,f=d.party,c=f.showPlayingMembers,p=f.isSpotifyActivity,h=d.onUserContextMenu,y=d.onApplicationContextMenu,m=(0,u.hasRichActivity)(i),v=null!=i&&m,_=this.getPartyActivitySize(l,i),S=(0,u.isStreaming)(i)?(0,u.getStreamURL)(i):null,T=null==S&&(c||v&&_.totalSize>1)?a("div",{className:x.default.partyAvatars},void 0,a(C.default,{justify:b.default.Justify.END,renderUserPopout:this.renderUserPopout,onUserContextMenu:h,onUserPopoutOpen:function(e,t,n){return o.handleUserPopoutOpen(t,e,n,r,!1,m)},overflowPopoutHeader:p?k.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:l.length}):k.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:l.length}),overflowTooltip:p?k.default.Messages.GAME_FEED_SPOTIFY_OVERFLOW:k.default.Messages.GAME_FEED_USER_OVERFLOW,members:l,partySize:_,minInOrderToRender:0})):null;return a("div",{className:(0,s.default)(x.default.game,(n={},n[x.default.bottomSeparator]=!t,n))},r.id,a(b.default,{align:b.default.Align.CENTER},void 0,a(D.default,{game:r,source:F.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:j.default.iconHover},void 0,a(A.default,{game:r,onContextMenu:function(e){return y(e,r)}})),a("div",{className:m?x.default.gameInfoRich:x.default.gameInfo},void 0,null!=S?a("div",{className:x.default.streamInfo},void 0,a("div",{className:x.default.gameName},void 0,r.name),a(E.default,{className:x.default.playTime,href:S},void 0,(0,u.getSimpleStreamURL)(S))):a("div",{className:x.default.gameNameWrapper},void 0,a(D.default,{game:r,source:F.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:j.default.textHover},void 0,a("div",{className:x.default.gameName,onContextMenu:function(e){return y(e,r)}},void 0,r.name))),m?null:(0,u.isOnXbox)(i)?a("span",{className:x.default.playTime},void 0,k.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX):a(N.default,{className:x.default.playTime,start:e.startedPlayingTime,end:e.stoppedPlayingTime,location:N.default.Locations.ACTIVITY_FEED}),null!=i&&m?a(P.default,{reverse:!0,showPrimaryActionOnly:!this.state.isHovered,color:g.default.Colors.PRIMARY,hover:g.default.Hovers.BRAND,look:g.default.Looks.FILLED,type:R.default.Types.ACTIVITY_FEED,source:"Activity Feed Flipped",activity:i,user:e.activityUser}):null),c&&!v?T:null),v?a(b.default,{className:x.default.richActivity},void 0,a(R.default,{hideHeader:!0,hideName:!p,showActions:!1,type:R.default.Types.ACTIVITY_FEED,user:e.activityUser,activity:i,source:"Activity Feed Flipped",className:x.default.activity}),T):null)},t.prototype.renderActivities=function(e,t,n){var o=this;return 0===e.length?null:a(M.default,{title:t,className:n},void 0,e.map(function(t,n){return o.renderActivity(t,n===e.length-1)}))},t.prototype.renderVoiceChannels=function(){var e=this,t=this.props.party.voiceChannels;return 0===t.length?null:a(M.default,{},void 0,t.map(function(t){var n=t.members,o=t.channel,a=t.guild;return e.renderVoiceChannel(n,o,a)}))},t.prototype.render=function(){return l.createElement(v.default,{ref:this.setRef,className:x.default.card,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a(v.default.Header,{className:x.default.cardHeader,splashArtURL:this.getSplashArtURL()},void 0,this.renderHeader()),a(v.default.Body,{className:x.default.cardBody},void 0,this.renderVoiceChannels(),this.renderActivities(this.props.party.currentActivities)))},i(t,[{key:"analyticsMetadata",get:function(){var e=this.props;return{card_index:e.index,load_id:e.loadId,card_type:e.party.partiedMembers.length>1?F.ActivityCardTypes.GROUP:F.ActivityCardTypes.USER}}}]),t}(l.PureComponent);Y.displayName="UserCard",t.default=(0,U.default)(Y),e.exports=t.default},8054:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=g(n(3)),s=n(6855),u=g(s),d=g(n(6346)),f=g(n(974)),c=g(n(540)),p=g(n(545)),h=g(n(171)),y=g(n(13)),m=g(n(22)),v=g(n(391)),E=g(n(6)),_=g(n(5966));function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var C=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return n=o=T(this,e.call.apply(e,[this].concat(i))),o.isEmpty=null,o.renderEmptyState=function(){return o.props.hasNowPlayingItem?null:r("div",{className:_.default.emptyImage})},o.renderHeader=function(){var e=o.props,t=e.items,n=e.hasNowPlayingSection;return 0===t.length?null:r("div",{className:n?_.default.headerWithNowPlaying:_.default.headerWithoutNowPlaying},void 0,E.default.Messages.GAME_FEED_WHAT_IS_NEW_HEADER_TITLE)},o.getItemId=function(e){return e.gameId},o.setCardRef=function(e,t,n){o.props.onCardRef(e,t,n.length)},o.renderCard=function(e,t,n){var a=e.gameId,i=e.game,l=e.players,d=e.news;return r(u.default,{type:s.GameCardTypes.RECENTLY_PLAYED,setActivityFeedCardRef:function(e){return o.setCardRef(e,a,l)},game:i,news:d,onVideoPlay:o.handleVideoPlay,players:l,width:t,index:n,loadId:o.props.loadId},a)},o.handleVideoPlay=function(){o.videoStartPlayingTime=Date.now()},T(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.updateIsEmpty()},t.prototype.shouldComponentUpdate=function(){var e=this.videoStartPlayingTime;return null==e||Date.now()-e>3e5},t.prototype.componentDidUpdate=function(){this.updateIsEmpty()},t.prototype.updateIsEmpty=function(){var e=this.props,t=e.items,n=e.onEmptyChange,o=0===t.length;this.isEmpty!==o&&(this.isEmpty=o,n(o))},t.prototype.render=function(){var e=this.props,t=e.items,n=e.maxColumns,o=e.desiredItemWidth,r=e.maxItemWidth,l=S(e,["items","maxColumns","desiredItemWidth","maxItemWidth"]),s=(l.hasNowPlayingItem,l.hasNowPlayingSection,l.loadId,l.onCardRef,l.onEmptyChange,S(l,["hasNowPlayingItem","hasNowPlayingSection","loadId","onCardRef","onEmptyChange"]));return i.createElement(d.default,a({},s,{items:t,renderEmpty:this.renderEmptyState,renderHeader:this.renderHeader,renderItem:this.renderCard,maxColumns:n,getItemId:this.getItemId,desiredItemWidth:o,maxItemWidth:r,className:_.default.root}))},t}(i.Component);C.displayName="WhatsNewFeed",t.default=l.default.connectStores([c.default,p.default,f.default,m.default,v.default,h.default,y.default],function(){var e=function(e){var t={};for(var n in e)if(h.default.isOnFeed(n))for(var o in e[n]){var a=m.default.getGame(o);if(null!=a&&!h.default.isUnsubscribedToGame(a.id)){var r=p.default.getUserGame(n);if(null==r||r.gameId!==o){var i=c.default.gamesByUser[n][o].date;null==t[o]?t[o]={players:[{userId:n,stoppedPlaying:i}],mostRecentStoppedPlaying:i}:(t[o].players.push({userId:n,stoppedPlaying:i}),t[o].mostRecentStoppedPlaying<i&&(t[o].mostRecentStoppedPlaying=i))}}}return t}(c.default.gamesByUser);return e=function(e,t){var n=a({},e),o=t,r=Array.isArray(o),i=0;for(o=r?o:o[Symbol.iterator]();;){var l;if(r){if(i>=o.length)break;l=o[i++]}else{if((i=o.next()).done)break;l=i.value}var s=l;if(null==n[s]&&null!=m.default.getGame(s)){var u=v.default.getRecentByGameId(s)[0];if(null!=u){var d=u.timestamp;null!=d&&(n[s]={players:[],mostRecentStoppedPlaying:Date.parse(d)})}}}return n}(e,h.default.gameIDsToShow),{items:Object.keys(e).sort(function(t,n){return e[n].mostRecentStoppedPlaying-e[t].mostRecentStoppedPlaying}).reduce(function(t,n){var o=m.default.getGame(n);return null==o?t:(t.push({gameId:n,game:o,news:1!==f.default.news.length||f.default.news[0].application.id!==n?v.default.getRecentByGameId(n)[0]:null,players:e[n].players.reduce(function(e,t){var n=t.userId,o=t.stoppedPlaying,a=y.default.getUser(n);return a&&e.push({user:a,stoppedPlaying:o}),e},[]).sort(function(e,t){return(t.stoppedPlaying||0)-(e.stoppedPlaying||0)})}),t)},[]).filter(function(e){var t=e.players,n=e.news,o=e.gameId;return t.length>0||h.default.gameIDsToShow.has(o)&&null!=n}),loadId:f.default.loadId}})(C),e.exports=t.default},8055:function(e,t,n){"use strict";var o,a;t.__esModule=!0;var r,i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=T(n(3)),u=T(n(6)),d=T(n(9)),f=T(n(1025)),c=T(n(171)),p=T(n(946)),h=n(6856),y=n(1232),m=T(n(370)),v=T(n(6059)),E=T(n(45)),_=T(n(75)),g=n(0),S=T(n(6016));function T(e){return e&&e.__esModule?e:{default:e}}var C=Object.freeze({DEFAULT:u.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE,VARIANT_1:u.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ALT_1,VARIANT_2:u.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ALT_2}),N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.handleAcceptClick=function(){(0,h.setConsents)([g.Consents.PERSONALIZATION],[]),(0,y.dismissPersonalizationNotice)()},t.prototype.handleDismissClick=function(){(0,y.dismissPersonalizationNotice)()},t.prototype.handleOpenPrivacySettings=function(){m.default.open(g.UserSettingsSections.PRIVACY_AND_SAFETY)},t.prototype.render=function(){var e=this.props,t=e.noticeText,n=e.isBlurple,o=e.hasDismissedPersonalizationNotice,a=e.hasFetchedPersonalizationConsent;return e.personalizationEnabled||!a||o?null:i("div",{className:n?S.default.personalizationNoticeBlurple:S.default.personalizationNotice},void 0,i(_.default,{name:_.default.Names.INFO,className:S.default.personalizationNoticeIcon}),i("div",{className:S.default.personalizationContent},void 0,i("div",{className:S.default.personalizationNoticeBody},void 0,i("div",{className:S.default.personalizationNoticeText},void 0,t.format({onClickPrivacy:this.handleOpenPrivacySettings}))),i("div",{className:S.default.personalizationNoticeButtons},void 0,i(E.default,{color:n?E.default.Colors.WHITE:E.default.Colors.BRAND,size:n?E.default.Sizes.SMALL:E.default.Sizes.MEDIUM,className:(0,d.default)(S.default.personalizationNoticeButton,S.default.brandText),onClick:this.handleAcceptClick},void 0,u.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ACCEPT),i(E.default,{look:n?E.default.Looks.LINK:E.default.Looks.FILLED,color:n?E.default.Colors.WHITE:E.default.Colors.TRANSPARENT,size:n?E.default.Sizes.SMALL:E.default.Sizes.MEDIUM,className:S.default.personalizationNoticeButton,onClick:this.handleDismissClick},void 0,u.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_DISMISS))))},t}(l.Component);N.defaultProps={isBlurple:!1},N.displayName="FeedPersonalizationConsentNotice";var b=s.default.connectStores([c.default,f.default],function(){return{hasDismissedPersonalizationNotice:c.default.hasDismissedPersonalizationNotice,hasFetchedPersonalizationConsent:f.default.receivedConsentsInConnectionOpen||f.default.fetchedConsents,personalizationEnabled:f.default.hasConsented(g.Consents.PERSONALIZATION)}})(N);t.default=(0,v.default)((0,p.default)(g.Experiments.PERSONALIZED_CONTENT_NOTICE,"AF - Personalized Content Notice",["Treatment 1: Old design + text variant 1","Treatment 2: Old design + text variant 2","Treatment 3: New design + old text","Treatment 4: New design + text variant 1","Treatment 5: New design + text variant 2"]),((a={})[g.ExperimentTypes.NONE]=function(){return i(b,{noticeText:C.DEFAULT})},a[g.ExperimentTypes.USER]=((o={})[g.ExperimentBuckets.CONTROL]=function(){return i(b,{noticeText:C.DEFAULT})},o[g.ExperimentBuckets.TREATMENT_1]=function(){return i(b,{noticeText:C.VARIANT_1})},o[g.ExperimentBuckets.TREATMENT_2]=function(){return i(b,{noticeText:C.VARIANT_2})},o[g.ExperimentBuckets.TREATMENT_3]=function(){return i(b,{noticeText:C.DEFAULT,isBlurple:!0})},o[g.ExperimentBuckets.TREATMENT_4]=function(){return i(b,{noticeText:C.VARIANT_1,isBlurple:!0})},o[g.ExperimentBuckets.TREATMENT_5]=function(){return i(b,{noticeText:C.VARIANT_2,isBlurple:!0})},o),a)),e.exports=t.default},8056:function(e,t,n){"use strict";t.__esModule=!0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=W(n(1)),l=Y(n(77)),s=Y(n(7)),u=Y(n(3)),d=n(56),f=Y(n(2)),c=n(552),p=n(107),h=Y(n(11)),y=W(n(152)),m=Y(n(17)),v=n(974),E=Y(v),_=Y(n(963)),g=Y(n(171)),S=Y(n(28)),T=Y(n(1020)),C=Y(n(22)),N=Y(n(133)),b=W(n(291)),O=n(6174),I=n(6547),A=Y(n(376)),M=Y(n(8055)),R=Y(n(8054)),P=Y(n(7694)),L=n(6855),w=Y(L),D=Y(n(6082)),U=Y(n(227)),k=Y(n(6346)),F=Y(n(42)),x=Y(n(7501)),G=Y(n(7498)),j=Y(n(7496)),B=Y(n(6)),H=n(0),V=Y(n(5917));function Y(e){return e&&e.__esModule?e:{default:e}}function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var z=1e3;function K(){return window.innerHeight<680||window.innerWidth<1200}var $=r(j.default,{}),q=r(M.default,{}),X=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return o.updateDimensions=function(){o.setState({shouldUseSmallCarousel:K()})},o.trackLoaded=function(){if(!o.tracked){o.tracked=!0,o.updateViewedCards();var e=o.props,t=e.news,n=e.loadId,a=e.quickLauncherApplications,r=new Set,i={load_id:n,num_cards:Object.keys(o.nowPlayingCardRefs).length+Object.keys(o.gameFeedCardRefs).length,num_cards_game_playable:0,game_ids:[],num_cards_visible:o.viewedCards.size,num_game_parties:0,num_game_parties_voice:0,num_game_parties_solo:0,num_game_parties_recently_played:0,num_game_parties_rich_presence:0,num_game_parties_collapsed:0,num_cards_game_news:t.length,num_users_subscribed:g.default.feedUserIDs.size,num_launcher_applications:a.length,window_width:window.innerWidth,window_height:window.innerHeight};for(var l in o.nowPlayingCardRefs){o.nowPlayingCardRefs[l].parties.forEach(function(e){var t=e.showPlayingMembers,n=e.voiceChannels,o=e.currentActivities;i.num_game_parties_voice+=n.length;var a=o,l=Array.isArray(a),s=0;for(a=l?a:a[Symbol.iterator]();;){var u;if(l){if(s>=a.length)break;u=a[s++]}else{if((s=a.next()).done)break;u=s.value}var d=u,f=d.game,c=d.activity,h=d.playingMembers;i.num_game_parties+=1,(0,v.isRealGameId)(f.id)&&r.add(f.id),(0,p.hasRichActivity)(c)&&(i.num_game_parties_rich_presence+=1),1===h.length&&(i.num_game_parties_solo+=1),t||(i.num_game_parties_collapsed+=1)}})}for(var s in o.gameFeedCardRefs){var u=o.gameFeedCardRefs[s],d=u.gameId,f=u.numPlayers;i.num_game_parties_recently_played+=f,r.add(d)}i.game_ids=Array.from(r),m.default.track(H.AnalyticEvents.ACTIVITY_FEED_LOADED,i)}},o.trackExited=function(){var e=Math.floor((Date.now()-o.openedTimestamp)/1e3),t=new Set,n=new Set;Array.from(o.viewedGames).forEach(function(e){var o=C.default.getGame(e);if(null!=o){var a=o.primarySkuId;null!=a&&(t.add(e),n.add(a))}});var a={load_id:o.props.loadId,game_ids_viewed:Array.from(o.viewedGames),store_application_ids_viewed:Array.from(t),store_sku_ids_viewed:Array.from(n),num_games_viewed:o.viewedGames.size,num_cards_viewed:o.viewedCards.size,num_cards_total:Object.keys(o.nowPlayingCardRefs).length+Object.keys(o.gameFeedCardRefs).length,seconds_spent:e};m.default.track(H.AnalyticEvents.ACTIVITY_FEED_EXITED,a)},o.renderItem=function(e,t,n){switch(e.type){case H.ActivityCardTypes.USER:var a=e.party;return r(P.default,{setRef:function(e){return o.setNowPlayingCardRef(e,a.id,[a])},party:a,index:n,loadId:o.props.loadId},a.id);case H.ActivityCardTypes.GAME:var i=e.game,l=e.parties;return r(w.default,{type:L.GameCardTypes.NOW_PLAYING,setActivityFeedCardRef:function(e){return o.setNowPlayingCardRef(e,i.id,l)},game:i,players:l.map(function(e){var t=e.priorityMembers,n=e.currentActivities;return{user:t[0].user,startedPlaying:n[0].startedPlayingTime}}),width:t,index:n,loadId:o.props.loadId},"game-"+i.id)}throw new Error("unknown type of NowPlayingCard")},o.getItemId=function(e){switch(e.type){case H.ActivityCardTypes.USER:return e.party.id;case H.ActivityCardTypes.GAME:return e.game.id}throw new Error("unknown type of NowPlayingCard")},o.hasScrolledPassedCard=function(e){if(null==e)return!1;var t=l.default.findDOMNode(e);return t instanceof HTMLElement&&t.getBoundingClientRect().top<o.scrollerBottom},o.updateViewedCards=function(){if(o.tracked){for(var e in o.nowPlayingCardRefs){var t=o.nowPlayingCardRefs[e],n=t.ref,a=t.parties;o.hasScrolledPassedCard(n)&&(o.viewedCards.add(e),a.forEach(function(e){var t=e.currentActivities,n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var r;if(n){if(a>=t.length)break;r=t[a++]}else{if((a=t.next()).done)break;r=a.value}var i=r.game.id;(0,v.isRealGameId)(i)&&o.viewedGames.add(i)}}))}for(var r in o.gameFeedCardRefs){var i=o.gameFeedCardRefs[r],l=i.ref,s=i.gameId;o.hasScrolledPassedCard(l)&&(o.viewedCards.add(r),o.viewedGames.add(s))}}},o.renderNowPlayingEmpty=function(){return $},o.renderNowPlayingHeader=function(){return r(F.default,{className:V.default.header,align:F.default.Align.CENTER},void 0,r("div",{className:V.default.headerText},void 0,B.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE))},o.handleCarouselItemViewed=function(e,t){e.type!==H.FeedCarouselItemTypes.PROMOTION||o.ackedPromotions.has(e.promotion.id)||(o.trackPromotion(e.promotion,t),(0,I.ackPromotion)(e.promotion.ackKey,H.PromotionAckTypes.IMPRESSION),o.ackedPromotions.add(e.promotion.id))},o.renderNewsCarousel=function(){var e=o.props,t=e.news,n=e.promotions,a=e.isFocused,i=e.loadId,l=n.map(function(e){var t=e.destination.type===H.PromotionTypes.GAME?C.default.getGame(e.destination.sku.applicationId):null;return{type:H.FeedCarouselItemTypes.PROMOTION,promotion:e,application:t}}),s=t,u=Array.isArray(s),d=0;for(s=u?s:s[Symbol.iterator]();;){var f;if(u){if(d>=s.length)break;f=s[d++]}else{if((d=s.next()).done)break;f=d.value}var c=f,p=c.news,h=c.application;y.hasFlag(p.flags,H.GameNewsFlags.PROMOTION)||l.push({type:H.FeedCarouselItemTypes.APPLICATION_NEWS,news:p,application:h})}return 0===l.length?null:r(x.default,{useSmallCarousel:o.state.shouldUseSmallCarousel,cardMetadata:{loadId:i},items:l.slice(0,4),isWindowFocused:a,className:V.default.carousel,onItemViewed:o.handleCarouselItemViewed})},o.setNowPlayingCardRef=function(e,t,n){null==e?delete o.nowPlayingCardRefs[t]:(o.nowPlayingCardRefs[t]={ref:e,parties:n},!o.tracked&&o.props.loaded&&o.loadingTimeout.start(z,o.trackLoaded))},o.handleNowPlayingColumnChange=function(){o.updateViewedCards()},o.handleWhatsNewFeedColumnChange=function(){o.updateViewedCards()},o.handleWhatsNewEmptyChange=function(e){o.setState({isWhatsNewEmpty:e})},o.setWhatsNewFeedCardRef=function(e,t,n){null==e?delete o.gameFeedCardRefs[t]:(o.gameFeedCardRefs[t]={ref:e,gameId:t,numPlayers:n},!o.tracked&&o.props.loaded&&o.loadingTimeout.start(z,o.trackLoaded))},o.handleScroll=s.default.throttle(function(e){var t=e.getScrollerNode();if(null!=t){var n=t.getBoundingClientRect(),a=n.top,r=n.bottom;o.scrollerTop=a,o.scrollerBottom=r}o.updateViewedCards()},500,{leading:!1}),o.tracked=!1,o.openedTimestamp=Date.now(),o.loadingTimeout=new d.Timeout,o.viewedGames=new Set,o.viewedCards=new Set,o.ackedPromotions=new Set,o.scrollerTop=0,o.scrollerBottom=0,o.nowPlayingCardRefs={},o.gameFeedCardRefs={},o.state={currentActivityColumnCount:0,gameFeedColumnCount:0,isWhatsNewEmpty:null,shouldUseSmallCarousel:K()},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){window.addEventListener("resize",this.updateDimensions),m.default.track(H.AnalyticEvents.ACTIVITY_FEED_VIEWED);var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched;t&&null!=n&&f.default.wait(function(){return b.scanForLocalApplications()}),T.default.shouldFetch()&&f.default.wait(function(){return(0,I.fetchPromotions)()}),(0,O.fetchActivityStatistics)()},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.updateDimensions),this.trackExited(),this.loadingTimeout.stop(),this.handleScroll.cancel()},t.prototype.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||f.default.wait(function(){return b.scanForLocalApplications()}),this.tracked||!this.props.loaded||e.loaded||this.loadingTimeout.start(z,this.trackLoaded)},t.prototype.trackPromotion=function(e,t){m.default.track(H.AnalyticEvents.PROMOTION_VIEWED,a({load_id:this.props.loadId,promotion_id:""+e.id,promotion_type:e.destination.type,promotion_url:e.destination.type===H.PromotionTypes.GENERAL?e.destination.linkUrl:null,list_index:t,location_page:H.AnalyticsPages.ACTIVITY_FEED,location_section:H.AnalyticsSections.HERO,location_object:H.AnalyticsObjects.CAROUSEL},e.destination.type===H.PromotionTypes.GAME?e.destination.sku.getAnalyticsData():null))},t.prototype.renderNowPlayingSection=function(){var e=this,t=this.props,n=t.isExperiencedFeedUser,o=t.nowPlayingCards,a=this.state.isWhatsNewEmpty;return n&&!0!==a&&0===o.length?null:r(k.default,{items:o,gutterWidth:20,renderEmpty:this.renderNowPlayingEmpty,renderItem:this.renderItem,renderHeader:function(){return e.renderNowPlayingHeader()},maxColumns:2,getItemId:this.getItemId,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleNowPlayingColumnChange})},t.prototype.renderBody=function(){var e=this.props,t=e.nowPlayingCards,n=e.quickLauncherApplications,o=h.default.isWindows()?r(G.default,{applicationItems:n,className:V.default.quickLauncher}):null,a=this.renderNowPlayingSection(),i=r(R.default,{hasNowPlayingSection:null!=a,hasNowPlayingItem:t.length>0,gutterWidth:20,maxColumns:2,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleWhatsNewFeedColumnChange,onEmptyChange:this.handleWhatsNewEmptyChange,onCardRef:this.setWhatsNewFeedCardRef});return r("div",{className:V.default.body},void 0,q,r(A.default,{section:H.AnalyticsSections.HERO},void 0,this.renderNewsCarousel()),r(A.default,{section:H.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER},void 0,o),r(A.default,{section:H.AnalyticsSections.ACTIVITY_FEED_FEED,object:H.AnalyticsObjects.CARD},void 0,a,i))},t.prototype.render=function(){return this.props.loaded?r(F.default,{direction:F.default.Direction.VERTICAL,className:V.default.feedWrapper},void 0,r(D.default,{title:B.default.Messages.ACTIVITY}),r(U.default,{track:!0,className:V.default.feed,onScroll:this.handleScroll,onUpdate:this.handleScroll,onResize:this.handleScroll},void 0,this.renderBody())):null},t}(i.Component);X.displayName="Feed";var Q=(0,c.cachedFunction)(function(e){return e.map(function(e){var t=e.libraryApplication,n=e.application,o=e.isLaunching,a=e.isRunning,r=null!=t?t.getBranchedName(n):n.name;return{id:n.id,name:r,libraryApplication:t,iconSrc:n.getIconURL(60),splashSrc:n.getSplashURL(300),disabled:o||a,distributor:null!=t?t.getDistributor():null}})});t.default=u.default.connectStores([E.default,T.default,N.default,g.default,C.default,_.default],function(){return{nowPlayingCards:E.default.nowPlayingCards,news:E.default.news,promotions:T.default.promotions,importGamesEnabled:S.default.importGamesEnabled,gamesDBLastFetched:C.default.lastFetched,quickLauncherApplications:Q(_.default.launchableApplicationViewItems),isExperiencedFeedUser:g.default.isExperiencedFeedUser,isFocused:N.default.isFocused(),loaded:E.default.loaded,loadId:E.default.loadId}})(X),e.exports=t.default},8057:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=E(n(1)),i=v(n(3)),l=v(n(522)),s=v(n(28)),u=E(n(6175)),d=E(n(986)),f=v(n(376)),c=v(n(8056)),p=v(n(1001)),h=n(0),y=v(n(6)),m=v(n(5916));function v(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var _=a(l.default,{title:"Discord"}),g=a(c.default,{}),S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){d.mount(),u.setHomeLink(h.Routes.ACTIVITY)},t.prototype.componentWillUnmount=function(){d.unmount()},t.prototype.renderCustomMessage=function(){return a("div",{},void 0,a("p",{},void 0,y.default.Messages.ERRORS_ACTIVITY_FEED_CRASH),a("p",{},void 0,y.default.Messages.ERRORS_ACTION_TO_TAKE))},t.prototype.render=function(){return a(p.default,{theme:this.props.theme,renderCustomMessage:this.renderCustomMessage},void 0,a(f.default,{page:h.AnalyticsPages.ACTIVITY_FEED,root:!0},void 0,a("div",{className:m.default.activityFeed},void 0,_,g)))},t}(r.PureComponent);S.displayName="ActivityFeed",t.default=i.default.connectStores([s.default],function(){return{theme:s.default.theme}})(S),e.exports=t.default},8058:function(e,t,n){"use strict";t.__esModule=!0;var o,a,r,i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=W(n(1)),s=Y(n(9)),u=n(226),d=Y(n(3)),f=Y(n(8057)),c=Y(n(7495)),p=Y(n(7486)),h=Y(n(1247)),y=Y(n(6705)),m=Y(n(7463)),v=Y(n(7431)),E=Y(n(7424)),_=Y(n(7305)),g=Y(n(7245)),S=Y(n(7230)),T=Y(n(7227)),C=Y(n(7225)),N=Y(n(42)),b=Y(n(6059)),O=Y(n(7223)),I=Y(n(386)),A=Y(n(534)),M=Y(n(935)),R=Y(n(231)),P=Y(n(18)),L=Y(n(65)),w=Y(n(6083)),D=Y(n(287)),U=Y(n(379)),k=Y(n(6100)),F=Y(n(235)),x=Y(n(165)),G=Y(n(7218)),j=W(n(986)),B=Y(n(11)),H=n(0),V=Y(n(5775));function Y(e){return e&&e.__esModule?e:{default:e}}function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function q(e){return l.createElement(_.default,e)}q.displayName="renderChannel";var X=d.default.connectStores([w.default,I.default,D.default,P.default,R.default,M.default,A.default,U.default,F.default],function(){var e=R.default.isDisabled()?null:R.default.getChannelId(),t=U.default.getMode(e);return{guilds:I.default.getSortedGuilds(),channels:P.default.getChannels(),selectedGuildId:M.default.getGuildId(),selectedVoiceGuildId:R.default.isDisabled()?null:R.default.getGuildId(),selectedVoiceChannelId:e,selectedPrivateChannelId:L.default.getChannelId(H.ME),unreadGuilds:w.default.getUnreadGuilds(),mentionCounts:w.default.getMentionCounts(),totalUnavailableGuilds:D.default.totalUnavailableGuilds,scrollTop:A.default.getGuildListDimensions().scrollTop,mode:t,isLurking:null!=F.default.lurkingGuildId()}})(y.default),Q=(0,b.default)(G.default,((r={})[H.ExperimentTypes.NONE]=function(e){return l.createElement(f.default,e)},r[H.ExperimentTypes.USER]=((a={})[H.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return l.createElement(f.default,e)},a[H.ExperimentBuckets.CONTROL]=function(e){return l.createElement(f.default,e)},a[H.ExperimentBuckets.TREATMENT_1]=function(e){return l.createElement(c.default,e)},a),r));function J(){return window.location.pathname.startsWith(H.Routes.APPLICATION_STORE)}function Z(){return window.location.pathname.startsWith(H.Routes.GUILD_DISCOVERY)}var ee=i(S.default,{}),te=i(C.default,{}),ne=i(T.default,{}),oe=i(E.default,{}),ae=i(v.default,{}),re=d.default.connectStores([M.default],function(){return{selectedGuildId:M.default.getGuildId()}})(function(e){function t(){return z(this,t),K(this,e.apply(this,arguments))}return $(t,e),t.prototype.renderChannelSidebar=function(){var e=this.props.selectedGuildId,t=J()?V.default.hiddenOnMobileStore:null;return Z()?null:i("div",{className:(0,s.default)(V.default.channels,t)},void 0,e?i(m.default,{guildId:e}):ee,te,ne,oe)},t.prototype.render=function(){var e=J()?V.default.hiddenOnMobileStore:null;return i(N.default,{className:V.default.container},void 0,i(X,{className:e,isOnGuildDiscoveryRoute:Z()}),i(N.default,{direction:N.default.Direction.VERTICAL,className:V.default.base,style:{marginLeft:0}},void 0,i(N.default.Child,{wrap:!0,grow:0,shrink:0,className:e},void 0,ae),i(N.default,{className:V.default.spacer},void 0,this.renderChannelSidebar(),i(u.Switch,{},void 0,i(u.Route,{path:H.Routes.ACTIVITY,component:Q}),i(u.Route,{path:H.Routes.APPLICATION_LIBRARY,component:p.default}),i(u.Route,{path:H.Routes.APPLICATION_STORE,component:h.default}),i(u.Route,{path:H.Routes.ME,exact:!0,component:g.default}),i(u.Route,{path:H.Routes.CHANNEL(H.ME,":channelId"),render:q}),i(u.Route,{path:H.Routes.CHANNEL(":guildId",":channelId?"),render:q}),i(u.Route,{path:H.Routes.GUILD_DISCOVERY,component:O.default})))))},t}(l.PureComponent));t.default=d.default.connectStores([x.default,k.default],function(){return{hasLoadedExperiments:x.default.hasLoadedExperiments,hasHandledRedirect:k.default.hasHandledRedirect}})(function(e){function t(){return z(this,t),K(this,e.apply(this,arguments))}return $(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.hasLoadedExperiments,n=e.hasHandledRedirect,o=e.match;!B.default.isDesktop()||t||n||o.url!==H.Routes.FRIENDS||j.handleRedirect()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){B.default.isDesktop()&&e.hasLoadedExperiments&&!this.props.hasLoadedExperiments&&!this.props.hasHandledRedirect&&this.props.match.url===H.Routes.FRIENDS&&j.handleRedirect()},t.prototype.render=function(){return l.createElement(re,this.props)},t}(l.PureComponent)),e.exports=t.default},8059:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=k(n(9)),l=k(n(3)),s=k(n(8058)),u=k(n(7217)),d=k(n(7216)),f=k(n(7214)),c=k(n(7213)),p=k(n(7212)),h=k(n(7211)),y=k(n(7202)),m=k(n(7198)),v=k(n(930)),E=k(n(1032)),_=k(n(14)),g=k(n(28)),S=k(n(941)),T=k(n(6066)),C=k(n(6187)),N=n(116),b=n(0),O=k(n(7178)),I=k(n(7177)),A=k(n(167)),M=k(n(232)),R=k(n(146)),P=k(n(41)),L=k(n(11)),w=k(n(964)),D=k(n(1202)),U=k(n(374));function k(e){return e&&e.__esModule?e:{default:e}}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e){var t=e.params,n=t.guildId,o=t.channelId,a=t.messageId;return{guildId:n||b.ME,channelId:o,messageId:a}}var G=a(u.default,{}),j=a(d.default,{}),B=a(f.default,{}),H=a(c.default,{}),V=a(p.default,{}),Y=a(m.default,{}),W=a(h.default,{}),z=a(y.default,{}),K=function(e){function t(){var n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=F(this,e.call.apply(e,[this].concat(r))),o.shake=function(e){var t=e.duration,n=e.intensity;o.refs.shakeable&&o.refs.shakeable.shake(t,n)},F(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){N.ComponentDispatch.subscribe(b.ComponentActions.SHAKE_APP,this.shake),L.default.setZoomFactor(w.default.zoom),this.checkGuildAndChannel(),this.jumpToMessageOnConnect();var e=_.default.getToken();null!=e&&v.default.startSession(e),T.default.setLayout(C.default),T.default.enable()},t.prototype.componentDidUpdate=function(e){var t=this.props.location;t.pathname+t.search!==e.location.pathname+e.location.search&&this.checkGuildAndChannel()},t.prototype.componentWillUnmount=function(){N.ComponentDispatch.unsubscribe(b.ComponentActions.SHAKE_APP,this.shake),T.default.disable()},t.prototype.checkGuildAndChannel=function(){var e=this.props.match;if(null!=e){var t=x(e),n=t.guildId,o=t.channelId,a=t.messageId;(function(e){return null!=e&&(e===b.ME||/^\d+$/.test(e))})(n)&&function(e){return null==e||/^\d+$/.test(e)}(o)?(M.default.selectGuild(n),A.default.selectChannel(n,o,a)):P.default.replaceWith(this.props.defaultRoute)}},t.prototype.jumpToMessageOnConnect=function(){var e=this.props.match;if(null!=e){var t=x(e),n=t.channelId,o=t.messageId;o&&E.default.call(function(){return R.default.jumpToMessage(n,o,!0,"Page Load")})}},t.prototype.render=function(){var e=this.props,t=e.theme,n=e.match;return r.createElement(O.default,{ref:"shakeable",className:(0,i.default)(D.default.app,U.default.vertical,"theme-"+t)},a(I.default,{className:(0,i.default)(U.default.vertical,U.default.spacer)},void 0,a(s.default,{match:n})),G,j,B,H,V,Y,W,z)},t}(r.Component);K.displayName="Chat",t.default=l.default.connectStores([g.default,S.default],function(){return{theme:g.default.theme,defaultRoute:S.default.defaultRoute}})(K),e.exports=t.default},8060:function(e,t,n){"use strict";t.__esModule=!0;var o,a=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),S(n(54))),i=S(n(66)),l=S(n(9)),s=S(n(972)),u=S(n(6)),d=S(n(145)),f=S(n(3)),c=S(n(224)),p=n(0),h=S(n(11)),y=S(n(6143)),m=S(n(388)),v=S(n(6370)),E=S(n(6176)),_=S(n(6142)),g=S(n(6017));function S(e){return e&&e.__esModule?e:{default:e}}var T=(0,r.default)({displayName:"ConnectingModal",mixins:[f.default.StoreListenerMixin(m.default,v.default),i.default,s.default],videoRef:null,getInitialState:function(){var e=_.default[Math.floor(Math.random()*_.default.length)],t=e[0],n=e[1],o=e[2],a=m.default.isConnected();return{ready:a,quote:t,author:n,type:o,hide:a,problems:!1,shouldRender:!a,opacity:new c.default.Value(a?0:1)}},getStateFromStores:function(){return{connected:m.default.isConnected(),incident:v.default.getIncident()}},componentDidMount:function(){this.setProblemsTimeout()},UNSAFE_componentWillUpdate:function(e,t){var n=this,o=this.state,a=t.connected&&t.ready&&!t.hide&&!t.problems;if(o.connected!==t.connected||a)if(t.connected&&null!=this.videoRef){var r=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);this.setTimeout(function(){n.setState(function(e){return{problems:!1,hide:e.connected}})},r)}else this.setState({problems:!1,hide:t.connected});else o.hide!==t.hide?(t.hide?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),c.default.timing(t.opacity,{toValue:t.hide?0:1,duration:200}).start(function(){return n.setState({shouldRender:!n.state.hide})})):o.problems!==this.state.problems&&this.state.problems&&E.default.checkIncidents()},handleReady:function(){if(this.setState({ready:!0}),h.default.isDesktop()){var e=_.default.map(function(e){return e[0]});h.default.send("UPDATED_QUOTES",e)}},setVideoRef:function(e){this.videoRef=e},setProblemsTimeout:function(){var e=this;null==this._problemsTimeout&&(this._problemsTimeout=this.setTimeout(function(){return e.setState({problems:!0})},1e4))},clearProblemsTimeout:function(){this.clearTimeout(this._problemsTimeout),this._problemsTimeout=null},render:function(){if(this.state.shouldRender){var e,t=this.state.quote,n=this.state.connected?u.default.Messages.READY:u.default.Messages.CONNECTING;null!=this.state.incident&&(t=this.state.incident.name,n=this.state.incident.incident_updates[0].body);var o=void 0;switch(this.state.type){case"facebook":o=u.default.Messages.QUOTE_ATTRIBUTION_FACEBOOK.format({url:"https://www.facebook.com/discordapp/"});break;case"instagram":o=u.default.Messages.QUOTE_ATTRIBUTION_INSTAGRAM.format({url:"https://www.instagram.com/"+this.state.author+"/"});break;case"twitter":o=u.default.Messages.QUOTE_ATTRIBUTION.format({name:"@"+this.state.author,url:"https://twitter.com/"+this.state.author})}return o&&(o=a("div",{className:g.default.attribution},void 0,o)),a(c.default.div,{className:g.default.container,style:{opacity:this.state.opacity}},void 0,a("div",{className:g.default.content},void 0,a(y.default,{autoPlay:!0,loop:!this.state.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?g.default.ready:null}),a("div",{className:g.default.quote},void 0,t),o,a("div",{className:g.default.status},void 0,n)),a("div",{className:(0,l.default)(g.default.problems,(e={},e[g.default.slideIn]=this.state.problems,e))},void 0,a("div",{className:g.default.problemsText},void 0,u.default.Messages.CONNECTING_PROBLEMS_CTA),a("div",{},void 0,a(d.default,{className:g.default.twitterLink,href:"//twitter.com/discordapp",target:"_blank"},void 0,u.default.Messages.TWEET_US),a(d.default,{className:g.default.statusLink,href:p.STATUS_PAGE_ENDPOINT,target:"_blank"},void 0,u.default.Messages.SERVER_STATUS))))}return null}}),C=a(T,{}),N=(0,r.default)({displayName:"Connecting",mixins:[f.default.StoreListenerMixin(m.default),i.default],getStateFromStores:function(){return{isTryingToConnect:m.default.isTryingToConnect()}},render:function(){return this.state.isTryingToConnect?C:null}});t.default=N,e.exports=t.default}}]);
//# sourceMappingURL=78ef2bacf4821012a2b5.js.map